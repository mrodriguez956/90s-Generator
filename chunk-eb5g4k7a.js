var yL=Object.create;var{getPrototypeOf:vL,defineProperty:g9,getOwnPropertyNames:qW,getOwnPropertyDescriptor:_L}=Object,zW=Object.prototype.hasOwnProperty;var hG=(J,w,G)=>{G=J!=null?yL(vL(J)):{};let Y=w||!J||!J.__esModule?g9(G,"default",{value:J,enumerable:!0}):G;for(let X of qW(J))if(!zW.call(Y,X))g9(Y,X,{get:()=>J[X],enumerable:!0});return Y},QW=new WeakMap,WW=(J)=>{var w=QW.get(J),G;if(w)return w;if(w=g9({},"__esModule",{value:!0}),J&&typeof J==="object"||typeof J==="function")qW(J).map((Y)=>!zW.call(w,Y)&&g9(w,Y,{get:()=>J[Y],enumerable:!(G=_L(J,Y))||G.enumerable}));return QW.set(J,w),w},Q0=(J,w)=>()=>(w||J((w={exports:{}}).exports,w),w.exports);var hL=(J,w)=>{for(var G in w)g9(J,G,{get:w[G],enumerable:!0,configurable:!0,set:(Y)=>w[G]=()=>Y})};var mG=(J,w)=>()=>(J&&(w=J(J=0)),w);function cG(J,w){var G=J.length;J.push(w);J:for(;0<G;){var Y=G-1>>>1,X=J[Y];if(0<v3(X,w))J[Y]=w,J[G]=X,G=Y;else break J}}function l2(J){return J.length===0?null:J[0]}function c3(J){if(J.length===0)return null;var w=J[0],G=J.pop();if(G!==w){J[0]=G;J:for(var Y=0,X=J.length,Q=X>>>1;Y<Q;){var q=2*(Y+1)-1,z=J[q],U=q+1,W=J[U];if(0>v3(z,G))U<X&&0>v3(W,z)?(J[Y]=W,J[U]=G,Y=U):(J[Y]=z,J[q]=G,Y=q);else if(U<X&&0>v3(W,G))J[Y]=W,J[U]=G,Y=U;else break J}}return w}function v3(J,w){var G=J.sortIndex-w.sortIndex;return G!==0?G:J.id-w.id}function m3(J){for(var w=l2(s5);w!==null;){if(w.callback===null)c3(s5);else if(w.startTime<=J)c3(s5),w.sortIndex=w.expirationTime,cG(j5,w);else break;w=l2(s5)}}function iG(J){if(E9=!1,m3(J),!f9)if(l2(j5)!==null)f9=!0,MW();else{var w=l2(s5);w!==null&&aG(iG,w.startTime-J)}}function BW(){return p2()-jW<cL?!1:!0}function dG(){if(u3){var J=p2();jW=J;var w=!0;try{J:{f9=!1,E9&&(E9=!1,ZW(y9),y9=-1),pG=!0;var G=h3;try{w:{m3(J);for(z2=l2(j5);z2!==null&&!(z2.expirationTime>J&&BW());){var Y=z2.callback;if(typeof Y==="function"){z2.callback=null,h3=z2.priorityLevel;var X=Y(z2.expirationTime<=J);if(J=p2(),typeof X==="function"){z2.callback=X,m3(J),w=!0;break w}z2===l2(j5)&&c3(j5),m3(J)}else c3(j5);z2=l2(j5)}if(z2!==null)w=!0;else{var Q=l2(s5);Q!==null&&aG(iG,Q.startTime-J),w=!1}}break J}finally{z2=null,h3=G,pG=!1}w=void 0}}finally{w?b9():u3=!1}}}function MW(){u3||(u3=!0,b9())}function aG(J,w){y9=VW(function(){J(p2())},w)}var p2=void 0,uG,_3,lG,j5,s5,dL=1,z2=null,h3=3,pG=!1,f9=!1,E9=!1,VW,ZW,HW,u3=!1,y9=-1,cL=5,jW=-1,b9,d3,oG,nG=5,rG=1,sG=4,a8=3,eG=2,tG=function(J){J.callback=null},JY=function(){return h3},wY=function(){},n8=function(J,w,G){var Y=p2();switch(typeof G==="object"&&G!==null?(G=G.delay,G=typeof G==="number"&&0<G?Y+G:Y):G=Y,J){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5000}return X=G+X,J={id:dL++,callback:w,priorityLevel:J,startTime:G,expirationTime:X,sortIndex:-1},G>Y?(J.sortIndex=G,cG(s5,J),l2(j5)===null&&J===l2(s5)&&(E9?(ZW(y9),y9=-1):E9=!0,aG(iG,G-Y))):(J.sortIndex=X,cG(j5,J),f9||pG||(f9=!0,MW())),J},GY;var xW=mG(()=>{if(typeof performance==="object"&&typeof performance.now==="function")uG=performance,p2=function(){return uG.now()};else _3=Date,lG=_3.now(),p2=function(){return _3.now()-lG};j5=[],s5=[],VW=typeof setTimeout==="function"?setTimeout:null,ZW=typeof clearTimeout==="function"?clearTimeout:null,HW=typeof setImmediate!=="undefined"?setImmediate:null;if(typeof HW==="function")b9=function(){HW(dG)};else if(typeof MessageChannel!=="undefined")d3=new MessageChannel,oG=d3.port2,d3.port1.onmessage=dG,b9=function(){oG.postMessage(null)};else b9=function(){VW(dG,0)};GY=BW});function v9(J,w,G){this.props=J,this.context=w,this.refs=LW,this.updater=G||KW}function $W(){}function AW(J,w,G){this.props=J,this.context=w,this.refs=LW,this.updater=G||KW}var jP,BP,MP,xP,KP,LP,$P,AP,OP,RP,DP,KW,lL,LW,YY,FP,l3,_9,h9=function(J,w){return l3.H.useEffect(J,w)},e5=function(J){return l3.H.useRef(J)},t5=function(J){return l3.H.useState(J)},XY="19.0.0";var i6=mG(()=>{jP=Symbol.for("react.transitional.element"),BP=Symbol.for("react.portal"),MP=Symbol.for("react.fragment"),xP=Symbol.for("react.strict_mode"),KP=Symbol.for("react.profiler"),LP=Symbol.for("react.consumer"),$P=Symbol.for("react.context"),AP=Symbol.for("react.forward_ref"),OP=Symbol.for("react.suspense"),RP=Symbol.for("react.memo"),DP=Symbol.for("react.lazy"),KW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lL=Object.assign,LW={};v9.prototype.isReactComponent={};v9.prototype.setState=function(J,w){if(typeof J!=="object"&&typeof J!=="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,w,"setState")};v9.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};$W.prototype=v9.prototype;YY=AW.prototype=new $W;YY.constructor=AW;lL(YY,v9.prototype);YY.isPureReactComponent=!0;FP=Array.isArray,l3={H:null,A:null,T:null,S:null};_9=l3});var DW=Q0((iL)=>{i6();function RW(J){var w="https://react.dev/errors/"+J;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var G=2;G<arguments.length;G++)w+="&args[]="+encodeURIComponent(arguments[G])}return"Minified React error #"+J+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function J6(){}var S1={d:{f:J6,r:function(){throw Error(RW(522))},D:J6,C:J6,L:J6,m:J6,X:J6,S:J6,M:J6},p:0,findDOMNode:null},pL=Symbol.for("react.portal");function oL(J,w,G){var Y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pL,key:Y==null?null:""+Y,children:J,containerInfo:w,implementation:G}}var m9=_9;function p3(J,w){if(J==="font")return"";if(typeof w==="string")return w==="use-credentials"?w:""}iL.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S1;iL.createPortal=function(J,w){var G=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(RW(299));return oL(J,w,null,G)};iL.flushSync=function(J){var w=m9.T,G=S1.p;try{if(m9.T=null,S1.p=2,J)return J()}finally{m9.T=w,S1.p=G,S1.d.f()}};iL.preconnect=function(J,w){typeof J==="string"&&(w?(w=w.crossOrigin,w=typeof w==="string"?w==="use-credentials"?w:"":void 0):w=null,S1.d.C(J,w))};iL.prefetchDNS=function(J){typeof J==="string"&&S1.d.D(J)};iL.preinit=function(J,w){if(typeof J==="string"&&w&&typeof w.as==="string"){var G=w.as,Y=p3(G,w.crossOrigin),X=typeof w.integrity==="string"?w.integrity:void 0,Q=typeof w.fetchPriority==="string"?w.fetchPriority:void 0;G==="style"?S1.d.S(J,typeof w.precedence==="string"?w.precedence:void 0,{crossOrigin:Y,integrity:X,fetchPriority:Q}):G==="script"&&S1.d.X(J,{crossOrigin:Y,integrity:X,fetchPriority:Q,nonce:typeof w.nonce==="string"?w.nonce:void 0})}};iL.preinitModule=function(J,w){if(typeof J==="string")if(typeof w==="object"&&w!==null){if(w.as==null||w.as==="script"){var G=p3(w.as,w.crossOrigin);S1.d.M(J,{crossOrigin:G,integrity:typeof w.integrity==="string"?w.integrity:void 0,nonce:typeof w.nonce==="string"?w.nonce:void 0})}}else w==null&&S1.d.M(J)};iL.preload=function(J,w){if(typeof J==="string"&&typeof w==="object"&&w!==null&&typeof w.as==="string"){var G=w.as,Y=p3(G,w.crossOrigin);S1.d.L(J,G,{crossOrigin:Y,integrity:typeof w.integrity==="string"?w.integrity:void 0,nonce:typeof w.nonce==="string"?w.nonce:void 0,type:typeof w.type==="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority==="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy==="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet==="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes==="string"?w.imageSizes:void 0,media:typeof w.media==="string"?w.media:void 0})}};iL.preloadModule=function(J,w){if(typeof J==="string")if(w){var G=p3(w.as,w.crossOrigin);S1.d.m(J,{as:typeof w.as==="string"&&w.as!=="script"?w.as:void 0,crossOrigin:G,integrity:typeof w.integrity==="string"?w.integrity:void 0})}else S1.d.m(J)};iL.requestFormReset=function(J){S1.d.r(J)};iL.unstable_batchedUpdates=function(J,w){return J(w)};iL.useFormState=function(J,w,G){return m9.H.useFormState(J,w,G)};iL.useFormStatus=function(){return m9.H.useHostTransitionStatus()};iL.version="19.0.0"});var kW=Q0((kP,IW)=>{function FW(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FW)}catch(J){console.error(J)}}FW(),IW.exports=DW()});var $Z=Q0((bO)=>{xW();i6();var uU=hG(kW(),1);function r(J){var w="https://react.dev/errors/"+J;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var G=2;G<arguments.length;G++)w+="&args[]="+encodeURIComponent(arguments[G])}return"Minified React error #"+J+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lU(J){return!(!J||J.nodeType!==1&&J.nodeType!==9&&J.nodeType!==11)}var W$=Symbol.for("react.element"),o3=Symbol.for("react.transitional.element"),a9=Symbol.for("react.portal"),G7=Symbol.for("react.fragment"),pU=Symbol.for("react.strict_mode"),EY=Symbol.for("react.profiler"),U$=Symbol.for("react.provider"),oU=Symbol.for("react.consumer"),O5=Symbol.for("react.context"),TX=Symbol.for("react.forward_ref"),yY=Symbol.for("react.suspense"),vY=Symbol.for("react.suspense_list"),SX=Symbol.for("react.memo"),Y6=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var iU=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var H$=Symbol.for("react.memo_cache_sentinel"),CW=Symbol.iterator;function d9(J){if(J===null||typeof J!=="object")return null;return J=CW&&J[CW]||J["@@iterator"],typeof J==="function"?J:null}var V$=Symbol.for("react.client.reference");function _Y(J){if(J==null)return null;if(typeof J==="function")return J.$$typeof===V$?null:J.displayName||J.name||null;if(typeof J==="string")return J;switch(J){case G7:return"Fragment";case a9:return"Portal";case EY:return"Profiler";case pU:return"StrictMode";case yY:return"Suspense";case vY:return"SuspenseList"}if(typeof J==="object")switch(J.$$typeof){case O5:return(J.displayName||"Context")+".Provider";case oU:return(J._context.displayName||"Context")+".Consumer";case TX:var w=J.render;return J=J.displayName,J||(J=w.displayName||w.name||"",J=J!==""?"ForwardRef("+J+")":"ForwardRef"),J;case SX:return w=J.displayName||null,w!==null?w:_Y(J.type)||"Memo";case Y6:w=J._payload,J=J._init;try{return _Y(J(w))}catch(G){}}return null}var U0=_9,u0=Object.assign,QY,NW;function n9(J){if(QY===void 0)try{throw Error()}catch(G){var w=G.stack.trim().match(/\n( *(at )?)/);QY=w&&w[1]||"",NW=-1<G.stack.indexOf(`
    at`)?" (<anonymous>)":-1<G.stack.indexOf("@")?"@unknown:0:0":""}return`
`+QY+J+NW}var qY=!1;function zY(J,w){if(!J||qY)return"";qY=!0;var G=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var Y={DetermineComponentFrameRoot:function(){try{if(w){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(x){var B=x}Reflect.construct(J,[],j)}else{try{j.call()}catch(x){B=x}J.call(j.prototype)}}else{try{throw Error()}catch(x){B=x}(j=J())&&typeof j.catch==="function"&&j.catch(function(){})}}catch(x){if(x&&B&&typeof x.stack==="string")return[x.stack,B.stack]}return[null,null]}};Y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var X=Object.getOwnPropertyDescriptor(Y.DetermineComponentFrameRoot,"name");X&&X.configurable&&Object.defineProperty(Y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Q=Y.DetermineComponentFrameRoot(),q=Q[0],z=Q[1];if(q&&z){var U=q.split(`
`),W=z.split(`
`);for(X=Y=0;Y<U.length&&!U[Y].includes("DetermineComponentFrameRoot");)Y++;for(;X<W.length&&!W[X].includes("DetermineComponentFrameRoot");)X++;if(Y===U.length||X===W.length)for(Y=U.length-1,X=W.length-1;1<=Y&&0<=X&&U[Y]!==W[X];)X--;for(;1<=Y&&0<=X;Y--,X--)if(U[Y]!==W[X]){if(Y!==1||X!==1)do if(Y--,X--,0>X||U[Y]!==W[X]){var V=`
`+U[Y].replace(" at new "," at ");return J.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",J.displayName)),V}while(1<=Y&&0<=X);break}}}finally{qY=!1,Error.prepareStackTrace=G}return(G=J?J.displayName||J.name:"")?n9(G):""}function Z$(J){switch(J.tag){case 26:case 27:case 5:return n9(J.type);case 16:return n9("Lazy");case 13:return n9("Suspense");case 19:return n9("SuspenseList");case 0:case 15:return J=zY(J.type,!1),J;case 11:return J=zY(J.type.render,!1),J;case 1:return J=zY(J.type,!0),J;default:return""}}function PW(J){try{var w="";do w+=Z$(J),J=J.return;while(J);return w}catch(G){return`
Error generating stack: `+G.message+`
`+G.stack}}function T7(J){var w=J,G=J;if(J.alternate)for(;w.return;)w=w.return;else{J=w;do w=J,(w.flags&4098)!==0&&(G=w.return),J=w.return;while(J)}return w.tag===3?G:null}function aU(J){if(J.tag===13){var w=J.memoizedState;if(w===null&&(J=J.alternate,J!==null&&(w=J.memoizedState)),w!==null)return w.dehydrated}return null}function TW(J){if(T7(J)!==J)throw Error(r(188))}function j$(J){var w=J.alternate;if(!w){if(w=T7(J),w===null)throw Error(r(188));return w!==J?null:J}for(var G=J,Y=w;;){var X=G.return;if(X===null)break;var Q=X.alternate;if(Q===null){if(Y=X.return,Y!==null){G=Y;continue}break}if(X.child===Q.child){for(Q=X.child;Q;){if(Q===G)return TW(X),J;if(Q===Y)return TW(X),w;Q=Q.sibling}throw Error(r(188))}if(G.return!==Y.return)G=X,Y=Q;else{for(var q=!1,z=X.child;z;){if(z===G){q=!0,G=X,Y=Q;break}if(z===Y){q=!0,Y=X,G=Q;break}z=z.sibling}if(!q){for(z=Q.child;z;){if(z===G){q=!0,G=Q,Y=X;break}if(z===Y){q=!0,Y=Q,G=X;break}z=z.sibling}if(!q)throw Error(r(189))}}if(G.alternate!==Y)throw Error(r(190))}if(G.tag!==3)throw Error(r(188));return G.stateNode.current===G?J:w}function nU(J){var w=J.tag;if(w===5||w===26||w===27||w===6)return J;for(J=J.child;J!==null;){if(w=nU(J),w!==null)return w;J=J.sibling}return null}var r9=Array.isArray,c0=uU.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w8={pending:!1,data:null,method:null,action:null},hY=[],Y7=-1;function e2(J){return{current:J}}function A1(J){0>Y7||(J.current=hY[Y7],hY[Y7]=null,Y7--)}function l0(J,w){Y7++,hY[Y7]=J.current,J.current=w}var a2=e2(null),L4=e2(null),V6=e2(null),$J=e2(null);function AJ(J,w){switch(l0(V6,w),l0(L4,J),l0(a2,null),J=w.nodeType,J){case 9:case 11:w=(w=w.documentElement)?(w=w.namespaceURI)?TU(w):0:0;break;default:if(J=J===8?w.parentNode:w,w=J.tagName,J=J.namespaceURI)J=TU(J),w=zZ(J,w);else switch(w){case"svg":w=1;break;case"math":w=2;break;default:w=0}}A1(a2),l0(a2,w)}function O7(){A1(a2),A1(L4),A1(V6)}function mY(J){J.memoizedState!==null&&l0($J,J);var w=a2.current,G=zZ(w,J.type);w!==G&&(l0(L4,J),l0(a2,G))}function OJ(J){L4.current===J&&(A1(a2),A1(L4)),$J.current===J&&(A1($J),P4._currentValue=w8)}var dY=Object.prototype.hasOwnProperty,gX=n8,WY=tG,B$=GY,M$=wY,n2=p2,x$=JY,rU=rG,sU=eG,RJ=a8,K$=sG,eU=nG,L$=void 0,$$=void 0,b4=null,e1=null;function A$(J){if(e1&&typeof e1.onCommitFiberRoot==="function")try{e1.onCommitFiberRoot(b4,J,void 0,(J.current.flags&128)===128)}catch(w){}}function U6(J){if(typeof L$==="function"&&$$(J),e1&&typeof e1.setStrictMode==="function")try{e1.setStrictMode(b4,J)}catch(w){}}var t1=Math.clz32?Math.clz32:D$,O$=Math.log,R$=Math.LN2;function D$(J){return J>>>=0,J===0?32:31-(O$(J)/R$|0)|0}var i3=128,a3=4194304;function n6(J){var w=J&42;if(w!==0)return w;switch(J&-J){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return J&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return J&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return J}}function iJ(J,w){var G=J.pendingLanes;if(G===0)return 0;var Y=0,X=J.suspendedLanes,Q=J.pingedLanes,q=J.warmLanes;J=J.finishedLanes!==0;var z=G&134217727;return z!==0?(G=z&~X,G!==0?Y=n6(G):(Q&=z,Q!==0?Y=n6(Q):J||(q=z&~q,q!==0&&(Y=n6(q))))):(z=G&~X,z!==0?Y=n6(z):Q!==0?Y=n6(Q):J||(q=G&~q,q!==0&&(Y=n6(q)))),Y===0?0:w!==0&&w!==Y&&(w&X)===0&&(X=Y&-Y,q=w&-w,X>=q||X===32&&(q&4194176)!==0)?w:Y}function f4(J,w){return(J.pendingLanes&~(J.suspendedLanes&~J.pingedLanes)&w)===0}function F$(J,w){switch(J){case 1:case 2:case 4:case 8:return w+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tU(){var J=i3;return i3<<=1,(i3&4194176)===0&&(i3=128),J}function JH(){var J=a3;return a3<<=1,(a3&62914560)===0&&(a3=4194304),J}function UY(J){for(var w=[],G=0;31>G;G++)w.push(J);return w}function E4(J,w){J.pendingLanes|=w,w!==268435456&&(J.suspendedLanes=0,J.pingedLanes=0,J.warmLanes=0)}function I$(J,w,G,Y,X,Q){var q=J.pendingLanes;J.pendingLanes=G,J.suspendedLanes=0,J.pingedLanes=0,J.warmLanes=0,J.expiredLanes&=G,J.entangledLanes&=G,J.errorRecoveryDisabledLanes&=G,J.shellSuspendCounter=0;var{entanglements:z,expirationTimes:U,hiddenUpdates:W}=J;for(G=q&~G;0<G;){var V=31-t1(G),j=1<<V;z[V]=0,U[V]=-1;var B=W[V];if(B!==null)for(W[V]=null,V=0;V<B.length;V++){var x=B[V];x!==null&&(x.lane&=-536870913)}G&=~j}Y!==0&&wH(J,Y,0),Q!==0&&X===0&&J.tag!==0&&(J.suspendedLanes|=Q&~(q&~w))}function wH(J,w,G){J.pendingLanes|=w,J.suspendedLanes&=~w;var Y=31-t1(w);J.entangledLanes|=w,J.entanglements[Y]=J.entanglements[Y]|1073741824|G&4194218}function GH(J,w){var G=J.entangledLanes|=w;for(J=J.entanglements;G;){var Y=31-t1(G),X=1<<Y;X&w|J[Y]&w&&(J[Y]|=w),G&=~X}}function YH(J){return J&=-J,2<J?8<J?(J&134217727)!==0?32:268435456:8:2}function XH(){var J=c0.p;if(J!==0)return J;return J=window.event,J===void 0?32:KZ(J.type)}function k$(J,w){var G=c0.p;try{return c0.p=J,w()}finally{c0.p=G}}var D6=Math.random().toString(36).slice(2),C1="__reactFiber$"+D6,d1="__reactProps$"+D6,S7="__reactContainer$"+D6,cY="__reactEvents$"+D6,C$="__reactListeners$"+D6,N$="__reactHandles$"+D6,SW="__reactResources$"+D6,$4="__reactMarker$"+D6;function bX(J){delete J[C1],delete J[d1],delete J[cY],delete J[C$],delete J[N$]}function t6(J){var w=J[C1];if(w)return w;for(var G=J.parentNode;G;){if(w=G[S7]||G[C1]){if(G=w.alternate,w.child!==null||G!==null&&G.child!==null)for(J=gU(J);J!==null;){if(G=J[C1])return G;J=gU(J)}return w}J=G,G=J.parentNode}return null}function g7(J){if(J=J[C1]||J[S7]){var w=J.tag;if(w===5||w===6||w===13||w===26||w===27||w===3)return J}return null}function s9(J){var w=J.tag;if(w===5||w===26||w===27||w===6)return J.stateNode;throw Error(r(33))}function j7(J){var w=J[SW];return w||(w=J[SW]={hoistableStyles:new Map,hoistableScripts:new Map}),w}function L1(J){J[$4]=!0}var QH=new Set,qH={};function Z8(J,w){R7(J,w),R7(J+"Capture",w)}function R7(J,w){qH[J]=w;for(J=0;J<w.length;J++)QH.add(w[J])}var C5=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),P$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gW={},bW={};function T$(J){if(dY.call(bW,J))return!0;if(dY.call(gW,J))return!1;if(P$.test(J))return bW[J]=!0;return gW[J]=!0,!1}function qJ(J,w,G){if(T$(w))if(G===null)J.removeAttribute(w);else{switch(typeof G){case"undefined":case"function":case"symbol":J.removeAttribute(w);return;case"boolean":var Y=w.toLowerCase().slice(0,5);if(Y!=="data-"&&Y!=="aria-"){J.removeAttribute(w);return}}J.setAttribute(w,""+G)}}function n3(J,w,G){if(G===null)J.removeAttribute(w);else{switch(typeof G){case"undefined":case"function":case"symbol":case"boolean":J.removeAttribute(w);return}J.setAttribute(w,""+G)}}function B5(J,w,G,Y){if(Y===null)J.removeAttribute(G);else{switch(typeof Y){case"undefined":case"function":case"symbol":case"boolean":J.removeAttribute(G);return}J.setAttributeNS(w,G,""+Y)}}function V2(J){switch(typeof J){case"bigint":case"boolean":case"number":case"string":case"undefined":return J;case"object":return J;default:return""}}function zH(J){var w=J.type;return(J=J.nodeName)&&J.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function S$(J){var w=zH(J)?"checked":"value",G=Object.getOwnPropertyDescriptor(J.constructor.prototype,w),Y=""+J[w];if(!J.hasOwnProperty(w)&&typeof G!=="undefined"&&typeof G.get==="function"&&typeof G.set==="function"){var{get:X,set:Q}=G;return Object.defineProperty(J,w,{configurable:!0,get:function(){return X.call(this)},set:function(q){Y=""+q,Q.call(this,q)}}),Object.defineProperty(J,w,{enumerable:G.enumerable}),{getValue:function(){return Y},setValue:function(q){Y=""+q},stopTracking:function(){J._valueTracker=null,delete J[w]}}}}function DJ(J){J._valueTracker||(J._valueTracker=S$(J))}function WH(J){if(!J)return!1;var w=J._valueTracker;if(!w)return!0;var G=w.getValue(),Y="";return J&&(Y=zH(J)?J.checked?"true":"false":J.value),J=Y,J!==G?(w.setValue(J),!0):!1}function FJ(J){if(J=J||(typeof document!=="undefined"?document:void 0),typeof J==="undefined")return null;try{return J.activeElement||J.body}catch(w){return J.body}}var g$=/[\n"\\]/g;function B2(J){return J.replace(g$,function(w){return"\\"+w.charCodeAt(0).toString(16)+" "})}function uY(J,w,G,Y,X,Q,q,z){if(J.name="",q!=null&&typeof q!=="function"&&typeof q!=="symbol"&&typeof q!=="boolean"?J.type=q:J.removeAttribute("type"),w!=null)if(q==="number"){if(w===0&&J.value===""||J.value!=w)J.value=""+V2(w)}else J.value!==""+V2(w)&&(J.value=""+V2(w));else q!=="submit"&&q!=="reset"||J.removeAttribute("value");w!=null?lY(J,q,V2(w)):G!=null?lY(J,q,V2(G)):Y!=null&&J.removeAttribute("value"),X==null&&Q!=null&&(J.defaultChecked=!!Q),X!=null&&(J.checked=X&&typeof X!=="function"&&typeof X!=="symbol"),z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"?J.name=""+V2(z):J.removeAttribute("name")}function UH(J,w,G,Y,X,Q,q,z){if(Q!=null&&typeof Q!=="function"&&typeof Q!=="symbol"&&typeof Q!=="boolean"&&(J.type=Q),w!=null||G!=null){if(!(Q!=="submit"&&Q!=="reset"||w!==void 0&&w!==null))return;G=G!=null?""+V2(G):"",w=w!=null?""+V2(w):G,z||w===J.value||(J.value=w),J.defaultValue=w}Y=Y!=null?Y:X,Y=typeof Y!=="function"&&typeof Y!=="symbol"&&!!Y,J.checked=z?J.checked:!!Y,J.defaultChecked=!!Y,q!=null&&typeof q!=="function"&&typeof q!=="symbol"&&typeof q!=="boolean"&&(J.name=q)}function lY(J,w,G){w==="number"&&FJ(J.ownerDocument)===J||J.defaultValue===""+G||(J.defaultValue=""+G)}function B7(J,w,G,Y){if(J=J.options,w){w={};for(var X=0;X<G.length;X++)w["$"+G[X]]=!0;for(G=0;G<J.length;G++)X=w.hasOwnProperty("$"+J[G].value),J[G].selected!==X&&(J[G].selected=X),X&&Y&&(J[G].defaultSelected=!0)}else{G=""+V2(G),w=null;for(X=0;X<J.length;X++){if(J[X].value===G){J[X].selected=!0,Y&&(J[X].defaultSelected=!0);return}w!==null||J[X].disabled||(w=J[X])}w!==null&&(w.selected=!0)}}function HH(J,w,G){if(w!=null&&(w=""+V2(w),w!==J.value&&(J.value=w),G==null)){J.defaultValue!==w&&(J.defaultValue=w);return}J.defaultValue=G!=null?""+V2(G):""}function VH(J,w,G,Y){if(w==null){if(Y!=null){if(G!=null)throw Error(r(92));if(r9(Y)){if(1<Y.length)throw Error(r(93));Y=Y[0]}G=Y}G==null&&(G=""),w=G}G=V2(w),J.defaultValue=G,Y=J.textContent,Y===G&&Y!==""&&Y!==null&&(J.value=Y)}function D7(J,w){if(w){var G=J.firstChild;if(G&&G===J.lastChild&&G.nodeType===3){G.nodeValue=w;return}}J.textContent=w}var b$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fW(J,w,G){var Y=w.indexOf("--")===0;G==null||typeof G==="boolean"||G===""?Y?J.setProperty(w,""):w==="float"?J.cssFloat="":J[w]="":Y?J.setProperty(w,G):typeof G!=="number"||G===0||b$.has(w)?w==="float"?J.cssFloat=G:J[w]=(""+G).trim():J[w]=G+"px"}function ZH(J,w,G){if(w!=null&&typeof w!=="object")throw Error(r(62));if(J=J.style,G!=null){for(var Y in G)!G.hasOwnProperty(Y)||w!=null&&w.hasOwnProperty(Y)||(Y.indexOf("--")===0?J.setProperty(Y,""):Y==="float"?J.cssFloat="":J[Y]="");for(var X in w)Y=w[X],w.hasOwnProperty(X)&&G[X]!==Y&&fW(J,X,Y)}else for(var Q in w)w.hasOwnProperty(Q)&&fW(J,Q,w[Q])}function fX(J){if(J.indexOf("-")===-1)return!1;switch(J){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zJ(J){return E$.test(""+J)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":J}var pY=null;function EX(J){return J=J.target||J.srcElement||window,J.correspondingUseElement&&(J=J.correspondingUseElement),J.nodeType===3?J.parentNode:J}var X7=null,M7=null;function EW(J){var w=g7(J);if(w&&(J=w.stateNode)){var G=J[d1]||null;J:switch(J=w.stateNode,w.type){case"input":if(uY(J,G.value,G.defaultValue,G.defaultValue,G.checked,G.defaultChecked,G.type,G.name),w=G.name,G.type==="radio"&&w!=null){for(G=J;G.parentNode;)G=G.parentNode;G=G.querySelectorAll('input[name="'+B2(""+w)+'"][type="radio"]');for(w=0;w<G.length;w++){var Y=G[w];if(Y!==J&&Y.form===J.form){var X=Y[d1]||null;if(!X)throw Error(r(90));uY(Y,X.value,X.defaultValue,X.defaultValue,X.checked,X.defaultChecked,X.type,X.name)}}for(w=0;w<G.length;w++)Y=G[w],Y.form===J.form&&WH(Y)}break J;case"textarea":HH(J,G.value,G.defaultValue);break J;case"select":w=G.value,w!=null&&B7(J,!!G.multiple,w,!1)}}}var HY=!1;function jH(J,w,G){if(HY)return J(w,G);HY=!0;try{var Y=J(w);return Y}finally{if(HY=!1,X7!==null||M7!==null){if(Yw(),X7&&(w=X7,J=M7,M7=X7=null,EW(w),J))for(w=0;w<J.length;w++)EW(J[w])}}}function A4(J,w){var G=J.stateNode;if(G===null)return null;var Y=G[d1]||null;if(Y===null)return null;G=Y[w];J:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Y=!Y.disabled)||(J=J.type,Y=!(J==="button"||J==="input"||J==="select"||J==="textarea")),J=!Y;break J;default:J=!1}if(J)return null;if(G&&typeof G!=="function")throw Error(r(231,w,typeof G));return G}var oY=!1;if(C5)try{r6={},Object.defineProperty(r6,"passive",{get:function(){oY=!0}}),window.addEventListener("test",r6,r6),window.removeEventListener("test",r6,r6)}catch(J){oY=!1}var r6,H6=null,yX=null,WJ=null;function BH(){if(WJ)return WJ;var J,w=yX,G=w.length,Y,X="value"in H6?H6.value:H6.textContent,Q=X.length;for(J=0;J<G&&w[J]===X[J];J++);var q=G-J;for(Y=1;Y<=q&&w[G-Y]===X[Q-Y];Y++);return WJ=X.slice(J,1<Y?1-Y:void 0)}function UJ(J){var w=J.keyCode;return"charCode"in J?(J=J.charCode,J===0&&w===13&&(J=13)):J=w,J===10&&(J=13),32<=J||J===13?J:0}function r3(){return!0}function yW(){return!1}function c1(J){function w(G,Y,X,Q,q){this._reactName=G,this._targetInst=X,this.type=Y,this.nativeEvent=Q,this.target=q,this.currentTarget=null;for(var z in J)J.hasOwnProperty(z)&&(G=J[z],this[z]=G?G(Q):Q[z]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?r3:yW,this.isPropagationStopped=yW,this}return u0(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var G=this.nativeEvent;G&&(G.preventDefault?G.preventDefault():typeof G.returnValue!=="unknown"&&(G.returnValue=!1),this.isDefaultPrevented=r3)},stopPropagation:function(){var G=this.nativeEvent;G&&(G.stopPropagation?G.stopPropagation():typeof G.cancelBubble!=="unknown"&&(G.cancelBubble=!0),this.isPropagationStopped=r3)},persist:function(){},isPersistent:r3}),w}var j8={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(J){return J.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aJ=c1(j8),y4=u0({},j8,{view:0,detail:0}),y$=c1(y4),VY,ZY,c9,nJ=u0({},y4,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vX,button:0,buttons:0,relatedTarget:function(J){return J.relatedTarget===void 0?J.fromElement===J.srcElement?J.toElement:J.fromElement:J.relatedTarget},movementX:function(J){if("movementX"in J)return J.movementX;return J!==c9&&(c9&&J.type==="mousemove"?(VY=J.screenX-c9.screenX,ZY=J.screenY-c9.screenY):ZY=VY=0,c9=J),VY},movementY:function(J){return"movementY"in J?J.movementY:ZY}}),vW=c1(nJ),v$=u0({},nJ,{dataTransfer:0}),_$=c1(v$),h$=u0({},y4,{relatedTarget:0}),jY=c1(h$),m$=u0({},j8,{animationName:0,elapsedTime:0,pseudoElement:0}),d$=c1(m$),c$=u0({},j8,{clipboardData:function(J){return"clipboardData"in J?J.clipboardData:window.clipboardData}}),u$=c1(c$),l$=u0({},j8,{data:0}),_W=c1(l$),p$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a$(J){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(J):(J=i$[J])?!!w[J]:!1}function vX(){return a$}var n$=u0({},y4,{key:function(J){if(J.key){var w=p$[J.key]||J.key;if(w!=="Unidentified")return w}return J.type==="keypress"?(J=UJ(J),J===13?"Enter":String.fromCharCode(J)):J.type==="keydown"||J.type==="keyup"?o$[J.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vX,charCode:function(J){return J.type==="keypress"?UJ(J):0},keyCode:function(J){return J.type==="keydown"||J.type==="keyup"?J.keyCode:0},which:function(J){return J.type==="keypress"?UJ(J):J.type==="keydown"||J.type==="keyup"?J.keyCode:0}}),r$=c1(n$),s$=u0({},nJ,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hW=c1(s$),e$=u0({},y4,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vX}),t$=c1(e$),JA=u0({},j8,{propertyName:0,elapsedTime:0,pseudoElement:0}),wA=c1(JA),GA=u0({},nJ,{deltaX:function(J){return"deltaX"in J?J.deltaX:("wheelDeltaX"in J)?-J.wheelDeltaX:0},deltaY:function(J){return"deltaY"in J?J.deltaY:("wheelDeltaY"in J)?-J.wheelDeltaY:("wheelDelta"in J)?-J.wheelDelta:0},deltaZ:0,deltaMode:0}),YA=c1(GA),XA=u0({},j8,{newState:0,oldState:0}),QA=c1(XA),qA=[9,13,27,32],_X=C5&&"CompositionEvent"in window,Y4=null;C5&&"documentMode"in document&&(Y4=document.documentMode);var zA=C5&&"TextEvent"in window&&!Y4,MH=C5&&(!_X||Y4&&8<Y4&&11>=Y4),mW=String.fromCharCode(32),dW=!1;function xH(J,w){switch(J){case"keyup":return qA.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KH(J){return J=J.detail,typeof J==="object"&&"data"in J?J.data:null}var Q7=!1;function WA(J,w){switch(J){case"compositionend":return KH(w);case"keypress":if(w.which!==32)return null;return dW=!0,mW;case"textInput":return J=w.data,J===mW&&dW?null:J;default:return null}}function UA(J,w){if(Q7)return J==="compositionend"||!_X&&xH(J,w)?(J=BH(),WJ=yX=H6=null,Q7=!1,J):null;switch(J){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return MH&&w.locale!=="ko"?null:w.data;default:return null}}var HA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cW(J){var w=J&&J.nodeName&&J.nodeName.toLowerCase();return w==="input"?!!HA[J.type]:w==="textarea"?!0:!1}function LH(J,w,G,Y){X7?M7?M7.push(Y):M7=[Y]:X7=Y,w=mJ(w,"onChange"),0<w.length&&(G=new aJ("onChange","change",null,G,Y),J.push({event:G,listeners:w}))}var X4=null,O4=null;function VA(J){XZ(J,0)}function rJ(J){var w=s9(J);if(WH(w))return J}function uW(J,w){if(J==="change")return w}var $H=!1;if(C5){if(C5){if(t9="oninput"in document,!t9)HJ=document.createElement("div"),HJ.setAttribute("oninput","return;"),t9=typeof HJ.oninput==="function";e9=t9}else e9=!1;$H=e9&&(!document.documentMode||9<document.documentMode)}var e9,t9,HJ;function lW(){X4&&(X4.detachEvent("onpropertychange",AH),O4=X4=null)}function AH(J){if(J.propertyName==="value"&&rJ(O4)){var w=[];LH(w,O4,J,EX(J)),jH(VA,w)}}function ZA(J,w,G){J==="focusin"?(lW(),X4=w,O4=G,X4.attachEvent("onpropertychange",AH)):J==="focusout"&&lW()}function jA(J){if(J==="selectionchange"||J==="keyup"||J==="keydown")return rJ(O4)}function BA(J,w){if(J==="click")return rJ(w)}function MA(J,w){if(J==="input"||J==="change")return rJ(w)}function xA(J,w){return J===w&&(J!==0||1/J===1/w)||J!==J&&w!==w}var w2=typeof Object.is==="function"?Object.is:xA;function R4(J,w){if(w2(J,w))return!0;if(typeof J!=="object"||J===null||typeof w!=="object"||w===null)return!1;var G=Object.keys(J),Y=Object.keys(w);if(G.length!==Y.length)return!1;for(Y=0;Y<G.length;Y++){var X=G[Y];if(!dY.call(w,X)||!w2(J[X],w[X]))return!1}return!0}function pW(J){for(;J&&J.firstChild;)J=J.firstChild;return J}function oW(J,w){var G=pW(J);J=0;for(var Y;G;){if(G.nodeType===3){if(Y=J+G.textContent.length,J<=w&&Y>=w)return{node:G,offset:w-J};J=Y}J:{for(;G;){if(G.nextSibling){G=G.nextSibling;break J}G=G.parentNode}G=void 0}G=pW(G)}}function OH(J,w){return J&&w?J===w?!0:J&&J.nodeType===3?!1:w&&w.nodeType===3?OH(J,w.parentNode):("contains"in J)?J.contains(w):J.compareDocumentPosition?!!(J.compareDocumentPosition(w)&16):!1:!1}function RH(J){J=J!=null&&J.ownerDocument!=null&&J.ownerDocument.defaultView!=null?J.ownerDocument.defaultView:window;for(var w=FJ(J.document);w instanceof J.HTMLIFrameElement;){try{var G=typeof w.contentWindow.location.href==="string"}catch(Y){G=!1}if(G)J=w.contentWindow;else break;w=FJ(J.document)}return w}function hX(J){var w=J&&J.nodeName&&J.nodeName.toLowerCase();return w&&(w==="input"&&(J.type==="text"||J.type==="search"||J.type==="tel"||J.type==="url"||J.type==="password")||w==="textarea"||J.contentEditable==="true")}function KA(J,w){var G=RH(w);w=J.focusedElem;var Y=J.selectionRange;if(G!==w&&w&&w.ownerDocument&&OH(w.ownerDocument.documentElement,w)){if(Y!==null&&hX(w)){if(J=Y.start,G=Y.end,G===void 0&&(G=J),"selectionStart"in w)w.selectionStart=J,w.selectionEnd=Math.min(G,w.value.length);else if(G=(J=w.ownerDocument||document)&&J.defaultView||window,G.getSelection){G=G.getSelection();var X=w.textContent.length,Q=Math.min(Y.start,X);Y=Y.end===void 0?Q:Math.min(Y.end,X),!G.extend&&Q>Y&&(X=Y,Y=Q,Q=X),X=oW(w,Q);var q=oW(w,Y);X&&q&&(G.rangeCount!==1||G.anchorNode!==X.node||G.anchorOffset!==X.offset||G.focusNode!==q.node||G.focusOffset!==q.offset)&&(J=J.createRange(),J.setStart(X.node,X.offset),G.removeAllRanges(),Q>Y?(G.addRange(J),G.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),G.addRange(J)))}}J=[];for(G=w;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});typeof w.focus==="function"&&w.focus();for(w=0;w<J.length;w++)G=J[w],G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}var LA=C5&&"documentMode"in document&&11>=document.documentMode,q7=null,iY=null,Q4=null,aY=!1;function iW(J,w,G){var Y=G.window===G?G.document:G.nodeType===9?G:G.ownerDocument;aY||q7==null||q7!==FJ(Y)||(Y=q7,("selectionStart"in Y)&&hX(Y)?Y={start:Y.selectionStart,end:Y.selectionEnd}:(Y=(Y.ownerDocument&&Y.ownerDocument.defaultView||window).getSelection(),Y={anchorNode:Y.anchorNode,anchorOffset:Y.anchorOffset,focusNode:Y.focusNode,focusOffset:Y.focusOffset}),Q4&&R4(Q4,Y)||(Q4=Y,Y=mJ(iY,"onSelect"),0<Y.length&&(w=new aJ("onSelect","select",null,w,G),J.push({event:w,listeners:Y}),w.target=q7)))}function a6(J,w){var G={};return G[J.toLowerCase()]=w.toLowerCase(),G["Webkit"+J]="webkit"+w,G["Moz"+J]="moz"+w,G}var z7={animationend:a6("Animation","AnimationEnd"),animationiteration:a6("Animation","AnimationIteration"),animationstart:a6("Animation","AnimationStart"),transitionrun:a6("Transition","TransitionRun"),transitionstart:a6("Transition","TransitionStart"),transitioncancel:a6("Transition","TransitionCancel"),transitionend:a6("Transition","TransitionEnd")},BY={},DH={};C5&&(DH=document.createElement("div").style,("AnimationEvent"in window)||(delete z7.animationend.animation,delete z7.animationiteration.animation,delete z7.animationstart.animation),("TransitionEvent"in window)||delete z7.transitionend.transition);function B8(J){if(BY[J])return BY[J];if(!z7[J])return J;var w=z7[J],G;for(G in w)if(w.hasOwnProperty(G)&&G in DH)return BY[J]=w[G];return J}var FH=B8("animationend"),IH=B8("animationiteration"),kH=B8("animationstart"),$A=B8("transitionrun"),AA=B8("transitionstart"),OA=B8("transitioncancel"),CH=B8("transitionend"),NH=new Map,aW="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function S2(J,w){NH.set(J,w),Z8(w,[J])}var H2=[],W7=0,mX=0;function sJ(){for(var J=W7,w=mX=W7=0;w<J;){var G=H2[w];H2[w++]=null;var Y=H2[w];H2[w++]=null;var X=H2[w];H2[w++]=null;var Q=H2[w];if(H2[w++]=null,Y!==null&&X!==null){var q=Y.pending;q===null?X.next=X:(X.next=q.next,q.next=X),Y.pending=X}Q!==0&&PH(G,X,Q)}}function eJ(J,w,G,Y){H2[W7++]=J,H2[W7++]=w,H2[W7++]=G,H2[W7++]=Y,mX|=Y,J.lanes|=Y,J=J.alternate,J!==null&&(J.lanes|=Y)}function dX(J,w,G,Y){return eJ(J,w,G,Y),IJ(J)}function $6(J,w){return eJ(J,null,null,w),IJ(J)}function PH(J,w,G){J.lanes|=G;var Y=J.alternate;Y!==null&&(Y.lanes|=G);for(var X=!1,Q=J.return;Q!==null;)Q.childLanes|=G,Y=Q.alternate,Y!==null&&(Y.childLanes|=G),Q.tag===22&&(J=Q.stateNode,J===null||J._visibility&1||(X=!0)),J=Q,Q=Q.return;X&&w!==null&&J.tag===3&&(Q=J.stateNode,X=31-t1(G),Q=Q.hiddenUpdates,J=Q[X],J===null?Q[X]=[w]:J.push(w),w.lane=G|536870912)}function IJ(J){if(50<K4)throw K4=0,xX=null,Error(r(185));for(var w=J.return;w!==null;)J=w,w=J.return;return J.tag===3?J.stateNode:null}var U7={},nW=new WeakMap;function M2(J,w){if(typeof J==="object"&&J!==null){var G=nW.get(J);if(G!==void 0)return G;return w={value:J,source:w,stack:PW(w)},nW.set(J,w),w}return{value:J,source:w,stack:PW(w)}}var H7=[],V7=0,kJ=null,CJ=0,Z2=[],j2=0,G8=null,R5=1,D5="";function s6(J,w){H7[V7++]=CJ,H7[V7++]=kJ,kJ=J,CJ=w}function TH(J,w,G){Z2[j2++]=R5,Z2[j2++]=D5,Z2[j2++]=G8,G8=J;var Y=R5;J=D5;var X=32-t1(Y)-1;Y&=~(1<<X),G+=1;var Q=32-t1(w)+X;if(30<Q){var q=X-X%5;Q=(Y&(1<<q)-1).toString(32),Y>>=q,X-=q,R5=1<<32-t1(w)+X|G<<X|Y,D5=Q+J}else R5=1<<Q|G<<X|Y,D5=J}function cX(J){J.return!==null&&(s6(J,1),TH(J,1,0))}function uX(J){for(;J===kJ;)kJ=H7[--V7],H7[V7]=null,CJ=H7[--V7],H7[V7]=null;for(;J===G8;)G8=Z2[--j2],Z2[j2]=null,D5=Z2[--j2],Z2[j2]=null,R5=Z2[--j2],Z2[j2]=null}var g1=null,R1=null,F0=!1,P2=null,o2=!1,nY=Error(r(519));function z8(J){var w=Error(r(418,""));throw D4(M2(w,J)),nY}function rW(J){var{stateNode:w,type:G,memoizedProps:Y}=J;switch(w[C1]=J,w[d1]=Y,G){case"dialog":L0("cancel",w),L0("close",w);break;case"iframe":case"object":case"embed":L0("load",w);break;case"video":case"audio":for(G=0;G<k4.length;G++)L0(k4[G],w);break;case"source":L0("error",w);break;case"img":case"image":case"link":L0("error",w),L0("load",w);break;case"details":L0("toggle",w);break;case"input":L0("invalid",w),UH(w,Y.value,Y.defaultValue,Y.checked,Y.defaultChecked,Y.type,Y.name,!0),DJ(w);break;case"select":L0("invalid",w);break;case"textarea":L0("invalid",w),VH(w,Y.value,Y.defaultValue,Y.children),DJ(w)}G=Y.children,typeof G!=="string"&&typeof G!=="number"&&typeof G!=="bigint"||w.textContent===""+G||Y.suppressHydrationWarning===!0||qZ(w.textContent,G)?(Y.popover!=null&&(L0("beforetoggle",w),L0("toggle",w)),Y.onScroll!=null&&L0("scroll",w),Y.onScrollEnd!=null&&L0("scrollend",w),Y.onClick!=null&&(w.onclick=Qw),w=!0):w=!1,w||z8(J)}function sW(J){for(g1=J.return;g1;)switch(g1.tag){case 3:case 27:o2=!0;return;case 5:case 13:o2=!1;return;default:g1=g1.return}}function u9(J){if(J!==g1)return!1;if(!F0)return sW(J),F0=!0,!1;var w=!1,G;if(G=J.tag!==3&&J.tag!==27){if(G=J.tag===5)G=J.type,G=!(G!=="form"&&G!=="button")||IX(J.type,J.memoizedProps);G=!G}if(G&&(w=!0),w&&R1&&z8(J),sW(J),J.tag===13){if(J=J.memoizedState,J=J!==null?J.dehydrated:null,!J)throw Error(r(317));J:{J=J.nextSibling;for(w=0;J;){if(J.nodeType===8)if(G=J.data,G==="/$"){if(w===0){R1=T2(J.nextSibling);break J}w--}else G!=="$"&&G!=="$!"&&G!=="$?"||w++;J=J.nextSibling}R1=null}}else R1=g1?T2(J.stateNode.nextSibling):null;return!0}function v4(){R1=g1=null,F0=!1}function D4(J){P2===null?P2=[J]:P2.push(J)}var q4=Error(r(460)),SH=Error(r(474)),rY={then:function(){}};function eW(J){return J=J.status,J==="fulfilled"||J==="rejected"}function s3(){}function gH(J,w,G){switch(G=J[G],G===void 0?J.push(w):G!==w&&(w.then(s3,s3),w=G),w.status){case"fulfilled":return w.value;case"rejected":if(J=w.reason,J===q4)throw Error(r(483));throw J;default:if(typeof w.status==="string")w.then(s3,s3);else{if(J=_0,J!==null&&100<J.shellSuspendCounter)throw Error(r(482));J=w,J.status="pending",J.then(function(Y){if(w.status==="pending"){var X=w;X.status="fulfilled",X.value=Y}},function(Y){if(w.status==="pending"){var X=w;X.status="rejected",X.reason=Y}})}switch(w.status){case"fulfilled":return w.value;case"rejected":if(J=w.reason,J===q4)throw Error(r(483));throw J}throw z4=w,q4}}var z4=null;function tW(){if(z4===null)throw Error(r(459));var J=z4;return z4=null,J}var x7=null,F4=0;function e3(J){var w=F4;return F4+=1,x7===null&&(x7=[]),gH(x7,J,w)}function l9(J,w){w=w.props.ref,J.ref=w!==void 0?w:null}function t3(J,w){if(w.$$typeof===W$)throw Error(r(525));throw J=Object.prototype.toString.call(w),Error(r(31,J==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":J))}function JU(J){var w=J._init;return w(J._payload)}function bH(J){function w(A,M){if(J){var L=A.deletions;L===null?(A.deletions=[M],A.flags|=16):L.push(M)}}function G(A,M){if(!J)return null;for(;M!==null;)w(A,M),M=M.sibling;return null}function Y(A){for(var M=new Map;A!==null;)A.key!==null?M.set(A.key,A):M.set(A.index,A),A=A.sibling;return M}function X(A,M){return A=B6(A,M),A.index=0,A.sibling=null,A}function Q(A,M,L){if(A.index=L,!J)return A.flags|=1048576,M;if(L=A.alternate,L!==null)return L=L.index,L<M?(A.flags|=33554434,M):L;return A.flags|=33554434,M}function q(A){return J&&A.alternate===null&&(A.flags|=33554434),A}function z(A,M,L,$){if(M===null||M.tag!==6)return M=kY(L,A.mode,$),M.return=A,M;return M=X(M,L),M.return=A,M}function U(A,M,L,$){var I=L.type;if(I===G7)return V(A,M,L.props.children,$,L.key);if(M!==null&&(M.elementType===I||typeof I==="object"&&I!==null&&I.$$typeof===Y6&&JU(I)===M.type))return M=X(M,L.props),l9(M,L),M.return=A,M;return M=MJ(L.type,L.key,L.props,null,A.mode,$),l9(M,L),M.return=A,M}function W(A,M,L,$){if(M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation)return M=CY(L,A.mode,$),M.return=A,M;return M=X(M,L.children||[]),M.return=A,M}function V(A,M,L,$,I){if(M===null||M.tag!==7)return M=X8(L,A.mode,$,I),M.return=A,M;return M=X(M,L),M.return=A,M}function j(A,M,L){if(typeof M==="string"&&M!==""||typeof M==="number"||typeof M==="bigint")return M=kY(""+M,A.mode,L),M.return=A,M;if(typeof M==="object"&&M!==null){switch(M.$$typeof){case o3:return L=MJ(M.type,M.key,M.props,null,A.mode,L),l9(L,M),L.return=A,L;case a9:return M=CY(M,A.mode,L),M.return=A,M;case Y6:var $=M._init;return M=$(M._payload),j(A,M,L)}if(r9(M)||d9(M))return M=X8(M,A.mode,L,null),M.return=A,M;if(typeof M.then==="function")return j(A,e3(M),L);if(M.$$typeof===O5)return j(A,JJ(A,M),L);t3(A,M)}return null}function B(A,M,L,$){var I=M!==null?M.key:null;if(typeof L==="string"&&L!==""||typeof L==="number"||typeof L==="bigint")return I!==null?null:z(A,M,""+L,$);if(typeof L==="object"&&L!==null){switch(L.$$typeof){case o3:return L.key===I?U(A,M,L,$):null;case a9:return L.key===I?W(A,M,L,$):null;case Y6:return I=L._init,L=I(L._payload),B(A,M,L,$)}if(r9(L)||d9(L))return I!==null?null:V(A,M,L,$,null);if(typeof L.then==="function")return B(A,M,e3(L),$);if(L.$$typeof===O5)return B(A,M,JJ(A,L),$);t3(A,L)}return null}function x(A,M,L,$,I){if(typeof $==="string"&&$!==""||typeof $==="number"||typeof $==="bigint")return A=A.get(L)||null,z(M,A,""+$,I);if(typeof $==="object"&&$!==null){switch($.$$typeof){case o3:return A=A.get($.key===null?L:$.key)||null,U(M,A,$,I);case a9:return A=A.get($.key===null?L:$.key)||null,W(M,A,$,I);case Y6:var D=$._init;return $=D($._payload),x(A,M,L,$,I)}if(r9($)||d9($))return A=A.get(L)||null,V(M,A,$,I,null);if(typeof $.then==="function")return x(A,M,L,e3($),I);if($.$$typeof===O5)return x(A,M,L,JJ(M,$),I);t3(M,$)}return null}function O(A,M,L,$){for(var I=null,D=null,k=M,P=M=0,_=null;k!==null&&P<L.length;P++){k.index>P?(_=k,k=null):_=k.sibling;var v=B(A,k,L[P],$);if(v===null){k===null&&(k=_);break}J&&k&&v.alternate===null&&w(A,k),M=Q(v,M,P),D===null?I=v:D.sibling=v,D=v,k=_}if(P===L.length)return G(A,k),F0&&s6(A,P),I;if(k===null){for(;P<L.length;P++)k=j(A,L[P],$),k!==null&&(M=Q(k,M,P),D===null?I=k:D.sibling=k,D=k);return F0&&s6(A,P),I}for(k=Y(k);P<L.length;P++)_=x(k,A,P,L[P],$),_!==null&&(J&&_.alternate!==null&&k.delete(_.key===null?P:_.key),M=Q(_,M,P),D===null?I=_:D.sibling=_,D=_);return J&&k.forEach(function(h){return w(A,h)}),F0&&s6(A,P),I}function R(A,M,L,$){if(L==null)throw Error(r(151));for(var I=null,D=null,k=M,P=M=0,_=null,v=L.next();k!==null&&!v.done;P++,v=L.next()){k.index>P?(_=k,k=null):_=k.sibling;var h=B(A,k,v.value,$);if(h===null){k===null&&(k=_);break}J&&k&&h.alternate===null&&w(A,k),M=Q(h,M,P),D===null?I=h:D.sibling=h,D=h,k=_}if(v.done)return G(A,k),F0&&s6(A,P),I;if(k===null){for(;!v.done;P++,v=L.next())v=j(A,v.value,$),v!==null&&(M=Q(v,M,P),D===null?I=v:D.sibling=v,D=v);return F0&&s6(A,P),I}for(k=Y(k);!v.done;P++,v=L.next())v=x(k,A,P,v.value,$),v!==null&&(J&&v.alternate!==null&&k.delete(v.key===null?P:v.key),M=Q(v,M,P),D===null?I=v:D.sibling=v,D=v);return J&&k.forEach(function(C){return w(A,C)}),F0&&s6(A,P),I}function F(A,M,L,$){if(typeof L==="object"&&L!==null&&L.type===G7&&L.key===null&&(L=L.props.children),typeof L==="object"&&L!==null){switch(L.$$typeof){case o3:J:{for(var I=L.key;M!==null;){if(M.key===I){if(I=L.type,I===G7){if(M.tag===7){G(A,M.sibling),$=X(M,L.props.children),$.return=A,A=$;break J}}else if(M.elementType===I||typeof I==="object"&&I!==null&&I.$$typeof===Y6&&JU(I)===M.type){G(A,M.sibling),$=X(M,L.props),l9($,L),$.return=A,A=$;break J}G(A,M);break}else w(A,M);M=M.sibling}L.type===G7?($=X8(L.props.children,A.mode,$,L.key),$.return=A,A=$):($=MJ(L.type,L.key,L.props,null,A.mode,$),l9($,L),$.return=A,A=$)}return q(A);case a9:J:{for(I=L.key;M!==null;){if(M.key===I)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){G(A,M.sibling),$=X(M,L.children||[]),$.return=A,A=$;break J}else{G(A,M);break}else w(A,M);M=M.sibling}$=CY(L,A.mode,$),$.return=A,A=$}return q(A);case Y6:return I=L._init,L=I(L._payload),F(A,M,L,$)}if(r9(L))return O(A,M,L,$);if(d9(L)){if(I=d9(L),typeof I!=="function")throw Error(r(150));return L=I.call(L),R(A,M,L,$)}if(typeof L.then==="function")return F(A,M,e3(L),$);if(L.$$typeof===O5)return F(A,M,JJ(A,L),$);t3(A,L)}return typeof L==="string"&&L!==""||typeof L==="number"||typeof L==="bigint"?(L=""+L,M!==null&&M.tag===6?(G(A,M.sibling),$=X(M,L),$.return=A,A=$):(G(A,M),$=kY(L,A.mode,$),$.return=A,A=$),q(A)):G(A,M)}return function(A,M,L,$){try{F4=0;var I=F(A,M,L,$);return x7=null,I}catch(k){if(k===q4)throw k;var D=x2(29,k,null,A.mode);return D.lanes=$,D.return=A,D}finally{}}}var W8=bH(!0),fH=bH(!1),F7=e2(null),NJ=e2(0);function wU(J,w){J=T5,l0(NJ,J),l0(F7,w),T5=J|w.baseLanes}function sY(){l0(NJ,T5),l0(F7,F7.current)}function lX(){T5=NJ.current,A1(F7),A1(NJ)}var L2=e2(null),r2=null;function Q6(J){var w=J.alternate;l0(j1,j1.current&1),l0(L2,J),r2===null&&(w===null||F7.current!==null?r2=J:w.memoizedState!==null&&(r2=J))}function EH(J){if(J.tag===22){if(l0(j1,j1.current),l0(L2,J),r2===null){var w=J.alternate;w!==null&&w.memoizedState!==null&&(r2=J)}}else q6(J)}function q6(){l0(j1,j1.current),l0(L2,L2.current)}function F5(J){A1(L2),r2===J&&(r2=null),A1(j1)}var j1=e2(0);function PJ(J){for(var w=J;w!==null;){if(w.tag===13){var G=w.memoizedState;if(G!==null&&(G=G.dehydrated,G===null||G.data==="$?"||G.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===J)break;for(;w.sibling===null;){if(w.return===null||w.return===J)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var RA=typeof AbortController!=="undefined"?AbortController:function(){var J=[],w=this.signal={aborted:!1,addEventListener:function(G,Y){J.push(Y)}};this.abort=function(){w.aborted=!0,J.forEach(function(G){return G()})}},DA=n8,FA=a8,Z1={$$typeof:O5,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pX(){return{controller:new RA,data:new Map,refCount:0}}function _4(J){J.refCount--,J.refCount===0&&DA(FA,function(){J.controller.abort()})}var W4=null,eY=0,I7=0,K7=null;function IA(J,w){if(W4===null){var G=W4=[];eY=0,I7=BQ(),K7={status:"pending",value:void 0,then:function(Y){G.push(Y)}}}return eY++,w.then(GU,GU),w}function GU(){if(--eY===0&&W4!==null){K7!==null&&(K7.status="fulfilled");var J=W4;W4=null,I7=0,K7=null;for(var w=0;w<J.length;w++)J[w]()}}function kA(J,w){var G=[],Y={status:"pending",value:null,reason:null,then:function(X){G.push(X)}};return J.then(function(){Y.status="fulfilled",Y.value=w;for(var X=0;X<G.length;X++)G[X](w)},function(X){Y.status="rejected",Y.reason=X;for(X=0;X<G.length;X++)G[X](void 0)}),Y}var YU=U0.S;U0.S=function(J,w){typeof w==="object"&&w!==null&&typeof w.then==="function"&&IA(J,w),YU!==null&&YU(J,w)};var Y8=e2(null);function oX(){var J=Y8.current;return J!==null?J:_0.pooledCache}function VJ(J,w){w===null?l0(Y8,Y8.current):l0(Y8,w.pool)}function yH(){var J=oX();return J===null?null:{parent:Z1._currentValue,pool:J}}var A6=0,j0=null,g0=null,U1=null,TJ=!1,L7=!1,U8=!1,SJ=0,I4=0,$7=null,CA=0;function Y1(){throw Error(r(321))}function iX(J,w){if(w===null)return!1;for(var G=0;G<w.length&&G<J.length;G++)if(!w2(J[G],w[G]))return!1;return!0}function aX(J,w,G,Y,X,Q){return A6=Q,j0=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,U0.H=J===null||J.memoizedState===null?M8:F6,U8=!1,Q=G(Y,X),U8=!1,L7&&(Q=_H(w,G,Y,X)),vH(J),Q}function vH(J){U0.H=s2;var w=g0!==null&&g0.next!==null;if(A6=0,U1=g0=j0=null,TJ=!1,I4=0,$7=null,w)throw Error(r(300));J===null||$1||(J=J.dependencies,J!==null&&fJ(J)&&($1=!0))}function _H(J,w,G,Y){j0=J;var X=0;do{if(L7&&($7=null),I4=0,L7=!1,25<=X)throw Error(r(301));if(X+=1,U1=g0=null,J.updateQueue!=null){var Q=J.updateQueue;Q.lastEffect=null,Q.events=null,Q.stores=null,Q.memoCache!=null&&(Q.memoCache.index=0)}U0.H=x8,Q=w(G,Y)}while(L7);return Q}function NA(){var J=U0.H,w=J.useState()[0];return w=typeof w.then==="function"?h4(w):w,J=J.useState()[0],(g0!==null?g0.memoizedState:null)!==J&&(j0.flags|=1024),w}function nX(){var J=SJ!==0;return SJ=0,J}function rX(J,w,G){w.updateQueue=J.updateQueue,w.flags&=-2053,J.lanes&=~G}function sX(J){if(TJ){for(J=J.memoizedState;J!==null;){var w=J.queue;w!==null&&(w.pending=null),J=J.next}TJ=!1}A6=0,U1=g0=j0=null,L7=!1,I4=SJ=0,$7=null}function m1(){var J={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return U1===null?j0.memoizedState=U1=J:U1=U1.next=J,U1}function H1(){if(g0===null){var J=j0.alternate;J=J!==null?J.memoizedState:null}else J=g0.next;var w=U1===null?j0.memoizedState:U1.next;if(w!==null)U1=w,g0=J;else{if(J===null){if(j0.alternate===null)throw Error(r(467));throw Error(r(310))}g0=J,J={memoizedState:g0.memoizedState,baseState:g0.baseState,baseQueue:g0.baseQueue,queue:g0.queue,next:null},U1===null?j0.memoizedState=U1=J:U1=U1.next=J}return U1}var tJ;tJ=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function h4(J){var w=I4;return I4+=1,$7===null&&($7=[]),J=gH($7,J,w),w=j0,(U1===null?w.memoizedState:U1.next)===null&&(w=w.alternate,U0.H=w===null||w.memoizedState===null?M8:F6),J}function Jw(J){if(J!==null&&typeof J==="object"){if(typeof J.then==="function")return h4(J);if(J.$$typeof===O5)return N1(J)}throw Error(r(438,String(J)))}function eX(J){var w=null,G=j0.updateQueue;if(G!==null&&(w=G.memoCache),w==null){var Y=j0.alternate;Y!==null&&(Y=Y.updateQueue,Y!==null&&(Y=Y.memoCache,Y!=null&&(w={data:Y.data.map(function(X){return X.slice()}),index:0})))}if(w==null&&(w={data:[],index:0}),G===null&&(G=tJ(),j0.updateQueue=G),G.memoCache=w,G=w.data[w.index],G===void 0)for(G=w.data[w.index]=Array(J),Y=0;Y<J;Y++)G[Y]=H$;return w.index++,G}function N5(J,w){return typeof w==="function"?w(J):w}function ZJ(J){var w=H1();return tX(w,g0,J)}function tX(J,w,G){var Y=J.queue;if(Y===null)throw Error(r(311));Y.lastRenderedReducer=G;var X=J.baseQueue,Q=Y.pending;if(Q!==null){if(X!==null){var q=X.next;X.next=Q.next,Q.next=q}w.baseQueue=X=Q,Y.pending=null}if(Q=J.baseState,X===null)J.memoizedState=Q;else{w=X.next;var z=q=null,U=null,W=w,V=!1;do{var j=W.lane&-536870913;if(j!==W.lane?(O0&j)===j:(A6&j)===j){var B=W.revertLane;if(B===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),j===I7&&(V=!0);else if((A6&B)===B){W=W.next,B===I7&&(V=!0);continue}else j={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(z=U=j,q=Q):U=U.next=j,j0.lanes|=B,R6|=B;j=W.action,U8&&G(Q,j),Q=W.hasEagerState?W.eagerState:G(Q,j)}else B={lane:j,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(z=U=B,q=Q):U=U.next=B,j0.lanes|=j,R6|=j;W=W.next}while(W!==null&&W!==w);if(U===null?q=Q:U.next=z,!w2(Q,J.memoizedState)&&($1=!0,V&&(G=K7,G!==null)))throw G;J.memoizedState=Q,J.baseState=q,J.baseQueue=U,Y.lastRenderedState=Q}return X===null&&(Y.lanes=0),[J.memoizedState,Y.dispatch]}function MY(J){var w=H1(),G=w.queue;if(G===null)throw Error(r(311));G.lastRenderedReducer=J;var{dispatch:Y,pending:X}=G,Q=w.memoizedState;if(X!==null){G.pending=null;var q=X=X.next;do Q=J(Q,q.action),q=q.next;while(q!==X);w2(Q,w.memoizedState)||($1=!0),w.memoizedState=Q,w.baseQueue===null&&(w.baseState=Q),G.lastRenderedState=Q}return[Q,Y]}function hH(J,w,G){var Y=j0,X=H1(),Q=F0;if(Q){if(G===void 0)throw Error(r(407));G=G()}else G=w();var q=!w2((g0||X).memoizedState,G);if(q&&(X.memoizedState=G,$1=!0),X=X.queue,JQ(cH.bind(null,Y,X,J),[J]),X.getSnapshot!==w||q||U1!==null&&U1.memoizedState.tag&1){if(Y.flags|=2048,k7(9,dH.bind(null,Y,X,G,w),{destroy:void 0},null),_0===null)throw Error(r(349));Q||(A6&60)!==0||mH(Y,w,G)}return G}function mH(J,w,G){J.flags|=16384,J={getSnapshot:w,value:G},w=j0.updateQueue,w===null?(w=tJ(),j0.updateQueue=w,w.stores=[J]):(G=w.stores,G===null?w.stores=[J]:G.push(J))}function dH(J,w,G,Y){w.value=G,w.getSnapshot=Y,uH(w)&&lH(J)}function cH(J,w,G){return G(function(){uH(w)&&lH(J)})}function uH(J){var w=J.getSnapshot;J=J.value;try{var G=w();return!w2(J,G)}catch(Y){return!0}}function lH(J){var w=$6(J,2);w!==null&&b1(w,J,2)}function tY(J){var w=m1();if(typeof J==="function"){var G=J;if(J=G(),U8){U6(!0);try{G()}finally{U6(!1)}}}return w.memoizedState=w.baseState=J,w.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N5,lastRenderedState:J},w}function pH(J,w,G,Y){return J.baseState=G,tX(J,g0,typeof Y==="function"?Y:N5)}function PA(J,w,G,Y,X){if(Gw(J))throw Error(r(485));if(J=w.action,J!==null){var Q={payload:X,action:J,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){Q.listeners.push(q)}};U0.T!==null?G(!0):Q.isTransition=!1,Y(Q),G=w.pending,G===null?(Q.next=w.pending=Q,oH(w,Q)):(Q.next=G.next,w.pending=G.next=Q)}}function oH(J,w){var{action:G,payload:Y}=w,X=J.state;if(w.isTransition){var Q=U0.T,q={};U0.T=q;try{var z=G(X,Y),U=U0.S;U!==null&&U(q,z),XU(J,w,z)}catch(W){JX(J,w,W)}finally{U0.T=Q}}else try{Q=G(X,Y),XU(J,w,Q)}catch(W){JX(J,w,W)}}function XU(J,w,G){G!==null&&typeof G==="object"&&typeof G.then==="function"?G.then(function(Y){QU(J,w,Y)},function(Y){return JX(J,w,Y)}):QU(J,w,G)}function QU(J,w,G){w.status="fulfilled",w.value=G,iH(w),J.state=G,w=J.pending,w!==null&&(G=w.next,G===w?J.pending=null:(G=G.next,w.next=G,oH(J,G)))}function JX(J,w,G){var Y=J.pending;if(J.pending=null,Y!==null){Y=Y.next;do w.status="rejected",w.reason=G,iH(w),w=w.next;while(w!==Y)}J.action=null}function iH(J){J=J.listeners;for(var w=0;w<J.length;w++)J[w]()}function aH(J,w){return w}function nH(J,w){if(F0){var G=_0.formState;if(G!==null){J:{var Y=j0;if(F0){if(R1){w:{var X=R1;for(var Q=o2;X.nodeType!==8;){if(!Q){X=null;break w}if(X=T2(X.nextSibling),X===null){X=null;break w}}Q=X.data,X=Q==="F!"||Q==="F"?X:null}if(X){R1=T2(X.nextSibling),Y=X.data==="F!";break J}}z8(Y)}Y=!1}Y&&(w=G[0])}}return G=m1(),G.memoizedState=G.baseState=w,Y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aH,lastRenderedState:w},G.queue=Y,G=ZV.bind(null,j0,Y),Y.dispatch=G,Y=tY(!1),Q=XQ.bind(null,j0,!1,Y.queue),Y=m1(),X={state:w,dispatch:null,action:J,pending:null},Y.queue=X,G=PA.bind(null,j0,X,Q,G),X.dispatch=G,Y.memoizedState=J,[w,G,!1]}function rH(J){var w=H1();return sH(w,g0,J)}function sH(J,w,G){w=tX(J,w,aH)[0],J=ZJ(N5)[0],w=typeof w==="object"&&w!==null&&typeof w.then==="function"?h4(w):w;var Y=H1(),X=Y.queue,Q=X.dispatch;return G!==Y.memoizedState&&(j0.flags|=2048,k7(9,TA.bind(null,X,G),{destroy:void 0},null)),[w,Q,J]}function TA(J,w){J.action=w}function eH(J){var w=H1(),G=g0;if(G!==null)return sH(w,G,J);H1(),w=w.memoizedState,G=H1();var Y=G.queue.dispatch;return G.memoizedState=J,[w,Y,!1]}function k7(J,w,G,Y){return J={tag:J,create:w,inst:G,deps:Y,next:null},w=j0.updateQueue,w===null&&(w=tJ(),j0.updateQueue=w),G=w.lastEffect,G===null?w.lastEffect=J.next=J:(Y=G.next,G.next=J,J.next=Y,w.lastEffect=J),J}function tH(){return H1().memoizedState}function jJ(J,w,G,Y){var X=m1();j0.flags|=J,X.memoizedState=k7(1|w,G,{destroy:void 0},Y===void 0?null:Y)}function ww(J,w,G,Y){var X=H1();Y=Y===void 0?null:Y;var Q=X.memoizedState.inst;g0!==null&&Y!==null&&iX(Y,g0.memoizedState.deps)?X.memoizedState=k7(w,G,Q,Y):(j0.flags|=J,X.memoizedState=k7(1|w,G,Q,Y))}function qU(J,w){jJ(8390656,8,J,w)}function JQ(J,w){ww(2048,8,J,w)}function JV(J,w){return ww(4,2,J,w)}function wV(J,w){return ww(4,4,J,w)}function GV(J,w){if(typeof w==="function"){J=J();var G=w(J);return function(){typeof G==="function"?G():w(null)}}if(w!==null&&w!==void 0)return J=J(),w.current=J,function(){w.current=null}}function YV(J,w,G){G=G!==null&&G!==void 0?G.concat([J]):null,ww(4,4,GV.bind(null,w,J),G)}function wQ(){}function XV(J,w){var G=H1();w=w===void 0?null:w;var Y=G.memoizedState;if(w!==null&&iX(w,Y[1]))return Y[0];return G.memoizedState=[J,w],J}function QV(J,w){var G=H1();w=w===void 0?null:w;var Y=G.memoizedState;if(w!==null&&iX(w,Y[1]))return Y[0];if(Y=J(),U8){U6(!0);try{J()}finally{U6(!1)}}return G.memoizedState=[Y,w],Y}function GQ(J,w,G){if(G===void 0||(A6&1073741824)!==0)return J.memoizedState=w;return J.memoizedState=G,J=iV(),j0.lanes|=J,R6|=J,G}function qV(J,w,G,Y){if(w2(G,w))return G;if(F7.current!==null)return J=GQ(J,G,Y),w2(J,w)||($1=!0),J;if((A6&42)===0)return $1=!0,J.memoizedState=G;return J=iV(),j0.lanes|=J,R6|=J,w}function zV(J,w,G,Y,X){var Q=c0.p;c0.p=Q!==0&&8>Q?Q:8;var q=U0.T,z={};U0.T=z,XQ(J,!1,w,G);try{var U=X(),W=U0.S;if(W!==null&&W(z,U),U!==null&&typeof U==="object"&&typeof U.then==="function"){var V=kA(U,Y);U4(J,w,V,J2(J))}else U4(J,w,Y,J2(J))}catch(j){U4(J,w,{then:function(){},status:"rejected",reason:j},J2())}finally{c0.p=Q,U0.T=q}}function SA(){}function wX(J,w,G,Y){if(J.tag!==5)throw Error(r(476));var X=WV(J).queue;zV(J,X,w,w8,G===null?SA:function(){return UV(J),G(Y)})}function WV(J){var w=J.memoizedState;if(w!==null)return w;w={memoizedState:w8,baseState:w8,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:N5,lastRenderedState:w8},next:null};var G={};return w.next={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:N5,lastRenderedState:G},next:null},J.memoizedState=w,J=J.alternate,J!==null&&(J.memoizedState=w),w}function UV(J){var w=WV(J).next.queue;U4(J,w,{},J2())}function YQ(){return N1(P4)}function HV(){return H1().memoizedState}function VV(){return H1().memoizedState}function gA(J){for(var w=J.return;w!==null;){switch(w.tag){case 24:case 3:var G=J2();J=Z6(G);var Y=j6(w,J,G);Y!==null&&(b1(Y,w,G),V4(Y,w,G)),w={cache:pX()},J.payload=w;return}w=w.return}}function bA(J,w,G){var Y=J2();G={lane:Y,revertLane:0,action:G,hasEagerState:!1,eagerState:null,next:null},Gw(J)?jV(w,G):(G=dX(J,w,G,Y),G!==null&&(b1(G,J,Y),BV(G,w,Y)))}function ZV(J,w,G){var Y=J2();U4(J,w,G,Y)}function U4(J,w,G,Y){var X={lane:Y,revertLane:0,action:G,hasEagerState:!1,eagerState:null,next:null};if(Gw(J))jV(w,X);else{var Q=J.alternate;if(J.lanes===0&&(Q===null||Q.lanes===0)&&(Q=w.lastRenderedReducer,Q!==null))try{var q=w.lastRenderedState,z=Q(q,G);if(X.hasEagerState=!0,X.eagerState=z,w2(z,q))return eJ(J,w,X,0),_0===null&&sJ(),!1}catch(U){}finally{}if(G=dX(J,w,X,Y),G!==null)return b1(G,J,Y),BV(G,w,Y),!0}return!1}function XQ(J,w,G,Y){if(Y={lane:2,revertLane:BQ(),action:Y,hasEagerState:!1,eagerState:null,next:null},Gw(J)){if(w)throw Error(r(479))}else w=dX(J,G,Y,2),w!==null&&b1(w,J,2)}function Gw(J){var w=J.alternate;return J===j0||w!==null&&w===j0}function jV(J,w){L7=TJ=!0;var G=J.pending;G===null?w.next=w:(w.next=G.next,G.next=w),J.pending=w}function BV(J,w,G){if((G&4194176)!==0){var Y=w.lanes;Y&=J.pendingLanes,G|=Y,w.lanes=G,GH(J,G)}}var s2={readContext:N1,use:Jw,useCallback:Y1,useContext:Y1,useEffect:Y1,useImperativeHandle:Y1,useLayoutEffect:Y1,useInsertionEffect:Y1,useMemo:Y1,useReducer:Y1,useRef:Y1,useState:Y1,useDebugValue:Y1,useDeferredValue:Y1,useTransition:Y1,useSyncExternalStore:Y1,useId:Y1};s2.useCacheRefresh=Y1;s2.useMemoCache=Y1;s2.useHostTransitionStatus=Y1;s2.useFormState=Y1;s2.useActionState=Y1;s2.useOptimistic=Y1;var M8={readContext:N1,use:Jw,useCallback:function(J,w){return m1().memoizedState=[J,w===void 0?null:w],J},useContext:N1,useEffect:qU,useImperativeHandle:function(J,w,G){G=G!==null&&G!==void 0?G.concat([J]):null,jJ(4194308,4,GV.bind(null,w,J),G)},useLayoutEffect:function(J,w){return jJ(4194308,4,J,w)},useInsertionEffect:function(J,w){jJ(4,2,J,w)},useMemo:function(J,w){var G=m1();w=w===void 0?null:w;var Y=J();if(U8){U6(!0);try{J()}finally{U6(!1)}}return G.memoizedState=[Y,w],Y},useReducer:function(J,w,G){var Y=m1();if(G!==void 0){var X=G(w);if(U8){U6(!0);try{G(w)}finally{U6(!1)}}}else X=w;return Y.memoizedState=Y.baseState=X,J={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J,lastRenderedState:X},Y.queue=J,J=J.dispatch=bA.bind(null,j0,J),[Y.memoizedState,J]},useRef:function(J){var w=m1();return J={current:J},w.memoizedState=J},useState:function(J){J=tY(J);var w=J.queue,G=ZV.bind(null,j0,w);return w.dispatch=G,[J.memoizedState,G]},useDebugValue:wQ,useDeferredValue:function(J,w){var G=m1();return GQ(G,J,w)},useTransition:function(){var J=tY(!1);return J=zV.bind(null,j0,J.queue,!0,!1),m1().memoizedState=J,[!1,J]},useSyncExternalStore:function(J,w,G){var Y=j0,X=m1();if(F0){if(G===void 0)throw Error(r(407));G=G()}else{if(G=w(),_0===null)throw Error(r(349));(O0&60)!==0||mH(Y,w,G)}X.memoizedState=G;var Q={value:G,getSnapshot:w};return X.queue=Q,qU(cH.bind(null,Y,Q,J),[J]),Y.flags|=2048,k7(9,dH.bind(null,Y,Q,G,w),{destroy:void 0},null),G},useId:function(){var J=m1(),w=_0.identifierPrefix;if(F0){var G=D5,Y=R5;G=(Y&~(1<<32-t1(Y)-1)).toString(32)+G,w=":"+w+"R"+G,G=SJ++,0<G&&(w+="H"+G.toString(32)),w+=":"}else G=CA++,w=":"+w+"r"+G.toString(32)+":";return J.memoizedState=w},useCacheRefresh:function(){return m1().memoizedState=gA.bind(null,j0)}};M8.useMemoCache=eX;M8.useHostTransitionStatus=YQ;M8.useFormState=nH;M8.useActionState=nH;M8.useOptimistic=function(J){var w=m1();w.memoizedState=w.baseState=J;var G={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return w.queue=G,w=XQ.bind(null,j0,!0,G),G.dispatch=w,[J,w]};var F6={readContext:N1,use:Jw,useCallback:XV,useContext:N1,useEffect:JQ,useImperativeHandle:YV,useInsertionEffect:JV,useLayoutEffect:wV,useMemo:QV,useReducer:ZJ,useRef:tH,useState:function(){return ZJ(N5)},useDebugValue:wQ,useDeferredValue:function(J,w){var G=H1();return qV(G,g0.memoizedState,J,w)},useTransition:function(){var J=ZJ(N5)[0],w=H1().memoizedState;return[typeof J==="boolean"?J:h4(J),w]},useSyncExternalStore:hH,useId:HV};F6.useCacheRefresh=VV;F6.useMemoCache=eX;F6.useHostTransitionStatus=YQ;F6.useFormState=rH;F6.useActionState=rH;F6.useOptimistic=function(J,w){var G=H1();return pH(G,g0,J,w)};var x8={readContext:N1,use:Jw,useCallback:XV,useContext:N1,useEffect:JQ,useImperativeHandle:YV,useInsertionEffect:JV,useLayoutEffect:wV,useMemo:QV,useReducer:MY,useRef:tH,useState:function(){return MY(N5)},useDebugValue:wQ,useDeferredValue:function(J,w){var G=H1();return g0===null?GQ(G,J,w):qV(G,g0.memoizedState,J,w)},useTransition:function(){var J=MY(N5)[0],w=H1().memoizedState;return[typeof J==="boolean"?J:h4(J),w]},useSyncExternalStore:hH,useId:HV};x8.useCacheRefresh=VV;x8.useMemoCache=eX;x8.useHostTransitionStatus=YQ;x8.useFormState=eH;x8.useActionState=eH;x8.useOptimistic=function(J,w){var G=H1();if(g0!==null)return pH(G,g0,J,w);return G.baseState=J,[J,G.queue.dispatch]};function xY(J,w,G,Y){w=J.memoizedState,G=G(Y,w),G=G===null||G===void 0?w:u0({},w,G),J.memoizedState=G,J.lanes===0&&(J.updateQueue.baseState=G)}var GX={isMounted:function(J){return(J=J._reactInternals)?T7(J)===J:!1},enqueueSetState:function(J,w,G){J=J._reactInternals;var Y=J2(),X=Z6(Y);X.payload=w,G!==void 0&&G!==null&&(X.callback=G),w=j6(J,X,Y),w!==null&&(b1(w,J,Y),V4(w,J,Y))},enqueueReplaceState:function(J,w,G){J=J._reactInternals;var Y=J2(),X=Z6(Y);X.tag=1,X.payload=w,G!==void 0&&G!==null&&(X.callback=G),w=j6(J,X,Y),w!==null&&(b1(w,J,Y),V4(w,J,Y))},enqueueForceUpdate:function(J,w){J=J._reactInternals;var G=J2(),Y=Z6(G);Y.tag=2,w!==void 0&&w!==null&&(Y.callback=w),w=j6(J,Y,G),w!==null&&(b1(w,J,G),V4(w,J,G))}};function zU(J,w,G,Y,X,Q,q){return J=J.stateNode,typeof J.shouldComponentUpdate==="function"?J.shouldComponentUpdate(Y,Q,q):w.prototype&&w.prototype.isPureReactComponent?!R4(G,Y)||!R4(X,Q):!0}function WU(J,w,G,Y){J=w.state,typeof w.componentWillReceiveProps==="function"&&w.componentWillReceiveProps(G,Y),typeof w.UNSAFE_componentWillReceiveProps==="function"&&w.UNSAFE_componentWillReceiveProps(G,Y),w.state!==J&&GX.enqueueReplaceState(w,w.state,null)}function H8(J,w){var G=w;if("ref"in w){G={};for(var Y in w)Y!=="ref"&&(G[Y]=w[Y])}if(J=J.defaultProps){G===w&&(G=u0({},G));for(var X in J)G[X]===void 0&&(G[X]=J[X])}return G}var gJ=typeof reportError==="function"?reportError:function(J){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var w=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J==="object"&&J!==null&&typeof J.message==="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(w))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",J);return}console.error(J)};function MV(J){gJ(J)}function xV(J){console.error(J)}function KV(J){gJ(J)}function bJ(J,w){try{var G=J.onUncaughtError;G(w.value,{componentStack:w.stack})}catch(Y){setTimeout(function(){throw Y})}}function UU(J,w,G){try{var Y=J.onCaughtError;Y(G.value,{componentStack:G.stack,errorBoundary:w.tag===1?w.stateNode:null})}catch(X){setTimeout(function(){throw X})}}function YX(J,w,G){return G=Z6(G),G.tag=3,G.payload={element:null},G.callback=function(){bJ(J,w)},G}function LV(J){return J=Z6(J),J.tag=3,J}function $V(J,w,G,Y){var X=G.type.getDerivedStateFromError;if(typeof X==="function"){var Q=Y.value;J.payload=function(){return X(Q)},J.callback=function(){UU(w,G,Y)}}var q=G.stateNode;q!==null&&typeof q.componentDidCatch==="function"&&(J.callback=function(){UU(w,G,Y),typeof X!=="function"&&(M6===null?M6=new Set([this]):M6.add(this));var z=Y.stack;this.componentDidCatch(Y.value,{componentStack:z!==null?z:""})})}function fA(J,w,G,Y,X){if(G.flags|=32768,Y!==null&&typeof Y==="object"&&typeof Y.then==="function"){if(w=G.alternate,w!==null&&m4(w,G,X,!0),G=L2.current,G!==null){switch(G.tag){case 13:return r2===null?LX():G.alternate===null&&J1===0&&(J1=3),G.flags&=-257,G.flags|=65536,G.lanes=X,Y===rY?G.flags|=16384:(w=G.updateQueue,w===null?G.updateQueue=new Set([Y]):w.add(Y),PY(J,Y,X)),!1;case 22:return G.flags|=65536,Y===rY?G.flags|=16384:(w=G.updateQueue,w===null?(w={transitions:null,markerInstances:null,retryQueue:new Set([Y])},G.updateQueue=w):(G=w.retryQueue,G===null?w.retryQueue=new Set([Y]):G.add(Y)),PY(J,Y,X)),!1}throw Error(r(435,G.tag))}return PY(J,Y,X),LX(),!1}if(F0)return w=L2.current,w!==null?((w.flags&65536)===0&&(w.flags|=256),w.flags|=65536,w.lanes=X,Y!==nY&&(J=Error(r(422),{cause:Y}),D4(M2(J,G)))):(Y!==nY&&(w=Error(r(423),{cause:Y}),D4(M2(w,G))),J=J.current.alternate,J.flags|=65536,X&=-X,J.lanes|=X,Y=M2(Y,G),X=YX(J.stateNode,Y,X),RY(J,X),J1!==4&&(J1=2)),!1;var Q=Error(r(520),{cause:Y});if(Q=M2(Q,G),M4===null?M4=[Q]:M4.push(Q),J1!==4&&(J1=2),w===null)return!0;Y=M2(Y,G),G=w;do{switch(G.tag){case 3:return G.flags|=65536,J=X&-X,G.lanes|=J,J=YX(G.stateNode,Y,J),RY(G,J),!1;case 1:if(w=G.type,Q=G.stateNode,(G.flags&128)===0&&(typeof w.getDerivedStateFromError==="function"||Q!==null&&typeof Q.componentDidCatch==="function"&&(M6===null||!M6.has(Q))))return G.flags|=65536,X&=-X,G.lanes|=X,X=LV(X),$V(X,J,G,Y),RY(G,X),!1}G=G.return}while(G!==null);return!1}var AV=Error(r(461)),$1=!1;function O1(J,w,G,Y){w.child=J===null?fH(w,null,G,Y):W8(w,J.child,G,Y)}function HU(J,w,G,Y,X){G=G.render;var Q=w.ref;if("ref"in Y){var q={};for(var z in Y)z!=="ref"&&(q[z]=Y[z])}else q=Y;if(V8(w),Y=aX(J,w,G,q,Q,X),z=nX(),J!==null&&!$1)return rX(J,w,X),P5(J,w,X);return F0&&z&&cX(w),w.flags|=1,O1(J,w,Y,X),w.child}function VU(J,w,G,Y,X){if(J===null){var Q=G.type;if(typeof Q==="function"&&!UQ(Q)&&Q.defaultProps===void 0&&G.compare===null)return w.tag=15,w.type=Q,OV(J,w,Q,Y,X);return J=MJ(G.type,null,Y,w,w.mode,X),J.ref=w.ref,J.return=w,w.child=J}if(Q=J.child,!QQ(J,X)){var q=Q.memoizedProps;if(G=G.compare,G=G!==null?G:R4,G(q,Y)&&J.ref===w.ref)return P5(J,w,X)}return w.flags|=1,J=B6(Q,Y),J.ref=w.ref,J.return=w,w.child=J}function OV(J,w,G,Y,X){if(J!==null){var Q=J.memoizedProps;if(R4(Q,Y)&&J.ref===w.ref)if($1=!1,w.pendingProps=Y=Q,QQ(J,X))(J.flags&131072)!==0&&($1=!0);else return w.lanes=J.lanes,P5(J,w,X)}return XX(J,w,G,Y,X)}function RV(J,w,G){var Y=w.pendingProps,X=Y.children,Q=(w.stateNode._pendingVisibility&2)!==0,q=J!==null?J.memoizedState:null;if(H4(J,w),Y.mode==="hidden"||Q){if((w.flags&128)!==0){if(Y=q!==null?q.baseLanes|G:G,J!==null){X=w.child=J.child;for(Q=0;X!==null;)Q=Q|X.lanes|X.childLanes,X=X.sibling;w.childLanes=Q&~Y}else w.childLanes=0,w.child=null;return ZU(J,w,Y,G)}if((G&536870912)!==0)w.memoizedState={baseLanes:0,cachePool:null},J!==null&&VJ(w,q!==null?q.cachePool:null),q!==null?wU(w,q):sY(),EH(w);else return w.lanes=w.childLanes=536870912,ZU(J,w,q!==null?q.baseLanes|G:G,G)}else q!==null?(VJ(w,q.cachePool),wU(w,q),q6(w),w.memoizedState=null):(J!==null&&VJ(w,null),sY(),q6(w));return O1(J,w,X,G),w.child}function ZU(J,w,G,Y){var X=oX();return X=X===null?null:{parent:Z1._currentValue,pool:X},w.memoizedState={baseLanes:G,cachePool:X},J!==null&&VJ(w,null),sY(),EH(w),J!==null&&m4(J,w,Y,!0),null}function H4(J,w){var G=w.ref;if(G===null)J!==null&&J.ref!==null&&(w.flags|=2097664);else{if(typeof G!=="function"&&typeof G!=="object")throw Error(r(284));if(J===null||J.ref!==G)w.flags|=2097664}}function XX(J,w,G,Y,X){if(V8(w),G=aX(J,w,G,Y,void 0,X),Y=nX(),J!==null&&!$1)return rX(J,w,X),P5(J,w,X);return F0&&Y&&cX(w),w.flags|=1,O1(J,w,G,X),w.child}function jU(J,w,G,Y,X,Q){if(V8(w),w.updateQueue=null,G=_H(w,Y,G,X),vH(J),Y=nX(),J!==null&&!$1)return rX(J,w,Q),P5(J,w,Q);return F0&&Y&&cX(w),w.flags|=1,O1(J,w,G,Q),w.child}function BU(J,w,G,Y,X){if(V8(w),w.stateNode===null){var Q=U7,q=G.contextType;typeof q==="object"&&q!==null&&(Q=N1(q)),Q=new G(Y,Q),w.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Q.updater=GX,w.stateNode=Q,Q._reactInternals=w,Q=w.stateNode,Q.props=Y,Q.state=w.memoizedState,Q.refs={},qQ(w),q=G.contextType,Q.context=typeof q==="object"&&q!==null?N1(q):U7,Q.state=w.memoizedState,q=G.getDerivedStateFromProps,typeof q==="function"&&(xY(w,G,q,Y),Q.state=w.memoizedState),typeof G.getDerivedStateFromProps==="function"||typeof Q.getSnapshotBeforeUpdate==="function"||typeof Q.UNSAFE_componentWillMount!=="function"&&typeof Q.componentWillMount!=="function"||(q=Q.state,typeof Q.componentWillMount==="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount==="function"&&Q.UNSAFE_componentWillMount(),q!==Q.state&&GX.enqueueReplaceState(Q,Q.state,null),j4(w,Y,Q,X),Z4(),Q.state=w.memoizedState),typeof Q.componentDidMount==="function"&&(w.flags|=4194308),Y=!0}else if(J===null){Q=w.stateNode;var z=w.memoizedProps,U=H8(G,z);Q.props=U;var W=Q.context,V=G.contextType;q=U7,typeof V==="object"&&V!==null&&(q=N1(V));var j=G.getDerivedStateFromProps;V=typeof j==="function"||typeof Q.getSnapshotBeforeUpdate==="function",z=w.pendingProps!==z,V||typeof Q.UNSAFE_componentWillReceiveProps!=="function"&&typeof Q.componentWillReceiveProps!=="function"||(z||W!==q)&&WU(w,Q,Y,q),X6=!1;var B=w.memoizedState;Q.state=B,j4(w,Y,Q,X),Z4(),W=w.memoizedState,z||B!==W||X6?(typeof j==="function"&&(xY(w,G,j,Y),W=w.memoizedState),(U=X6||zU(w,G,U,Y,B,W,q))?(V||typeof Q.UNSAFE_componentWillMount!=="function"&&typeof Q.componentWillMount!=="function"||(typeof Q.componentWillMount==="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount==="function"&&Q.UNSAFE_componentWillMount()),typeof Q.componentDidMount==="function"&&(w.flags|=4194308)):(typeof Q.componentDidMount==="function"&&(w.flags|=4194308),w.memoizedProps=Y,w.memoizedState=W),Q.props=Y,Q.state=W,Q.context=q,Y=U):(typeof Q.componentDidMount==="function"&&(w.flags|=4194308),Y=!1)}else{Q=w.stateNode,HX(J,w),q=w.memoizedProps,V=H8(G,q),Q.props=V,j=w.pendingProps,B=Q.context,W=G.contextType,U=U7,typeof W==="object"&&W!==null&&(U=N1(W)),z=G.getDerivedStateFromProps,(W=typeof z==="function"||typeof Q.getSnapshotBeforeUpdate==="function")||typeof Q.UNSAFE_componentWillReceiveProps!=="function"&&typeof Q.componentWillReceiveProps!=="function"||(q!==j||B!==U)&&WU(w,Q,Y,U),X6=!1,B=w.memoizedState,Q.state=B,j4(w,Y,Q,X),Z4();var x=w.memoizedState;q!==j||B!==x||X6||J!==null&&J.dependencies!==null&&fJ(J.dependencies)?(typeof z==="function"&&(xY(w,G,z,Y),x=w.memoizedState),(V=X6||zU(w,G,V,Y,B,x,U)||J!==null&&J.dependencies!==null&&fJ(J.dependencies))?(W||typeof Q.UNSAFE_componentWillUpdate!=="function"&&typeof Q.componentWillUpdate!=="function"||(typeof Q.componentWillUpdate==="function"&&Q.componentWillUpdate(Y,x,U),typeof Q.UNSAFE_componentWillUpdate==="function"&&Q.UNSAFE_componentWillUpdate(Y,x,U)),typeof Q.componentDidUpdate==="function"&&(w.flags|=4),typeof Q.getSnapshotBeforeUpdate==="function"&&(w.flags|=1024)):(typeof Q.componentDidUpdate!=="function"||q===J.memoizedProps&&B===J.memoizedState||(w.flags|=4),typeof Q.getSnapshotBeforeUpdate!=="function"||q===J.memoizedProps&&B===J.memoizedState||(w.flags|=1024),w.memoizedProps=Y,w.memoizedState=x),Q.props=Y,Q.state=x,Q.context=U,Y=V):(typeof Q.componentDidUpdate!=="function"||q===J.memoizedProps&&B===J.memoizedState||(w.flags|=4),typeof Q.getSnapshotBeforeUpdate!=="function"||q===J.memoizedProps&&B===J.memoizedState||(w.flags|=1024),Y=!1)}return Q=Y,H4(J,w),Y=(w.flags&128)!==0,Q||Y?(Q=w.stateNode,G=Y&&typeof G.getDerivedStateFromError!=="function"?null:Q.render(),w.flags|=1,J!==null&&Y?(w.child=W8(w,J.child,null,X),w.child=W8(w,null,G,X)):O1(J,w,G,X),w.memoizedState=Q.state,J=w.child):J=P5(J,w,X),J}function MU(J,w,G,Y){return v4(),w.flags|=256,O1(J,w,G,Y),w.child}var KY={dehydrated:null,treeContext:null,retryLane:0};function LY(J){return{baseLanes:J,cachePool:yH()}}function $Y(J,w,G){return J=J!==null?J.childLanes&~G:0,w&&(J|=K2),J}function DV(J,w,G){var Y=w.pendingProps,X=!1,Q=(w.flags&128)!==0,q;if((q=Q)||(q=J!==null&&J.memoizedState===null?!1:(j1.current&2)!==0),q&&(X=!0,w.flags&=-129),q=(w.flags&32)!==0,w.flags&=-33,J===null){if(F0){if(X?Q6(w):q6(w),F0){var z=R1,U;if(U=z){J:{U=z;for(z=o2;U.nodeType!==8;){if(!z){z=null;break J}if(U=T2(U.nextSibling),U===null){z=null;break J}}z=U}z!==null?(w.memoizedState={dehydrated:z,treeContext:G8!==null?{id:R5,overflow:D5}:null,retryLane:536870912},U=x2(18,null,null,0),U.stateNode=z,U.return=w,w.child=U,g1=w,R1=null,U=!0):U=!1}U||z8(w)}if(z=w.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return z.data==="$!"?w.lanes=16:w.lanes=536870912,null;F5(w)}if(z=Y.children,Y=Y.fallback,X)return q6(w),X=w.mode,z=qX({mode:"hidden",children:z},X),Y=X8(Y,X,G,null),z.return=w,Y.return=w,z.sibling=Y,w.child=z,X=w.child,X.memoizedState=LY(G),X.childLanes=$Y(J,q,G),w.memoizedState=KY,Y;return Q6(w),QX(w,z)}if(U=J.memoizedState,U!==null&&(z=U.dehydrated,z!==null)){if(Q)w.flags&256?(Q6(w),w.flags&=-257,w=AY(J,w,G)):w.memoizedState!==null?(q6(w),w.child=J.child,w.flags|=128,w=null):(q6(w),X=Y.fallback,z=w.mode,Y=qX({mode:"visible",children:Y.children},z),X=X8(X,z,G,null),X.flags|=2,Y.return=w,X.return=w,Y.sibling=X,w.child=Y,W8(w,J.child,null,G),Y=w.child,Y.memoizedState=LY(G),Y.childLanes=$Y(J,q,G),w.memoizedState=KY,w=X);else if(Q6(w),z.data==="$!"){if(q=z.nextSibling&&z.nextSibling.dataset,q)var W=q.dgst;q=W,Y=Error(r(419)),Y.stack="",Y.digest=q,D4({value:Y,source:null,stack:null}),w=AY(J,w,G)}else if($1||m4(J,w,G,!1),q=(G&J.childLanes)!==0,$1||q){if(q=_0,q!==null){if(Y=G&-G,(Y&42)!==0)Y=1;else switch(Y){case 2:Y=1;break;case 8:Y=4;break;case 32:Y=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:Y=64;break;case 268435456:Y=134217728;break;default:Y=0}if(Y=(Y&(q.suspendedLanes|G))!==0?0:Y,Y!==0&&Y!==U.retryLane)throw U.retryLane=Y,$6(J,Y),b1(q,J,Y),AV}z.data==="$?"||LX(),w=AY(J,w,G)}else z.data==="$?"?(w.flags|=128,w.child=J.child,w=nA.bind(null,J),z._reactRetry=w,w=null):(J=U.treeContext,R1=T2(z.nextSibling),g1=w,F0=!0,P2=null,o2=!1,J!==null&&(Z2[j2++]=R5,Z2[j2++]=D5,Z2[j2++]=G8,R5=J.id,D5=J.overflow,G8=w),w=QX(w,Y.children),w.flags|=4096);return w}if(X)return q6(w),X=Y.fallback,z=w.mode,U=J.child,W=U.sibling,Y=B6(U,{mode:"hidden",children:Y.children}),Y.subtreeFlags=U.subtreeFlags&31457280,W!==null?X=B6(W,X):(X=X8(X,z,G,null),X.flags|=2),X.return=w,Y.return=w,Y.sibling=X,w.child=Y,Y=X,X=w.child,z=J.child.memoizedState,z===null?z=LY(G):(U=z.cachePool,U!==null?(W=Z1._currentValue,U=U.parent!==W?{parent:W,pool:W}:U):U=yH(),z={baseLanes:z.baseLanes|G,cachePool:U}),X.memoizedState=z,X.childLanes=$Y(J,q,G),w.memoizedState=KY,Y;return Q6(w),G=J.child,J=G.sibling,G=B6(G,{mode:"visible",children:Y.children}),G.return=w,G.sibling=null,J!==null&&(q=w.deletions,q===null?(w.deletions=[J],w.flags|=16):q.push(J)),w.child=G,w.memoizedState=null,G}function QX(J,w){return w=qX({mode:"visible",children:w},J.mode),w.return=J,J.child=w}function qX(J,w){return pV(J,w,0,null)}function AY(J,w,G){return W8(w,J.child,null,G),J=QX(w,w.pendingProps.children),J.flags|=2,w.memoizedState=null,J}function xU(J,w,G){J.lanes|=w;var Y=J.alternate;Y!==null&&(Y.lanes|=w),WX(J.return,w,G)}function OY(J,w,G,Y,X){var Q=J.memoizedState;Q===null?J.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:Y,tail:G,tailMode:X}:(Q.isBackwards=w,Q.rendering=null,Q.renderingStartTime=0,Q.last=Y,Q.tail=G,Q.tailMode=X)}function FV(J,w,G){var Y=w.pendingProps,X=Y.revealOrder,Q=Y.tail;if(O1(J,w,Y.children,G),Y=j1.current,(Y&2)!==0)Y=Y&1|2,w.flags|=128;else{if(J!==null&&(J.flags&128)!==0)J:for(J=w.child;J!==null;){if(J.tag===13)J.memoizedState!==null&&xU(J,G,w);else if(J.tag===19)xU(J,G,w);else if(J.child!==null){J.child.return=J,J=J.child;continue}if(J===w)break J;for(;J.sibling===null;){if(J.return===null||J.return===w)break J;J=J.return}J.sibling.return=J.return,J=J.sibling}Y&=1}switch(l0(j1,Y),X){case"forwards":G=w.child;for(X=null;G!==null;)J=G.alternate,J!==null&&PJ(J)===null&&(X=G),G=G.sibling;G=X,G===null?(X=w.child,w.child=null):(X=G.sibling,G.sibling=null),OY(w,!1,X,G,Q);break;case"backwards":G=null,X=w.child;for(w.child=null;X!==null;){if(J=X.alternate,J!==null&&PJ(J)===null){w.child=X;break}J=X.sibling,X.sibling=G,G=X,X=J}OY(w,!0,G,null,Q);break;case"together":OY(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function P5(J,w,G){if(J!==null&&(w.dependencies=J.dependencies),R6|=w.lanes,(G&w.childLanes)===0)if(J!==null){if(m4(J,w,G,!1),(G&w.childLanes)===0)return null}else return null;if(J!==null&&w.child!==J.child)throw Error(r(153));if(w.child!==null){J=w.child,G=B6(J,J.pendingProps),w.child=G;for(G.return=w;J.sibling!==null;)J=J.sibling,G=G.sibling=B6(J,J.pendingProps),G.return=w;G.sibling=null}return w.child}function QQ(J,w){if((J.lanes&w)!==0)return!0;return J=J.dependencies,J!==null&&fJ(J)?!0:!1}function EA(J,w,G){switch(w.tag){case 3:AJ(w,w.stateNode.containerInfo),z6(w,Z1,J.memoizedState.cache),v4();break;case 27:case 5:mY(w);break;case 4:AJ(w,w.stateNode.containerInfo);break;case 10:z6(w,w.type,w.memoizedProps.value);break;case 13:var Y=w.memoizedState;if(Y!==null){if(Y.dehydrated!==null)return Q6(w),w.flags|=128,null;if((G&w.child.childLanes)!==0)return DV(J,w,G);return Q6(w),J=P5(J,w,G),J!==null?J.sibling:null}Q6(w);break;case 19:var X=(J.flags&128)!==0;if(Y=(G&w.childLanes)!==0,Y||(m4(J,w,G,!1),Y=(G&w.childLanes)!==0),X){if(Y)return FV(J,w,G);w.flags|=128}if(X=w.memoizedState,X!==null&&(X.rendering=null,X.tail=null,X.lastEffect=null),l0(j1,j1.current),Y)break;else return null;case 22:case 23:return w.lanes=0,RV(J,w,G);case 24:z6(w,Z1,J.memoizedState.cache)}return P5(J,w,G)}function IV(J,w,G){if(J!==null)if(J.memoizedProps!==w.pendingProps)$1=!0;else{if(!QQ(J,G)&&(w.flags&128)===0)return $1=!1,EA(J,w,G);$1=(J.flags&131072)!==0?!0:!1}else $1=!1,F0&&(w.flags&1048576)!==0&&TH(w,CJ,w.index);switch(w.lanes=0,w.tag){case 16:J:{J=w.pendingProps;var Y=w.elementType,X=Y._init;if(Y=X(Y._payload),w.type=Y,typeof Y==="function")UQ(Y)?(J=H8(Y,J),w.tag=1,w=BU(null,w,Y,J,G)):(w.tag=0,w=XX(null,w,Y,J,G));else{if(Y!==void 0&&Y!==null){if(X=Y.$$typeof,X===TX){w.tag=11,w=HU(null,w,Y,J,G);break J}else if(X===SX){w.tag=14,w=VU(null,w,Y,J,G);break J}}throw w=_Y(Y)||Y,Error(r(306,w,""))}}return w;case 0:return XX(J,w,w.type,w.pendingProps,G);case 1:return Y=w.type,X=H8(Y,w.pendingProps),BU(J,w,Y,X,G);case 3:J:{if(AJ(w,w.stateNode.containerInfo),J===null)throw Error(r(387));var Q=w.pendingProps;X=w.memoizedState,Y=X.element,HX(J,w),j4(w,Q,null,G);var q=w.memoizedState;if(Q=q.cache,z6(w,Z1,Q),Q!==X.cache&&UX(w,[Z1],G,!0),Z4(),Q=q.element,X.isDehydrated)if(X={element:Q,isDehydrated:!1,cache:q.cache},w.updateQueue.baseState=X,w.memoizedState=X,w.flags&256){w=MU(J,w,Q,G);break J}else if(Q!==Y){Y=M2(Error(r(424)),w),D4(Y),w=MU(J,w,Q,G);break J}else for(R1=T2(w.stateNode.containerInfo.firstChild),g1=w,F0=!0,P2=null,o2=!0,G=fH(w,null,Q,G),w.child=G;G;)G.flags=G.flags&-3|4096,G=G.sibling;else{if(v4(),Q===Y){w=P5(J,w,G);break J}O1(J,w,Q,G)}w=w.child}return w;case 26:return H4(J,w),J===null?(G=fU(w.type,null,w.pendingProps,null))?w.memoizedState=G:F0||(G=w.type,J=w.pendingProps,Y=dJ(V6.current).createElement(G),Y[C1]=w,Y[d1]=J,D1(Y,G,J),L1(Y),w.stateNode=Y):w.memoizedState=fU(w.type,J.memoizedProps,w.pendingProps,J.memoizedState),null;case 27:return mY(w),J===null&&F0&&(Y=w.stateNode=UZ(w.type,w.pendingProps,V6.current),g1=w,o2=!0,R1=T2(Y.firstChild)),Y=w.pendingProps.children,J!==null||F0?O1(J,w,Y,G):w.child=W8(w,null,Y,G),H4(J,w),w.child;case 5:if(J===null&&F0){if(X=Y=R1)Y=UO(Y,w.type,w.pendingProps,o2),Y!==null?(w.stateNode=Y,g1=w,R1=T2(Y.firstChild),o2=!1,X=!0):X=!1;X||z8(w)}return mY(w),X=w.type,Q=w.pendingProps,q=J!==null?J.memoizedProps:null,Y=Q.children,IX(X,Q)?Y=null:q!==null&&IX(X,q)&&(w.flags|=32),w.memoizedState!==null&&(X=aX(J,w,NA,null,null,G),P4._currentValue=X),H4(J,w),O1(J,w,Y,G),w.child;case 6:if(J===null&&F0){if(J=G=R1)G=HO(G,w.pendingProps,o2),G!==null?(w.stateNode=G,g1=w,R1=null,J=!0):J=!1;J||z8(w)}return null;case 13:return DV(J,w,G);case 4:return AJ(w,w.stateNode.containerInfo),Y=w.pendingProps,J===null?w.child=W8(w,null,Y,G):O1(J,w,Y,G),w.child;case 11:return HU(J,w,w.type,w.pendingProps,G);case 7:return O1(J,w,w.pendingProps,G),w.child;case 8:return O1(J,w,w.pendingProps.children,G),w.child;case 12:return O1(J,w,w.pendingProps.children,G),w.child;case 10:return Y=w.pendingProps,z6(w,w.type,Y.value),O1(J,w,Y.children,G),w.child;case 9:return X=w.type._context,Y=w.pendingProps.children,V8(w),X=N1(X),Y=Y(X),w.flags|=1,O1(J,w,Y,G),w.child;case 14:return VU(J,w,w.type,w.pendingProps,G);case 15:return OV(J,w,w.type,w.pendingProps,G);case 19:return FV(J,w,G);case 22:return RV(J,w,G);case 24:return V8(w),Y=N1(Z1),J===null?(X=oX(),X===null&&(X=_0,Q=pX(),X.pooledCache=Q,Q.refCount++,Q!==null&&(X.pooledCacheLanes|=G),X=Q),w.memoizedState={parent:Y,cache:X},qQ(w),z6(w,Z1,X)):((J.lanes&G)!==0&&(HX(J,w),j4(w,null,null,G),Z4()),X=J.memoizedState,Q=w.memoizedState,X.parent!==Y?(X={parent:Y,cache:Y},w.memoizedState=X,w.lanes===0&&(w.memoizedState=w.updateQueue.baseState=X),z6(w,Z1,Y)):(Y=Q.cache,z6(w,Z1,Y),Y!==X.cache&&UX(w,[Z1],G,!0))),O1(J,w,w.pendingProps.children,G),w.child;case 29:throw w.pendingProps}throw Error(r(156,w.tag))}var zX=e2(null),K8=null,I5=null;function z6(J,w,G){l0(zX,w._currentValue),w._currentValue=G}function k5(J){J._currentValue=zX.current,A1(zX)}function WX(J,w,G){for(;J!==null;){var Y=J.alternate;if((J.childLanes&w)!==w?(J.childLanes|=w,Y!==null&&(Y.childLanes|=w)):Y!==null&&(Y.childLanes&w)!==w&&(Y.childLanes|=w),J===G)break;J=J.return}}function UX(J,w,G,Y){var X=J.child;X!==null&&(X.return=J);for(;X!==null;){var Q=X.dependencies;if(Q!==null){var q=X.child;Q=Q.firstContext;J:for(;Q!==null;){var z=Q;Q=X;for(var U=0;U<w.length;U++)if(z.context===w[U]){Q.lanes|=G,z=Q.alternate,z!==null&&(z.lanes|=G),WX(Q.return,G,J),Y||(q=null);break J}Q=z.next}}else if(X.tag===18){if(q=X.return,q===null)throw Error(r(341));q.lanes|=G,Q=q.alternate,Q!==null&&(Q.lanes|=G),WX(q,G,J),q=null}else q=X.child;if(q!==null)q.return=X;else for(q=X;q!==null;){if(q===J){q=null;break}if(X=q.sibling,X!==null){X.return=q.return,q=X;break}q=q.return}X=q}}function m4(J,w,G,Y){J=null;for(var X=w,Q=!1;X!==null;){if(!Q){if((X.flags&524288)!==0)Q=!0;else if((X.flags&262144)!==0)break}if(X.tag===10){var q=X.alternate;if(q===null)throw Error(r(387));if(q=q.memoizedProps,q!==null){var z=X.type;w2(X.pendingProps.value,q.value)||(J!==null?J.push(z):J=[z])}}else if(X===$J.current){if(q=X.alternate,q===null)throw Error(r(387));q.memoizedState.memoizedState!==X.memoizedState.memoizedState&&(J!==null?J.push(P4):J=[P4])}X=X.return}J!==null&&UX(w,J,G,Y),w.flags|=262144}function fJ(J){for(J=J.firstContext;J!==null;){if(!w2(J.context._currentValue,J.memoizedValue))return!0;J=J.next}return!1}function V8(J){K8=J,I5=null,J=J.dependencies,J!==null&&(J.firstContext=null)}function N1(J){return kV(K8,J)}function JJ(J,w){return K8===null&&V8(J),kV(J,w)}function kV(J,w){var G=w._currentValue;if(w={context:w,memoizedValue:G,next:null},I5===null){if(J===null)throw Error(r(308));I5=w,J.dependencies={lanes:0,firstContext:w},J.flags|=524288}else I5=I5.next=w;return G}var X6=!1;function qQ(J){J.updateQueue={baseState:J.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function HX(J,w){J=J.updateQueue,w.updateQueue===J&&(w.updateQueue={baseState:J.baseState,firstBaseUpdate:J.firstBaseUpdate,lastBaseUpdate:J.lastBaseUpdate,shared:J.shared,callbacks:null})}function Z6(J){return{lane:J,tag:0,payload:null,callback:null,next:null}}function j6(J,w,G){var Y=J.updateQueue;if(Y===null)return null;if(Y=Y.shared,(r0&2)!==0){var X=Y.pending;return X===null?w.next=w:(w.next=X.next,X.next=w),Y.pending=w,w=IJ(J),PH(J,null,G),w}return eJ(J,Y,w,G),IJ(J)}function V4(J,w,G){if(w=w.updateQueue,w!==null&&(w=w.shared,(G&4194176)!==0)){var Y=w.lanes;Y&=J.pendingLanes,G|=Y,w.lanes=G,GH(J,G)}}function RY(J,w){var{updateQueue:G,alternate:Y}=J;if(Y!==null&&(Y=Y.updateQueue,G===Y)){var X=null,Q=null;if(G=G.firstBaseUpdate,G!==null){do{var q={lane:G.lane,tag:G.tag,payload:G.payload,callback:null,next:null};Q===null?X=Q=q:Q=Q.next=q,G=G.next}while(G!==null);Q===null?X=Q=w:Q=Q.next=w}else X=Q=w;G={baseState:Y.baseState,firstBaseUpdate:X,lastBaseUpdate:Q,shared:Y.shared,callbacks:Y.callbacks},J.updateQueue=G;return}J=G.lastBaseUpdate,J===null?G.firstBaseUpdate=w:J.next=w,G.lastBaseUpdate=w}var VX=!1;function Z4(){if(VX){var J=K7;if(J!==null)throw J}}function j4(J,w,G,Y){VX=!1;var X=J.updateQueue;X6=!1;var{firstBaseUpdate:Q,lastBaseUpdate:q}=X,z=X.shared.pending;if(z!==null){X.shared.pending=null;var U=z,W=U.next;U.next=null,q===null?Q=W:q.next=W,q=U;var V=J.alternate;V!==null&&(V=V.updateQueue,z=V.lastBaseUpdate,z!==q&&(z===null?V.firstBaseUpdate=W:z.next=W,V.lastBaseUpdate=U))}if(Q!==null){var j=X.baseState;q=0,V=W=U=null,z=Q;do{var B=z.lane&-536870913,x=B!==z.lane;if(x?(O0&B)===B:(Y&B)===B){B!==0&&B===I7&&(VX=!0),V!==null&&(V=V.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});J:{var O=J,R=z;B=w;var F=G;switch(R.tag){case 1:if(O=R.payload,typeof O==="function"){j=O.call(F,j,B);break J}j=O;break J;case 3:O.flags=O.flags&-65537|128;case 0:if(O=R.payload,B=typeof O==="function"?O.call(F,j,B):O,B===null||B===void 0)break J;j=u0({},j,B);break J;case 2:X6=!0}}B=z.callback,B!==null&&(J.flags|=64,x&&(J.flags|=8192),x=X.callbacks,x===null?X.callbacks=[B]:x.push(B))}else x={lane:B,tag:z.tag,payload:z.payload,callback:z.callback,next:null},V===null?(W=V=x,U=j):V=V.next=x,q|=B;if(z=z.next,z===null)if(z=X.shared.pending,z===null)break;else x=z,z=x.next,x.next=null,X.lastBaseUpdate=x,X.shared.pending=null}while(1);V===null&&(U=j),X.baseState=U,X.firstBaseUpdate=W,X.lastBaseUpdate=V,Q===null&&(X.shared.lanes=0),R6|=q,J.lanes=q,J.memoizedState=j}}function CV(J,w){if(typeof J!=="function")throw Error(r(191,J));J.call(w)}function NV(J,w){var G=J.callbacks;if(G!==null)for(J.callbacks=null,J=0;J<G.length;J++)CV(G[J],w)}function d4(J,w){try{var G=w.updateQueue,Y=G!==null?G.lastEffect:null;if(Y!==null){var X=Y.next;G=X;do{if((G.tag&J)===J){Y=void 0;var{create:Q,inst:q}=G;Y=Q(),q.destroy=Y}G=G.next}while(G!==X)}}catch(z){f0(w,w.return,z)}}function O6(J,w,G){try{var Y=w.updateQueue,X=Y!==null?Y.lastEffect:null;if(X!==null){var Q=X.next;Y=Q;do{if((Y.tag&J)===J){var q=Y.inst,z=q.destroy;if(z!==void 0){q.destroy=void 0,X=w;var U=G;try{z()}catch(W){f0(X,U,W)}}}Y=Y.next}while(Y!==Q)}}catch(W){f0(w,w.return,W)}}function PV(J){var w=J.updateQueue;if(w!==null){var G=J.stateNode;try{NV(w,G)}catch(Y){f0(J,J.return,Y)}}}function TV(J,w,G){G.props=H8(J.type,J.memoizedProps),G.state=J.memoizedState;try{G.componentWillUnmount()}catch(Y){f0(J,w,Y)}}function J8(J,w){try{var G=J.ref;if(G!==null){var Y=J.stateNode;switch(J.tag){case 26:case 27:case 5:var X=Y;break;default:X=Y}typeof G==="function"?J.refCleanup=G(X):G.current=X}}catch(Q){f0(J,w,Q)}}function s1(J,w){var{ref:G,refCleanup:Y}=J;if(G!==null)if(typeof Y==="function")try{Y()}catch(X){f0(J,w,X)}finally{J.refCleanup=null,J=J.alternate,J!=null&&(J.refCleanup=null)}else if(typeof G==="function")try{G(null)}catch(X){f0(J,w,X)}else G.current=null}function SV(J){var{type:w,memoizedProps:G,stateNode:Y}=J;try{J:switch(w){case"button":case"input":case"select":case"textarea":G.autoFocus&&Y.focus();break J;case"img":G.src?Y.src=G.src:G.srcSet&&(Y.srcset=G.srcSet)}}catch(X){f0(J,J.return,X)}}function KU(J,w,G){try{var Y=J.stateNode;XO(Y,J.type,G,w),Y[d1]=w}catch(X){f0(J,J.return,X)}}function gV(J){return J.tag===5||J.tag===3||J.tag===26||J.tag===27||J.tag===4}function DY(J){J:for(;;){for(;J.sibling===null;){if(J.return===null||gV(J.return))return null;J=J.return}J.sibling.return=J.return;for(J=J.sibling;J.tag!==5&&J.tag!==6&&J.tag!==27&&J.tag!==18;){if(J.flags&2)continue J;if(J.child===null||J.tag===4)continue J;else J.child.return=J,J=J.child}if(!(J.flags&2))return J.stateNode}}function ZX(J,w,G){var Y=J.tag;if(Y===5||Y===6)J=J.stateNode,w?G.nodeType===8?G.parentNode.insertBefore(J,w):G.insertBefore(J,w):(G.nodeType===8?(w=G.parentNode,w.insertBefore(J,G)):(w=G,w.appendChild(J)),G=G._reactRootContainer,G!==null&&G!==void 0||w.onclick!==null||(w.onclick=Qw));else if(Y!==4&&Y!==27&&(J=J.child,J!==null))for(ZX(J,w,G),J=J.sibling;J!==null;)ZX(J,w,G),J=J.sibling}function EJ(J,w,G){var Y=J.tag;if(Y===5||Y===6)J=J.stateNode,w?G.insertBefore(J,w):G.appendChild(J);else if(Y!==4&&Y!==27&&(J=J.child,J!==null))for(EJ(J,w,G),J=J.sibling;J!==null;)EJ(J,w,G),J=J.sibling}var L5=!1,t0=!1,FY=!1,LU=typeof WeakSet==="function"?WeakSet:Set,K1=null,$U=!1;function yA(J,w){if(J=J.containerInfo,DX=pJ,J=RH(J),hX(J)){if("selectionStart"in J)var G={start:J.selectionStart,end:J.selectionEnd};else J:{G=(G=J.ownerDocument)&&G.defaultView||window;var Y=G.getSelection&&G.getSelection();if(Y&&Y.rangeCount!==0){G=Y.anchorNode;var{anchorOffset:X,focusNode:Q}=Y;Y=Y.focusOffset;try{G.nodeType,Q.nodeType}catch(R){G=null;break J}var q=0,z=-1,U=-1,W=0,V=0,j=J,B=null;w:for(;;){for(var x;;){if(j!==G||X!==0&&j.nodeType!==3||(z=q+X),j!==Q||Y!==0&&j.nodeType!==3||(U=q+Y),j.nodeType===3&&(q+=j.nodeValue.length),(x=j.firstChild)===null)break;B=j,j=x}for(;;){if(j===J)break w;if(B===G&&++W===X&&(z=q),B===Q&&++V===Y&&(U=q),(x=j.nextSibling)!==null)break;j=B,B=j.parentNode}j=x}G=z===-1||U===-1?null:{start:z,end:U}}else G=null}G=G||{start:0,end:0}}else G=null;FX={focusedElem:J,selectionRange:G},pJ=!1;for(K1=w;K1!==null;)if(w=K1,J=w.child,(w.subtreeFlags&1028)!==0&&J!==null)J.return=w,K1=J;else for(;K1!==null;){switch(w=K1,Q=w.alternate,J=w.flags,w.tag){case 0:break;case 11:case 15:break;case 1:if((J&1024)!==0&&Q!==null){J=void 0,G=w,X=Q.memoizedProps,Q=Q.memoizedState,Y=G.stateNode;try{var O=H8(G.type,X,G.elementType===G.type);J=Y.getSnapshotBeforeUpdate(O,Q),Y.__reactInternalSnapshotBeforeUpdate=J}catch(R){f0(G,G.return,R)}}break;case 3:if((J&1024)!==0){if(J=w.stateNode.containerInfo,G=J.nodeType,G===9)kX(J);else if(G===1)switch(J.nodeName){case"HEAD":case"HTML":case"BODY":kX(J);break;default:J.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((J&1024)!==0)throw Error(r(163))}if(J=w.sibling,J!==null){J.return=w.return,K1=J;break}K1=w.return}return O=$U,$U=!1,O}function bV(J,w,G){var Y=G.flags;switch(G.tag){case 0:case 11:case 15:x5(J,G),Y&4&&d4(5,G);break;case 1:if(x5(J,G),Y&4)if(J=G.stateNode,w===null)try{J.componentDidMount()}catch(z){f0(G,G.return,z)}else{var X=H8(G.type,w.memoizedProps);w=w.memoizedState;try{J.componentDidUpdate(X,w,J.__reactInternalSnapshotBeforeUpdate)}catch(z){f0(G,G.return,z)}}Y&64&&PV(G),Y&512&&J8(G,G.return);break;case 3:if(x5(J,G),Y&64&&(Y=G.updateQueue,Y!==null)){if(J=null,G.child!==null)switch(G.child.tag){case 27:case 5:J=G.child.stateNode;break;case 1:J=G.child.stateNode}try{NV(Y,J)}catch(z){f0(G,G.return,z)}}break;case 26:x5(J,G),Y&512&&J8(G,G.return);break;case 27:case 5:x5(J,G),w===null&&Y&4&&SV(G),Y&512&&J8(G,G.return);break;case 12:x5(J,G);break;case 13:x5(J,G),Y&4&&yV(J,G);break;case 22:if(X=G.memoizedState!==null||L5,!X){w=w!==null&&w.memoizedState!==null||t0;var Q=L5,q=t0;L5=X,(t0=w)&&!q?G6(J,G,(G.subtreeFlags&8772)!==0):x5(J,G),L5=Q,t0=q}Y&512&&(G.memoizedProps.mode==="manual"?J8(G,G.return):s1(G,G.return));break;default:x5(J,G)}}function fV(J){var w=J.alternate;w!==null&&(J.alternate=null,fV(w)),J.child=null,J.deletions=null,J.sibling=null,J.tag===5&&(w=J.stateNode,w!==null&&bX(w)),J.stateNode=null,J.return=null,J.dependencies=null,J.memoizedProps=null,J.memoizedState=null,J.pendingProps=null,J.stateNode=null,J.updateQueue=null}var W1=null,n1=!1;function M5(J,w,G){for(G=G.child;G!==null;)EV(J,w,G),G=G.sibling}function EV(J,w,G){if(e1&&typeof e1.onCommitFiberUnmount==="function")try{e1.onCommitFiberUnmount(b4,G)}catch(q){}switch(G.tag){case 26:t0||s1(G,w),M5(J,w,G),G.memoizedState?G.memoizedState.count--:G.stateNode&&(G=G.stateNode,G.parentNode.removeChild(G));break;case 27:t0||s1(G,w);var Y=W1,X=n1;W1=G.stateNode,M5(J,w,G),G=G.stateNode;for(w=G.attributes;w.length;)G.removeAttributeNode(w[0]);bX(G),W1=Y,n1=X;break;case 5:t0||s1(G,w);case 6:X=W1;var Q=n1;if(W1=null,M5(J,w,G),W1=X,n1=Q,W1!==null)if(n1)try{J=W1,Y=G.stateNode,J.nodeType===8?J.parentNode.removeChild(Y):J.removeChild(Y)}catch(q){f0(G,w,q)}else try{W1.removeChild(G.stateNode)}catch(q){f0(G,w,q)}break;case 18:W1!==null&&(n1?(w=W1,G=G.stateNode,w.nodeType===8?fY(w.parentNode,G):w.nodeType===1&&fY(w,G),g4(w)):fY(W1,G.stateNode));break;case 4:Y=W1,X=n1,W1=G.stateNode.containerInfo,n1=!0,M5(J,w,G),W1=Y,n1=X;break;case 0:case 11:case 14:case 15:t0||O6(2,G,w),t0||O6(4,G,w),M5(J,w,G);break;case 1:t0||(s1(G,w),Y=G.stateNode,typeof Y.componentWillUnmount==="function"&&TV(G,w,Y)),M5(J,w,G);break;case 21:M5(J,w,G);break;case 22:t0||s1(G,w),t0=(Y=t0)||G.memoizedState!==null,M5(J,w,G),t0=Y;break;default:M5(J,w,G)}}function yV(J,w){if(w.memoizedState===null&&(J=w.alternate,J!==null&&(J=J.memoizedState,J!==null&&(J=J.dehydrated,J!==null))))try{g4(J)}catch(G){f0(w,w.return,G)}}function vA(J){switch(J.tag){case 13:case 19:var w=J.stateNode;return w===null&&(w=J.stateNode=new LU),w;case 22:return J=J.stateNode,w=J._retryCache,w===null&&(w=J._retryCache=new LU),w;default:throw Error(r(435,J.tag))}}function IY(J,w){var G=vA(J);w.forEach(function(Y){var X=rA.bind(null,J,Y);G.has(Y)||(G.add(Y),Y.then(X,X))})}function W2(J,w){var G=w.deletions;if(G!==null)for(var Y=0;Y<G.length;Y++){var X=G[Y],Q=J,q=w,z=q;J:for(;z!==null;){switch(z.tag){case 27:case 5:W1=z.stateNode,n1=!1;break J;case 3:W1=z.stateNode.containerInfo,n1=!0;break J;case 4:W1=z.stateNode.containerInfo,n1=!0;break J}z=z.return}if(W1===null)throw Error(r(160));EV(Q,q,X),W1=null,n1=!1,Q=X.alternate,Q!==null&&(Q.return=null),X.return=null}if(w.subtreeFlags&13878)for(w=w.child;w!==null;)vV(w,J),w=w.sibling}var N2=null;function vV(J,w){var{alternate:G,flags:Y}=J;switch(J.tag){case 0:case 11:case 14:case 15:W2(w,J),U2(J),Y&4&&(O6(3,J,J.return),d4(3,J),O6(5,J,J.return));break;case 1:W2(w,J),U2(J),Y&512&&(t0||G===null||s1(G,G.return)),Y&64&&L5&&(J=J.updateQueue,J!==null&&(Y=J.callbacks,Y!==null&&(G=J.shared.hiddenCallbacks,J.shared.hiddenCallbacks=G===null?Y:G.concat(Y))));break;case 26:var X=N2;if(W2(w,J),U2(J),Y&512&&(t0||G===null||s1(G,G.return)),Y&4){var Q=G!==null?G.memoizedState:null;if(Y=J.memoizedState,G===null)if(Y===null)if(J.stateNode===null){J:{Y=J.type,G=J.memoizedProps,X=X.ownerDocument||X;w:switch(Y){case"title":if(Q=X.getElementsByTagName("title")[0],!Q||Q[$4]||Q[C1]||Q.namespaceURI==="http://www.w3.org/2000/svg"||Q.hasAttribute("itemprop"))Q=X.createElement(Y),X.head.insertBefore(Q,X.querySelector("head > title"));D1(Q,Y,G),Q[C1]=J,L1(Q),Y=Q;break J;case"link":var q=yU("link","href",X).get(Y+(G.href||""));if(q){for(var z=0;z<q.length;z++)if(Q=q[z],Q.getAttribute("href")===(G.href==null?null:G.href)&&Q.getAttribute("rel")===(G.rel==null?null:G.rel)&&Q.getAttribute("title")===(G.title==null?null:G.title)&&Q.getAttribute("crossorigin")===(G.crossOrigin==null?null:G.crossOrigin)){q.splice(z,1);break w}}Q=X.createElement(Y),D1(Q,Y,G),X.head.appendChild(Q);break;case"meta":if(q=yU("meta","content",X).get(Y+(G.content||""))){for(z=0;z<q.length;z++)if(Q=q[z],Q.getAttribute("content")===(G.content==null?null:""+G.content)&&Q.getAttribute("name")===(G.name==null?null:G.name)&&Q.getAttribute("property")===(G.property==null?null:G.property)&&Q.getAttribute("http-equiv")===(G.httpEquiv==null?null:G.httpEquiv)&&Q.getAttribute("charset")===(G.charSet==null?null:G.charSet)){q.splice(z,1);break w}}Q=X.createElement(Y),D1(Q,Y,G),X.head.appendChild(Q);break;default:throw Error(r(468,Y))}Q[C1]=J,L1(Q),Y=Q}J.stateNode=Y}else vU(X,J.type,J.stateNode);else J.stateNode=EU(X,Y,J.memoizedProps);else Q!==Y?(Q===null?G.stateNode!==null&&(G=G.stateNode,G.parentNode.removeChild(G)):Q.count--,Y===null?vU(X,J.type,J.stateNode):EU(X,Y,J.memoizedProps)):Y===null&&J.stateNode!==null&&KU(J,J.memoizedProps,G.memoizedProps)}break;case 27:if(Y&4&&J.alternate===null){X=J.stateNode,Q=J.memoizedProps;try{for(var U=X.firstChild;U;){var{nextSibling:W,nodeName:V}=U;U[$4]||V==="HEAD"||V==="BODY"||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&U.rel.toLowerCase()==="stylesheet"||X.removeChild(U),U=W}for(var j=J.type,B=X.attributes;B.length;)X.removeAttributeNode(B[0]);D1(X,j,Q),X[C1]=J,X[d1]=Q}catch(O){f0(J,J.return,O)}}case 5:if(W2(w,J),U2(J),Y&512&&(t0||G===null||s1(G,G.return)),J.flags&32){X=J.stateNode;try{D7(X,"")}catch(O){f0(J,J.return,O)}}Y&4&&J.stateNode!=null&&(X=J.memoizedProps,KU(J,X,G!==null?G.memoizedProps:X)),Y&1024&&(FY=!0);break;case 6:if(W2(w,J),U2(J),Y&4){if(J.stateNode===null)throw Error(r(162));Y=J.memoizedProps,G=J.stateNode;try{G.nodeValue=Y}catch(O){f0(J,J.return,O)}}break;case 3:if(KJ=null,X=N2,N2=cJ(w.containerInfo),W2(w,J),N2=X,U2(J),Y&4&&G!==null&&G.memoizedState.isDehydrated)try{g4(w.containerInfo)}catch(O){f0(J,J.return,O)}FY&&(FY=!1,_V(J));break;case 4:Y=N2,N2=cJ(J.stateNode.containerInfo),W2(w,J),U2(J),N2=Y;break;case 12:W2(w,J),U2(J);break;case 13:W2(w,J),U2(J),J.child.flags&8192&&J.memoizedState!==null!==(G!==null&&G.memoizedState!==null)&&(ZQ=n2()),Y&4&&(Y=J.updateQueue,Y!==null&&(J.updateQueue=null,IY(J,Y)));break;case 22:if(Y&512&&(t0||G===null||s1(G,G.return)),U=J.memoizedState!==null,W=G!==null&&G.memoizedState!==null,V=L5,j=t0,L5=V||U,t0=j||W,W2(w,J),t0=j,L5=V,U2(J),w=J.stateNode,w._current=J,w._visibility&=-3,w._visibility|=w._pendingVisibility&2,Y&8192&&(w._visibility=U?w._visibility&-2:w._visibility|1,U&&(w=L5||t0,G===null||W||w||e8(J)),J.memoizedProps===null||J.memoizedProps.mode!=="manual"))J:for(G=null,w=J;;){if(w.tag===5||w.tag===26||w.tag===27){if(G===null){W=G=w;try{if(X=W.stateNode,U)Q=X.style,typeof Q.setProperty==="function"?Q.setProperty("display","none","important"):Q.display="none";else{q=W.stateNode,z=W.memoizedProps.style;var x=z!==void 0&&z!==null&&z.hasOwnProperty("display")?z.display:null;q.style.display=x==null||typeof x==="boolean"?"":(""+x).trim()}}catch(O){f0(W,W.return,O)}}}else if(w.tag===6){if(G===null){W=w;try{W.stateNode.nodeValue=U?"":W.memoizedProps}catch(O){f0(W,W.return,O)}}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===J)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===J)break J;for(;w.sibling===null;){if(w.return===null||w.return===J)break J;G===w&&(G=null),w=w.return}G===w&&(G=null),w.sibling.return=w.return,w=w.sibling}Y&4&&(Y=J.updateQueue,Y!==null&&(G=Y.retryQueue,G!==null&&(Y.retryQueue=null,IY(J,G))));break;case 19:W2(w,J),U2(J),Y&4&&(Y=J.updateQueue,Y!==null&&(J.updateQueue=null,IY(J,Y)));break;case 21:break;default:W2(w,J),U2(J)}}function U2(J){var w=J.flags;if(w&2){try{if(J.tag!==27){J:{for(var G=J.return;G!==null;){if(gV(G)){var Y=G;break J}G=G.return}throw Error(r(160))}switch(Y.tag){case 27:var X=Y.stateNode,Q=DY(J);EJ(J,Q,X);break;case 5:var q=Y.stateNode;Y.flags&32&&(D7(q,""),Y.flags&=-33);var z=DY(J);EJ(J,z,q);break;case 3:case 4:var U=Y.stateNode.containerInfo,W=DY(J);ZX(J,W,U);break;default:throw Error(r(161))}}}catch(V){f0(J,J.return,V)}J.flags&=-3}w&4096&&(J.flags&=-4097)}function _V(J){if(J.subtreeFlags&1024)for(J=J.child;J!==null;){var w=J;_V(w),w.tag===5&&w.flags&1024&&w.stateNode.reset(),J=J.sibling}}function x5(J,w){if(w.subtreeFlags&8772)for(w=w.child;w!==null;)bV(J,w.alternate,w),w=w.sibling}function e8(J){for(J=J.child;J!==null;){var w=J;switch(w.tag){case 0:case 11:case 14:case 15:O6(4,w,w.return),e8(w);break;case 1:s1(w,w.return);var G=w.stateNode;typeof G.componentWillUnmount==="function"&&TV(w,w.return,G),e8(w);break;case 26:case 27:case 5:s1(w,w.return),e8(w);break;case 22:s1(w,w.return),w.memoizedState===null&&e8(w);break;default:e8(w)}J=J.sibling}}function G6(J,w,G){G=G&&(w.subtreeFlags&8772)!==0;for(w=w.child;w!==null;){var Y=w.alternate,X=J,Q=w,q=Q.flags;switch(Q.tag){case 0:case 11:case 15:G6(X,Q,G),d4(4,Q);break;case 1:if(G6(X,Q,G),Y=Q,X=Y.stateNode,typeof X.componentDidMount==="function")try{X.componentDidMount()}catch(W){f0(Y,Y.return,W)}if(Y=Q,X=Y.updateQueue,X!==null){var z=Y.stateNode;try{var U=X.shared.hiddenCallbacks;if(U!==null)for(X.shared.hiddenCallbacks=null,X=0;X<U.length;X++)CV(U[X],z)}catch(W){f0(Y,Y.return,W)}}G&&q&64&&PV(Q),J8(Q,Q.return);break;case 26:case 27:case 5:G6(X,Q,G),G&&Y===null&&q&4&&SV(Q),J8(Q,Q.return);break;case 12:G6(X,Q,G);break;case 13:G6(X,Q,G),G&&q&4&&yV(X,Q);break;case 22:Q.memoizedState===null&&G6(X,Q,G),J8(Q,Q.return);break;default:G6(X,Q,G)}w=w.sibling}}function zQ(J,w){var G=null;J!==null&&J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(G=J.memoizedState.cachePool.pool),J=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(J=w.memoizedState.cachePool.pool),J!==G&&(J!=null&&J.refCount++,G!=null&&_4(G))}function WQ(J,w){J=null,w.alternate!==null&&(J=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==J&&(w.refCount++,J!=null&&_4(J))}function w6(J,w,G,Y){if(w.subtreeFlags&10256)for(w=w.child;w!==null;)hV(J,w,G,Y),w=w.sibling}function hV(J,w,G,Y){var X=w.flags;switch(w.tag){case 0:case 11:case 15:w6(J,w,G,Y),X&2048&&d4(9,w);break;case 3:w6(J,w,G,Y),X&2048&&(J=null,w.alternate!==null&&(J=w.alternate.memoizedState.cache),w=w.memoizedState.cache,w!==J&&(w.refCount++,J!=null&&_4(J)));break;case 12:if(X&2048){w6(J,w,G,Y),J=w.stateNode;try{var Q=w.memoizedProps,q=Q.id,z=Q.onPostCommit;typeof z==="function"&&z(q,w.alternate===null?"mount":"update",J.passiveEffectDuration,-0)}catch(U){f0(w,w.return,U)}}else w6(J,w,G,Y);break;case 23:break;case 22:Q=w.stateNode,w.memoizedState!==null?Q._visibility&4?w6(J,w,G,Y):B4(J,w):Q._visibility&4?w6(J,w,G,Y):(Q._visibility|=4,t8(J,w,G,Y,(w.subtreeFlags&10256)!==0)),X&2048&&zQ(w.alternate,w);break;case 24:w6(J,w,G,Y),X&2048&&WQ(w.alternate,w);break;default:w6(J,w,G,Y)}}function t8(J,w,G,Y,X){X=X&&(w.subtreeFlags&10256)!==0;for(w=w.child;w!==null;){var Q=J,q=w,z=G,U=Y,W=q.flags;switch(q.tag){case 0:case 11:case 15:t8(Q,q,z,U,X),d4(8,q);break;case 23:break;case 22:var V=q.stateNode;q.memoizedState!==null?V._visibility&4?t8(Q,q,z,U,X):B4(Q,q):(V._visibility|=4,t8(Q,q,z,U,X)),X&&W&2048&&zQ(q.alternate,q);break;case 24:t8(Q,q,z,U,X),X&&W&2048&&WQ(q.alternate,q);break;default:t8(Q,q,z,U,X)}w=w.sibling}}function B4(J,w){if(w.subtreeFlags&10256)for(w=w.child;w!==null;){var G=J,Y=w,X=Y.flags;switch(Y.tag){case 22:B4(G,Y),X&2048&&zQ(Y.alternate,Y);break;case 24:B4(G,Y),X&2048&&WQ(Y.alternate,Y);break;default:B4(G,Y)}w=w.sibling}}var J4=8192;function r8(J){if(J.subtreeFlags&J4)for(J=J.child;J!==null;)mV(J),J=J.sibling}function mV(J){switch(J.tag){case 26:r8(J),J.flags&J4&&J.memoizedState!==null&&DO(N2,J.memoizedState,J.memoizedProps);break;case 5:r8(J);break;case 3:case 4:var w=N2;N2=cJ(J.stateNode.containerInfo),r8(J),N2=w;break;case 22:J.memoizedState===null&&(w=J.alternate,w!==null&&w.memoizedState!==null?(w=J4,J4=16777216,r8(J),J4=w):r8(J));break;default:r8(J)}}function dV(J){var w=J.alternate;if(w!==null&&(J=w.child,J!==null)){w.child=null;do w=J.sibling,J.sibling=null,J=w;while(J!==null)}}function p9(J){var w=J.deletions;if((J.flags&16)!==0){if(w!==null)for(var G=0;G<w.length;G++){var Y=w[G];K1=Y,uV(Y,J)}dV(J)}if(J.subtreeFlags&10256)for(J=J.child;J!==null;)cV(J),J=J.sibling}function cV(J){switch(J.tag){case 0:case 11:case 15:p9(J),J.flags&2048&&O6(9,J,J.return);break;case 3:p9(J);break;case 12:p9(J);break;case 22:var w=J.stateNode;J.memoizedState!==null&&w._visibility&4&&(J.return===null||J.return.tag!==13)?(w._visibility&=-5,BJ(J)):p9(J);break;default:p9(J)}}function BJ(J){var w=J.deletions;if((J.flags&16)!==0){if(w!==null)for(var G=0;G<w.length;G++){var Y=w[G];K1=Y,uV(Y,J)}dV(J)}for(J=J.child;J!==null;){switch(w=J,w.tag){case 0:case 11:case 15:O6(8,w,w.return),BJ(w);break;case 22:G=w.stateNode,G._visibility&4&&(G._visibility&=-5,BJ(w));break;default:BJ(w)}J=J.sibling}}function uV(J,w){for(;K1!==null;){var G=K1;switch(G.tag){case 0:case 11:case 15:O6(8,G,w);break;case 23:case 22:if(G.memoizedState!==null&&G.memoizedState.cachePool!==null){var Y=G.memoizedState.cachePool.pool;Y!=null&&Y.refCount++}break;case 24:_4(G.memoizedState.cache)}if(Y=G.child,Y!==null)Y.return=G,K1=Y;else J:for(G=J;K1!==null;){Y=K1;var{sibling:X,return:Q}=Y;if(fV(Y),Y===G){K1=null;break J}if(X!==null){X.return=Q,K1=X;break J}K1=Q}}}function _A(J,w,G,Y){this.tag=J,this.key=G,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function x2(J,w,G,Y){return new _A(J,w,G,Y)}function UQ(J){return J=J.prototype,!(!J||!J.isReactComponent)}function B6(J,w){var G=J.alternate;return G===null?(G=x2(J.tag,w,J.key,J.mode),G.elementType=J.elementType,G.type=J.type,G.stateNode=J.stateNode,G.alternate=J,J.alternate=G):(G.pendingProps=w,G.type=J.type,G.flags=0,G.subtreeFlags=0,G.deletions=null),G.flags=J.flags&31457280,G.childLanes=J.childLanes,G.lanes=J.lanes,G.child=J.child,G.memoizedProps=J.memoizedProps,G.memoizedState=J.memoizedState,G.updateQueue=J.updateQueue,w=J.dependencies,G.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},G.sibling=J.sibling,G.index=J.index,G.ref=J.ref,G.refCleanup=J.refCleanup,G}function lV(J,w){J.flags&=31457282;var G=J.alternate;return G===null?(J.childLanes=0,J.lanes=w,J.child=null,J.subtreeFlags=0,J.memoizedProps=null,J.memoizedState=null,J.updateQueue=null,J.dependencies=null,J.stateNode=null):(J.childLanes=G.childLanes,J.lanes=G.lanes,J.child=G.child,J.subtreeFlags=0,J.deletions=null,J.memoizedProps=G.memoizedProps,J.memoizedState=G.memoizedState,J.updateQueue=G.updateQueue,J.type=G.type,w=G.dependencies,J.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext}),J}function MJ(J,w,G,Y,X,Q){var q=0;if(Y=J,typeof J==="function")UQ(J)&&(q=1);else if(typeof J==="string")q=OO(J,G,a2.current)?26:J==="html"||J==="head"||J==="body"?27:5;else J:switch(J){case G7:return X8(G.children,X,Q,w);case pU:q=8,X|=24;break;case EY:return J=x2(12,G,w,X|2),J.elementType=EY,J.lanes=Q,J;case yY:return J=x2(13,G,w,X),J.elementType=yY,J.lanes=Q,J;case vY:return J=x2(19,G,w,X),J.elementType=vY,J.lanes=Q,J;case iU:return pV(G,X,Q,w);default:if(typeof J==="object"&&J!==null)switch(J.$$typeof){case U$:case O5:q=10;break J;case oU:q=9;break J;case TX:q=11;break J;case SX:q=14;break J;case Y6:q=16,Y=null;break J}q=29,G=Error(r(130,J===null?"null":typeof J,"")),Y=null}return w=x2(q,G,w,X),w.elementType=J,w.type=Y,w.lanes=Q,w}function X8(J,w,G,Y){return J=x2(7,J,Y,w),J.lanes=G,J}function pV(J,w,G,Y){J=x2(22,J,Y,w),J.elementType=iU,J.lanes=G;var X={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var Q=X._current;if(Q===null)throw Error(r(456));if((X._pendingVisibility&2)===0){var q=$6(Q,2);q!==null&&(X._pendingVisibility|=2,b1(q,Q,2))}},attach:function(){var Q=X._current;if(Q===null)throw Error(r(456));if((X._pendingVisibility&2)!==0){var q=$6(Q,2);q!==null&&(X._pendingVisibility&=-3,b1(q,Q,2))}}};return J.stateNode=X,J}function kY(J,w,G){return J=x2(6,J,null,w),J.lanes=G,J}function CY(J,w,G){return w=x2(4,J.children!==null?J.children:[],J.key,w),w.lanes=G,w.stateNode={containerInfo:J.containerInfo,pendingChildren:null,implementation:J.implementation},w}function K5(J){J.flags|=4}function AU(J,w){if(w.type!=="stylesheet"||(w.state.loading&4)!==0)J.flags&=-16777217;else if(J.flags|=16777216,!ZZ(w)){if(w=L2.current,w!==null&&((O0&4194176)===O0?r2!==null:(O0&62914560)!==O0&&(O0&536870912)===0||w!==r2))throw z4=rY,SH;J.flags|=8192}}function wJ(J,w){w!==null&&(J.flags|=4),J.flags&16384&&(w=J.tag!==22?JH():536870912,J.lanes|=w,C7|=w)}function o9(J,w){if(!F0)switch(J.tailMode){case"hidden":w=J.tail;for(var G=null;w!==null;)w.alternate!==null&&(G=w),w=w.sibling;G===null?J.tail=null:G.sibling=null;break;case"collapsed":G=J.tail;for(var Y=null;G!==null;)G.alternate!==null&&(Y=G),G=G.sibling;Y===null?w||J.tail===null?J.tail=null:J.tail.sibling=null:Y.sibling=null}}function n0(J){var w=J.alternate!==null&&J.alternate.child===J.child,G=0,Y=0;if(w)for(var X=J.child;X!==null;)G|=X.lanes|X.childLanes,Y|=X.subtreeFlags&31457280,Y|=X.flags&31457280,X.return=J,X=X.sibling;else for(X=J.child;X!==null;)G|=X.lanes|X.childLanes,Y|=X.subtreeFlags,Y|=X.flags,X.return=J,X=X.sibling;return J.subtreeFlags|=Y,J.childLanes=G,w}function hA(J,w,G){var Y=w.pendingProps;switch(uX(w),w.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return n0(w),null;case 1:return n0(w),null;case 3:if(G=w.stateNode,Y=null,J!==null&&(Y=J.memoizedState.cache),w.memoizedState.cache!==Y&&(w.flags|=2048),k5(Z1),O7(),G.pendingContext&&(G.context=G.pendingContext,G.pendingContext=null),J===null||J.child===null)u9(w)?K5(w):J===null||J.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,P2!==null&&(KX(P2),P2=null));return n0(w),null;case 26:return G=w.memoizedState,J===null?(K5(w),G!==null?(n0(w),AU(w,G)):(n0(w),w.flags&=-16777217)):G?G!==J.memoizedState?(K5(w),n0(w),AU(w,G)):(n0(w),w.flags&=-16777217):(J.memoizedProps!==Y&&K5(w),n0(w),w.flags&=-16777217),null;case 27:OJ(w),G=V6.current;var X=w.type;if(J!==null&&w.stateNode!=null)J.memoizedProps!==Y&&K5(w);else{if(!Y){if(w.stateNode===null)throw Error(r(166));return n0(w),null}J=a2.current,u9(w)?rW(w,J):(J=UZ(X,Y,G),w.stateNode=J,K5(w))}return n0(w),null;case 5:if(OJ(w),G=w.type,J!==null&&w.stateNode!=null)J.memoizedProps!==Y&&K5(w);else{if(!Y){if(w.stateNode===null)throw Error(r(166));return n0(w),null}if(J=a2.current,u9(w))rW(w,J);else{switch(X=dJ(V6.current),J){case 1:J=X.createElementNS("http://www.w3.org/2000/svg",G);break;case 2:J=X.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;default:switch(G){case"svg":J=X.createElementNS("http://www.w3.org/2000/svg",G);break;case"math":J=X.createElementNS("http://www.w3.org/1998/Math/MathML",G);break;case"script":J=X.createElement("div"),J.innerHTML="<script></script>",J=J.removeChild(J.firstChild);break;case"select":J=typeof Y.is==="string"?X.createElement("select",{is:Y.is}):X.createElement("select"),Y.multiple?J.multiple=!0:Y.size&&(J.size=Y.size);break;default:J=typeof Y.is==="string"?X.createElement(G,{is:Y.is}):X.createElement(G)}}J[C1]=w,J[d1]=Y;J:for(X=w.child;X!==null;){if(X.tag===5||X.tag===6)J.appendChild(X.stateNode);else if(X.tag!==4&&X.tag!==27&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===w)break J;for(;X.sibling===null;){if(X.return===null||X.return===w)break J;X=X.return}X.sibling.return=X.return,X=X.sibling}w.stateNode=J;J:switch(D1(J,G,Y),G){case"button":case"input":case"select":case"textarea":J=!!Y.autoFocus;break J;case"img":J=!0;break J;default:J=!1}J&&K5(w)}}return n0(w),w.flags&=-16777217,null;case 6:if(J&&w.stateNode!=null)J.memoizedProps!==Y&&K5(w);else{if(typeof Y!=="string"&&w.stateNode===null)throw Error(r(166));if(J=V6.current,u9(w)){if(J=w.stateNode,G=w.memoizedProps,Y=null,X=g1,X!==null)switch(X.tag){case 27:case 5:Y=X.memoizedProps}J[C1]=w,J=J.nodeValue===G||Y!==null&&Y.suppressHydrationWarning===!0||qZ(J.nodeValue,G)?!0:!1,J||z8(w)}else J=dJ(J).createTextNode(Y),J[C1]=w,w.stateNode=J}return n0(w),null;case 13:if(Y=w.memoizedState,J===null||J.memoizedState!==null&&J.memoizedState.dehydrated!==null){if(X=u9(w),Y!==null&&Y.dehydrated!==null){if(J===null){if(!X)throw Error(r(318));if(X=w.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(r(317));X[C1]=w}else v4(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;n0(w),X=!1}else P2!==null&&(KX(P2),P2=null),X=!0;if(!X){if(w.flags&256)return F5(w),w;return F5(w),null}}if(F5(w),(w.flags&128)!==0)return w.lanes=G,w;if(G=Y!==null,J=J!==null&&J.memoizedState!==null,G){Y=w.child,X=null,Y.alternate!==null&&Y.alternate.memoizedState!==null&&Y.alternate.memoizedState.cachePool!==null&&(X=Y.alternate.memoizedState.cachePool.pool);var Q=null;Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&(Q=Y.memoizedState.cachePool.pool),Q!==X&&(Y.flags|=2048)}return G!==J&&G&&(w.child.flags|=8192),wJ(w,w.updateQueue),n0(w),null;case 4:return O7(),J===null&&MQ(w.stateNode.containerInfo),n0(w),null;case 10:return k5(w.type),n0(w),null;case 19:if(A1(j1),X=w.memoizedState,X===null)return n0(w),null;if(Y=(w.flags&128)!==0,Q=X.rendering,Q===null)if(Y)o9(X,!1);else{if(J1!==0||J!==null&&(J.flags&128)!==0)for(J=w.child;J!==null;){if(Q=PJ(J),Q!==null){w.flags|=128,o9(X,!1),J=Q.updateQueue,w.updateQueue=J,wJ(w,J),w.subtreeFlags=0,J=G;for(G=w.child;G!==null;)lV(G,J),G=G.sibling;return l0(j1,j1.current&1|2),w.child}J=J.sibling}X.tail!==null&&n2()>yJ&&(w.flags|=128,Y=!0,o9(X,!1),w.lanes=4194304)}else{if(!Y)if(J=PJ(Q),J!==null){if(w.flags|=128,Y=!0,J=J.updateQueue,w.updateQueue=J,wJ(w,J),o9(X,!0),X.tail===null&&X.tailMode==="hidden"&&!Q.alternate&&!F0)return n0(w),null}else 2*n2()-X.renderingStartTime>yJ&&G!==536870912&&(w.flags|=128,Y=!0,o9(X,!1),w.lanes=4194304);X.isBackwards?(Q.sibling=w.child,w.child=Q):(J=X.last,J!==null?J.sibling=Q:w.child=Q,X.last=Q)}if(X.tail!==null)return w=X.tail,X.rendering=w,X.tail=w.sibling,X.renderingStartTime=n2(),w.sibling=null,J=j1.current,l0(j1,Y?J&1|2:J&1),w;return n0(w),null;case 22:case 23:return F5(w),lX(),Y=w.memoizedState!==null,J!==null?J.memoizedState!==null!==Y&&(w.flags|=8192):Y&&(w.flags|=8192),Y?(G&536870912)!==0&&(w.flags&128)===0&&(n0(w),w.subtreeFlags&6&&(w.flags|=8192)):n0(w),G=w.updateQueue,G!==null&&wJ(w,G.retryQueue),G=null,J!==null&&J.memoizedState!==null&&J.memoizedState.cachePool!==null&&(G=J.memoizedState.cachePool.pool),Y=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(Y=w.memoizedState.cachePool.pool),Y!==G&&(w.flags|=2048),J!==null&&A1(Y8),null;case 24:return G=null,J!==null&&(G=J.memoizedState.cache),w.memoizedState.cache!==G&&(w.flags|=2048),k5(Z1),n0(w),null;case 25:return null}throw Error(r(156,w.tag))}function mA(J,w){switch(uX(w),w.tag){case 1:return J=w.flags,J&65536?(w.flags=J&-65537|128,w):null;case 3:return k5(Z1),O7(),J=w.flags,(J&65536)!==0&&(J&128)===0?(w.flags=J&-65537|128,w):null;case 26:case 27:case 5:return OJ(w),null;case 13:if(F5(w),J=w.memoizedState,J!==null&&J.dehydrated!==null){if(w.alternate===null)throw Error(r(340));v4()}return J=w.flags,J&65536?(w.flags=J&-65537|128,w):null;case 19:return A1(j1),null;case 4:return O7(),null;case 10:return k5(w.type),null;case 22:case 23:return F5(w),lX(),J!==null&&A1(Y8),J=w.flags,J&65536?(w.flags=J&-65537|128,w):null;case 24:return k5(Z1),null;case 25:return null;default:return null}}function oV(J,w){switch(uX(w),w.tag){case 3:k5(Z1),O7();break;case 26:case 27:case 5:OJ(w);break;case 4:O7();break;case 13:F5(w);break;case 19:A1(j1);break;case 10:k5(w.type);break;case 22:case 23:F5(w),lX(),J!==null&&A1(Y8);break;case 24:k5(Z1)}}var dA={getCacheForType:function(J){var w=N1(Z1),G=w.data.get(J);return G===void 0&&(G=J(),w.data.set(J,G)),G}},cA=typeof WeakMap==="function"?WeakMap:Map,r0=0,_0=null,B0=null,O0=0,v0=0,r1=null,$5=!1,b7=!1,HQ=!1,T5=0,J1=0,R6=0,Q8=0,VQ=0,K2=0,C7=0,M4=null,i2=null,jX=!1,ZQ=0,yJ=1/0,vJ=null,M6=null,GJ=!1,e6=null,x4=0,BX=0,MX=null,K4=0,xX=null;function J2(){if((r0&2)!==0&&O0!==0)return O0&-O0;if(U0.T!==null){var J=I7;return J!==0?J:BQ()}return XH()}function iV(){K2===0&&(K2=(O0&536870912)===0||F0?tU():536870912);var J=L2.current;return J!==null&&(J.flags|=32),K2}function b1(J,w,G){if(J===_0&&v0===2||J.cancelPendingCommit!==null)N7(J,0),A5(J,O0,K2,!1);if(E4(J,G),(r0&2)===0||J!==_0)J===_0&&((r0&2)===0&&(Q8|=G),J1===4&&A5(J,O0,K2,!1)),t2(J)}function aV(J,w,G){if((r0&6)!==0)throw Error(r(327));var Y=!G&&(w&60)===0&&(w&J.expiredLanes)===0||f4(J,w),X=Y?pA(J,w):NY(J,w,!0),Q=Y;do{if(X===0){b7&&!Y&&A5(J,w,0,!1);break}else if(X===6)A5(J,w,0,!$5);else{if(G=J.current.alternate,Q&&!uA(G)){X=NY(J,w,!1),Q=!1;continue}if(X===2){if(Q=w,J.errorRecoveryDisabledLanes&Q)var q=0;else q=J.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){w=q;J:{var z=J;X=M4;var U=z.current.memoizedState.isDehydrated;if(U&&(N7(z,q).flags|=256),q=NY(z,q,!1),q!==2){if(HQ&&!U){z.errorRecoveryDisabledLanes|=Q,Q8|=Q,X=4;break J}Q=i2,i2=X,Q!==null&&KX(Q)}X=q}if(Q=!1,X!==2)continue}}if(X===1){N7(J,0),A5(J,w,0,!0);break}J:{switch(Y=J,X){case 0:case 1:throw Error(r(345));case 4:if((w&4194176)===w){A5(Y,w,K2,!$5);break J}break;case 2:i2=null;break;case 3:case 5:break;default:throw Error(r(329))}if(Y.finishedWork=G,Y.finishedLanes=w,(w&62914560)===w&&(Q=ZQ+300-n2(),10<Q)){if(A5(Y,w,K2,!$5),iJ(Y,0)!==0)break J;Y.timeoutHandle=WZ(OU.bind(null,Y,G,i2,vJ,jX,w,K2,Q8,C7,$5,2,-0,0),Q);break J}OU(Y,G,i2,vJ,jX,w,K2,Q8,C7,$5,0,-0,0)}}break}while(1);t2(J)}function KX(J){i2===null?i2=J:i2.push.apply(i2,J)}function OU(J,w,G,Y,X,Q,q,z,U,W,V,j,B){var x=w.subtreeFlags;if(x&8192||(x&16785408)===16785408){if(N4={stylesheets:null,count:0,unsuspend:RO},mV(w),w=FO(),w!==null){J.cancelPendingCommit=w(DU.bind(null,J,G,Y,X,q,z,U,1,j,B)),A5(J,Q,q,!W);return}}DU(J,G,Y,X,q,z,U,V,j,B)}function uA(J){for(var w=J;;){var G=w.tag;if((G===0||G===11||G===15)&&w.flags&16384&&(G=w.updateQueue,G!==null&&(G=G.stores,G!==null)))for(var Y=0;Y<G.length;Y++){var X=G[Y],Q=X.getSnapshot;X=X.value;try{if(!w2(Q(),X))return!1}catch(q){return!1}}if(G=w.child,w.subtreeFlags&16384&&G!==null)G.return=w,w=G;else{if(w===J)break;for(;w.sibling===null;){if(w.return===null||w.return===J)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function A5(J,w,G,Y){w&=~VQ,w&=~Q8,J.suspendedLanes|=w,J.pingedLanes&=~w,Y&&(J.warmLanes|=w),Y=J.expirationTimes;for(var X=w;0<X;){var Q=31-t1(X),q=1<<Q;Y[Q]=-1,X&=~q}G!==0&&wH(J,G,w)}function Yw(){return(r0&6)===0?(c4(0,!1),!1):!0}function jQ(){if(B0!==null){if(v0===0)var J=B0.return;else J=B0,I5=K8=null,sX(J),x7=null,F4=0,J=B0;for(;J!==null;)oV(J.alternate,J),J=J.return;B0=null}}function N7(J,w){J.finishedWork=null,J.finishedLanes=0;var G=J.timeoutHandle;G!==-1&&(J.timeoutHandle=-1,qO(G)),G=J.cancelPendingCommit,G!==null&&(J.cancelPendingCommit=null,G()),jQ(),_0=J,B0=G=B6(J.current,null),O0=w,v0=0,r1=null,$5=!1,b7=f4(J,w),HQ=!1,C7=K2=VQ=Q8=R6=J1=0,i2=M4=null,jX=!1,(w&8)!==0&&(w|=w&32);var Y=J.entangledLanes;if(Y!==0)for(J=J.entanglements,Y&=w;0<Y;){var X=31-t1(Y),Q=1<<X;w|=J[X],Y&=~Q}return T5=w,sJ(),G}function nV(J,w){j0=null,U0.H=s2,w===q4?(w=tW(),v0=3):w===SH?(w=tW(),v0=4):v0=w===AV?8:w!==null&&typeof w==="object"&&typeof w.then==="function"?6:1,r1=w,B0===null&&(J1=1,bJ(J,M2(w,J.current)))}function rV(){var J=U0.H;return U0.H=s2,J===null?s2:J}function sV(){var J=U0.A;return U0.A=dA,J}function LX(){J1=4,$5||(O0&4194176)!==O0&&L2.current!==null||(b7=!0),(R6&134217727)===0&&(Q8&134217727)===0||_0===null||A5(_0,O0,K2,!1)}function NY(J,w,G){var Y=r0;r0|=2;var X=rV(),Q=sV();if(_0!==J||O0!==w)vJ=null,N7(J,w);w=!1;var q=J1;J:do try{if(v0!==0&&B0!==null){var z=B0,U=r1;switch(v0){case 8:jQ(),q=6;break J;case 3:case 2:case 6:L2.current===null&&(w=!0);var W=v0;if(v0=0,r1=null,Z7(J,z,U,W),G&&b7){q=0;break J}break;default:W=v0,v0=0,r1=null,Z7(J,z,U,W)}}lA(),q=J1;break}catch(V){nV(J,V)}while(1);return w&&J.shellSuspendCounter++,I5=K8=null,r0=Y,U0.H=X,U0.A=Q,B0===null&&(_0=null,O0=0,sJ()),q}function lA(){for(;B0!==null;)eV(B0)}function pA(J,w){var G=r0;r0|=2;var Y=rV(),X=sV();_0!==J||O0!==w?(vJ=null,yJ=n2()+500,N7(J,w)):b7=f4(J,w);J:do try{if(v0!==0&&B0!==null){w=B0;var Q=r1;w:switch(v0){case 1:v0=0,r1=null,Z7(J,w,Q,1);break;case 2:if(eW(Q)){v0=0,r1=null,RU(w);break}w=function(){v0===2&&_0===J&&(v0=7),t2(J)},Q.then(w,w);break J;case 3:v0=7;break J;case 4:v0=5;break J;case 7:eW(Q)?(v0=0,r1=null,RU(w)):(v0=0,r1=null,Z7(J,w,Q,7));break;case 5:var q=null;switch(B0.tag){case 26:q=B0.memoizedState;case 5:case 27:var z=B0;if(q?ZZ(q):1){v0=0,r1=null;var U=z.sibling;if(U!==null)B0=U;else{var W=z.return;W!==null?(B0=W,Xw(W)):B0=null}break w}}v0=0,r1=null,Z7(J,w,Q,5);break;case 6:v0=0,r1=null,Z7(J,w,Q,6);break;case 8:jQ(),J1=6;break J;default:throw Error(r(462))}}oA();break}catch(V){nV(J,V)}while(1);if(I5=K8=null,U0.H=Y,U0.A=X,r0=G,B0!==null)return 0;return _0=null,O0=0,sJ(),J1}function oA(){for(;B0!==null&&!B$();)eV(B0)}function eV(J){var w=IV(J.alternate,J,T5);J.memoizedProps=J.pendingProps,w===null?Xw(J):B0=w}function RU(J){var w=J,G=w.alternate;switch(w.tag){case 15:case 0:w=jU(G,w,w.pendingProps,w.type,void 0,O0);break;case 11:w=jU(G,w,w.pendingProps,w.type.render,w.ref,O0);break;case 5:sX(w);default:oV(G,w),w=B0=lV(w,T5),w=IV(G,w,T5)}J.memoizedProps=J.pendingProps,w===null?Xw(J):B0=w}function Z7(J,w,G,Y){I5=K8=null,sX(w),x7=null,F4=0;var X=w.return;try{if(fA(J,X,w,G,O0)){J1=1,bJ(J,M2(G,J.current)),B0=null;return}}catch(Q){if(X!==null)throw B0=X,Q;J1=1,bJ(J,M2(G,J.current)),B0=null;return}if(w.flags&32768){if(F0||Y===1)J=!0;else if(b7||(O0&536870912)!==0)J=!1;else if($5=J=!0,Y===2||Y===3||Y===6)Y=L2.current,Y!==null&&Y.tag===13&&(Y.flags|=16384);tV(w,J)}else Xw(w)}function Xw(J){var w=J;do{if((w.flags&32768)!==0){tV(w,$5);return}J=w.return;var G=hA(w.alternate,w,T5);if(G!==null){B0=G;return}if(w=w.sibling,w!==null){B0=w;return}B0=w=J}while(w!==null);J1===0&&(J1=5)}function tV(J,w){do{var G=mA(J.alternate,J);if(G!==null){G.flags&=32767,B0=G;return}if(G=J.return,G!==null&&(G.flags|=32768,G.subtreeFlags=0,G.deletions=null),!w&&(J=J.sibling,J!==null)){B0=J;return}B0=J=G}while(J!==null);J1=6,B0=null}function DU(J,w,G,Y,X,Q,q,z,U,W){var V=U0.T,j=c0.p;try{c0.p=2,U0.T=null,iA(J,w,G,Y,j,X,Q,q,z,U,W)}finally{U0.T=V,c0.p=j}}function iA(J,w,G,Y,X,Q,q,z){do A7();while(e6!==null);if((r0&6)!==0)throw Error(r(327));var U=J.finishedWork;if(Y=J.finishedLanes,U===null)return null;if(J.finishedWork=null,J.finishedLanes=0,U===J.current)throw Error(r(177));J.callbackNode=null,J.callbackPriority=0,J.cancelPendingCommit=null;var W=U.lanes|U.childLanes;if(W|=mX,I$(J,Y,W,Q,q,z),J===_0&&(B0=_0=null,O0=0),(U.subtreeFlags&10256)===0&&(U.flags&10256)===0||GJ||(GJ=!0,BX=W,MX=G,sA(RJ,function(){return A7(!0),null})),G=(U.flags&15990)!==0,(U.subtreeFlags&15990)!==0||G?(G=U0.T,U0.T=null,Q=c0.p,c0.p=2,q=r0,r0|=4,yA(J,U),vV(U,J),KA(FX,J.containerInfo),pJ=!!DX,FX=DX=null,J.current=U,bV(J,U.alternate,U),M$(),r0=q,c0.p=Q,U0.T=G):J.current=U,GJ?(GJ=!1,e6=J,x4=Y):JZ(J,W),W=J.pendingLanes,W===0&&(M6=null),A$(U.stateNode,X),t2(J),w!==null)for(X=J.onRecoverableError,U=0;U<w.length;U++)W=w[U],X(W.value,{componentStack:W.stack});return(x4&3)!==0&&A7(),W=J.pendingLanes,(Y&4194218)!==0&&(W&42)!==0?J===xX?K4++:(K4=0,xX=J):K4=0,c4(0,!1),null}function JZ(J,w){(J.pooledCacheLanes&=w)===0&&(w=J.pooledCache,w!=null&&(J.pooledCache=null,_4(w)))}function A7(){if(e6!==null){var J=e6,w=BX;BX=0;var G=YH(x4),Y=U0.T,X=c0.p;try{if(c0.p=32>G?32:G,U0.T=null,e6===null)var Q=!1;else{G=MX,MX=null;var q=e6,z=x4;if(e6=null,x4=0,(r0&6)!==0)throw Error(r(331));var U=r0;if(r0|=4,cV(q.current),hV(q,q.current,z,G),r0=U,c4(0,!1),e1&&typeof e1.onPostCommitFiberRoot==="function")try{e1.onPostCommitFiberRoot(b4,q)}catch(W){}Q=!0}return Q}finally{c0.p=X,U0.T=Y,JZ(J,w)}}return!1}function FU(J,w,G){w=M2(G,w),w=YX(J.stateNode,w,2),J=j6(J,w,2),J!==null&&(E4(J,2),t2(J))}function f0(J,w,G){if(J.tag===3)FU(J,J,G);else for(;w!==null;){if(w.tag===3){FU(w,J,G);break}else if(w.tag===1){var Y=w.stateNode;if(typeof w.type.getDerivedStateFromError==="function"||typeof Y.componentDidCatch==="function"&&(M6===null||!M6.has(Y))){J=M2(G,J),G=LV(2),Y=j6(w,G,2),Y!==null&&($V(G,Y,w,J),E4(Y,2),t2(Y));break}}w=w.return}}function PY(J,w,G){var Y=J.pingCache;if(Y===null){Y=J.pingCache=new cA;var X=new Set;Y.set(w,X)}else X=Y.get(w),X===void 0&&(X=new Set,Y.set(w,X));X.has(G)||(HQ=!0,X.add(G),J=aA.bind(null,J,w,G),w.then(J,J))}function aA(J,w,G){var Y=J.pingCache;Y!==null&&Y.delete(w),J.pingedLanes|=J.suspendedLanes&G,J.warmLanes&=~G,_0===J&&(O0&G)===G&&(J1===4||J1===3&&(O0&62914560)===O0&&300>n2()-ZQ?(r0&2)===0&&N7(J,0):VQ|=G,C7===O0&&(C7=0)),t2(J)}function wZ(J,w){w===0&&(w=JH()),J=$6(J,w),J!==null&&(E4(J,w),t2(J))}function nA(J){var w=J.memoizedState,G=0;w!==null&&(G=w.retryLane),wZ(J,G)}function rA(J,w){var G=0;switch(J.tag){case 13:var{stateNode:Y,memoizedState:X}=J;X!==null&&(G=X.retryLane);break;case 19:Y=J.stateNode;break;case 22:Y=J.stateNode._retryCache;break;default:throw Error(r(314))}Y!==null&&Y.delete(w),wZ(J,G)}function sA(J,w){return gX(J,w)}var _J=null,J7=null,$X=!1,hJ=!1,TY=!1,q8=0;function t2(J){J!==J7&&J.next===null&&(J7===null?_J=J7=J:J7=J7.next=J),hJ=!0,$X||($X=!0,tA(eA))}function c4(J,w){if(!TY&&hJ){TY=!0;do{var G=!1;for(var Y=_J;Y!==null;){if(!w)if(J!==0){var X=Y.pendingLanes;if(X===0)var Q=0;else{var{suspendedLanes:q,pingedLanes:z}=Y;Q=(1<<31-t1(42|J)+1)-1,Q&=X&~(q&~z),Q=Q&201326677?Q&201326677|1:Q?Q|2:0}Q!==0&&(G=!0,IU(Y,Q))}else Q=O0,Q=iJ(Y,Y===_0?Q:0),(Q&3)===0||f4(Y,Q)||(G=!0,IU(Y,Q));Y=Y.next}}while(G);TY=!1}}function eA(){hJ=$X=!1;var J=0;q8!==0&&(QO()&&(J=q8),q8=0);for(var w=n2(),G=null,Y=_J;Y!==null;){var X=Y.next,Q=GZ(Y,w);if(Q===0)Y.next=null,G===null?_J=X:G.next=X,X===null&&(J7=G);else if(G=Y,J!==0||(Q&3)!==0)hJ=!0;Y=X}c4(J,!1)}function GZ(J,w){for(var{suspendedLanes:G,pingedLanes:Y,expirationTimes:X}=J,Q=J.pendingLanes&-62914561;0<Q;){var q=31-t1(Q),z=1<<q,U=X[q];if(U===-1){if((z&G)===0||(z&Y)!==0)X[q]=F$(z,w)}else U<=w&&(J.expiredLanes|=z);Q&=~z}if(w=_0,G=O0,G=iJ(J,J===w?G:0),Y=J.callbackNode,G===0||J===w&&v0===2||J.cancelPendingCommit!==null)return Y!==null&&Y!==null&&WY(Y),J.callbackNode=null,J.callbackPriority=0;if((G&3)===0||f4(J,G)){if(w=G&-G,w===J.callbackPriority)return w;switch(Y!==null&&WY(Y),YH(G)){case 2:case 8:G=sU;break;case 32:G=RJ;break;case 268435456:G=eU;break;default:G=RJ}return Y=YZ.bind(null,J),G=gX(G,Y),J.callbackPriority=w,J.callbackNode=G,w}return Y!==null&&Y!==null&&WY(Y),J.callbackPriority=2,J.callbackNode=null,2}function YZ(J,w){var G=J.callbackNode;if(A7()&&J.callbackNode!==G)return null;var Y=O0;if(Y=iJ(J,J===_0?Y:0),Y===0)return null;return aV(J,Y,w),GZ(J,n2()),J.callbackNode!=null&&J.callbackNode===G?YZ.bind(null,J):null}function IU(J,w){if(A7())return null;aV(J,w,!0)}function tA(J){zO(function(){(r0&6)!==0?gX(rU,J):J()})}function BQ(){return q8===0&&(q8=tU()),q8}function kU(J){return J==null||typeof J==="symbol"||typeof J==="boolean"?null:typeof J==="function"?J:zJ(""+J)}function CU(J,w){var G=w.ownerDocument.createElement("input");return G.name=w.name,G.value=w.value,J.id&&G.setAttribute("form",J.id),w.parentNode.insertBefore(G,w),J=new FormData(J),G.parentNode.removeChild(G),J}function JO(J,w,G,Y,X){if(w==="submit"&&G&&G.stateNode===X){var Q=kU((X[d1]||null).action),q=Y.submitter;q&&(w=(w=q[d1]||null)?kU(w.formAction):q.getAttribute("formAction"),w!==null&&(Q=w,q=null));var z=new aJ("action","action",null,Y,X);J.push({event:z,listeners:[{instance:null,listener:function(){if(Y.defaultPrevented){if(q8!==0){var U=q?CU(X,q):new FormData(X);wX(G,{pending:!0,data:U,method:X.method,action:Q},null,U)}}else typeof Q==="function"&&(z.preventDefault(),U=q?CU(X,q):new FormData(X),wX(G,{pending:!0,data:U,method:X.method,action:Q},Q,U))},currentTarget:X}]})}}for(w4=0;w4<aW.length;w4++)G4=aW[w4],AX=G4.toLowerCase(),OX=G4[0].toUpperCase()+G4.slice(1),S2(AX,"on"+OX);var G4,AX,OX,w4;S2(FH,"onAnimationEnd");S2(IH,"onAnimationIteration");S2(kH,"onAnimationStart");S2("dblclick","onDoubleClick");S2("focusin","onFocus");S2("focusout","onBlur");S2($A,"onTransitionRun");S2(AA,"onTransitionStart");S2(OA,"onTransitionCancel");S2(CH,"onTransitionEnd");R7("onMouseEnter",["mouseout","mouseover"]);R7("onMouseLeave",["mouseout","mouseover"]);R7("onPointerEnter",["pointerout","pointerover"]);R7("onPointerLeave",["pointerout","pointerover"]);Z8("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Z8("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Z8("onBeforeInput",["compositionend","keypress","textInput","paste"]);Z8("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Z8("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Z8("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var k4="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(k4));function XZ(J,w){w=(w&4)!==0;for(var G=0;G<J.length;G++){var Y=J[G],X=Y.event;Y=Y.listeners;J:{var Q=void 0;if(w)for(var q=Y.length-1;0<=q;q--){var z=Y[q],U=z.instance,W=z.currentTarget;if(z=z.listener,U!==Q&&X.isPropagationStopped())break J;Q=z,X.currentTarget=W;try{Q(X)}catch(V){gJ(V)}X.currentTarget=null,Q=U}else for(q=0;q<Y.length;q++){if(z=Y[q],U=z.instance,W=z.currentTarget,z=z.listener,U!==Q&&X.isPropagationStopped())break J;Q=z,X.currentTarget=W;try{Q(X)}catch(V){gJ(V)}X.currentTarget=null,Q=U}}}}function L0(J,w){var G=w[cY];G===void 0&&(G=w[cY]=new Set);var Y=J+"__bubble";G.has(Y)||(QZ(w,J,2,!1),G.add(Y))}function SY(J,w,G){var Y=0;w&&(Y|=4),QZ(G,J,Y,w)}var YJ="_reactListening"+Math.random().toString(36).slice(2);function MQ(J){if(!J[YJ]){J[YJ]=!0,QH.forEach(function(G){G!=="selectionchange"&&(wO.has(G)||SY(G,!1,J),SY(G,!0,J))});var w=J.nodeType===9?J:J.ownerDocument;w===null||w[YJ]||(w[YJ]=!0,SY("selectionchange",!1,w))}}function QZ(J,w,G,Y){switch(KZ(w)){case 2:var X=CO;break;case 8:X=NO;break;default:X=$Q}G=X.bind(null,w,G,J),X=void 0,!oY||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(X=!0),Y?X!==void 0?J.addEventListener(w,G,{capture:!0,passive:X}):J.addEventListener(w,G,!0):X!==void 0?J.addEventListener(w,G,{passive:X}):J.addEventListener(w,G,!1)}function gY(J,w,G,Y,X){var Q=Y;if((w&1)===0&&(w&2)===0&&Y!==null)J:for(;;){if(Y===null)return;var q=Y.tag;if(q===3||q===4){var z=Y.stateNode.containerInfo;if(z===X||z.nodeType===8&&z.parentNode===X)break;if(q===4)for(q=Y.return;q!==null;){var U=q.tag;if(U===3||U===4){if(U=q.stateNode.containerInfo,U===X||U.nodeType===8&&U.parentNode===X)return}q=q.return}for(;z!==null;){if(q=t6(z),q===null)return;if(U=q.tag,U===5||U===6||U===26||U===27){Y=Q=q;continue J}z=z.parentNode}}Y=Y.return}jH(function(){var W=Q,V=EX(G),j=[];J:{var B=NH.get(J);if(B!==void 0){var x=aJ,O=J;switch(J){case"keypress":if(UJ(G)===0)break J;case"keydown":case"keyup":x=r$;break;case"focusin":O="focus",x=jY;break;case"focusout":O="blur",x=jY;break;case"beforeblur":case"afterblur":x=jY;break;case"click":if(G.button===2)break J;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=vW;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=_$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=t$;break;case FH:case IH:case kH:x=d$;break;case CH:x=wA;break;case"scroll":case"scrollend":x=y$;break;case"wheel":x=YA;break;case"copy":case"cut":case"paste":x=u$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=hW;break;case"toggle":case"beforetoggle":x=QA}var R=(w&4)!==0,F=!R&&(J==="scroll"||J==="scrollend"),A=R?B!==null?B+"Capture":null:B;R=[];for(var M=W,L;M!==null;){var $=M;if(L=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||L===null||A===null||($=A4(M,A),$!=null&&R.push(C4(M,$,L))),F)break;M=M.return}0<R.length&&(B=new x(B,O,null,G,V),j.push({event:B,listeners:R}))}}if((w&7)===0){J:{if(B=J==="mouseover"||J==="pointerover",x=J==="mouseout"||J==="pointerout",B&&G!==pY&&(O=G.relatedTarget||G.fromElement)&&(t6(O)||O[S7]))break J;if(x||B){if(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,x){if(O=G.relatedTarget||G.toElement,x=W,O=O?t6(O):null,O!==null&&(F=T7(O),R=O.tag,O!==F||R!==5&&R!==27&&R!==6))O=null}else x=null,O=W;if(x!==O){if(R=vW,$="onMouseLeave",A="onMouseEnter",M="mouse",J==="pointerout"||J==="pointerover")R=hW,$="onPointerLeave",A="onPointerEnter",M="pointer";if(F=x==null?B:s9(x),L=O==null?B:s9(O),B=new R($,M+"leave",x,G,V),B.target=F,B.relatedTarget=L,$=null,t6(V)===W&&(R=new R(A,M+"enter",O,G,V),R.target=L,R.relatedTarget=F,$=R),F=$,x&&O)w:{R=x,A=O,M=0;for(L=R;L;L=s8(L))M++;L=0;for($=A;$;$=s8($))L++;for(;0<M-L;)R=s8(R),M--;for(;0<L-M;)A=s8(A),L--;for(;M--;){if(R===A||A!==null&&R===A.alternate)break w;R=s8(R),A=s8(A)}R=null}else R=null;x!==null&&NU(j,B,x,R,!1),O!==null&&F!==null&&NU(j,F,O,R,!0)}}}J:{if(B=W?s9(W):window,x=B.nodeName&&B.nodeName.toLowerCase(),x==="select"||x==="input"&&B.type==="file")var I=uW;else if(cW(B))if($H)I=MA;else{I=jA;var D=ZA}else x=B.nodeName,!x||x.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?W&&fX(W.elementType)&&(I=uW):I=BA;if(I&&(I=I(J,W))){LH(j,I,G,V);break J}D&&D(J,B,W),J==="focusout"&&W&&B.type==="number"&&W.memoizedProps.value!=null&&lY(B,"number",B.value)}switch(D=W?s9(W):window,J){case"focusin":if(cW(D)||D.contentEditable==="true")q7=D,iY=W,Q4=null;break;case"focusout":Q4=iY=q7=null;break;case"mousedown":aY=!0;break;case"contextmenu":case"mouseup":case"dragend":aY=!1,iW(j,G,V);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":iW(j,G,V)}var k;if(_X)J:{switch(J){case"compositionstart":var P="onCompositionStart";break J;case"compositionend":P="onCompositionEnd";break J;case"compositionupdate":P="onCompositionUpdate";break J}P=void 0}else Q7?xH(J,G)&&(P="onCompositionEnd"):J==="keydown"&&G.keyCode===229&&(P="onCompositionStart");if(P&&(MH&&G.locale!=="ko"&&(Q7||P!=="onCompositionStart"?P==="onCompositionEnd"&&Q7&&(k=BH()):(H6=V,yX=("value"in H6)?H6.value:H6.textContent,Q7=!0)),D=mJ(W,P),0<D.length&&(P=new _W(P,J,null,G,V),j.push({event:P,listeners:D}),k?P.data=k:(k=KH(G),k!==null&&(P.data=k)))),k=zA?WA(J,G):UA(J,G))P=mJ(W,"onBeforeInput"),0<P.length&&(D=new _W("onBeforeInput","beforeinput",null,G,V),j.push({event:D,listeners:P}),D.data=k);JO(j,J,W,G,V)}XZ(j,w)})}function C4(J,w,G){return{instance:J,listener:w,currentTarget:G}}function mJ(J,w){for(var G=w+"Capture",Y=[];J!==null;){var X=J,Q=X.stateNode;X=X.tag,X!==5&&X!==26&&X!==27||Q===null||(X=A4(J,G),X!=null&&Y.unshift(C4(J,X,Q)),X=A4(J,w),X!=null&&Y.push(C4(J,X,Q))),J=J.return}return Y}function s8(J){if(J===null)return null;do J=J.return;while(J&&J.tag!==5&&J.tag!==27);return J?J:null}function NU(J,w,G,Y,X){for(var Q=w._reactName,q=[];G!==null&&G!==Y;){var z=G,U=z.alternate,W=z.stateNode;if(z=z.tag,U!==null&&U===Y)break;z!==5&&z!==26&&z!==27||W===null||(U=W,X?(W=A4(G,Q),W!=null&&q.unshift(C4(G,W,U))):X||(W=A4(G,Q),W!=null&&q.push(C4(G,W,U)))),G=G.return}q.length!==0&&J.push({event:w,listeners:q})}var GO=/\r\n?/g,YO=/\u0000|\uFFFD/g;function PU(J){return(typeof J==="string"?J:""+J).replace(GO,`
`).replace(YO,"")}function qZ(J,w){return w=PU(w),PU(J)===w?!0:!1}function Qw(){}function S0(J,w,G,Y,X,Q){switch(G){case"children":typeof Y==="string"?w==="body"||w==="textarea"&&Y===""||D7(J,Y):(typeof Y==="number"||typeof Y==="bigint")&&w!=="body"&&D7(J,""+Y);break;case"className":n3(J,"class",Y);break;case"tabIndex":n3(J,"tabindex",Y);break;case"dir":case"role":case"viewBox":case"width":case"height":n3(J,G,Y);break;case"style":ZH(J,Y,Q);break;case"data":if(w!=="object"){n3(J,"data",Y);break}case"src":case"href":if(Y===""&&(w!=="a"||G!=="href")){J.removeAttribute(G);break}if(Y==null||typeof Y==="function"||typeof Y==="symbol"||typeof Y==="boolean"){J.removeAttribute(G);break}Y=zJ(""+Y),J.setAttribute(G,Y);break;case"action":case"formAction":if(typeof Y==="function"){J.setAttribute(G,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Q==="function"&&(G==="formAction"?(w!=="input"&&S0(J,w,"name",X.name,X,null),S0(J,w,"formEncType",X.formEncType,X,null),S0(J,w,"formMethod",X.formMethod,X,null),S0(J,w,"formTarget",X.formTarget,X,null)):(S0(J,w,"encType",X.encType,X,null),S0(J,w,"method",X.method,X,null),S0(J,w,"target",X.target,X,null)));if(Y==null||typeof Y==="symbol"||typeof Y==="boolean"){J.removeAttribute(G);break}Y=zJ(""+Y),J.setAttribute(G,Y);break;case"onClick":Y!=null&&(J.onclick=Qw);break;case"onScroll":Y!=null&&L0("scroll",J);break;case"onScrollEnd":Y!=null&&L0("scrollend",J);break;case"dangerouslySetInnerHTML":if(Y!=null){if(typeof Y!=="object"||!("__html"in Y))throw Error(r(61));if(G=Y.__html,G!=null){if(X.children!=null)throw Error(r(60));J.innerHTML=G}}break;case"multiple":J.multiple=Y&&typeof Y!=="function"&&typeof Y!=="symbol";break;case"muted":J.muted=Y&&typeof Y!=="function"&&typeof Y!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(Y==null||typeof Y==="function"||typeof Y==="boolean"||typeof Y==="symbol"){J.removeAttribute("xlink:href");break}G=zJ(""+Y),J.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",G);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Y!=null&&typeof Y!=="function"&&typeof Y!=="symbol"?J.setAttribute(G,""+Y):J.removeAttribute(G);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":Y&&typeof Y!=="function"&&typeof Y!=="symbol"?J.setAttribute(G,""):J.removeAttribute(G);break;case"capture":case"download":Y===!0?J.setAttribute(G,""):Y!==!1&&Y!=null&&typeof Y!=="function"&&typeof Y!=="symbol"?J.setAttribute(G,Y):J.removeAttribute(G);break;case"cols":case"rows":case"size":case"span":Y!=null&&typeof Y!=="function"&&typeof Y!=="symbol"&&!isNaN(Y)&&1<=Y?J.setAttribute(G,Y):J.removeAttribute(G);break;case"rowSpan":case"start":Y==null||typeof Y==="function"||typeof Y==="symbol"||isNaN(Y)?J.removeAttribute(G):J.setAttribute(G,Y);break;case"popover":L0("beforetoggle",J),L0("toggle",J),qJ(J,"popover",Y);break;case"xlinkActuate":B5(J,"http://www.w3.org/1999/xlink","xlink:actuate",Y);break;case"xlinkArcrole":B5(J,"http://www.w3.org/1999/xlink","xlink:arcrole",Y);break;case"xlinkRole":B5(J,"http://www.w3.org/1999/xlink","xlink:role",Y);break;case"xlinkShow":B5(J,"http://www.w3.org/1999/xlink","xlink:show",Y);break;case"xlinkTitle":B5(J,"http://www.w3.org/1999/xlink","xlink:title",Y);break;case"xlinkType":B5(J,"http://www.w3.org/1999/xlink","xlink:type",Y);break;case"xmlBase":B5(J,"http://www.w3.org/XML/1998/namespace","xml:base",Y);break;case"xmlLang":B5(J,"http://www.w3.org/XML/1998/namespace","xml:lang",Y);break;case"xmlSpace":B5(J,"http://www.w3.org/XML/1998/namespace","xml:space",Y);break;case"is":qJ(J,"is",Y);break;case"innerText":case"textContent":break;default:if(!(2<G.length)||G[0]!=="o"&&G[0]!=="O"||G[1]!=="n"&&G[1]!=="N")G=f$.get(G)||G,qJ(J,G,Y)}}function RX(J,w,G,Y,X,Q){switch(G){case"style":ZH(J,Y,Q);break;case"dangerouslySetInnerHTML":if(Y!=null){if(typeof Y!=="object"||!("__html"in Y))throw Error(r(61));if(G=Y.__html,G!=null){if(X.children!=null)throw Error(r(60));J.innerHTML=G}}break;case"children":typeof Y==="string"?D7(J,Y):(typeof Y==="number"||typeof Y==="bigint")&&D7(J,""+Y);break;case"onScroll":Y!=null&&L0("scroll",J);break;case"onScrollEnd":Y!=null&&L0("scrollend",J);break;case"onClick":Y!=null&&(J.onclick=Qw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qH.hasOwnProperty(G))J:{if(G[0]==="o"&&G[1]==="n"&&(X=G.endsWith("Capture"),w=G.slice(2,X?G.length-7:void 0),Q=J[d1]||null,Q=Q!=null?Q[G]:null,typeof Q==="function"&&J.removeEventListener(w,Q,X),typeof Y==="function")){typeof Q!=="function"&&Q!==null&&(G in J?J[G]=null:J.hasAttribute(G)&&J.removeAttribute(G)),J.addEventListener(w,Y,X);break J}G in J?J[G]=Y:Y===!0?J.setAttribute(G,""):qJ(J,G,Y)}}}function D1(J,w,G){switch(w){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":L0("error",J),L0("load",J);var Y=!1,X=!1,Q;for(Q in G)if(G.hasOwnProperty(Q)){var q=G[Q];if(q!=null)switch(Q){case"src":Y=!0;break;case"srcSet":X=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,w));default:S0(J,w,Q,q,G,null)}}X&&S0(J,w,"srcSet",G.srcSet,G,null),Y&&S0(J,w,"src",G.src,G,null);return;case"input":L0("invalid",J);var z=Q=q=X=null,U=null,W=null;for(Y in G)if(G.hasOwnProperty(Y)){var V=G[Y];if(V!=null)switch(Y){case"name":X=V;break;case"type":q=V;break;case"checked":U=V;break;case"defaultChecked":W=V;break;case"value":Q=V;break;case"defaultValue":z=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,w));break;default:S0(J,w,Y,V,G,null)}}UH(J,Q,z,U,W,q,X,!1),DJ(J);return;case"select":L0("invalid",J),Y=q=Q=null;for(X in G)if(G.hasOwnProperty(X)&&(z=G[X],z!=null))switch(X){case"value":Q=z;break;case"defaultValue":q=z;break;case"multiple":Y=z;default:S0(J,w,X,z,G,null)}w=Q,G=q,J.multiple=!!Y,w!=null?B7(J,!!Y,w,!1):G!=null&&B7(J,!!Y,G,!0);return;case"textarea":L0("invalid",J),Q=X=Y=null;for(q in G)if(G.hasOwnProperty(q)&&(z=G[q],z!=null))switch(q){case"value":Y=z;break;case"defaultValue":X=z;break;case"children":Q=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:S0(J,w,q,z,G,null)}VH(J,Y,X,Q),DJ(J);return;case"option":for(U in G)if(G.hasOwnProperty(U)&&(Y=G[U],Y!=null))switch(U){case"selected":J.selected=Y&&typeof Y!=="function"&&typeof Y!=="symbol";break;default:S0(J,w,U,Y,G,null)}return;case"dialog":L0("cancel",J),L0("close",J);break;case"iframe":case"object":L0("load",J);break;case"video":case"audio":for(Y=0;Y<k4.length;Y++)L0(k4[Y],J);break;case"image":L0("error",J),L0("load",J);break;case"details":L0("toggle",J);break;case"embed":case"source":case"link":L0("error",J),L0("load",J);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in G)if(G.hasOwnProperty(W)&&(Y=G[W],Y!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,w));default:S0(J,w,W,Y,G,null)}return;default:if(fX(w)){for(V in G)G.hasOwnProperty(V)&&(Y=G[V],Y!==void 0&&RX(J,w,V,Y,G,void 0));return}}for(z in G)G.hasOwnProperty(z)&&(Y=G[z],Y!=null&&S0(J,w,z,Y,G,null))}function XO(J,w,G,Y){switch(w){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var X=null,Q=null,q=null,z=null,U=null,W=null,V=null;for(x in G){var j=G[x];if(G.hasOwnProperty(x)&&j!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":U=j;default:Y.hasOwnProperty(x)||S0(J,w,x,null,Y,j)}}for(var B in Y){var x=Y[B];if(j=G[B],Y.hasOwnProperty(B)&&(x!=null||j!=null))switch(B){case"type":Q=x;break;case"name":X=x;break;case"checked":W=x;break;case"defaultChecked":V=x;break;case"value":q=x;break;case"defaultValue":z=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(137,w));break;default:x!==j&&S0(J,w,B,x,Y,j)}}uY(J,q,z,U,W,V,Q,X);return;case"select":x=q=z=B=null;for(Q in G)if(U=G[Q],G.hasOwnProperty(Q)&&U!=null)switch(Q){case"value":break;case"multiple":x=U;default:Y.hasOwnProperty(Q)||S0(J,w,Q,null,Y,U)}for(X in Y)if(Q=Y[X],U=G[X],Y.hasOwnProperty(X)&&(Q!=null||U!=null))switch(X){case"value":B=Q;break;case"defaultValue":z=Q;break;case"multiple":q=Q;default:Q!==U&&S0(J,w,X,Q,Y,U)}w=z,G=q,Y=x,B!=null?B7(J,!!G,B,!1):!!Y!==!!G&&(w!=null?B7(J,!!G,w,!0):B7(J,!!G,G?[]:"",!1));return;case"textarea":x=B=null;for(z in G)if(X=G[z],G.hasOwnProperty(z)&&X!=null&&!Y.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:S0(J,w,z,null,Y,X)}for(q in Y)if(X=Y[q],Q=G[q],Y.hasOwnProperty(q)&&(X!=null||Q!=null))switch(q){case"value":B=X;break;case"defaultValue":x=X;break;case"children":break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(91));break;default:X!==Q&&S0(J,w,q,X,Y,Q)}HH(J,B,x);return;case"option":for(var O in G)if(B=G[O],G.hasOwnProperty(O)&&B!=null&&!Y.hasOwnProperty(O))switch(O){case"selected":J.selected=!1;break;default:S0(J,w,O,null,Y,B)}for(U in Y)if(B=Y[U],x=G[U],Y.hasOwnProperty(U)&&B!==x&&(B!=null||x!=null))switch(U){case"selected":J.selected=B&&typeof B!=="function"&&typeof B!=="symbol";break;default:S0(J,w,U,B,Y,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var R in G)B=G[R],G.hasOwnProperty(R)&&B!=null&&!Y.hasOwnProperty(R)&&S0(J,w,R,null,Y,B);for(W in Y)if(B=Y[W],x=G[W],Y.hasOwnProperty(W)&&B!==x&&(B!=null||x!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,w));break;default:S0(J,w,W,B,Y,x)}return;default:if(fX(w)){for(var F in G)B=G[F],G.hasOwnProperty(F)&&B!==void 0&&!Y.hasOwnProperty(F)&&RX(J,w,F,void 0,Y,B);for(V in Y)B=Y[V],x=G[V],!Y.hasOwnProperty(V)||B===x||B===void 0&&x===void 0||RX(J,w,V,B,Y,x);return}}for(var A in G)B=G[A],G.hasOwnProperty(A)&&B!=null&&!Y.hasOwnProperty(A)&&S0(J,w,A,null,Y,B);for(j in Y)B=Y[j],x=G[j],!Y.hasOwnProperty(j)||B===x||B==null&&x==null||S0(J,w,j,B,Y,x)}var DX=null,FX=null;function dJ(J){return J.nodeType===9?J:J.ownerDocument}function TU(J){switch(J){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zZ(J,w){if(J===0)switch(w){case"svg":return 1;case"math":return 2;default:return 0}return J===1&&w==="foreignObject"?0:J}function IX(J,w){return J==="textarea"||J==="noscript"||typeof w.children==="string"||typeof w.children==="number"||typeof w.children==="bigint"||typeof w.dangerouslySetInnerHTML==="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var bY=null;function QO(){var J=window.event;if(J&&J.type==="popstate"){if(J===bY)return!1;return bY=J,!0}return bY=null,!1}var WZ=typeof setTimeout==="function"?setTimeout:void 0,qO=typeof clearTimeout==="function"?clearTimeout:void 0,SU=typeof Promise==="function"?Promise:void 0,zO=typeof queueMicrotask==="function"?queueMicrotask:typeof SU!=="undefined"?function(J){return SU.resolve(null).then(J).catch(WO)}:WZ;function WO(J){setTimeout(function(){throw J})}function fY(J,w){var G=w,Y=0;do{var X=G.nextSibling;if(J.removeChild(G),X&&X.nodeType===8)if(G=X.data,G==="/$"){if(Y===0){J.removeChild(X),g4(w);return}Y--}else G!=="$"&&G!=="$?"&&G!=="$!"||Y++;G=X}while(G);g4(w)}function kX(J){var w=J.firstChild;w&&w.nodeType===10&&(w=w.nextSibling);for(;w;){var G=w;switch(w=w.nextSibling,G.nodeName){case"HTML":case"HEAD":case"BODY":kX(G),bX(G);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(G.rel.toLowerCase()==="stylesheet")continue}J.removeChild(G)}}function UO(J,w,G,Y){for(;J.nodeType===1;){var X=G;if(J.nodeName.toLowerCase()!==w.toLowerCase()){if(!Y&&(J.nodeName!=="INPUT"||J.type!=="hidden"))break}else if(!Y)if(w==="input"&&J.type==="hidden"){var Q=X.name==null?null:""+X.name;if(X.type==="hidden"&&J.getAttribute("name")===Q)return J}else return J;else if(!J[$4])switch(w){case"meta":if(!J.hasAttribute("itemprop"))break;return J;case"link":if(Q=J.getAttribute("rel"),Q==="stylesheet"&&J.hasAttribute("data-precedence"))break;else if(Q!==X.rel||J.getAttribute("href")!==(X.href==null?null:X.href)||J.getAttribute("crossorigin")!==(X.crossOrigin==null?null:X.crossOrigin)||J.getAttribute("title")!==(X.title==null?null:X.title))break;return J;case"style":if(J.hasAttribute("data-precedence"))break;return J;case"script":if(Q=J.getAttribute("src"),(Q!==(X.src==null?null:X.src)||J.getAttribute("type")!==(X.type==null?null:X.type)||J.getAttribute("crossorigin")!==(X.crossOrigin==null?null:X.crossOrigin))&&Q&&J.hasAttribute("async")&&!J.hasAttribute("itemprop"))break;return J;default:return J}if(J=T2(J.nextSibling),J===null)break}return null}function HO(J,w,G){if(w==="")return null;for(;J.nodeType!==3;){if((J.nodeType!==1||J.nodeName!=="INPUT"||J.type!=="hidden")&&!G)return null;if(J=T2(J.nextSibling),J===null)return null}return J}function T2(J){for(;J!=null;J=J.nextSibling){var w=J.nodeType;if(w===1||w===3)break;if(w===8){if(w=J.data,w==="$"||w==="$!"||w==="$?"||w==="F!"||w==="F")break;if(w==="/$")return null}}return J}function gU(J){J=J.previousSibling;for(var w=0;J;){if(J.nodeType===8){var G=J.data;if(G==="$"||G==="$!"||G==="$?"){if(w===0)return J;w--}else G==="/$"&&w++}J=J.previousSibling}return null}function UZ(J,w,G){switch(w=dJ(G),J){case"html":if(J=w.documentElement,!J)throw Error(r(452));return J;case"head":if(J=w.head,!J)throw Error(r(453));return J;case"body":if(J=w.body,!J)throw Error(r(454));return J;default:throw Error(r(451))}}var $2=new Map,bU=new Set;function cJ(J){return typeof J.getRootNode==="function"?J.getRootNode():J.ownerDocument}var S5=c0.d;c0.d={f:VO,r:ZO,D:jO,C:BO,L:MO,m:xO,X:LO,S:KO,M:$O};function VO(){var J=S5.f(),w=Yw();return J||w}function ZO(J){var w=g7(J);w!==null&&w.tag===5&&w.type==="form"?UV(w):S5.r(J)}var f7=typeof document==="undefined"?null:document;function HZ(J,w,G){var Y=f7;if(Y&&typeof w==="string"&&w){var X=B2(w);X='link[rel="'+J+'"][href="'+X+'"]',typeof G==="string"&&(X+='[crossorigin="'+G+'"]'),bU.has(X)||(bU.add(X),J={rel:J,crossOrigin:G,href:w},Y.querySelector(X)===null&&(w=Y.createElement("link"),D1(w,"link",J),L1(w),Y.head.appendChild(w)))}}function jO(J){S5.D(J),HZ("dns-prefetch",J,null)}function BO(J,w){S5.C(J,w),HZ("preconnect",J,w)}function MO(J,w,G){S5.L(J,w,G);var Y=f7;if(Y&&J&&w){var X='link[rel="preload"][as="'+B2(w)+'"]';w==="image"?G&&G.imageSrcSet?(X+='[imagesrcset="'+B2(G.imageSrcSet)+'"]',typeof G.imageSizes==="string"&&(X+='[imagesizes="'+B2(G.imageSizes)+'"]')):X+='[href="'+B2(J)+'"]':X+='[href="'+B2(J)+'"]';var Q=X;switch(w){case"style":Q=P7(J);break;case"script":Q=E7(J)}$2.has(Q)||(J=u0({rel:"preload",href:w==="image"&&G&&G.imageSrcSet?void 0:J,as:w},G),$2.set(Q,J),Y.querySelector(X)!==null||w==="style"&&Y.querySelector(u4(Q))||w==="script"&&Y.querySelector(l4(Q))||(w=Y.createElement("link"),D1(w,"link",J),L1(w),Y.head.appendChild(w)))}}function xO(J,w){S5.m(J,w);var G=f7;if(G&&J){var Y=w&&typeof w.as==="string"?w.as:"script",X='link[rel="modulepreload"][as="'+B2(Y)+'"][href="'+B2(J)+'"]',Q=X;switch(Y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Q=E7(J)}if(!$2.has(Q)&&(J=u0({rel:"modulepreload",href:J},w),$2.set(Q,J),G.querySelector(X)===null)){switch(Y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(G.querySelector(l4(Q)))return}Y=G.createElement("link"),D1(Y,"link",J),L1(Y),G.head.appendChild(Y)}}}function KO(J,w,G){S5.S(J,w,G);var Y=f7;if(Y&&J){var X=j7(Y).hoistableStyles,Q=P7(J);w=w||"default";var q=X.get(Q);if(!q){var z={loading:0,preload:null};if(q=Y.querySelector(u4(Q)))z.loading=5;else{J=u0({rel:"stylesheet",href:J,"data-precedence":w},G),(G=$2.get(Q))&&xQ(J,G);var U=q=Y.createElement("link");L1(U),D1(U,"link",J),U._p=new Promise(function(W,V){U.onload=W,U.onerror=V}),U.addEventListener("load",function(){z.loading|=1}),U.addEventListener("error",function(){z.loading|=2}),z.loading|=4,xJ(q,w,Y)}q={type:"stylesheet",instance:q,count:1,state:z},X.set(Q,q)}}}function LO(J,w){S5.X(J,w);var G=f7;if(G&&J){var Y=j7(G).hoistableScripts,X=E7(J),Q=Y.get(X);Q||(Q=G.querySelector(l4(X)),Q||(J=u0({src:J,async:!0},w),(w=$2.get(X))&&KQ(J,w),Q=G.createElement("script"),L1(Q),D1(Q,"link",J),G.head.appendChild(Q)),Q={type:"script",instance:Q,count:1,state:null},Y.set(X,Q))}}function $O(J,w){S5.M(J,w);var G=f7;if(G&&J){var Y=j7(G).hoistableScripts,X=E7(J),Q=Y.get(X);Q||(Q=G.querySelector(l4(X)),Q||(J=u0({src:J,async:!0,type:"module"},w),(w=$2.get(X))&&KQ(J,w),Q=G.createElement("script"),L1(Q),D1(Q,"link",J),G.head.appendChild(Q)),Q={type:"script",instance:Q,count:1,state:null},Y.set(X,Q))}}function fU(J,w,G,Y){var X=(X=V6.current)?cJ(X):null;if(!X)throw Error(r(446));switch(J){case"meta":case"title":return null;case"style":return typeof G.precedence==="string"&&typeof G.href==="string"?(w=P7(G.href),G=j7(X).hoistableStyles,Y=G.get(w),Y||(Y={type:"style",instance:null,count:0,state:null},G.set(w,Y)),Y):{type:"void",instance:null,count:0,state:null};case"link":if(G.rel==="stylesheet"&&typeof G.href==="string"&&typeof G.precedence==="string"){J=P7(G.href);var Q=j7(X).hoistableStyles,q=Q.get(J);if(q||(X=X.ownerDocument||X,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Q.set(J,q),(Q=X.querySelector(u4(J)))&&!Q._p&&(q.instance=Q,q.state.loading=5),$2.has(J)||(G={rel:"preload",as:"style",href:G.href,crossOrigin:G.crossOrigin,integrity:G.integrity,media:G.media,hrefLang:G.hrefLang,referrerPolicy:G.referrerPolicy},$2.set(J,G),Q||AO(X,J,G,q.state))),w&&Y===null)throw Error(r(528,""));return q}if(w&&Y!==null)throw Error(r(529,""));return null;case"script":return w=G.async,G=G.src,typeof G==="string"&&w&&typeof w!=="function"&&typeof w!=="symbol"?(w=E7(G),G=j7(X).hoistableScripts,Y=G.get(w),Y||(Y={type:"script",instance:null,count:0,state:null},G.set(w,Y)),Y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,J))}}function P7(J){return'href="'+B2(J)+'"'}function u4(J){return'link[rel="stylesheet"]['+J+"]"}function VZ(J){return u0({},J,{"data-precedence":J.precedence,precedence:null})}function AO(J,w,G,Y){J.querySelector('link[rel="preload"][as="style"]['+w+"]")?Y.loading=1:(w=J.createElement("link"),Y.preload=w,w.addEventListener("load",function(){return Y.loading|=1}),w.addEventListener("error",function(){return Y.loading|=2}),D1(w,"link",G),L1(w),J.head.appendChild(w))}function E7(J){return'[src="'+B2(J)+'"]'}function l4(J){return"script[async]"+J}function EU(J,w,G){if(w.count++,w.instance===null)switch(w.type){case"style":var Y=J.querySelector('style[data-href~="'+B2(G.href)+'"]');if(Y)return w.instance=Y,L1(Y),Y;var X=u0({},G,{"data-href":G.href,"data-precedence":G.precedence,href:null,precedence:null});return Y=(J.ownerDocument||J).createElement("style"),L1(Y),D1(Y,"style",X),xJ(Y,G.precedence,J),w.instance=Y;case"stylesheet":X=P7(G.href);var Q=J.querySelector(u4(X));if(Q)return w.state.loading|=4,w.instance=Q,L1(Q),Q;Y=VZ(G),(X=$2.get(X))&&xQ(Y,X),Q=(J.ownerDocument||J).createElement("link"),L1(Q);var q=Q;return q._p=new Promise(function(z,U){q.onload=z,q.onerror=U}),D1(Q,"link",Y),w.state.loading|=4,xJ(Q,G.precedence,J),w.instance=Q;case"script":if(Q=E7(G.src),X=J.querySelector(l4(Q)))return w.instance=X,L1(X),X;if(Y=G,X=$2.get(Q))Y=u0({},G),KQ(Y,X);return J=J.ownerDocument||J,X=J.createElement("script"),L1(X),D1(X,"link",Y),J.head.appendChild(X),w.instance=X;case"void":return null;default:throw Error(r(443,w.type))}else w.type==="stylesheet"&&(w.state.loading&4)===0&&(Y=w.instance,w.state.loading|=4,xJ(Y,G.precedence,J));return w.instance}function xJ(J,w,G){for(var Y=G.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),X=Y.length?Y[Y.length-1]:null,Q=X,q=0;q<Y.length;q++){var z=Y[q];if(z.dataset.precedence===w)Q=z;else if(Q!==X)break}Q?Q.parentNode.insertBefore(J,Q.nextSibling):(w=G.nodeType===9?G.head:G,w.insertBefore(J,w.firstChild))}function xQ(J,w){J.crossOrigin==null&&(J.crossOrigin=w.crossOrigin),J.referrerPolicy==null&&(J.referrerPolicy=w.referrerPolicy),J.title==null&&(J.title=w.title)}function KQ(J,w){J.crossOrigin==null&&(J.crossOrigin=w.crossOrigin),J.referrerPolicy==null&&(J.referrerPolicy=w.referrerPolicy),J.integrity==null&&(J.integrity=w.integrity)}var KJ=null;function yU(J,w,G){if(KJ===null){var Y=new Map,X=KJ=new Map;X.set(G,Y)}else X=KJ,Y=X.get(G),Y||(Y=new Map,X.set(G,Y));if(Y.has(J))return Y;Y.set(J,null),G=G.getElementsByTagName(J);for(X=0;X<G.length;X++){var Q=G[X];if(!(Q[$4]||Q[C1]||J==="link"&&Q.getAttribute("rel")==="stylesheet")&&Q.namespaceURI!=="http://www.w3.org/2000/svg"){var q=Q.getAttribute(w)||"";q=J+q;var z=Y.get(q);z?z.push(Q):Y.set(q,[Q])}}return Y}function vU(J,w,G){J=J.ownerDocument||J,J.head.insertBefore(G,w==="title"?J.querySelector("head > title"):null)}function OO(J,w,G){if(G===1||w.itemProp!=null)return!1;switch(J){case"meta":case"title":return!0;case"style":if(typeof w.precedence!=="string"||typeof w.href!=="string"||w.href==="")break;return!0;case"link":if(typeof w.rel!=="string"||typeof w.href!=="string"||w.href===""||w.onLoad||w.onError)break;switch(w.rel){case"stylesheet":return J=w.disabled,typeof w.precedence==="string"&&J==null;default:return!0}case"script":if(w.async&&typeof w.async!=="function"&&typeof w.async!=="symbol"&&!w.onLoad&&!w.onError&&w.src&&typeof w.src==="string")return!0}return!1}function ZZ(J){return J.type==="stylesheet"&&(J.state.loading&3)===0?!1:!0}var N4=null;function RO(){}function DO(J,w,G){if(N4===null)throw Error(r(475));var Y=N4;if(w.type==="stylesheet"&&(typeof G.media!=="string"||matchMedia(G.media).matches!==!1)&&(w.state.loading&4)===0){if(w.instance===null){var X=P7(G.href),Q=J.querySelector(u4(X));if(Q){J=Q._p,J!==null&&typeof J==="object"&&typeof J.then==="function"&&(Y.count++,Y=uJ.bind(Y),J.then(Y,Y)),w.state.loading|=4,w.instance=Q,L1(Q);return}Q=J.ownerDocument||J,G=VZ(G),(X=$2.get(X))&&xQ(G,X),Q=Q.createElement("link"),L1(Q);var q=Q;q._p=new Promise(function(z,U){q.onload=z,q.onerror=U}),D1(Q,"link",G),w.instance=Q}Y.stylesheets===null&&(Y.stylesheets=new Map),Y.stylesheets.set(w,J),(J=w.state.preload)&&(w.state.loading&3)===0&&(Y.count++,w=uJ.bind(Y),J.addEventListener("load",w),J.addEventListener("error",w))}}function FO(){if(N4===null)throw Error(r(475));var J=N4;return J.stylesheets&&J.count===0&&CX(J,J.stylesheets),0<J.count?function(w){var G=setTimeout(function(){if(J.stylesheets&&CX(J,J.stylesheets),J.unsuspend){var Y=J.unsuspend;J.unsuspend=null,Y()}},60000);return J.unsuspend=w,function(){J.unsuspend=null,clearTimeout(G)}}:null}function uJ(){if(this.count--,this.count===0){if(this.stylesheets)CX(this,this.stylesheets);else if(this.unsuspend){var J=this.unsuspend;this.unsuspend=null,J()}}}var lJ=null;function CX(J,w){J.stylesheets=null,J.unsuspend!==null&&(J.count++,lJ=new Map,w.forEach(IO,J),lJ=null,uJ.call(J))}function IO(J,w){if(!(w.state.loading&4)){var G=lJ.get(J);if(G)var Y=G.get(null);else{G=new Map,lJ.set(J,G);for(var X=J.querySelectorAll("link[data-precedence],style[data-precedence]"),Q=0;Q<X.length;Q++){var q=X[Q];if(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")G.set(q.dataset.precedence,q),Y=q}Y&&G.set(null,Y)}X=w.instance,q=X.getAttribute("data-precedence"),Q=G.get(q)||Y,Q===Y&&G.set(null,X),G.set(q,X),this.count++,Y=uJ.bind(this),X.addEventListener("load",Y),X.addEventListener("error",Y),Q?Q.parentNode.insertBefore(X,Q.nextSibling):(J=J.nodeType===9?J.head:J,J.insertBefore(X,J.firstChild)),w.state.loading|=4}}var P4={$$typeof:O5,Provider:null,Consumer:null,_currentValue:w8,_currentValue2:w8,_threadCount:0};function kO(J,w,G,Y,X,Q,q,z){this.tag=1,this.containerInfo=J,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=UY(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=UY(0),this.hiddenUpdates=UY(null),this.identifierPrefix=Y,this.onUncaughtError=X,this.onCaughtError=Q,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function jZ(J,w,G,Y,X,Q,q,z,U,W,V,j){return J=new kO(J,w,G,q,z,U,W,j),w=1,Q===!0&&(w|=24),Q=x2(3,null,null,w),J.current=Q,Q.stateNode=J,w=pX(),w.refCount++,J.pooledCache=w,w.refCount++,Q.memoizedState={element:Y,isDehydrated:G,cache:w},qQ(Q),J}function BZ(J){if(!J)return U7;return J=U7,J}function MZ(J,w,G,Y,X,Q){X=BZ(X),Y.context===null?Y.context=X:Y.pendingContext=X,Y=Z6(w),Y.payload={element:G},Q=Q===void 0?null:Q,Q!==null&&(Y.callback=Q),G=j6(J,Y,w),G!==null&&(b1(G,J,w),V4(G,J,w))}function _U(J,w){if(J=J.memoizedState,J!==null&&J.dehydrated!==null){var G=J.retryLane;J.retryLane=G!==0&&G<w?G:w}}function LQ(J,w){_U(J,w),(J=J.alternate)&&_U(J,w)}function xZ(J){if(J.tag===13){var w=$6(J,67108864);w!==null&&b1(w,J,67108864),LQ(J,67108864)}}var pJ=!0;function CO(J,w,G,Y){var X=U0.T;U0.T=null;var Q=c0.p;try{c0.p=2,$Q(J,w,G,Y)}finally{c0.p=Q,U0.T=X}}function NO(J,w,G,Y){var X=U0.T;U0.T=null;var Q=c0.p;try{c0.p=8,$Q(J,w,G,Y)}finally{c0.p=Q,U0.T=X}}function $Q(J,w,G,Y){if(pJ){var X=NX(Y);if(X===null)gY(J,w,Y,oJ,G),hU(J,Y);else if(TO(X,J,w,G,Y))Y.stopPropagation();else if(hU(J,Y),w&4&&-1<PO.indexOf(J)){for(;X!==null;){var Q=g7(X);if(Q!==null)switch(Q.tag){case 3:if(Q=Q.stateNode,Q.current.memoizedState.isDehydrated){var q=n6(Q.pendingLanes);if(q!==0){var z=Q;z.pendingLanes|=2;for(z.entangledLanes|=2;q;){var U=1<<31-t1(q);z.entanglements[1]|=U,q&=~U}t2(Q),(r0&6)===0&&(yJ=n2()+500,c4(0,!1))}}break;case 13:z=$6(Q,2),z!==null&&b1(z,Q,2),Yw(),LQ(Q,2)}if(Q=NX(Y),Q===null&&gY(J,w,Y,oJ,G),Q===X)break;X=Q}X!==null&&Y.stopPropagation()}else gY(J,w,Y,null,G)}}function NX(J){return J=EX(J),AQ(J)}var oJ=null;function AQ(J){if(oJ=null,J=t6(J),J!==null){var w=T7(J);if(w===null)J=null;else{var G=w.tag;if(G===13){if(J=aU(w),J!==null)return J;J=null}else if(G===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;J=null}else w!==J&&(J=null)}}return oJ=J,null}function KZ(J){switch(J){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(x$()){case rU:return 2;case sU:return 8;case RJ:case K$:return 32;case eU:return 268435456;default:return 32}default:return 32}}var PX=!1,x6=null,K6=null,L6=null,T4=new Map,S4=new Map,W6=[],PO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hU(J,w){switch(J){case"focusin":case"focusout":x6=null;break;case"dragenter":case"dragleave":K6=null;break;case"mouseover":case"mouseout":L6=null;break;case"pointerover":case"pointerout":T4.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":S4.delete(w.pointerId)}}function i9(J,w,G,Y,X,Q){if(J===null||J.nativeEvent!==Q)return J={blockedOn:w,domEventName:G,eventSystemFlags:Y,nativeEvent:Q,targetContainers:[X]},w!==null&&(w=g7(w),w!==null&&xZ(w)),J;return J.eventSystemFlags|=Y,w=J.targetContainers,X!==null&&w.indexOf(X)===-1&&w.push(X),J}function TO(J,w,G,Y,X){switch(w){case"focusin":return x6=i9(x6,J,w,G,Y,X),!0;case"dragenter":return K6=i9(K6,J,w,G,Y,X),!0;case"mouseover":return L6=i9(L6,J,w,G,Y,X),!0;case"pointerover":var Q=X.pointerId;return T4.set(Q,i9(T4.get(Q)||null,J,w,G,Y,X)),!0;case"gotpointercapture":return Q=X.pointerId,S4.set(Q,i9(S4.get(Q)||null,J,w,G,Y,X)),!0}return!1}function LZ(J){var w=t6(J.target);if(w!==null){var G=T7(w);if(G!==null){if(w=G.tag,w===13){if(w=aU(G),w!==null){J.blockedOn=w,k$(J.priority,function(){if(G.tag===13){var Y=J2(),X=$6(G,Y);X!==null&&b1(X,G,Y),LQ(G,Y)}});return}}else if(w===3&&G.stateNode.current.memoizedState.isDehydrated){J.blockedOn=G.tag===3?G.stateNode.containerInfo:null;return}}}J.blockedOn=null}function LJ(J){if(J.blockedOn!==null)return!1;for(var w=J.targetContainers;0<w.length;){var G=NX(J.nativeEvent);if(G===null){G=J.nativeEvent;var Y=new G.constructor(G.type,G);pY=Y,G.target.dispatchEvent(Y),pY=null}else return w=g7(G),w!==null&&xZ(w),J.blockedOn=G,!1;w.shift()}return!0}function mU(J,w,G){LJ(J)&&G.delete(w)}function SO(){PX=!1,x6!==null&&LJ(x6)&&(x6=null),K6!==null&&LJ(K6)&&(K6=null),L6!==null&&LJ(L6)&&(L6=null),T4.forEach(mU),S4.forEach(mU)}function XJ(J,w){J.blockedOn===w&&(J.blockedOn=null,PX||(PX=!0,n8(a8,SO)))}var QJ=null;function dU(J){QJ!==J&&(QJ=J,n8(a8,function(){QJ===J&&(QJ=null);for(var w=0;w<J.length;w+=3){var G=J[w],Y=J[w+1],X=J[w+2];if(typeof Y!=="function")if(AQ(Y||G)===null)continue;else break;var Q=g7(G);Q!==null&&(J.splice(w,3),w-=3,wX(Q,{pending:!0,data:X,method:G.method,action:Y},Y,X))}}))}function g4(J){function w(U){return XJ(U,J)}x6!==null&&XJ(x6,J),K6!==null&&XJ(K6,J),L6!==null&&XJ(L6,J),T4.forEach(w),S4.forEach(w);for(var G=0;G<W6.length;G++){var Y=W6[G];Y.blockedOn===J&&(Y.blockedOn=null)}for(;0<W6.length&&(G=W6[0],G.blockedOn===null);)LZ(G),G.blockedOn===null&&W6.shift();if(G=(J.ownerDocument||J).$$reactFormReplay,G!=null)for(Y=0;Y<G.length;Y+=3){var X=G[Y],Q=G[Y+1],q=X[d1]||null;if(typeof Q==="function")q||dU(G);else if(q){var z=null;if(Q&&Q.hasAttribute("formAction")){if(X=Q,q=Q[d1]||null)z=q.formAction;else if(AQ(X)!==null)continue}else z=q.action;typeof z==="function"?G[Y+1]=z:(G.splice(Y,3),Y-=3),dU(G)}}}function OQ(J){this._internalRoot=J}qw.prototype.render=OQ.prototype.render=function(J){var w=this._internalRoot;if(w===null)throw Error(r(409));var G=w.current,Y=J2();MZ(G,Y,J,w,null,null)};qw.prototype.unmount=OQ.prototype.unmount=function(){var J=this._internalRoot;if(J!==null){this._internalRoot=null;var w=J.containerInfo;J.tag===0&&A7(),MZ(J.current,2,null,J,null,null),Yw(),w[S7]=null}};function qw(J){this._internalRoot=J}qw.prototype.unstable_scheduleHydration=function(J){if(J){var w=XH();J={blockedOn:null,target:J,priority:w};for(var G=0;G<W6.length&&w!==0&&w<W6[G].priority;G++);W6.splice(G,0,J),G===0&&LZ(J)}};var cU=XY;if(cU!=="19.0.0")throw Error(r(527,cU,"19.0.0"));c0.findDOMNode=function(J){var w=J._reactInternals;if(w===void 0){if(typeof J.render==="function")throw Error(r(188));throw J=Object.keys(J).join(","),Error(r(268,J))}return J=j$(w),J=J!==null?nU(J):null,J=J===null?null:J.stateNode,J};var gO={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:U0,findFiberByHostInstance:t6,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"){if(w7=__REACT_DEVTOOLS_GLOBAL_HOOK__,!w7.isDisabled&&w7.supportsFiber)try{b4=w7.inject(gO),e1=w7}catch(J){}}var w7;bO.createRoot=function(J,w){if(!lU(J))throw Error(r(299));var G=!1,Y="",X=MV,Q=xV,q=KV,z=null;return w!==null&&w!==void 0&&(w.unstable_strictMode===!0&&(G=!0),w.identifierPrefix!==void 0&&(Y=w.identifierPrefix),w.onUncaughtError!==void 0&&(X=w.onUncaughtError),w.onCaughtError!==void 0&&(Q=w.onCaughtError),w.onRecoverableError!==void 0&&(q=w.onRecoverableError),w.unstable_transitionCallbacks!==void 0&&(z=w.unstable_transitionCallbacks)),w=jZ(J,1,!1,null,null,G,Y,X,Q,q,z,null),J[S7]=w.current,MQ(J.nodeType===8?J.parentNode:J),new OQ(w)};bO.hydrateRoot=function(J,w,G){if(!lU(J))throw Error(r(299));var Y=!1,X="",Q=MV,q=xV,z=KV,U=null,W=null;return G!==null&&G!==void 0&&(G.unstable_strictMode===!0&&(Y=!0),G.identifierPrefix!==void 0&&(X=G.identifierPrefix),G.onUncaughtError!==void 0&&(Q=G.onUncaughtError),G.onCaughtError!==void 0&&(q=G.onCaughtError),G.onRecoverableError!==void 0&&(z=G.onRecoverableError),G.unstable_transitionCallbacks!==void 0&&(U=G.unstable_transitionCallbacks),G.formState!==void 0&&(W=G.formState)),w=jZ(J,1,!0,w,G!=null?G:null,Y,X,Q,q,z,U,W),w.context=BZ(null),G=w.current,Y=J2(),X=Z6(Y),X.callback=null,j6(G,X,Y),w.current.lanes=Y,E4(w,Y),t2(w),J[S7]=w.current,MQ(J),new qw(w)};bO.version="19.0.0"});var RZ=Q0((NP,OZ)=>{function AZ(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AZ)}catch(J){console.error(J)}}AZ(),OZ.exports=$Z()});var NQ={};hL(NQ,{default:()=>vZ});var dO,Uw,cO,uO,lO,pO,oO=(J,w)=>()=>(J&&(w=J(J=0)),w),I0=(J,w)=>()=>(w||J((w={exports:{}}).exports,w),w.exports),CZ=(J,w)=>{for(var G in w)Uw(J,G,{get:w[G],enumerable:!0})},zw=(J,w,G,Y)=>{if(w&&typeof w=="object"||typeof w=="function")for(let X of uO(w))!pO.call(J,X)&&X!==G&&Uw(J,X,{get:()=>w[X],enumerable:!(Y=cO(w,X))||Y.enumerable});return J},NZ=(J,w,G)=>(zw(J,w,"default"),G&&zw(G,w,"default")),Ww=(J,w,G)=>(G=J!=null?dO(lO(J)):{},zw(w||!J||!J.__esModule?Uw(G,"default",{value:J,enumerable:!0}):G,J)),$8=(J)=>zw(Uw({},"__esModule",{value:!0}),J),iO,aO,I6,B1,g5,RQ,u1,Hw,kZ,f5,PZ,A8,O8,R8,nO,y7,DQ,FQ,IQ,rO,kQ,sO,eO,TZ,Vw,SZ,tO,b5,gZ,bZ,CQ,JR,fZ,wR,EZ,yZ,vZ;var PQ=mG(()=>{dO=Object.create,Uw=Object.defineProperty,cO=Object.getOwnPropertyDescriptor,uO=Object.getOwnPropertyNames,lO=Object.getPrototypeOf,pO=Object.prototype.hasOwnProperty,iO=I0((J)=>{J.byteLength=U,J.toByteArray=V,J.fromByteArray=x;var w=[],G=[],Y=typeof Uint8Array<"u"?Uint8Array:Array,X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Q=0,q=X.length;Q<q;++Q)w[Q]=X[Q],G[X.charCodeAt(Q)]=Q;var Q,q;G[45]=62,G[95]=63;function z(O){var R=O.length;if(R%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var F=O.indexOf("=");F===-1&&(F=R);var A=F===R?0:4-F%4;return[F,A]}function U(O){var R=z(O),F=R[0],A=R[1];return(F+A)*3/4-A}function W(O,R,F){return(R+F)*3/4-F}function V(O){var R,F=z(O),A=F[0],M=F[1],L=new Y(W(O,A,M)),$=0,I=M>0?A-4:A,D;for(D=0;D<I;D+=4)R=G[O.charCodeAt(D)]<<18|G[O.charCodeAt(D+1)]<<12|G[O.charCodeAt(D+2)]<<6|G[O.charCodeAt(D+3)],L[$++]=R>>16&255,L[$++]=R>>8&255,L[$++]=R&255;return M===2&&(R=G[O.charCodeAt(D)]<<2|G[O.charCodeAt(D+1)]>>4,L[$++]=R&255),M===1&&(R=G[O.charCodeAt(D)]<<10|G[O.charCodeAt(D+1)]<<4|G[O.charCodeAt(D+2)]>>2,L[$++]=R>>8&255,L[$++]=R&255),L}function j(O){return w[O>>18&63]+w[O>>12&63]+w[O>>6&63]+w[O&63]}function B(O,R,F){for(var A,M=[],L=R;L<F;L+=3)A=(O[L]<<16&16711680)+(O[L+1]<<8&65280)+(O[L+2]&255),M.push(j(A));return M.join("")}function x(O){for(var R,F=O.length,A=F%3,M=[],L=16383,$=0,I=F-A;$<I;$+=L)M.push(B(O,$,$+L>I?I:$+L));return A===1?(R=O[F-1],M.push(w[R>>2]+w[R<<4&63]+"==")):A===2&&(R=(O[F-2]<<8)+O[F-1],M.push(w[R>>10]+w[R>>4&63]+w[R<<2&63]+"=")),M.join("")}}),aO=I0((J)=>{J.read=function(w,G,Y,X,Q){var q,z,U=Q*8-X-1,W=(1<<U)-1,V=W>>1,j=-7,B=Y?Q-1:0,x=Y?-1:1,O=w[G+B];for(B+=x,q=O&(1<<-j)-1,O>>=-j,j+=U;j>0;q=q*256+w[G+B],B+=x,j-=8);for(z=q&(1<<-j)-1,q>>=-j,j+=X;j>0;z=z*256+w[G+B],B+=x,j-=8);if(q===0)q=1-V;else{if(q===W)return z?NaN:(O?-1:1)*(1/0);z=z+Math.pow(2,X),q=q-V}return(O?-1:1)*z*Math.pow(2,q-X)},J.write=function(w,G,Y,X,Q,q){var z,U,W,V=q*8-Q-1,j=(1<<V)-1,B=j>>1,x=Q===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=X?0:q-1,R=X?1:-1,F=G<0||G===0&&1/G<0?1:0;for(G=Math.abs(G),isNaN(G)||G===1/0?(U=isNaN(G)?1:0,z=j):(z=Math.floor(Math.log(G)/Math.LN2),G*(W=Math.pow(2,-z))<1&&(z--,W*=2),z+B>=1?G+=x/W:G+=x*Math.pow(2,1-B),G*W>=2&&(z++,W/=2),z+B>=j?(U=0,z=j):z+B>=1?(U=(G*W-1)*Math.pow(2,Q),z=z+B):(U=G*Math.pow(2,B-1)*Math.pow(2,Q),z=0));Q>=8;w[Y+O]=U&255,O+=R,U/=256,Q-=8);for(z=z<<Q|U,V+=Q;V>0;w[Y+O]=z&255,O+=R,z/=256,V-=8);w[Y+O-R]|=F*128}}),I6=I0((J)=>{var w=iO(),G=aO(),Y=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;J.Buffer=z,J.SlowBuffer=M,J.INSPECT_MAX_BYTES=50;var X=2147483647;J.kMaxLength=X,z.TYPED_ARRAY_SUPPORT=Q(),!z.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Q(){try{let H=new Uint8Array(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,Uint8Array.prototype),Object.setPrototypeOf(H,Z),H.foo()===42}catch{return!1}}Object.defineProperty(z.prototype,"parent",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.buffer}}),Object.defineProperty(z.prototype,"offset",{enumerable:!0,get:function(){if(z.isBuffer(this))return this.byteOffset}});function q(H){if(H>X)throw new RangeError('The value "'+H+'" is invalid for option "size"');let Z=new Uint8Array(H);return Object.setPrototypeOf(Z,z.prototype),Z}function z(H,Z,K){if(typeof H=="number"){if(typeof Z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return j(H)}return U(H,Z,K)}z.poolSize=8192;function U(H,Z,K){if(typeof H=="string")return B(H,Z);if(ArrayBuffer.isView(H))return O(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(C0(H,ArrayBuffer)||H&&C0(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(C0(H,SharedArrayBuffer)||H&&C0(H.buffer,SharedArrayBuffer)))return R(H,Z,K);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let N=H.valueOf&&H.valueOf();if(N!=null&&N!==H)return z.from(N,Z,K);let S=F(H);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return z.from(H[Symbol.toPrimitive]("string"),Z,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}z.from=function(H,Z,K){return U(H,Z,K)},Object.setPrototypeOf(z.prototype,Uint8Array.prototype),Object.setPrototypeOf(z,Uint8Array);function W(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function V(H,Z,K){return W(H),H<=0?q(H):Z!==void 0?typeof K=="string"?q(H).fill(Z,K):q(H).fill(Z):q(H)}z.alloc=function(H,Z,K){return V(H,Z,K)};function j(H){return W(H),q(H<0?0:A(H)|0)}z.allocUnsafe=function(H){return j(H)},z.allocUnsafeSlow=function(H){return j(H)};function B(H,Z){if((typeof Z!="string"||Z==="")&&(Z="utf8"),!z.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);let K=L(H,Z)|0,N=q(K),S=N.write(H,Z);return S!==K&&(N=N.slice(0,S)),N}function x(H){let Z=H.length<0?0:A(H.length)|0,K=q(Z);for(let N=0;N<Z;N+=1)K[N]=H[N]&255;return K}function O(H){if(C0(H,Uint8Array)){let Z=new Uint8Array(H);return R(Z.buffer,Z.byteOffset,Z.byteLength)}return x(H)}function R(H,Z,K){if(Z<0||H.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<Z+(K||0))throw new RangeError('"length" is outside of buffer bounds');let N;return Z===void 0&&K===void 0?N=new Uint8Array(H):K===void 0?N=new Uint8Array(H,Z):N=new Uint8Array(H,Z,K),Object.setPrototypeOf(N,z.prototype),N}function F(H){if(z.isBuffer(H)){let Z=A(H.length)|0,K=q(Z);return K.length===0||H.copy(K,0,0,Z),K}if(H.length!==void 0)return typeof H.length!="number"||h1(H.length)?q(0):x(H);if(H.type==="Buffer"&&Array.isArray(H.data))return x(H.data)}function A(H){if(H>=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+X.toString(16)+" bytes");return H|0}function M(H){return+H!=H&&(H=0),z.alloc(+H)}z.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==z.prototype},z.compare=function(H,Z){if(C0(H,Uint8Array)&&(H=z.from(H,H.offset,H.byteLength)),C0(Z,Uint8Array)&&(Z=z.from(Z,Z.offset,Z.byteLength)),!z.isBuffer(H)||!z.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===Z)return 0;let K=H.length,N=Z.length;for(let S=0,c=Math.min(K,N);S<c;++S)if(H[S]!==Z[S]){K=H[S],N=Z[S];break}return K<N?-1:N<K?1:0},z.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},z.concat=function(H,Z){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return z.alloc(0);let K;if(Z===void 0)for(Z=0,K=0;K<H.length;++K)Z+=H[K].length;let N=z.allocUnsafe(Z),S=0;for(K=0;K<H.length;++K){let c=H[K];if(C0(c,Uint8Array))S+c.length>N.length?(z.isBuffer(c)||(c=z.from(c)),c.copy(N,S)):Uint8Array.prototype.set.call(N,c,S);else if(z.isBuffer(c))c.copy(N,S);else throw new TypeError('"list" argument must be an Array of Buffers');S+=c.length}return N};function L(H,Z){if(z.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||C0(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);let K=H.length,N=arguments.length>2&&arguments[2]===!0;if(!N&&K===0)return 0;let S=!1;for(;;)switch(Z){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return u(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return R0(H).length;default:if(S)return N?-1:u(H).length;Z=(""+Z).toLowerCase(),S=!0}}z.byteLength=L;function $(H,Z,K){let N=!1;if((Z===void 0||Z<0)&&(Z=0),Z>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,Z>>>=0,K<=Z))return"";for(H||(H="utf8");;)switch(H){case"hex":return X0(this,Z,K);case"utf8":case"utf-8":return s(this,Z,K);case"ascii":return o(this,Z,K);case"latin1":case"binary":return a(this,Z,K);case"base64":return m(this,Z,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i(this,Z,K);default:if(N)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),N=!0}}z.prototype._isBuffer=!0;function I(H,Z,K){let N=H[Z];H[Z]=H[K],H[K]=N}z.prototype.swap16=function(){let H=this.length;if(H%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Z=0;Z<H;Z+=2)I(this,Z,Z+1);return this},z.prototype.swap32=function(){let H=this.length;if(H%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Z=0;Z<H;Z+=4)I(this,Z,Z+3),I(this,Z+1,Z+2);return this},z.prototype.swap64=function(){let H=this.length;if(H%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Z=0;Z<H;Z+=8)I(this,Z,Z+7),I(this,Z+1,Z+6),I(this,Z+2,Z+5),I(this,Z+3,Z+4);return this},z.prototype.toString=function(){let H=this.length;return H===0?"":arguments.length===0?s(this,0,H):$.apply(this,arguments)},z.prototype.toLocaleString=z.prototype.toString,z.prototype.equals=function(H){if(!z.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H?!0:z.compare(this,H)===0},z.prototype.inspect=function(){let H="",Z=J.INSPECT_MAX_BYTES;return H=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(H+=" ... "),"<Buffer "+H+">"},Y&&(z.prototype[Y]=z.prototype.inspect),z.prototype.compare=function(H,Z,K,N,S){if(C0(H,Uint8Array)&&(H=z.from(H,H.offset,H.byteLength)),!z.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(Z===void 0&&(Z=0),K===void 0&&(K=H?H.length:0),N===void 0&&(N=0),S===void 0&&(S=this.length),Z<0||K>H.length||N<0||S>this.length)throw new RangeError("out of range index");if(N>=S&&Z>=K)return 0;if(N>=S)return-1;if(Z>=K)return 1;if(Z>>>=0,K>>>=0,N>>>=0,S>>>=0,this===H)return 0;let c=S-N,e=K-Z,A0=Math.min(c,e),z1=this.slice(N,S),y0=H.slice(Z,K);for(let P0=0;P0<A0;++P0)if(z1[P0]!==y0[P0]){c=z1[P0],e=y0[P0];break}return c<e?-1:e<c?1:0};function D(H,Z,K,N,S){if(H.length===0)return-1;if(typeof K=="string"?(N=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,h1(K)&&(K=S?0:H.length-1),K<0&&(K=H.length+K),K>=H.length){if(S)return-1;K=H.length-1}else if(K<0)if(S)K=0;else return-1;if(typeof Z=="string"&&(Z=z.from(Z,N)),z.isBuffer(Z))return Z.length===0?-1:k(H,Z,K,N,S);if(typeof Z=="number")return Z=Z&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(H,Z,K):Uint8Array.prototype.lastIndexOf.call(H,Z,K):k(H,[Z],K,N,S);throw new TypeError("val must be string, number or Buffer")}function k(H,Z,K,N,S){let c=1,e=H.length,A0=Z.length;if(N!==void 0&&(N=String(N).toLowerCase(),N==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(H.length<2||Z.length<2)return-1;c=2,e/=2,A0/=2,K/=2}function z1(P0,a0){return c===1?P0[a0]:P0.readUInt16BE(a0*c)}let y0;if(S){let P0=-1;for(y0=K;y0<e;y0++)if(z1(H,y0)===z1(Z,P0===-1?0:y0-P0)){if(P0===-1&&(P0=y0),y0-P0+1===A0)return P0*c}else P0!==-1&&(y0-=y0-P0),P0=-1}else for(K+A0>e&&(K=e-A0),y0=K;y0>=0;y0--){let P0=!0;for(let a0=0;a0<A0;a0++)if(z1(H,y0+a0)!==z1(Z,a0)){P0=!1;break}if(P0)return y0}return-1}z.prototype.includes=function(H,Z,K){return this.indexOf(H,Z,K)!==-1},z.prototype.indexOf=function(H,Z,K){return D(this,H,Z,K,!0)},z.prototype.lastIndexOf=function(H,Z,K){return D(this,H,Z,K,!1)};function P(H,Z,K,N){K=Number(K)||0;let S=H.length-K;N?(N=Number(N),N>S&&(N=S)):N=S;let c=Z.length;N>c/2&&(N=c/2);let e;for(e=0;e<N;++e){let A0=parseInt(Z.substr(e*2,2),16);if(h1(A0))return e;H[K+e]=A0}return e}function _(H,Z,K,N){return H0(u(Z,H.length-K),H,K,N)}function v(H,Z,K,N){return H0(J0(Z),H,K,N)}function h(H,Z,K,N){return H0(R0(Z),H,K,N)}function C(H,Z,K,N){return H0(w0(Z,H.length-K),H,K,N)}z.prototype.write=function(H,Z,K,N){if(Z===void 0)N="utf8",K=this.length,Z=0;else if(K===void 0&&typeof Z=="string")N=Z,K=this.length,Z=0;else if(isFinite(Z))Z=Z>>>0,isFinite(K)?(K=K>>>0,N===void 0&&(N="utf8")):(N=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let S=this.length-Z;if((K===void 0||K>S)&&(K=S),H.length>0&&(K<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");let c=!1;for(;;)switch(N){case"hex":return P(this,H,Z,K);case"utf8":case"utf-8":return _(this,H,Z,K);case"ascii":case"latin1":case"binary":return v(this,H,Z,K);case"base64":return h(this,H,Z,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,H,Z,K);default:if(c)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),c=!0}},z.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(H,Z,K){return Z===0&&K===H.length?w.fromByteArray(H):w.fromByteArray(H.slice(Z,K))}function s(H,Z,K){K=Math.min(H.length,K);let N=[],S=Z;for(;S<K;){let c=H[S],e=null,A0=c>239?4:c>223?3:c>191?2:1;if(S+A0<=K){let z1,y0,P0,a0;switch(A0){case 1:c<128&&(e=c);break;case 2:z1=H[S+1],(z1&192)===128&&(a0=(c&31)<<6|z1&63,a0>127&&(e=a0));break;case 3:z1=H[S+1],y0=H[S+2],(z1&192)===128&&(y0&192)===128&&(a0=(c&15)<<12|(z1&63)<<6|y0&63,a0>2047&&(a0<55296||a0>57343)&&(e=a0));break;case 4:z1=H[S+1],y0=H[S+2],P0=H[S+3],(z1&192)===128&&(y0&192)===128&&(P0&192)===128&&(a0=(c&15)<<18|(z1&63)<<12|(y0&63)<<6|P0&63,a0>65535&&a0<1114112&&(e=a0))}}e===null?(e=65533,A0=1):e>65535&&(e-=65536,N.push(e>>>10&1023|55296),e=56320|e&1023),N.push(e),S+=A0}return l(N)}var g=4096;function l(H){let Z=H.length;if(Z<=g)return String.fromCharCode.apply(String,H);let K="",N=0;for(;N<Z;)K+=String.fromCharCode.apply(String,H.slice(N,N+=g));return K}function o(H,Z,K){let N="";K=Math.min(H.length,K);for(let S=Z;S<K;++S)N+=String.fromCharCode(H[S]&127);return N}function a(H,Z,K){let N="";K=Math.min(H.length,K);for(let S=Z;S<K;++S)N+=String.fromCharCode(H[S]);return N}function X0(H,Z,K){let N=H.length;(!Z||Z<0)&&(Z=0),(!K||K<0||K>N)&&(K=N);let S="";for(let c=Z;c<K;++c)S+=V5[H[c]];return S}function i(H,Z,K){let N=H.slice(Z,K),S="";for(let c=0;c<N.length-1;c+=2)S+=String.fromCharCode(N[c]+N[c+1]*256);return S}z.prototype.slice=function(H,Z){let K=this.length;H=~~H,Z=Z===void 0?K:~~Z,H<0?(H+=K,H<0&&(H=0)):H>K&&(H=K),Z<0?(Z+=K,Z<0&&(Z=0)):Z>K&&(Z=K),Z<H&&(Z=H);let N=this.subarray(H,Z);return Object.setPrototypeOf(N,z.prototype),N};function n(H,Z,K){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+Z>K)throw new RangeError("Trying to access beyond buffer length")}z.prototype.readUintLE=z.prototype.readUIntLE=function(H,Z,K){H=H>>>0,Z=Z>>>0,K||n(H,Z,this.length);let N=this[H],S=1,c=0;for(;++c<Z&&(S*=256);)N+=this[H+c]*S;return N},z.prototype.readUintBE=z.prototype.readUIntBE=function(H,Z,K){H=H>>>0,Z=Z>>>0,K||n(H,Z,this.length);let N=this[H+--Z],S=1;for(;Z>0&&(S*=256);)N+=this[H+--Z]*S;return N},z.prototype.readUint8=z.prototype.readUInt8=function(H,Z){return H=H>>>0,Z||n(H,1,this.length),this[H]},z.prototype.readUint16LE=z.prototype.readUInt16LE=function(H,Z){return H=H>>>0,Z||n(H,2,this.length),this[H]|this[H+1]<<8},z.prototype.readUint16BE=z.prototype.readUInt16BE=function(H,Z){return H=H>>>0,Z||n(H,2,this.length),this[H]<<8|this[H+1]},z.prototype.readUint32LE=z.prototype.readUInt32LE=function(H,Z){return H=H>>>0,Z||n(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+this[H+3]*16777216},z.prototype.readUint32BE=z.prototype.readUInt32BE=function(H,Z){return H=H>>>0,Z||n(H,4,this.length),this[H]*16777216+(this[H+1]<<16|this[H+2]<<8|this[H+3])},z.prototype.readBigUInt64LE=d0(function(H){H=H>>>0,m0(H,"offset");let Z=this[H],K=this[H+7];(Z===void 0||K===void 0)&&p(H,this.length-8);let N=Z+this[++H]*256+this[++H]*65536+this[++H]*16777216,S=this[++H]+this[++H]*256+this[++H]*65536+K*16777216;return BigInt(N)+(BigInt(S)<<BigInt(32))}),z.prototype.readBigUInt64BE=d0(function(H){H=H>>>0,m0(H,"offset");let Z=this[H],K=this[H+7];(Z===void 0||K===void 0)&&p(H,this.length-8);let N=Z*16777216+this[++H]*65536+this[++H]*256+this[++H],S=this[++H]*16777216+this[++H]*65536+this[++H]*256+K;return(BigInt(N)<<BigInt(32))+BigInt(S)}),z.prototype.readIntLE=function(H,Z,K){H=H>>>0,Z=Z>>>0,K||n(H,Z,this.length);let N=this[H],S=1,c=0;for(;++c<Z&&(S*=256);)N+=this[H+c]*S;return S*=128,N>=S&&(N-=Math.pow(2,8*Z)),N},z.prototype.readIntBE=function(H,Z,K){H=H>>>0,Z=Z>>>0,K||n(H,Z,this.length);let N=Z,S=1,c=this[H+--N];for(;N>0&&(S*=256);)c+=this[H+--N]*S;return S*=128,c>=S&&(c-=Math.pow(2,8*Z)),c},z.prototype.readInt8=function(H,Z){return H=H>>>0,Z||n(H,1,this.length),this[H]&128?(255-this[H]+1)*-1:this[H]},z.prototype.readInt16LE=function(H,Z){H=H>>>0,Z||n(H,2,this.length);let K=this[H]|this[H+1]<<8;return K&32768?K|4294901760:K},z.prototype.readInt16BE=function(H,Z){H=H>>>0,Z||n(H,2,this.length);let K=this[H+1]|this[H]<<8;return K&32768?K|4294901760:K},z.prototype.readInt32LE=function(H,Z){return H=H>>>0,Z||n(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},z.prototype.readInt32BE=function(H,Z){return H=H>>>0,Z||n(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},z.prototype.readBigInt64LE=d0(function(H){H=H>>>0,m0(H,"offset");let Z=this[H],K=this[H+7];(Z===void 0||K===void 0)&&p(H,this.length-8);let N=this[H+4]+this[H+5]*256+this[H+6]*65536+(K<<24);return(BigInt(N)<<BigInt(32))+BigInt(Z+this[++H]*256+this[++H]*65536+this[++H]*16777216)}),z.prototype.readBigInt64BE=d0(function(H){H=H>>>0,m0(H,"offset");let Z=this[H],K=this[H+7];(Z===void 0||K===void 0)&&p(H,this.length-8);let N=(Z<<24)+this[++H]*65536+this[++H]*256+this[++H];return(BigInt(N)<<BigInt(32))+BigInt(this[++H]*16777216+this[++H]*65536+this[++H]*256+K)}),z.prototype.readFloatLE=function(H,Z){return H=H>>>0,Z||n(H,4,this.length),G.read(this,H,!0,23,4)},z.prototype.readFloatBE=function(H,Z){return H=H>>>0,Z||n(H,4,this.length),G.read(this,H,!1,23,4)},z.prototype.readDoubleLE=function(H,Z){return H=H>>>0,Z||n(H,8,this.length),G.read(this,H,!0,52,8)},z.prototype.readDoubleBE=function(H,Z){return H=H>>>0,Z||n(H,8,this.length),G.read(this,H,!1,52,8)};function y(H,Z,K,N,S,c){if(!z.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(Z>S||Z<c)throw new RangeError('"value" argument is out of bounds');if(K+N>H.length)throw new RangeError("Index out of range")}z.prototype.writeUintLE=z.prototype.writeUIntLE=function(H,Z,K,N){if(H=+H,Z=Z>>>0,K=K>>>0,!N){let e=Math.pow(2,8*K)-1;y(this,H,Z,K,e,0)}let S=1,c=0;for(this[Z]=H&255;++c<K&&(S*=256);)this[Z+c]=H/S&255;return Z+K},z.prototype.writeUintBE=z.prototype.writeUIntBE=function(H,Z,K,N){if(H=+H,Z=Z>>>0,K=K>>>0,!N){let e=Math.pow(2,8*K)-1;y(this,H,Z,K,e,0)}let S=K-1,c=1;for(this[Z+S]=H&255;--S>=0&&(c*=256);)this[Z+S]=H/c&255;return Z+K},z.prototype.writeUint8=z.prototype.writeUInt8=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,1,255,0),this[Z]=H&255,Z+1},z.prototype.writeUint16LE=z.prototype.writeUInt16LE=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,2,65535,0),this[Z]=H&255,this[Z+1]=H>>>8,Z+2},z.prototype.writeUint16BE=z.prototype.writeUInt16BE=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,2,65535,0),this[Z]=H>>>8,this[Z+1]=H&255,Z+2},z.prototype.writeUint32LE=z.prototype.writeUInt32LE=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,4,4294967295,0),this[Z+3]=H>>>24,this[Z+2]=H>>>16,this[Z+1]=H>>>8,this[Z]=H&255,Z+4},z.prototype.writeUint32BE=z.prototype.writeUInt32BE=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,4,4294967295,0),this[Z]=H>>>24,this[Z+1]=H>>>16,this[Z+2]=H>>>8,this[Z+3]=H&255,Z+4};function t(H,Z,K,N,S){q0(Z,N,S,H,K,7);let c=Number(Z&BigInt(4294967295));H[K++]=c,c=c>>8,H[K++]=c,c=c>>8,H[K++]=c,c=c>>8,H[K++]=c;let e=Number(Z>>BigInt(32)&BigInt(4294967295));return H[K++]=e,e=e>>8,H[K++]=e,e=e>>8,H[K++]=e,e=e>>8,H[K++]=e,K}function Y0(H,Z,K,N,S){q0(Z,N,S,H,K,7);let c=Number(Z&BigInt(4294967295));H[K+7]=c,c=c>>8,H[K+6]=c,c=c>>8,H[K+5]=c,c=c>>8,H[K+4]=c;let e=Number(Z>>BigInt(32)&BigInt(4294967295));return H[K+3]=e,e=e>>8,H[K+2]=e,e=e>>8,H[K+1]=e,e=e>>8,H[K]=e,K+8}z.prototype.writeBigUInt64LE=d0(function(H,Z=0){return t(this,H,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),z.prototype.writeBigUInt64BE=d0(function(H,Z=0){return Y0(this,H,Z,BigInt(0),BigInt("0xffffffffffffffff"))}),z.prototype.writeIntLE=function(H,Z,K,N){if(H=+H,Z=Z>>>0,!N){let A0=Math.pow(2,8*K-1);y(this,H,Z,K,A0-1,-A0)}let S=0,c=1,e=0;for(this[Z]=H&255;++S<K&&(c*=256);)H<0&&e===0&&this[Z+S-1]!==0&&(e=1),this[Z+S]=(H/c>>0)-e&255;return Z+K},z.prototype.writeIntBE=function(H,Z,K,N){if(H=+H,Z=Z>>>0,!N){let A0=Math.pow(2,8*K-1);y(this,H,Z,K,A0-1,-A0)}let S=K-1,c=1,e=0;for(this[Z+S]=H&255;--S>=0&&(c*=256);)H<0&&e===0&&this[Z+S+1]!==0&&(e=1),this[Z+S]=(H/c>>0)-e&255;return Z+K},z.prototype.writeInt8=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,1,127,-128),H<0&&(H=255+H+1),this[Z]=H&255,Z+1},z.prototype.writeInt16LE=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,2,32767,-32768),this[Z]=H&255,this[Z+1]=H>>>8,Z+2},z.prototype.writeInt16BE=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,2,32767,-32768),this[Z]=H>>>8,this[Z+1]=H&255,Z+2},z.prototype.writeInt32LE=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,4,2147483647,-2147483648),this[Z]=H&255,this[Z+1]=H>>>8,this[Z+2]=H>>>16,this[Z+3]=H>>>24,Z+4},z.prototype.writeInt32BE=function(H,Z,K){return H=+H,Z=Z>>>0,K||y(this,H,Z,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[Z]=H>>>24,this[Z+1]=H>>>16,this[Z+2]=H>>>8,this[Z+3]=H&255,Z+4},z.prototype.writeBigInt64LE=d0(function(H,Z=0){return t(this,H,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),z.prototype.writeBigInt64BE=d0(function(H,Z=0){return Y0(this,H,Z,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z0(H,Z,K,N,S,c){if(K+N>H.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function x0(H,Z,K,N,S){return Z=+Z,K=K>>>0,S||Z0(H,Z,K,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),G.write(H,Z,K,N,23,4),K+4}z.prototype.writeFloatLE=function(H,Z,K){return x0(this,H,Z,!0,K)},z.prototype.writeFloatBE=function(H,Z,K){return x0(this,H,Z,!1,K)};function z0(H,Z,K,N,S){return Z=+Z,K=K>>>0,S||Z0(H,Z,K,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),G.write(H,Z,K,N,52,8),K+8}z.prototype.writeDoubleLE=function(H,Z,K){return z0(this,H,Z,!0,K)},z.prototype.writeDoubleBE=function(H,Z,K){return z0(this,H,Z,!1,K)},z.prototype.copy=function(H,Z,K,N){if(!z.isBuffer(H))throw new TypeError("argument should be a Buffer");if(K||(K=0),!N&&N!==0&&(N=this.length),Z>=H.length&&(Z=H.length),Z||(Z=0),N>0&&N<K&&(N=K),N===K||H.length===0||this.length===0)return 0;if(Z<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),H.length-Z<N-K&&(N=H.length-Z+K);let S=N-K;return this===H&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Z,K,N):Uint8Array.prototype.set.call(H,this.subarray(K,N),Z),S},z.prototype.fill=function(H,Z,K,N){if(typeof H=="string"){if(typeof Z=="string"?(N=Z,Z=0,K=this.length):typeof K=="string"&&(N=K,K=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!z.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(H.length===1){let c=H.charCodeAt(0);(N==="utf8"&&c<128||N==="latin1")&&(H=c)}}else typeof H=="number"?H=H&255:typeof H=="boolean"&&(H=Number(H));if(Z<0||this.length<Z||this.length<K)throw new RangeError("Out of range index");if(K<=Z)return this;Z=Z>>>0,K=K===void 0?this.length:K>>>0,H||(H=0);let S;if(typeof H=="number")for(S=Z;S<K;++S)this[S]=H;else{let c=z.isBuffer(H)?H:z.from(H,N),e=c.length;if(e===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(S=0;S<K-Z;++S)this[S+Z]=c[S%e]}return this};var M0={};function W0(H,Z,K){M0[H]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:Z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(N){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:N,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}W0("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W0("ERR_INVALID_ARG_TYPE",function(H,Z){return`The "${H}" argument must be of type number. Received type ${typeof Z}`},TypeError),W0("ERR_OUT_OF_RANGE",function(H,Z,K){let N=`The value of "${H}" is out of range.`,S=K;return Number.isInteger(K)&&Math.abs(K)>4294967296?S=K0(String(K)):typeof K=="bigint"&&(S=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(S=K0(S)),S+="n"),N+=` It must be ${Z}. Received ${S}`,N},RangeError);function K0(H){let Z="",K=H.length,N=H[0]==="-"?1:0;for(;K>=N+4;K-=3)Z=`_${H.slice(K-3,K)}${Z}`;return`${H.slice(0,K)}${Z}`}function E0(H,Z,K){m0(Z,"offset"),(H[Z]===void 0||H[Z+K]===void 0)&&p(Z,H.length-(K+1))}function q0(H,Z,K,N,S,c){if(H>K||H<Z){let e=typeof Z=="bigint"?"n":"",A0;throw c>3?Z===0||Z===BigInt(0)?A0=`>= 0${e} and < 2${e} ** ${(c+1)*8}${e}`:A0=`>= -(2${e} ** ${(c+1)*8-1}${e}) and < 2 ** ${(c+1)*8-1}${e}`:A0=`>= ${Z}${e} and <= ${K}${e}`,new M0.ERR_OUT_OF_RANGE("value",A0,H)}E0(N,S,c)}function m0(H,Z){if(typeof H!="number")throw new M0.ERR_INVALID_ARG_TYPE(Z,"number",H)}function p(H,Z,K){throw Math.floor(H)!==H?(m0(H,K),new M0.ERR_OUT_OF_RANGE(K||"offset","an integer",H)):Z<0?new M0.ERR_BUFFER_OUT_OF_BOUNDS:new M0.ERR_OUT_OF_RANGE(K||"offset",`>= ${K?1:0} and <= ${Z}`,H)}var T=/[^+/0-9A-Za-z-_]/g;function b(H){if(H=H.split("=")[0],H=H.trim().replace(T,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function u(H,Z){Z=Z||1/0;let K,N=H.length,S=null,c=[];for(let e=0;e<N;++e){if(K=H.charCodeAt(e),K>55295&&K<57344){if(!S){if(K>56319){(Z-=3)>-1&&c.push(239,191,189);continue}else if(e+1===N){(Z-=3)>-1&&c.push(239,191,189);continue}S=K;continue}if(K<56320){(Z-=3)>-1&&c.push(239,191,189),S=K;continue}K=(S-55296<<10|K-56320)+65536}else S&&(Z-=3)>-1&&c.push(239,191,189);if(S=null,K<128){if((Z-=1)<0)break;c.push(K)}else if(K<2048){if((Z-=2)<0)break;c.push(K>>6|192,K&63|128)}else if(K<65536){if((Z-=3)<0)break;c.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((Z-=4)<0)break;c.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return c}function J0(H){let Z=[];for(let K=0;K<H.length;++K)Z.push(H.charCodeAt(K)&255);return Z}function w0(H,Z){let K,N,S,c=[];for(let e=0;e<H.length&&!((Z-=2)<0);++e)K=H.charCodeAt(e),N=K>>8,S=K%256,c.push(S),c.push(N);return c}function R0(H){return w.toByteArray(b(H))}function H0(H,Z,K,N){let S;for(S=0;S<N&&!(S+K>=Z.length||S>=H.length);++S)Z[S+K]=H[S];return S}function C0(H,Z){return H instanceof Z||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===Z.name}function h1(H){return H!==H}var V5=function(){let H="0123456789abcdef",Z=new Array(256);for(let K=0;K<16;++K){let N=K*16;for(let S=0;S<16;++S)Z[N+S]=H[K]+H[S]}return Z}();function d0(H){return typeof BigInt>"u"?y3:H}function y3(){throw new Error("BigInt not supported")}}),B1=I0((J,w)=>{w.exports={ArrayIsArray(G){return Array.isArray(G)},ArrayPrototypeIncludes(G,Y){return G.includes(Y)},ArrayPrototypeIndexOf(G,Y){return G.indexOf(Y)},ArrayPrototypeJoin(G,Y){return G.join(Y)},ArrayPrototypeMap(G,Y){return G.map(Y)},ArrayPrototypePop(G,Y){return G.pop(Y)},ArrayPrototypePush(G,Y){return G.push(Y)},ArrayPrototypeSlice(G,Y,X){return G.slice(Y,X)},Error,FunctionPrototypeCall(G,Y,...X){return G.call(Y,...X)},FunctionPrototypeSymbolHasInstance(G,Y){return Function.prototype[Symbol.hasInstance].call(G,Y)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(G,Y){return Object.defineProperties(G,Y)},ObjectDefineProperty(G,Y,X){return Object.defineProperty(G,Y,X)},ObjectGetOwnPropertyDescriptor(G,Y){return Object.getOwnPropertyDescriptor(G,Y)},ObjectKeys(G){return Object.keys(G)},ObjectSetPrototypeOf(G,Y){return Object.setPrototypeOf(G,Y)},Promise,PromisePrototypeCatch(G,Y){return G.catch(Y)},PromisePrototypeThen(G,Y,X){return G.then(Y,X)},PromiseReject(G){return Promise.reject(G)},ReflectApply:Reflect.apply,RegExpPrototypeTest(G,Y){return G.test(Y)},SafeSet:Set,String,StringPrototypeSlice(G,Y,X){return G.slice(Y,X)},StringPrototypeToLowerCase(G){return G.toLowerCase()},StringPrototypeToUpperCase(G){return G.toUpperCase()},StringPrototypeTrim(G){return G.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(G,Y,X){return G.set(Y,X)},Uint8Array}}),g5=I0((J,w)=>{var G=I6(),Y=Object.getPrototypeOf(async function(){}).constructor,X=globalThis.Blob||G.Blob,Q=typeof X<"u"?function(z){return z instanceof X}:function(z){return!1},q=class extends Error{constructor(z){if(!Array.isArray(z))throw new TypeError(`Expected input to be an Array, got ${typeof z}`);let U="";for(let W=0;W<z.length;W++)U+=`    ${z[W].stack}
`;super(U),this.name="AggregateError",this.errors=z}};w.exports={AggregateError:q,kEmptyObject:Object.freeze({}),once(z){let U=!1;return function(...W){U||(U=!0,z.apply(this,W))}},createDeferredPromise:function(){let z,U;return{promise:new Promise((W,V)=>{z=W,U=V}),resolve:z,reject:U}},promisify(z){return new Promise((U,W)=>{z((V,...j)=>V?W(V):U(...j))})},debuglog(){return function(){}},format(z,...U){return z.replace(/%([sdifj])/g,function(...[W,V]){let j=U.shift();return V==="f"?j.toFixed(6):V==="j"?JSON.stringify(j):V==="s"&&typeof j=="object"?`${j.constructor!==Object?j.constructor.name:""} {}`.trim():j.toString()})},inspect(z){switch(typeof z){case"string":if(z.includes("'"))if(z.includes('"')){if(!z.includes("`")&&!z.includes("${"))return`\`${z}\``}else return`"${z}"`;return`'${z}'`;case"number":return isNaN(z)?"NaN":Object.is(z,-0)?String(z):z;case"bigint":return`${String(z)}n`;case"boolean":case"undefined":return String(z);case"object":return"{}"}},types:{isAsyncFunction(z){return z instanceof Y},isArrayBufferView(z){return ArrayBuffer.isView(z)}},isBlob:Q},w.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),RQ=I0((J,w)=>{var{AbortController:G,AbortSignal:Y}=typeof self<"u"?self:typeof window<"u"?window:void 0;w.exports=G,w.exports.AbortSignal=Y,w.exports.default=G}),u1=I0((J,w)=>{var{format:G,inspect:Y,AggregateError:X}=g5(),Q=globalThis.AggregateError||X,q=Symbol("kIsNodeError"),z=["string","function","number","object","Function","Object","boolean","bigint","symbol"],U=/^([A-Z][a-z0-9]*)+$/,W="__node_internal_",V={};function j(M,L){if(!M)throw new V.ERR_INTERNAL_ASSERTION(L)}function B(M){let L="",$=M.length,I=M[0]==="-"?1:0;for(;$>=I+4;$-=3)L=`_${M.slice($-3,$)}${L}`;return`${M.slice(0,$)}${L}`}function x(M,L,$){if(typeof L=="function")return j(L.length<=$.length,`Code: ${M}; The provided arguments length (${$.length}) does not match the required ones (${L.length}).`),L(...$);let I=(L.match(/%[dfijoOs]/g)||[]).length;return j(I===$.length,`Code: ${M}; The provided arguments length (${$.length}) does not match the required ones (${I}).`),$.length===0?L:G(L,...$)}function O(M,L,$){$||($=Error);class I extends ${constructor(...D){super(x(M,L,D))}toString(){return`${this.name} [${M}]: ${this.message}`}}Object.defineProperties(I.prototype,{name:{value:$.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${M}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),I.prototype.code=M,I.prototype[q]=!0,V[M]=I}function R(M){let L=W+M.name;return Object.defineProperty(M,"name",{value:L}),M}function F(M,L){if(M&&L&&M!==L){if(Array.isArray(L.errors))return L.errors.push(M),L;let $=new Q([L,M],L.message);return $.code=L.code,$}return M||L}var A=class extends Error{constructor(M="The operation was aborted",L=void 0){if(L!==void 0&&typeof L!="object")throw new V.ERR_INVALID_ARG_TYPE("options","Object",L);super(M,L),this.code="ABORT_ERR",this.name="AbortError"}};O("ERR_ASSERTION","%s",Error),O("ERR_INVALID_ARG_TYPE",(M,L,$)=>{j(typeof M=="string","'name' must be a string"),Array.isArray(L)||(L=[L]);let I="The ";M.endsWith(" argument")?I+=`${M} `:I+=`"${M}" ${M.includes(".")?"property":"argument"} `,I+="must be ";let D=[],k=[],P=[];for(let v of L)j(typeof v=="string","All expected entries have to be of type string"),z.includes(v)?D.push(v.toLowerCase()):U.test(v)?k.push(v):(j(v!=="object",'The value "object" should be written as "Object"'),P.push(v));if(k.length>0){let v=D.indexOf("object");v!==-1&&(D.splice(D,v,1),k.push("Object"))}if(D.length>0){switch(D.length){case 1:I+=`of type ${D[0]}`;break;case 2:I+=`one of type ${D[0]} or ${D[1]}`;break;default:{let v=D.pop();I+=`one of type ${D.join(", ")}, or ${v}`}}(k.length>0||P.length>0)&&(I+=" or ")}if(k.length>0){switch(k.length){case 1:I+=`an instance of ${k[0]}`;break;case 2:I+=`an instance of ${k[0]} or ${k[1]}`;break;default:{let v=k.pop();I+=`an instance of ${k.join(", ")}, or ${v}`}}P.length>0&&(I+=" or ")}switch(P.length){case 0:break;case 1:P[0].toLowerCase()!==P[0]&&(I+="an "),I+=`${P[0]}`;break;case 2:I+=`one of ${P[0]} or ${P[1]}`;break;default:{let v=P.pop();I+=`one of ${P.join(", ")}, or ${v}`}}if($==null)I+=`. Received ${$}`;else if(typeof $=="function"&&$.name)I+=`. Received function ${$.name}`;else if(typeof $=="object"){var _;(_=$.constructor)!==null&&_!==void 0&&_.name?I+=`. Received an instance of ${$.constructor.name}`:I+=`. Received ${Y($,{depth:-1})}`}else{let v=Y($,{colors:!1});v.length>25&&(v=`${v.slice(0,25)}...`),I+=`. Received type ${typeof $} (${v})`}return I},TypeError),O("ERR_INVALID_ARG_VALUE",(M,L,$="is invalid")=>{let I=Y(L);return I.length>128&&(I=I.slice(0,128)+"..."),`The ${M.includes(".")?"property":"argument"} '${M}' ${$}. Received ${I}`},TypeError),O("ERR_INVALID_RETURN_VALUE",(M,L,$)=>{var I;let D=$!=null&&(I=$.constructor)!==null&&I!==void 0&&I.name?`instance of ${$.constructor.name}`:`type ${typeof $}`;return`Expected ${M} to be returned from the "${L}" function but got ${D}.`},TypeError),O("ERR_MISSING_ARGS",(...M)=>{j(M.length>0,"At least one arg needs to be specified");let L,$=M.length;switch(M=(Array.isArray(M)?M:[M]).map((I)=>`"${I}"`).join(" or "),$){case 1:L+=`The ${M[0]} argument`;break;case 2:L+=`The ${M[0]} and ${M[1]} arguments`;break;default:{let I=M.pop();L+=`The ${M.join(", ")}, and ${I} arguments`}break}return`${L} must be specified`},TypeError),O("ERR_OUT_OF_RANGE",(M,L,$)=>{j(L,'Missing "range" argument');let I;return Number.isInteger($)&&Math.abs($)>4294967296?I=B(String($)):typeof $=="bigint"?(I=String($),($>2n**32n||$<-(2n**32n))&&(I=B(I)),I+="n"):I=Y($),`The value of "${M}" is out of range. It must be ${L}. Received ${I}`},RangeError),O("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),O("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),O("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),O("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),O("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),O("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),O("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),O("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),O("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),O("ERR_STREAM_WRITE_AFTER_END","write after end",Error),O("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),w.exports={AbortError:A,aggregateTwoErrors:R(F),hideStackFrames:R,codes:V}}),Hw=I0((J,w)=>{var{ArrayIsArray:G,ArrayPrototypeIncludes:Y,ArrayPrototypeJoin:X,ArrayPrototypeMap:Q,NumberIsInteger:q,NumberIsNaN:z,NumberMAX_SAFE_INTEGER:U,NumberMIN_SAFE_INTEGER:W,NumberParseInt:V,ObjectPrototypeHasOwnProperty:j,RegExpPrototypeExec:B,String:x,StringPrototypeToUpperCase:O,StringPrototypeTrim:R}=B1(),{hideStackFrames:F,codes:{ERR_SOCKET_BAD_PORT:A,ERR_INVALID_ARG_TYPE:M,ERR_INVALID_ARG_VALUE:L,ERR_OUT_OF_RANGE:$,ERR_UNKNOWN_SIGNAL:I}}=u1(),{normalizeEncoding:D}=g5(),{isAsyncFunction:k,isArrayBufferView:P}=g5().types,_={};function v(p){return p===(p|0)}function h(p){return p===p>>>0}var C=/^[0-7]+$/,m="must be a 32-bit unsigned integer or an octal string";function s(p,T,b){if(typeof p>"u"&&(p=b),typeof p=="string"){if(B(C,p)===null)throw new L(T,p,m);p=V(p,8)}return o(p,T),p}var g=F((p,T,b=W,u=U)=>{if(typeof p!="number")throw new M(T,"number",p);if(!q(p))throw new $(T,"an integer",p);if(p<b||p>u)throw new $(T,`>= ${b} && <= ${u}`,p)}),l=F((p,T,b=-2147483648,u=2147483647)=>{if(typeof p!="number")throw new M(T,"number",p);if(!q(p))throw new $(T,"an integer",p);if(p<b||p>u)throw new $(T,`>= ${b} && <= ${u}`,p)}),o=F((p,T,b=!1)=>{if(typeof p!="number")throw new M(T,"number",p);if(!q(p))throw new $(T,"an integer",p);let u=b?1:0,J0=4294967295;if(p<u||p>J0)throw new $(T,`>= ${u} && <= ${J0}`,p)});function a(p,T){if(typeof p!="string")throw new M(T,"string",p)}function X0(p,T,b=void 0,u){if(typeof p!="number")throw new M(T,"number",p);if(b!=null&&p<b||u!=null&&p>u||(b!=null||u!=null)&&z(p))throw new $(T,`${b!=null?`>= ${b}`:""}${b!=null&&u!=null?" && ":""}${u!=null?`<= ${u}`:""}`,p)}var i=F((p,T,b)=>{if(!Y(b,p)){let u=X(Q(b,(w0)=>typeof w0=="string"?`'${w0}'`:x(w0)),", "),J0="must be one of: "+u;throw new L(T,p,J0)}});function n(p,T){if(typeof p!="boolean")throw new M(T,"boolean",p)}function y(p,T,b){return p==null||!j(p,T)?b:p[T]}var t=F((p,T,b=null)=>{let u=y(b,"allowArray",!1),J0=y(b,"allowFunction",!1);if(!y(b,"nullable",!1)&&p===null||!u&&G(p)||typeof p!="object"&&(!J0||typeof p!="function"))throw new M(T,"Object",p)}),Y0=F((p,T,b=0)=>{if(!G(p))throw new M(T,"Array",p);if(p.length<b){let u=`must be longer than ${b}`;throw new L(T,p,u)}});function Z0(p,T="signal"){if(a(p,T),_[p]===void 0)throw _[O(p)]!==void 0?new I(p+" (signals must use all capital letters)"):new I(p)}var x0=F((p,T="buffer")=>{if(!P(p))throw new M(T,["Buffer","TypedArray","DataView"],p)});function z0(p,T){let b=D(T),u=p.length;if(b==="hex"&&u%2!==0)throw new L("encoding",T,`is invalid for data of length ${u}`)}function M0(p,T="Port",b=!0){if(typeof p!="number"&&typeof p!="string"||typeof p=="string"&&R(p).length===0||+p!==+p>>>0||p>65535||p===0&&!b)throw new A(T,p,b);return p|0}var W0=F((p,T)=>{if(p!==void 0&&(p===null||typeof p!="object"||!("aborted"in p)))throw new M(T,"AbortSignal",p)}),K0=F((p,T)=>{if(typeof p!="function")throw new M(T,"Function",p)}),E0=F((p,T)=>{if(typeof p!="function"||k(p))throw new M(T,"Function",p)}),q0=F((p,T)=>{if(p!==void 0)throw new M(T,"undefined",p)});function m0(p,T,b){if(!Y(b,p))throw new M(T,`('${X(b,"|")}')`,p)}w.exports={isInt32:v,isUint32:h,parseFileMode:s,validateArray:Y0,validateBoolean:n,validateBuffer:x0,validateEncoding:z0,validateFunction:K0,validateInt32:l,validateInteger:g,validateNumber:X0,validateObject:t,validateOneOf:i,validatePlainFunction:E0,validatePort:M0,validateSignalName:Z0,validateString:a,validateUint32:o,validateUndefined:q0,validateUnion:m0,validateAbortSignal:W0}}),kZ=I0((J,w)=>{var G=w.exports={},Y,X;function Q(){throw new Error("setTimeout has not been defined")}function q(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Y=setTimeout:Y=Q}catch{Y=Q}try{typeof clearTimeout=="function"?X=clearTimeout:X=q}catch{X=q}})();function z(A){if(Y===setTimeout)return setTimeout(A,0);if((Y===Q||!Y)&&setTimeout)return Y=setTimeout,setTimeout(A,0);try{return Y(A,0)}catch{try{return Y.call(null,A,0)}catch{return Y.call(this,A,0)}}}function U(A){if(X===clearTimeout)return clearTimeout(A);if((X===q||!X)&&clearTimeout)return X=clearTimeout,clearTimeout(A);try{return X(A)}catch{try{return X.call(null,A)}catch{return X.call(this,A)}}}var W=[],V=!1,j,B=-1;function x(){!V||!j||(V=!1,j.length?W=j.concat(W):B=-1,W.length&&O())}function O(){if(!V){var A=z(x);V=!0;for(var M=W.length;M;){for(j=W,W=[];++B<M;)j&&j[B].run();B=-1,M=W.length}j=null,V=!1,U(A)}}G.nextTick=function(A){var M=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)M[L-1]=arguments[L];W.push(new R(A,M)),W.length===1&&!V&&z(O)};function R(A,M){this.fun=A,this.array=M}R.prototype.run=function(){this.fun.apply(null,this.array)},G.title="browser",G.browser=!0,G.env={},G.argv=[],G.version="",G.versions={};function F(){}G.on=F,G.addListener=F,G.once=F,G.off=F,G.removeListener=F,G.removeAllListeners=F,G.emit=F,G.prependListener=F,G.prependOnceListener=F,G.listeners=function(A){return[]},G.binding=function(A){throw new Error("process.binding is not supported")},G.cwd=function(){return"/"},G.chdir=function(A){throw new Error("process.chdir is not supported")},G.umask=function(){return 0}}),f5={};CZ(f5,{default:()=>PZ});A8=oO(()=>{NZ(f5,Ww(kZ())),PZ=Ww(kZ())}),O8=I0((J,w)=>{var{Symbol:G,SymbolAsyncIterator:Y,SymbolIterator:X}=B1(),Q=G("kDestroyed"),q=G("kIsErrored"),z=G("kIsReadable"),U=G("kIsDisturbed");function W(g,l=!1){var o;return!!(g&&typeof g.pipe=="function"&&typeof g.on=="function"&&(!l||typeof g.pause=="function"&&typeof g.resume=="function")&&(!g._writableState||((o=g._readableState)===null||o===void 0?void 0:o.readable)!==!1)&&(!g._writableState||g._readableState))}function V(g){var l;return!!(g&&typeof g.write=="function"&&typeof g.on=="function"&&(!g._readableState||((l=g._writableState)===null||l===void 0?void 0:l.writable)!==!1))}function j(g){return!!(g&&typeof g.pipe=="function"&&g._readableState&&typeof g.on=="function"&&typeof g.write=="function")}function B(g){return g&&(g._readableState||g._writableState||typeof g.write=="function"&&typeof g.on=="function"||typeof g.pipe=="function"&&typeof g.on=="function")}function x(g,l){return g==null?!1:l===!0?typeof g[Y]=="function":l===!1?typeof g[X]=="function":typeof g[Y]=="function"||typeof g[X]=="function"}function O(g){if(!B(g))return null;let{_writableState:l,_readableState:o}=g,a=l||o;return!!(g.destroyed||g[Q]||a!=null&&a.destroyed)}function R(g){if(!V(g))return null;if(g.writableEnded===!0)return!0;let l=g._writableState;return l!=null&&l.errored?!1:typeof l?.ended!="boolean"?null:l.ended}function F(g,l){if(!V(g))return null;if(g.writableFinished===!0)return!0;let o=g._writableState;return o!=null&&o.errored?!1:typeof o?.finished!="boolean"?null:!!(o.finished||l===!1&&o.ended===!0&&o.length===0)}function A(g){if(!W(g))return null;if(g.readableEnded===!0)return!0;let l=g._readableState;return!l||l.errored?!1:typeof l?.ended!="boolean"?null:l.ended}function M(g,l){if(!W(g))return null;let o=g._readableState;return o!=null&&o.errored?!1:typeof o?.endEmitted!="boolean"?null:!!(o.endEmitted||l===!1&&o.ended===!0&&o.length===0)}function L(g){return g&&g[z]!=null?g[z]:typeof g?.readable!="boolean"?null:O(g)?!1:W(g)&&g.readable&&!M(g)}function $(g){return typeof g?.writable!="boolean"?null:O(g)?!1:V(g)&&g.writable&&!R(g)}function I(g,l){return B(g)?O(g)?!0:!(l?.readable!==!1&&L(g)||l?.writable!==!1&&$(g)):null}function D(g){var l,o;return B(g)?g.writableErrored?g.writableErrored:(l=(o=g._writableState)===null||o===void 0?void 0:o.errored)!==null&&l!==void 0?l:null:null}function k(g){var l,o;return B(g)?g.readableErrored?g.readableErrored:(l=(o=g._readableState)===null||o===void 0?void 0:o.errored)!==null&&l!==void 0?l:null:null}function P(g){if(!B(g))return null;if(typeof g.closed=="boolean")return g.closed;let{_writableState:l,_readableState:o}=g;return typeof l?.closed=="boolean"||typeof o?.closed=="boolean"?l?.closed||o?.closed:typeof g._closed=="boolean"&&_(g)?g._closed:null}function _(g){return typeof g._closed=="boolean"&&typeof g._defaultKeepAlive=="boolean"&&typeof g._removedConnection=="boolean"&&typeof g._removedContLen=="boolean"}function v(g){return typeof g._sent100=="boolean"&&_(g)}function h(g){var l;return typeof g._consuming=="boolean"&&typeof g._dumped=="boolean"&&((l=g.req)===null||l===void 0?void 0:l.upgradeOrConnect)===void 0}function C(g){if(!B(g))return null;let{_writableState:l,_readableState:o}=g,a=l||o;return!a&&v(g)||!!(a&&a.autoDestroy&&a.emitClose&&a.closed===!1)}function m(g){var l;return!!(g&&((l=g[U])!==null&&l!==void 0?l:g.readableDidRead||g.readableAborted))}function s(g){var l,o,a,X0,i,n,y,t,Y0,Z0;return!!(g&&((l=(o=(a=(X0=(i=(n=g[q])!==null&&n!==void 0?n:g.readableErrored)!==null&&i!==void 0?i:g.writableErrored)!==null&&X0!==void 0?X0:(y=g._readableState)===null||y===void 0?void 0:y.errorEmitted)!==null&&a!==void 0?a:(t=g._writableState)===null||t===void 0?void 0:t.errorEmitted)!==null&&o!==void 0?o:(Y0=g._readableState)===null||Y0===void 0?void 0:Y0.errored)!==null&&l!==void 0?l:(Z0=g._writableState)===null||Z0===void 0?void 0:Z0.errored))}w.exports={kDestroyed:Q,isDisturbed:m,kIsDisturbed:U,isErrored:s,kIsErrored:q,isReadable:L,kIsReadable:z,isClosed:P,isDestroyed:O,isDuplexNodeStream:j,isFinished:I,isIterable:x,isReadableNodeStream:W,isReadableEnded:A,isReadableFinished:M,isReadableErrored:k,isNodeStream:B,isWritable:$,isWritableNodeStream:V,isWritableEnded:R,isWritableFinished:F,isWritableErrored:D,isServerRequest:h,isServerResponse:v,willEmitClose:C}}),R8=I0((J,w)=>{var G=(A8(),$8(f5)),{AbortError:Y,codes:X}=u1(),{ERR_INVALID_ARG_TYPE:Q,ERR_STREAM_PREMATURE_CLOSE:q}=X,{kEmptyObject:z,once:U}=g5(),{validateAbortSignal:W,validateFunction:V,validateObject:j}=Hw(),{Promise:B}=B1(),{isClosed:x,isReadable:O,isReadableNodeStream:R,isReadableFinished:F,isReadableErrored:A,isWritable:M,isWritableNodeStream:L,isWritableFinished:$,isWritableErrored:I,isNodeStream:D,willEmitClose:k}=O8();function P(C){return C.setHeader&&typeof C.abort=="function"}var _=()=>{};function v(C,m,s){var g,l;arguments.length===2?(s=m,m=z):m==null?m=z:j(m,"options"),V(s,"callback"),W(m.signal,"options.signal"),s=U(s);let o=(g=m.readable)!==null&&g!==void 0?g:R(C),a=(l=m.writable)!==null&&l!==void 0?l:L(C);if(!D(C))throw new Q("stream","Stream",C);let{_writableState:X0,_readableState:i}=C,n=()=>{C.writable||Y0()},y=k(C)&&R(C)===o&&L(C)===a,t=$(C,!1),Y0=()=>{t=!0,C.destroyed&&(y=!1),!(y&&(!C.readable||o))&&(!o||Z0)&&s.call(C)},Z0=F(C,!1),x0=()=>{Z0=!0,C.destroyed&&(y=!1),!(y&&(!C.writable||a))&&(!a||t)&&s.call(C)},z0=(q0)=>{s.call(C,q0)},M0=x(C),W0=()=>{M0=!0;let q0=I(C)||A(C);if(q0&&typeof q0!="boolean")return s.call(C,q0);if(o&&!Z0&&R(C,!0)&&!F(C,!1))return s.call(C,new q);if(a&&!t&&!$(C,!1))return s.call(C,new q);s.call(C)},K0=()=>{C.req.on("finish",Y0)};P(C)?(C.on("complete",Y0),y||C.on("abort",W0),C.req?K0():C.on("request",K0)):a&&!X0&&(C.on("end",n),C.on("close",n)),!y&&typeof C.aborted=="boolean"&&C.on("aborted",W0),C.on("end",x0),C.on("finish",Y0),m.error!==!1&&C.on("error",z0),C.on("close",W0),M0?G.nextTick(W0):X0!=null&&X0.errorEmitted||i!=null&&i.errorEmitted?y||G.nextTick(W0):(!o&&(!y||O(C))&&(t||M(C)===!1)||!a&&(!y||M(C))&&(Z0||O(C)===!1)||i&&C.req&&C.aborted)&&G.nextTick(W0);let E0=()=>{s=_,C.removeListener("aborted",W0),C.removeListener("complete",Y0),C.removeListener("abort",W0),C.removeListener("request",K0),C.req&&C.req.removeListener("finish",Y0),C.removeListener("end",n),C.removeListener("close",n),C.removeListener("finish",Y0),C.removeListener("end",x0),C.removeListener("error",z0),C.removeListener("close",W0)};if(m.signal&&!M0){let q0=()=>{let m0=s;E0(),m0.call(C,new Y(void 0,{cause:m.signal.reason}))};if(m.signal.aborted)G.nextTick(q0);else{let m0=s;s=U((...p)=>{m.signal.removeEventListener("abort",q0),m0.apply(C,p)}),m.signal.addEventListener("abort",q0)}}return E0}function h(C,m){return new B((s,g)=>{v(C,m,(l)=>{l?g(l):s()})})}w.exports=v,w.exports.finished=h}),nO=I0((J,w)=>{var G=globalThis.AbortController||RQ().AbortController,{codes:{ERR_INVALID_ARG_TYPE:Y,ERR_MISSING_ARGS:X,ERR_OUT_OF_RANGE:Q},AbortError:q}=u1(),{validateAbortSignal:z,validateInteger:U,validateObject:W}=Hw(),V=B1().Symbol("kWeak"),{finished:j}=R8(),{ArrayPrototypePush:B,MathFloor:x,Number:O,NumberIsNaN:R,Promise:F,PromiseReject:A,PromisePrototypeThen:M,Symbol:L}=B1(),$=L("kEmpty"),I=L("kEof");function D(i,n){if(typeof i!="function")throw new Y("fn",["Function","AsyncFunction"],i);n!=null&&W(n,"options"),n?.signal!=null&&z(n.signal,"options.signal");let y=1;return n?.concurrency!=null&&(y=x(n.concurrency)),U(y,"concurrency",1),async function*(){var t,Y0;let Z0=new G,x0=this,z0=[],M0=Z0.signal,W0={signal:M0},K0=()=>Z0.abort();n!=null&&(t=n.signal)!==null&&t!==void 0&&t.aborted&&K0(),n==null||(Y0=n.signal)===null||Y0===void 0||Y0.addEventListener("abort",K0);let E0,q0,m0=!1;function p(){m0=!0}async function T(){try{for await(let J0 of x0){var b;if(m0)return;if(M0.aborted)throw new q;try{J0=i(J0,W0)}catch(w0){J0=A(w0)}J0!==$&&(typeof((b=J0)===null||b===void 0?void 0:b.catch)=="function"&&J0.catch(p),z0.push(J0),E0&&(E0(),E0=null),!m0&&z0.length&&z0.length>=y&&await new F((w0)=>{q0=w0}))}z0.push(I)}catch(J0){let w0=A(J0);M(w0,void 0,p),z0.push(w0)}finally{var u;m0=!0,E0&&(E0(),E0=null),n==null||(u=n.signal)===null||u===void 0||u.removeEventListener("abort",K0)}}T();try{for(;;){for(;z0.length>0;){let b=await z0[0];if(b===I)return;if(M0.aborted)throw new q;b!==$&&(yield b),z0.shift(),q0&&(q0(),q0=null)}await new F((b)=>{E0=b})}}finally{Z0.abort(),m0=!0,q0&&(q0(),q0=null)}}.call(this)}function k(i=void 0){return i!=null&&W(i,"options"),i?.signal!=null&&z(i.signal,"options.signal"),async function*(){let n=0;for await(let t of this){var y;if(i!=null&&(y=i.signal)!==null&&y!==void 0&&y.aborted)throw new q({cause:i.signal.reason});yield[n++,t]}}.call(this)}async function P(i,n=void 0){for await(let y of C.call(this,i,n))return!0;return!1}async function _(i,n=void 0){if(typeof i!="function")throw new Y("fn",["Function","AsyncFunction"],i);return!await P.call(this,async(...y)=>!await i(...y),n)}async function v(i,n){for await(let y of C.call(this,i,n))return y}async function h(i,n){if(typeof i!="function")throw new Y("fn",["Function","AsyncFunction"],i);async function y(t,Y0){return await i(t,Y0),$}for await(let t of D.call(this,y,n));}function C(i,n){if(typeof i!="function")throw new Y("fn",["Function","AsyncFunction"],i);async function y(t,Y0){return await i(t,Y0)?t:$}return D.call(this,y,n)}var m=class extends X{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function s(i,n,y){var t;if(typeof i!="function")throw new Y("reducer",["Function","AsyncFunction"],i);y!=null&&W(y,"options"),y?.signal!=null&&z(y.signal,"options.signal");let Y0=arguments.length>1;if(y!=null&&(t=y.signal)!==null&&t!==void 0&&t.aborted){let W0=new q(void 0,{cause:y.signal.reason});throw this.once("error",()=>{}),await j(this.destroy(W0)),W0}let Z0=new G,x0=Z0.signal;if(y!=null&&y.signal){let W0={once:!0,[V]:this};y.signal.addEventListener("abort",()=>Z0.abort(),W0)}let z0=!1;try{for await(let W0 of this){var M0;if(z0=!0,y!=null&&(M0=y.signal)!==null&&M0!==void 0&&M0.aborted)throw new q;Y0?n=await i(n,W0,{signal:x0}):(n=W0,Y0=!0)}if(!z0&&!Y0)throw new m}finally{Z0.abort()}return n}async function g(i){i!=null&&W(i,"options"),i?.signal!=null&&z(i.signal,"options.signal");let n=[];for await(let t of this){var y;if(i!=null&&(y=i.signal)!==null&&y!==void 0&&y.aborted)throw new q(void 0,{cause:i.signal.reason});B(n,t)}return n}function l(i,n){let y=D.call(this,i,n);return async function*(){for await(let t of y)yield*t}.call(this)}function o(i){if(i=O(i),R(i))return 0;if(i<0)throw new Q("number",">= 0",i);return i}function a(i,n=void 0){return n!=null&&W(n,"options"),n?.signal!=null&&z(n.signal,"options.signal"),i=o(i),async function*(){var y;if(n!=null&&(y=n.signal)!==null&&y!==void 0&&y.aborted)throw new q;for await(let Y0 of this){var t;if(n!=null&&(t=n.signal)!==null&&t!==void 0&&t.aborted)throw new q;i--<=0&&(yield Y0)}}.call(this)}function X0(i,n=void 0){return n!=null&&W(n,"options"),n?.signal!=null&&z(n.signal,"options.signal"),i=o(i),async function*(){var y;if(n!=null&&(y=n.signal)!==null&&y!==void 0&&y.aborted)throw new q;for await(let Y0 of this){var t;if(n!=null&&(t=n.signal)!==null&&t!==void 0&&t.aborted)throw new q;if(i-- >0)yield Y0;else return}}.call(this)}w.exports.streamReturningOperators={asIndexedPairs:k,drop:a,filter:C,flatMap:l,map:D,take:X0},w.exports.promiseReturningOperators={every:_,forEach:h,reduce:s,toArray:g,some:P,find:v}}),y7=I0((J,w)=>{var G=(A8(),$8(f5)),{aggregateTwoErrors:Y,codes:{ERR_MULTIPLE_CALLBACK:X},AbortError:Q}=u1(),{Symbol:q}=B1(),{kDestroyed:z,isDestroyed:U,isFinished:W,isServerRequest:V}=O8(),j=q("kDestroy"),B=q("kConstruct");function x(C,m,s){C&&(C.stack,m&&!m.errored&&(m.errored=C),s&&!s.errored&&(s.errored=C))}function O(C,m){let s=this._readableState,g=this._writableState,l=g||s;return g&&g.destroyed||s&&s.destroyed?(typeof m=="function"&&m(),this):(x(C,g,s),g&&(g.destroyed=!0),s&&(s.destroyed=!0),l.constructed?R(this,C,m):this.once(j,function(o){R(this,Y(o,C),m)}),this)}function R(C,m,s){let g=!1;function l(o){if(g)return;g=!0;let{_readableState:a,_writableState:X0}=C;x(o,X0,a),X0&&(X0.closed=!0),a&&(a.closed=!0),typeof s=="function"&&s(o),o?G.nextTick(F,C,o):G.nextTick(A,C)}try{C._destroy(m||null,l)}catch(o){l(o)}}function F(C,m){M(C,m),A(C)}function A(C){let{_readableState:m,_writableState:s}=C;s&&(s.closeEmitted=!0),m&&(m.closeEmitted=!0),(s&&s.emitClose||m&&m.emitClose)&&C.emit("close")}function M(C,m){let{_readableState:s,_writableState:g}=C;g&&g.errorEmitted||s&&s.errorEmitted||(g&&(g.errorEmitted=!0),s&&(s.errorEmitted=!0),C.emit("error",m))}function L(){let C=this._readableState,m=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=C.readable===!1,C.endEmitted=C.readable===!1),m&&(m.constructed=!0,m.destroyed=!1,m.closed=!1,m.closeEmitted=!1,m.errored=null,m.errorEmitted=!1,m.finalCalled=!1,m.prefinished=!1,m.ended=m.writable===!1,m.ending=m.writable===!1,m.finished=m.writable===!1)}function $(C,m,s){let{_readableState:g,_writableState:l}=C;if(l&&l.destroyed||g&&g.destroyed)return this;g&&g.autoDestroy||l&&l.autoDestroy?C.destroy(m):m&&(m.stack,l&&!l.errored&&(l.errored=m),g&&!g.errored&&(g.errored=m),s?G.nextTick(M,C,m):M(C,m))}function I(C,m){if(typeof C._construct!="function")return;let{_readableState:s,_writableState:g}=C;s&&(s.constructed=!1),g&&(g.constructed=!1),C.once(B,m),!(C.listenerCount(B)>1)&&G.nextTick(D,C)}function D(C){let m=!1;function s(g){if(m){$(C,g??new X);return}m=!0;let{_readableState:l,_writableState:o}=C,a=o||l;l&&(l.constructed=!0),o&&(o.constructed=!0),a.destroyed?C.emit(j,g):g?$(C,g,!0):G.nextTick(k,C)}try{C._construct(s)}catch(g){s(g)}}function k(C){C.emit(B)}function P(C){return C&&C.setHeader&&typeof C.abort=="function"}function _(C){C.emit("close")}function v(C,m){C.emit("error",m),G.nextTick(_,C)}function h(C,m){!C||U(C)||(!m&&!W(C)&&(m=new Q),V(C)?(C.socket=null,C.destroy(m)):P(C)?C.abort():P(C.req)?C.req.abort():typeof C.destroy=="function"?C.destroy(m):typeof C.close=="function"?C.close():m?G.nextTick(v,C,m):G.nextTick(_,C),C.destroyed||(C[z]=!0))}w.exports={construct:I,destroyer:h,destroy:O,undestroy:L,errorOrDestroy:$}}),DQ=I0((J,w)=>{var G=typeof Reflect=="object"?Reflect:null,Y=G&&typeof G.apply=="function"?G.apply:function(D,k,P){return Function.prototype.apply.call(D,k,P)},X;G&&typeof G.ownKeys=="function"?X=G.ownKeys:Object.getOwnPropertySymbols?X=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:X=function(D){return Object.getOwnPropertyNames(D)};function Q(D){console&&console.warn&&console.warn(D)}var q=Number.isNaN||function(D){return D!==D};function z(){z.init.call(this)}w.exports=z,w.exports.once=L,z.EventEmitter=z,z.prototype._events=void 0,z.prototype._eventsCount=0,z.prototype._maxListeners=void 0;var U=10;function W(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(z,"defaultMaxListeners",{enumerable:!0,get:function(){return U},set:function(D){if(typeof D!="number"||D<0||q(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");U=D}}),z.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},z.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||q(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function V(D){return D._maxListeners===void 0?z.defaultMaxListeners:D._maxListeners}z.prototype.getMaxListeners=function(){return V(this)},z.prototype.emit=function(D){for(var k=[],P=1;P<arguments.length;P++)k.push(arguments[P]);var _=D==="error",v=this._events;if(v!==void 0)_=_&&v.error===void 0;else if(!_)return!1;if(_){var h;if(k.length>0&&(h=k[0]),h instanceof Error)throw h;var C=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw C.context=h,C}var m=v[D];if(m===void 0)return!1;if(typeof m=="function")Y(m,this,k);else for(var s=m.length,g=F(m,s),P=0;P<s;++P)Y(g[P],this,k);return!0};function j(D,k,P,_){var v,h,C;if(W(P),h=D._events,h===void 0?(h=D._events=Object.create(null),D._eventsCount=0):(h.newListener!==void 0&&(D.emit("newListener",k,P.listener?P.listener:P),h=D._events),C=h[k]),C===void 0)C=h[k]=P,++D._eventsCount;else if(typeof C=="function"?C=h[k]=_?[P,C]:[C,P]:_?C.unshift(P):C.push(P),v=V(D),v>0&&C.length>v&&!C.warned){C.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=D,m.type=k,m.count=C.length,Q(m)}return D}z.prototype.addListener=function(D,k){return j(this,D,k,!1)},z.prototype.on=z.prototype.addListener,z.prototype.prependListener=function(D,k){return j(this,D,k,!0)};function B(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function x(D,k,P){var _={fired:!1,wrapFn:void 0,target:D,type:k,listener:P},v=B.bind(_);return v.listener=P,_.wrapFn=v,v}z.prototype.once=function(D,k){return W(k),this.on(D,x(this,D,k)),this},z.prototype.prependOnceListener=function(D,k){return W(k),this.prependListener(D,x(this,D,k)),this},z.prototype.removeListener=function(D,k){var P,_,v,h,C;if(W(k),_=this._events,_===void 0)return this;if(P=_[D],P===void 0)return this;if(P===k||P.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete _[D],_.removeListener&&this.emit("removeListener",D,P.listener||k));else if(typeof P!="function"){for(v=-1,h=P.length-1;h>=0;h--)if(P[h]===k||P[h].listener===k){C=P[h].listener,v=h;break}if(v<0)return this;v===0?P.shift():A(P,v),P.length===1&&(_[D]=P[0]),_.removeListener!==void 0&&this.emit("removeListener",D,C||k)}return this},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(D){var k,P,_;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[D]),this;if(arguments.length===0){var v=Object.keys(P),h;for(_=0;_<v.length;++_)h=v[_],h!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=P[D],typeof k=="function")this.removeListener(D,k);else if(k!==void 0)for(_=k.length-1;_>=0;_--)this.removeListener(D,k[_]);return this};function O(D,k,P){var _=D._events;if(_===void 0)return[];var v=_[k];return v===void 0?[]:typeof v=="function"?P?[v.listener||v]:[v]:P?M(v):F(v,v.length)}z.prototype.listeners=function(D){return O(this,D,!0)},z.prototype.rawListeners=function(D){return O(this,D,!1)},z.listenerCount=function(D,k){return typeof D.listenerCount=="function"?D.listenerCount(k):R.call(D,k)},z.prototype.listenerCount=R;function R(D){var k=this._events;if(k!==void 0){var P=k[D];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}z.prototype.eventNames=function(){return this._eventsCount>0?X(this._events):[]};function F(D,k){for(var P=new Array(k),_=0;_<k;++_)P[_]=D[_];return P}function A(D,k){for(;k+1<D.length;k++)D[k]=D[k+1];D.pop()}function M(D){for(var k=new Array(D.length),P=0;P<k.length;++P)k[P]=D[P].listener||D[P];return k}function L(D,k){return new Promise(function(P,_){function v(C){D.removeListener(k,h),_(C)}function h(){typeof D.removeListener=="function"&&D.removeListener("error",v),P([].slice.call(arguments))}I(D,k,h,{once:!0}),k!=="error"&&$(D,v,{once:!0})})}function $(D,k,P){typeof D.on=="function"&&I(D,"error",k,P)}function I(D,k,P,_){if(typeof D.on=="function")_.once?D.once(k,P):D.on(k,P);else if(typeof D.addEventListener=="function")D.addEventListener(k,function v(h){_.once&&D.removeEventListener(k,v),P(h)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}}),FQ=I0((J,w)=>{var{ArrayIsArray:G,ObjectSetPrototypeOf:Y}=B1(),{EventEmitter:X}=DQ();function Q(z){X.call(this,z)}Y(Q.prototype,X.prototype),Y(Q,X),Q.prototype.pipe=function(z,U){let W=this;function V(A){z.writable&&z.write(A)===!1&&W.pause&&W.pause()}W.on("data",V);function j(){W.readable&&W.resume&&W.resume()}z.on("drain",j),!z._isStdio&&(!U||U.end!==!1)&&(W.on("end",x),W.on("close",O));let B=!1;function x(){B||(B=!0,z.end())}function O(){B||(B=!0,typeof z.destroy=="function"&&z.destroy())}function R(A){F(),X.listenerCount(this,"error")===0&&this.emit("error",A)}q(W,"error",R),q(z,"error",R);function F(){W.removeListener("data",V),z.removeListener("drain",j),W.removeListener("end",x),W.removeListener("close",O),W.removeListener("error",R),z.removeListener("error",R),W.removeListener("end",F),W.removeListener("close",F),z.removeListener("close",F)}return W.on("end",F),W.on("close",F),z.on("close",F),z.emit("pipe",W),z};function q(z,U,W){if(typeof z.prependListener=="function")return z.prependListener(U,W);!z._events||!z._events[U]?z.on(U,W):G(z._events[U])?z._events[U].unshift(W):z._events[U]=[W,z._events[U]]}w.exports={Stream:Q,prependListener:q}}),IQ=I0((J,w)=>{var{AbortError:G,codes:Y}=u1(),X=R8(),{ERR_INVALID_ARG_TYPE:Q}=Y,q=(U,W)=>{if(typeof U!="object"||!("aborted"in U))throw new Q(W,"AbortSignal",U)};function z(U){return!!(U&&typeof U.pipe=="function")}w.exports.addAbortSignal=function(U,W){if(q(U,"signal"),!z(W))throw new Q("stream","stream.Stream",W);return w.exports.addAbortSignalNoValidate(U,W)},w.exports.addAbortSignalNoValidate=function(U,W){if(typeof U!="object"||!("aborted"in U))return W;let V=()=>{W.destroy(new G(void 0,{cause:U.reason}))};return U.aborted?V():(U.addEventListener("abort",V),X(W,()=>U.removeEventListener("abort",V))),W}}),rO=I0((J,w)=>{var{StringPrototypeSlice:G,SymbolIterator:Y,TypedArrayPrototypeSet:X,Uint8Array:Q}=B1(),{Buffer:q}=I6(),{inspect:z}=g5();w.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(U){let W={data:U,next:null};this.length>0?this.tail.next=W:this.head=W,this.tail=W,++this.length}unshift(U){let W={data:U,next:this.head};this.length===0&&(this.tail=W),this.head=W,++this.length}shift(){if(this.length===0)return;let U=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,U}clear(){this.head=this.tail=null,this.length=0}join(U){if(this.length===0)return"";let W=this.head,V=""+W.data;for(;(W=W.next)!==null;)V+=U+W.data;return V}concat(U){if(this.length===0)return q.alloc(0);let W=q.allocUnsafe(U>>>0),V=this.head,j=0;for(;V;)X(W,V.data,j),j+=V.data.length,V=V.next;return W}consume(U,W){let V=this.head.data;if(U<V.length){let j=V.slice(0,U);return this.head.data=V.slice(U),j}return U===V.length?this.shift():W?this._getString(U):this._getBuffer(U)}first(){return this.head.data}*[Y](){for(let U=this.head;U;U=U.next)yield U.data}_getString(U){let W="",V=this.head,j=0;do{let B=V.data;if(U>B.length)W+=B,U-=B.length;else{U===B.length?(W+=B,++j,V.next?this.head=V.next:this.head=this.tail=null):(W+=G(B,0,U),this.head=V,V.data=G(B,U));break}++j}while((V=V.next)!==null);return this.length-=j,W}_getBuffer(U){let W=q.allocUnsafe(U),V=U,j=this.head,B=0;do{let x=j.data;if(U>x.length)X(W,x,V-U),U-=x.length;else{U===x.length?(X(W,x,V-U),++B,j.next?this.head=j.next:this.head=this.tail=null):(X(W,new Q(x.buffer,x.byteOffset,U),V-U),this.head=j,j.data=x.slice(U));break}++B}while((j=j.next)!==null);return this.length-=B,W}[Symbol.for("nodejs.util.inspect.custom")](U,W){return z(this,{...W,depth:0,customInspect:!1})}}}),kQ=I0((J,w)=>{var{MathFloor:G,NumberIsInteger:Y}=B1(),{ERR_INVALID_ARG_VALUE:X}=u1().codes;function Q(U,W,V){return U.highWaterMark!=null?U.highWaterMark:W?U[V]:null}function q(U){return U?16:16384}function z(U,W,V,j){let B=Q(W,j,V);if(B!=null){if(!Y(B)||B<0){let x=j?`options.${V}`:"options.highWaterMark";throw new X(x,B)}return G(B)}return q(U.objectMode)}w.exports={getHighWaterMark:z,getDefaultHighWaterMark:q}}),sO=I0((J,w)=>{var G=I6(),Y=G.Buffer;function X(q,z){for(var U in q)z[U]=q[U]}Y.from&&Y.alloc&&Y.allocUnsafe&&Y.allocUnsafeSlow?w.exports=G:(X(G,J),J.Buffer=Q);function Q(q,z,U){return Y(q,z,U)}Q.prototype=Object.create(Y.prototype),X(Y,Q),Q.from=function(q,z,U){if(typeof q=="number")throw new TypeError("Argument must not be a number");return Y(q,z,U)},Q.alloc=function(q,z,U){if(typeof q!="number")throw new TypeError("Argument must be a number");var W=Y(q);return z!==void 0?typeof U=="string"?W.fill(z,U):W.fill(z):W.fill(0),W},Q.allocUnsafe=function(q){if(typeof q!="number")throw new TypeError("Argument must be a number");return Y(q)},Q.allocUnsafeSlow=function(q){if(typeof q!="number")throw new TypeError("Argument must be a number");return G.SlowBuffer(q)}}),eO=I0((J)=>{var w=sO().Buffer,G=w.isEncoding||function(M){switch(M=""+M,M&&M.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Y(M){if(!M)return"utf8";for(var L;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(L)return;M=(""+M).toLowerCase(),L=!0}}function X(M){var L=Y(M);if(typeof L!="string"&&(w.isEncoding===G||!G(M)))throw new Error("Unknown encoding: "+M);return L||M}J.StringDecoder=Q;function Q(M){this.encoding=X(M);var L;switch(this.encoding){case"utf16le":this.text=B,this.end=x,L=4;break;case"utf8":this.fillLast=W,L=4;break;case"base64":this.text=O,this.end=R,L=3;break;default:this.write=F,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=w.allocUnsafe(L)}Q.prototype.write=function(M){if(M.length===0)return"";var L,$;if(this.lastNeed){if(L=this.fillLast(M),L===void 0)return"";$=this.lastNeed,this.lastNeed=0}else $=0;return $<M.length?L?L+this.text(M,$):this.text(M,$):L||""},Q.prototype.end=j,Q.prototype.text=V,Q.prototype.fillLast=function(M){if(this.lastNeed<=M.length)return M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,this.lastTotal-this.lastNeed,0,M.length),this.lastNeed-=M.length};function q(M){return M<=127?0:M>>5===6?2:M>>4===14?3:M>>3===30?4:M>>6===2?-1:-2}function z(M,L,$){var I=L.length-1;if(I<$)return 0;var D=q(L[I]);return D>=0?(D>0&&(M.lastNeed=D-1),D):--I<$||D===-2?0:(D=q(L[I]),D>=0?(D>0&&(M.lastNeed=D-2),D):--I<$||D===-2?0:(D=q(L[I]),D>=0?(D>0&&(D===2?D=0:M.lastNeed=D-3),D):0))}function U(M,L,$){if((L[0]&192)!==128)return M.lastNeed=0,"";if(M.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return M.lastNeed=1,"";if(M.lastNeed>2&&L.length>2&&(L[2]&192)!==128)return M.lastNeed=2,""}}function W(M){var L=this.lastTotal-this.lastNeed,$=U(this,M,L);if($!==void 0)return $;if(this.lastNeed<=M.length)return M.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);M.copy(this.lastChar,L,0,M.length),this.lastNeed-=M.length}function V(M,L){var $=z(this,M,L);if(!this.lastNeed)return M.toString("utf8",L);this.lastTotal=$;var I=M.length-($-this.lastNeed);return M.copy(this.lastChar,0,I),M.toString("utf8",L,I)}function j(M){var L=M&&M.length?this.write(M):"";return this.lastNeed?L+"":L}function B(M,L){if((M.length-L)%2===0){var $=M.toString("utf16le",L);if($){var I=$.charCodeAt($.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1],$.slice(0,-1)}return $}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=M[M.length-1],M.toString("utf16le",L,M.length-1)}function x(M){var L=M&&M.length?this.write(M):"";if(this.lastNeed){var $=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,$)}return L}function O(M,L){var $=(M.length-L)%3;return $===0?M.toString("base64",L):(this.lastNeed=3-$,this.lastTotal=3,$===1?this.lastChar[0]=M[M.length-1]:(this.lastChar[0]=M[M.length-2],this.lastChar[1]=M[M.length-1]),M.toString("base64",L,M.length-$))}function R(M){var L=M&&M.length?this.write(M):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function F(M){return M.toString(this.encoding)}function A(M){return M&&M.length?this.write(M):""}}),TZ=I0((J,w)=>{var G=(A8(),$8(f5)),{PromisePrototypeThen:Y,SymbolAsyncIterator:X,SymbolIterator:Q}=B1(),{Buffer:q}=I6(),{ERR_INVALID_ARG_TYPE:z,ERR_STREAM_NULL_VALUES:U}=u1().codes;function W(V,j,B){let x;if(typeof j=="string"||j instanceof q)return new V({objectMode:!0,...B,read(){this.push(j),this.push(null)}});let O;if(j&&j[X])O=!0,x=j[X]();else if(j&&j[Q])O=!1,x=j[Q]();else throw new z("iterable",["Iterable"],j);let R=new V({objectMode:!0,highWaterMark:1,...B}),F=!1;R._read=function(){F||(F=!0,M())},R._destroy=function(L,$){Y(A(L),()=>G.nextTick($,L),(I)=>G.nextTick($,I||L))};async function A(L){let $=L!=null,I=typeof x.throw=="function";if($&&I){let{value:D,done:k}=await x.throw(L);if(await D,k)return}if(typeof x.return=="function"){let{value:D}=await x.return();await D}}async function M(){for(;;){try{let{value:L,done:$}=O?await x.next():x.next();if($)R.push(null);else{let I=L&&typeof L.then=="function"?await L:L;if(I===null)throw F=!1,new U;if(R.push(I))continue;F=!1}}catch(L){R.destroy(L)}break}}return R}w.exports=W}),Vw=I0((J,w)=>{var G=(A8(),$8(f5)),{ArrayPrototypeIndexOf:Y,NumberIsInteger:X,NumberIsNaN:Q,NumberParseInt:q,ObjectDefineProperties:z,ObjectKeys:U,ObjectSetPrototypeOf:W,Promise:V,SafeSet:j,SymbolAsyncIterator:B,Symbol:x}=B1();w.exports=y,y.ReadableState=n;var{EventEmitter:O}=DQ(),{Stream:R,prependListener:F}=FQ(),{Buffer:A}=I6(),{addAbortSignal:M}=IQ(),L=R8(),$=g5().debuglog("stream",(H)=>{$=H}),I=rO(),D=y7(),{getHighWaterMark:k,getDefaultHighWaterMark:P}=kQ(),{aggregateTwoErrors:_,codes:{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:h,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:m,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:s}}=u1(),{validateObject:g}=Hw(),l=x("kPaused"),{StringDecoder:o}=eO(),a=TZ();W(y.prototype,R.prototype),W(y,R);var X0=()=>{},{errorOrDestroy:i}=D;function n(H,Z,K){typeof K!="boolean"&&(K=Z instanceof b5()),this.objectMode=!!(H&&H.objectMode),K&&(this.objectMode=this.objectMode||!!(H&&H.readableObjectMode)),this.highWaterMark=H?k(this,H,"readableHighWaterMark",K):P(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[l]=null,this.errorEmitted=!1,this.emitClose=!H||H.emitClose!==!1,this.autoDestroy=!H||H.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=H&&H.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,H&&H.encoding&&(this.decoder=new o(H.encoding),this.encoding=H.encoding)}function y(H){if(!(this instanceof y))return new y(H);let Z=this instanceof b5();this._readableState=new n(H,this,Z),H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.construct=="function"&&(this._construct=H.construct),H.signal&&!Z&&M(H.signal,this)),R.call(this,H),D.construct(this,()=>{this._readableState.needReadable&&E0(this,this._readableState)})}y.prototype.destroy=D.destroy,y.prototype._undestroy=D.undestroy,y.prototype._destroy=function(H,Z){Z(H)},y.prototype[O.captureRejectionSymbol]=function(H){this.destroy(H)},y.prototype.push=function(H,Z){return t(this,H,Z,!1)},y.prototype.unshift=function(H,Z){return t(this,H,Z,!0)};function t(H,Z,K,N){$("readableAddChunk",Z);let S=H._readableState,c;if(S.objectMode||(typeof Z=="string"?(K=K||S.defaultEncoding,S.encoding!==K&&(N&&S.encoding?Z=A.from(Z,K).toString(S.encoding):(Z=A.from(Z,K),K=""))):Z instanceof A?K="":R._isUint8Array(Z)?(Z=R._uint8ArrayToBuffer(Z),K=""):Z!=null&&(c=new v("chunk",["string","Buffer","Uint8Array"],Z))),c)i(H,c);else if(Z===null)S.reading=!1,M0(H,S);else if(S.objectMode||Z&&Z.length>0)if(N)if(S.endEmitted)i(H,new s);else{if(S.destroyed||S.errored)return!1;Y0(H,S,Z,!0)}else if(S.ended)i(H,new m);else{if(S.destroyed||S.errored)return!1;S.reading=!1,S.decoder&&!K?(Z=S.decoder.write(Z),S.objectMode||Z.length!==0?Y0(H,S,Z,!1):E0(H,S)):Y0(H,S,Z,!1)}else N||(S.reading=!1,E0(H,S));return!S.ended&&(S.length<S.highWaterMark||S.length===0)}function Y0(H,Z,K,N){Z.flowing&&Z.length===0&&!Z.sync&&H.listenerCount("data")>0?(Z.multiAwaitDrain?Z.awaitDrainWriters.clear():Z.awaitDrainWriters=null,Z.dataEmitted=!0,H.emit("data",K)):(Z.length+=Z.objectMode?1:K.length,N?Z.buffer.unshift(K):Z.buffer.push(K),Z.needReadable&&W0(H)),E0(H,Z)}y.prototype.isPaused=function(){let H=this._readableState;return H[l]===!0||H.flowing===!1},y.prototype.setEncoding=function(H){let Z=new o(H);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;let K=this._readableState.buffer,N="";for(let S of K)N+=Z.write(S);return K.clear(),N!==""&&K.push(N),this._readableState.length=N.length,this};var Z0=1073741824;function x0(H){if(H>Z0)throw new C("size","<= 1GiB",H);return H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++,H}function z0(H,Z){return H<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:Q(H)?Z.flowing&&Z.length?Z.buffer.first().length:Z.length:H<=Z.length?H:Z.ended?Z.length:0}y.prototype.read=function(H){$("read",H),H===void 0?H=NaN:X(H)||(H=q(H,10));let Z=this._readableState,K=H;if(H>Z.highWaterMark&&(Z.highWaterMark=x0(H)),H!==0&&(Z.emittedReadable=!1),H===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return $("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?C0(this):W0(this),null;if(H=z0(H,Z),H===0&&Z.ended)return Z.length===0&&C0(this),null;let N=Z.needReadable;if($("need readable",N),(Z.length===0||Z.length-H<Z.highWaterMark)&&(N=!0,$("length less than watermark",N)),Z.ended||Z.reading||Z.destroyed||Z.errored||!Z.constructed)N=!1,$("reading, ended or constructing",N);else if(N){$("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0);try{this._read(Z.highWaterMark)}catch(c){i(this,c)}Z.sync=!1,Z.reading||(H=z0(K,Z))}let S;return H>0?S=H0(H,Z):S=null,S===null?(Z.needReadable=Z.length<=Z.highWaterMark,H=0):(Z.length-=H,Z.multiAwaitDrain?Z.awaitDrainWriters.clear():Z.awaitDrainWriters=null),Z.length===0&&(Z.ended||(Z.needReadable=!0),K!==H&&Z.ended&&C0(this)),S!==null&&!Z.errorEmitted&&!Z.closeEmitted&&(Z.dataEmitted=!0,this.emit("data",S)),S};function M0(H,Z){if($("onEofChunk"),!Z.ended){if(Z.decoder){let K=Z.decoder.end();K&&K.length&&(Z.buffer.push(K),Z.length+=Z.objectMode?1:K.length)}Z.ended=!0,Z.sync?W0(H):(Z.needReadable=!1,Z.emittedReadable=!0,K0(H))}}function W0(H){let Z=H._readableState;$("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||($("emitReadable",Z.flowing),Z.emittedReadable=!0,G.nextTick(K0,H))}function K0(H){let Z=H._readableState;$("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&!Z.errored&&(Z.length||Z.ended)&&(H.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,J0(H)}function E0(H,Z){!Z.readingMore&&Z.constructed&&(Z.readingMore=!0,G.nextTick(q0,H,Z))}function q0(H,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0);){let K=Z.length;if($("maybeReadMore read 0"),H.read(0),K===Z.length)break}Z.readingMore=!1}y.prototype._read=function(H){throw new h("_read()")},y.prototype.pipe=function(H,Z){let K=this,N=this._readableState;N.pipes.length===1&&(N.multiAwaitDrain||(N.multiAwaitDrain=!0,N.awaitDrainWriters=new j(N.awaitDrainWriters?[N.awaitDrainWriters]:[]))),N.pipes.push(H),$("pipe count=%d opts=%j",N.pipes.length,Z);let S=(!Z||Z.end!==!1)&&H!==G.stdout&&H!==G.stderr?e:S9;N.endEmitted?G.nextTick(S):K.once("end",S),H.on("unpipe",c);function c(o6,Z5){$("onunpipe"),o6===K&&Z5&&Z5.hasUnpiped===!1&&(Z5.hasUnpiped=!0,y0())}function e(){$("onend"),H.end()}let A0,z1=!1;function y0(){$("cleanup"),H.removeListener("close",vG),H.removeListener("finish",_G),A0&&H.removeListener("drain",A0),H.removeListener("error",yG),H.removeListener("unpipe",c),K.removeListener("end",e),K.removeListener("end",S9),K.removeListener("data",a0),z1=!0,A0&&N.awaitDrainWriters&&(!H._writableState||H._writableState.needDrain)&&A0()}function P0(){z1||(N.pipes.length===1&&N.pipes[0]===H?($("false write response, pause",0),N.awaitDrainWriters=H,N.multiAwaitDrain=!1):N.pipes.length>1&&N.pipes.includes(H)&&($("false write response, pause",N.awaitDrainWriters.size),N.awaitDrainWriters.add(H)),K.pause()),A0||(A0=m0(K,H),H.on("drain",A0))}K.on("data",a0);function a0(o6){$("ondata");let Z5=H.write(o6);$("dest.write",Z5),Z5===!1&&P0()}function yG(o6){if($("onerror",o6),S9(),H.removeListener("error",yG),H.listenerCount("error")===0){let Z5=H._writableState||H._readableState;Z5&&!Z5.errorEmitted?i(H,o6):H.emit("error",o6)}}F(H,"error",yG);function vG(){H.removeListener("finish",_G),S9()}H.once("close",vG);function _G(){$("onfinish"),H.removeListener("close",vG),S9()}H.once("finish",_G);function S9(){$("unpipe"),K.unpipe(H)}return H.emit("pipe",K),H.writableNeedDrain===!0?N.flowing&&P0():N.flowing||($("pipe resume"),K.resume()),H};function m0(H,Z){return function(){let K=H._readableState;K.awaitDrainWriters===Z?($("pipeOnDrain",1),K.awaitDrainWriters=null):K.multiAwaitDrain&&($("pipeOnDrain",K.awaitDrainWriters.size),K.awaitDrainWriters.delete(Z)),(!K.awaitDrainWriters||K.awaitDrainWriters.size===0)&&H.listenerCount("data")&&H.resume()}}y.prototype.unpipe=function(H){let Z=this._readableState,K={hasUnpiped:!1};if(Z.pipes.length===0)return this;if(!H){let S=Z.pipes;Z.pipes=[],this.pause();for(let c=0;c<S.length;c++)S[c].emit("unpipe",this,{hasUnpiped:!1});return this}let N=Y(Z.pipes,H);return N===-1?this:(Z.pipes.splice(N,1),Z.pipes.length===0&&this.pause(),H.emit("unpipe",this,K),this)},y.prototype.on=function(H,Z){let K=R.prototype.on.call(this,H,Z),N=this._readableState;return H==="data"?(N.readableListening=this.listenerCount("readable")>0,N.flowing!==!1&&this.resume()):H==="readable"&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,$("on readable",N.length,N.reading),N.length?W0(this):N.reading||G.nextTick(T,this)),K},y.prototype.addListener=y.prototype.on,y.prototype.removeListener=function(H,Z){let K=R.prototype.removeListener.call(this,H,Z);return H==="readable"&&G.nextTick(p,this),K},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(H){let Z=R.prototype.removeAllListeners.apply(this,arguments);return(H==="readable"||H===void 0)&&G.nextTick(p,this),Z};function p(H){let Z=H._readableState;Z.readableListening=H.listenerCount("readable")>0,Z.resumeScheduled&&Z[l]===!1?Z.flowing=!0:H.listenerCount("data")>0?H.resume():Z.readableListening||(Z.flowing=null)}function T(H){$("readable nexttick read 0"),H.read(0)}y.prototype.resume=function(){let H=this._readableState;return H.flowing||($("resume"),H.flowing=!H.readableListening,b(this,H)),H[l]=!1,this};function b(H,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,G.nextTick(u,H,Z))}function u(H,Z){$("resume",Z.reading),Z.reading||H.read(0),Z.resumeScheduled=!1,H.emit("resume"),J0(H),Z.flowing&&!Z.reading&&H.read(0)}y.prototype.pause=function(){return $("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&($("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[l]=!0,this};function J0(H){let Z=H._readableState;for($("flow",Z.flowing);Z.flowing&&H.read()!==null;);}y.prototype.wrap=function(H){let Z=!1;H.on("data",(N)=>{!this.push(N)&&H.pause&&(Z=!0,H.pause())}),H.on("end",()=>{this.push(null)}),H.on("error",(N)=>{i(this,N)}),H.on("close",()=>{this.destroy()}),H.on("destroy",()=>{this.destroy()}),this._read=()=>{Z&&H.resume&&(Z=!1,H.resume())};let K=U(H);for(let N=1;N<K.length;N++){let S=K[N];this[S]===void 0&&typeof H[S]=="function"&&(this[S]=H[S].bind(H))}return this},y.prototype[B]=function(){return w0(this)},y.prototype.iterator=function(H){return H!==void 0&&g(H,"options"),w0(this,H)};function w0(H,Z){typeof H.read!="function"&&(H=y.wrap(H,{objectMode:!0}));let K=R0(H,Z);return K.stream=H,K}async function*R0(H,Z){let K=X0;function N(e){this===H?(K(),K=X0):K=e}H.on("readable",N);let S,c=L(H,{writable:!1},(e)=>{S=e?_(S,e):null,K(),K=X0});try{for(;;){let e=H.destroyed?null:H.read();if(e!==null)yield e;else{if(S)throw S;if(S===null)return;await new V(N)}}}catch(e){throw S=_(S,e),S}finally{(S||Z?.destroyOnReturn!==!1)&&(S===void 0||H._readableState.autoDestroy)?D.destroyer(H,null):(H.off("readable",N),c())}}z(y.prototype,{readable:{__proto__:null,get(){let H=this._readableState;return!!H&&H.readable!==!1&&!H.destroyed&&!H.errorEmitted&&!H.endEmitted},set(H){this._readableState&&(this._readableState.readable=!!H)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(H){this._readableState&&(this._readableState.flowing=H)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(H){!this._readableState||(this._readableState.destroyed=H)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),z(n.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[l]!==!1},set(H){this[l]=!!H}}}),y._fromList=H0;function H0(H,Z){if(Z.length===0)return null;let K;return Z.objectMode?K=Z.buffer.shift():!H||H>=Z.length?(Z.decoder?K=Z.buffer.join(""):Z.buffer.length===1?K=Z.buffer.first():K=Z.buffer.concat(Z.length),Z.buffer.clear()):K=Z.buffer.consume(H,Z.decoder),K}function C0(H){let Z=H._readableState;$("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,G.nextTick(h1,Z,H))}function h1(H,Z){if($("endReadableNT",H.endEmitted,H.length),!H.errored&&!H.closeEmitted&&!H.endEmitted&&H.length===0){if(H.endEmitted=!0,Z.emit("end"),Z.writable&&Z.allowHalfOpen===!1)G.nextTick(V5,Z);else if(H.autoDestroy){let K=Z._writableState;(!K||K.autoDestroy&&(K.finished||K.writable===!1))&&Z.destroy()}}}function V5(H){H.writable&&!H.writableEnded&&!H.destroyed&&H.end()}y.from=function(H,Z){return a(y,H,Z)};var d0;function y3(){return d0===void 0&&(d0={}),d0}y.fromWeb=function(H,Z){return y3().newStreamReadableFromReadableStream(H,Z)},y.toWeb=function(H,Z){return y3().newReadableStreamFromStreamReadable(H,Z)},y.wrap=function(H,Z){var K,N;return new y({objectMode:(K=(N=H.readableObjectMode)!==null&&N!==void 0?N:H.objectMode)!==null&&K!==void 0?K:!0,...Z,destroy(S,c){D.destroyer(H,S),c(S)}}).wrap(H)}}),SZ=I0((J,w)=>{var G=(A8(),$8(f5)),{ArrayPrototypeSlice:Y,Error:X,FunctionPrototypeSymbolHasInstance:Q,ObjectDefineProperty:q,ObjectDefineProperties:z,ObjectSetPrototypeOf:U,StringPrototypeToLowerCase:W,Symbol:V,SymbolHasInstance:j}=B1();w.exports=o,o.WritableState=g;var{EventEmitter:B}=DQ(),x=FQ().Stream,{Buffer:O}=I6(),R=y7(),{addAbortSignal:F}=IQ(),{getHighWaterMark:A,getDefaultHighWaterMark:M}=kQ(),{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:$,ERR_MULTIPLE_CALLBACK:I,ERR_STREAM_CANNOT_PIPE:D,ERR_STREAM_DESTROYED:k,ERR_STREAM_ALREADY_FINISHED:P,ERR_STREAM_NULL_VALUES:_,ERR_STREAM_WRITE_AFTER_END:v,ERR_UNKNOWN_ENCODING:h}=u1().codes,{errorOrDestroy:C}=R;U(o.prototype,x.prototype),U(o,x);function m(){}var s=V("kOnFinished");function g(T,b,u){typeof u!="boolean"&&(u=b instanceof b5()),this.objectMode=!!(T&&T.objectMode),u&&(this.objectMode=this.objectMode||!!(T&&T.writableObjectMode)),this.highWaterMark=T?A(this,T,"writableHighWaterMark",u):M(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let J0=!!(T&&T.decodeStrings===!1);this.decodeStrings=!J0,this.defaultEncoding=T&&T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=y.bind(void 0,b),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,l(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!T||T.emitClose!==!1,this.autoDestroy=!T||T.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[s]=[]}function l(T){T.buffered=[],T.bufferedIndex=0,T.allBuffers=!0,T.allNoop=!0}g.prototype.getBuffer=function(){return Y(this.buffered,this.bufferedIndex)},q(g.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function o(T){let b=this instanceof b5();if(!b&&!Q(o,this))return new o(T);this._writableState=new g(T,this,b),T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final),typeof T.construct=="function"&&(this._construct=T.construct),T.signal&&F(T.signal,this)),x.call(this,T),R.construct(this,()=>{let u=this._writableState;u.writing||x0(this,u),K0(this,u)})}q(o,j,{__proto__:null,value:function(T){return Q(this,T)?!0:this!==o?!1:T&&T._writableState instanceof g}}),o.prototype.pipe=function(){C(this,new D)};function a(T,b,u,J0){let w0=T._writableState;if(typeof u=="function")J0=u,u=w0.defaultEncoding;else{if(!u)u=w0.defaultEncoding;else if(u!=="buffer"&&!O.isEncoding(u))throw new h(u);typeof J0!="function"&&(J0=m)}if(b===null)throw new _;if(!w0.objectMode)if(typeof b=="string")w0.decodeStrings!==!1&&(b=O.from(b,u),u="buffer");else if(b instanceof O)u="buffer";else if(x._isUint8Array(b))b=x._uint8ArrayToBuffer(b),u="buffer";else throw new L("chunk",["string","Buffer","Uint8Array"],b);let R0;return w0.ending?R0=new v:w0.destroyed&&(R0=new k("write")),R0?(G.nextTick(J0,R0),C(T,R0,!0),R0):(w0.pendingcb++,X0(T,w0,b,u,J0))}o.prototype.write=function(T,b,u){return a(this,T,b,u)===!0},o.prototype.cork=function(){this._writableState.corked++},o.prototype.uncork=function(){let T=this._writableState;T.corked&&(T.corked--,T.writing||x0(this,T))},o.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=W(T)),!O.isEncoding(T))throw new h(T);return this._writableState.defaultEncoding=T,this};function X0(T,b,u,J0,w0){let R0=b.objectMode?1:u.length;b.length+=R0;let H0=b.length<b.highWaterMark;return H0||(b.needDrain=!0),b.writing||b.corked||b.errored||!b.constructed?(b.buffered.push({chunk:u,encoding:J0,callback:w0}),b.allBuffers&&J0!=="buffer"&&(b.allBuffers=!1),b.allNoop&&w0!==m&&(b.allNoop=!1)):(b.writelen=R0,b.writecb=w0,b.writing=!0,b.sync=!0,T._write(u,J0,b.onwrite),b.sync=!1),H0&&!b.errored&&!b.destroyed}function i(T,b,u,J0,w0,R0,H0){b.writelen=J0,b.writecb=H0,b.writing=!0,b.sync=!0,b.destroyed?b.onwrite(new k("write")):u?T._writev(w0,b.onwrite):T._write(w0,R0,b.onwrite),b.sync=!1}function n(T,b,u,J0){--b.pendingcb,J0(u),Z0(b),C(T,u)}function y(T,b){let u=T._writableState,J0=u.sync,w0=u.writecb;if(typeof w0!="function"){C(T,new I);return}u.writing=!1,u.writecb=null,u.length-=u.writelen,u.writelen=0,b?(b.stack,u.errored||(u.errored=b),T._readableState&&!T._readableState.errored&&(T._readableState.errored=b),J0?G.nextTick(n,T,u,b,w0):n(T,u,b,w0)):(u.buffered.length>u.bufferedIndex&&x0(T,u),J0?u.afterWriteTickInfo!==null&&u.afterWriteTickInfo.cb===w0?u.afterWriteTickInfo.count++:(u.afterWriteTickInfo={count:1,cb:w0,stream:T,state:u},G.nextTick(t,u.afterWriteTickInfo)):Y0(T,u,1,w0))}function t({stream:T,state:b,count:u,cb:J0}){return b.afterWriteTickInfo=null,Y0(T,b,u,J0)}function Y0(T,b,u,J0){for(!b.ending&&!T.destroyed&&b.length===0&&b.needDrain&&(b.needDrain=!1,T.emit("drain"));u-- >0;)b.pendingcb--,J0();b.destroyed&&Z0(b),K0(T,b)}function Z0(T){if(T.writing)return;for(let w0=T.bufferedIndex;w0<T.buffered.length;++w0){var b;let{chunk:R0,callback:H0}=T.buffered[w0],C0=T.objectMode?1:R0.length;T.length-=C0,H0((b=T.errored)!==null&&b!==void 0?b:new k("write"))}let u=T[s].splice(0);for(let w0=0;w0<u.length;w0++){var J0;u[w0]((J0=T.errored)!==null&&J0!==void 0?J0:new k("end"))}l(T)}function x0(T,b){if(b.corked||b.bufferProcessing||b.destroyed||!b.constructed)return;let{buffered:u,bufferedIndex:J0,objectMode:w0}=b,R0=u.length-J0;if(!R0)return;let H0=J0;if(b.bufferProcessing=!0,R0>1&&T._writev){b.pendingcb-=R0-1;let C0=b.allNoop?m:(V5)=>{for(let d0=H0;d0<u.length;++d0)u[d0].callback(V5)},h1=b.allNoop&&H0===0?u:Y(u,H0);h1.allBuffers=b.allBuffers,i(T,b,!0,b.length,h1,"",C0),l(b)}else{do{let{chunk:C0,encoding:h1,callback:V5}=u[H0];u[H0++]=null;let d0=w0?1:C0.length;i(T,b,!1,d0,C0,h1,V5)}while(H0<u.length&&!b.writing);H0===u.length?l(b):H0>256?(u.splice(0,H0),b.bufferedIndex=0):b.bufferedIndex=H0}b.bufferProcessing=!1}o.prototype._write=function(T,b,u){if(this._writev)this._writev([{chunk:T,encoding:b}],u);else throw new $("_write()")},o.prototype._writev=null,o.prototype.end=function(T,b,u){let J0=this._writableState;typeof T=="function"?(u=T,T=null,b=null):typeof b=="function"&&(u=b,b=null);let w0;if(T!=null){let R0=a(this,T,b);R0 instanceof X&&(w0=R0)}return J0.corked&&(J0.corked=1,this.uncork()),w0||(!J0.errored&&!J0.ending?(J0.ending=!0,K0(this,J0,!0),J0.ended=!0):J0.finished?w0=new P("end"):J0.destroyed&&(w0=new k("end"))),typeof u=="function"&&(w0||J0.finished?G.nextTick(u,w0):J0[s].push(u)),this};function z0(T){return T.ending&&!T.destroyed&&T.constructed&&T.length===0&&!T.errored&&T.buffered.length===0&&!T.finished&&!T.writing&&!T.errorEmitted&&!T.closeEmitted}function M0(T,b){let u=!1;function J0(w0){if(u){C(T,w0??I());return}if(u=!0,b.pendingcb--,w0){let R0=b[s].splice(0);for(let H0=0;H0<R0.length;H0++)R0[H0](w0);C(T,w0,b.sync)}else z0(b)&&(b.prefinished=!0,T.emit("prefinish"),b.pendingcb++,G.nextTick(E0,T,b))}b.sync=!0,b.pendingcb++;try{T._final(J0)}catch(w0){J0(w0)}b.sync=!1}function W0(T,b){!b.prefinished&&!b.finalCalled&&(typeof T._final=="function"&&!b.destroyed?(b.finalCalled=!0,M0(T,b)):(b.prefinished=!0,T.emit("prefinish")))}function K0(T,b,u){z0(b)&&(W0(T,b),b.pendingcb===0&&(u?(b.pendingcb++,G.nextTick((J0,w0)=>{z0(w0)?E0(J0,w0):w0.pendingcb--},T,b)):z0(b)&&(b.pendingcb++,E0(T,b))))}function E0(T,b){b.pendingcb--,b.finished=!0;let u=b[s].splice(0);for(let J0=0;J0<u.length;J0++)u[J0]();if(T.emit("finish"),b.autoDestroy){let J0=T._readableState;(!J0||J0.autoDestroy&&(J0.endEmitted||J0.readable===!1))&&T.destroy()}}z(o.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(T){this._writableState&&(this._writableState.destroyed=T)}},writable:{__proto__:null,get(){let T=this._writableState;return!!T&&T.writable!==!1&&!T.destroyed&&!T.errored&&!T.ending&&!T.ended},set(T){this._writableState&&(this._writableState.writable=!!T)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let T=this._writableState;return T?!T.destroyed&&!T.ending&&T.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var q0=R.destroy;o.prototype.destroy=function(T,b){let u=this._writableState;return!u.destroyed&&(u.bufferedIndex<u.buffered.length||u[s].length)&&G.nextTick(Z0,u),q0.call(this,T,b),this},o.prototype._undestroy=R.undestroy,o.prototype._destroy=function(T,b){b(T)},o.prototype[B.captureRejectionSymbol]=function(T){this.destroy(T)};var m0;function p(){return m0===void 0&&(m0={}),m0}o.fromWeb=function(T,b){return p().newStreamWritableFromWritableStream(T,b)},o.toWeb=function(T){return p().newWritableStreamFromStreamWritable(T)}}),tO=I0((J,w)=>{var G=(A8(),$8(f5)),Y=I6(),{isReadable:X,isWritable:Q,isIterable:q,isNodeStream:z,isReadableNodeStream:U,isWritableNodeStream:W,isDuplexNodeStream:V}=O8(),j=R8(),{AbortError:B,codes:{ERR_INVALID_ARG_TYPE:x,ERR_INVALID_RETURN_VALUE:O}}=u1(),{destroyer:R}=y7(),F=b5(),A=Vw(),{createDeferredPromise:M}=g5(),L=TZ(),$=globalThis.Blob||Y.Blob,I=typeof $<"u"?function(h){return h instanceof $}:function(h){return!1},D=globalThis.AbortController||RQ().AbortController,{FunctionPrototypeCall:k}=B1(),P=class extends F{constructor(h){super(h),h?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};w.exports=function h(C,m){if(V(C))return C;if(U(C))return v({readable:C});if(W(C))return v({writable:C});if(z(C))return v({writable:!1,readable:!1});if(typeof C=="function"){let{value:g,write:l,final:o,destroy:a}=_(C);if(q(g))return L(P,g,{objectMode:!0,write:l,final:o,destroy:a});let X0=g?.then;if(typeof X0=="function"){let i,n=k(X0,g,(y)=>{if(y!=null)throw new O("nully","body",y)},(y)=>{R(i,y)});return i=new P({objectMode:!0,readable:!1,write:l,final(y){o(async()=>{try{await n,G.nextTick(y,null)}catch(t){G.nextTick(y,t)}})},destroy:a})}throw new O("Iterable, AsyncIterable or AsyncFunction",m,g)}if(I(C))return h(C.arrayBuffer());if(q(C))return L(P,C,{objectMode:!0,writable:!1});if(typeof C?.writable=="object"||typeof C?.readable=="object"){let g=C!=null&&C.readable?U(C?.readable)?C?.readable:h(C.readable):void 0,l=C!=null&&C.writable?W(C?.writable)?C?.writable:h(C.writable):void 0;return v({readable:g,writable:l})}let s=C?.then;if(typeof s=="function"){let g;return k(s,C,(l)=>{l!=null&&g.push(l),g.push(null)},(l)=>{R(g,l)}),g=new P({objectMode:!0,writable:!1,read(){}})}throw new x(m,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],C)};function _(h){let{promise:C,resolve:m}=M(),s=new D,g=s.signal;return{value:h(async function*(){for(;;){let l=C;C=null;let{chunk:o,done:a,cb:X0}=await l;if(G.nextTick(X0),a)return;if(g.aborted)throw new B(void 0,{cause:g.reason});({promise:C,resolve:m}=M()),yield o}}(),{signal:g}),write(l,o,a){let X0=m;m=null,X0({chunk:l,done:!1,cb:a})},final(l){let o=m;m=null,o({done:!0,cb:l})},destroy(l,o){s.abort(),o(l)}}}function v(h){let C=h.readable&&typeof h.readable.read!="function"?A.wrap(h.readable):h.readable,m=h.writable,s=!!X(C),g=!!Q(m),l,o,a,X0,i;function n(y){let t=X0;X0=null,t?t(y):y?i.destroy(y):!s&&!g&&i.destroy()}return i=new P({readableObjectMode:!!(C!=null&&C.readableObjectMode),writableObjectMode:!!(m!=null&&m.writableObjectMode),readable:s,writable:g}),g&&(j(m,(y)=>{g=!1,y&&R(C,y),n(y)}),i._write=function(y,t,Y0){m.write(y,t)?Y0():l=Y0},i._final=function(y){m.end(),o=y},m.on("drain",function(){if(l){let y=l;l=null,y()}}),m.on("finish",function(){if(o){let y=o;o=null,y()}})),s&&(j(C,(y)=>{s=!1,y&&R(C,y),n(y)}),C.on("readable",function(){if(a){let y=a;a=null,y()}}),C.on("end",function(){i.push(null)}),i._read=function(){for(;;){let y=C.read();if(y===null){a=i._read;return}if(!i.push(y))return}}),i._destroy=function(y,t){!y&&X0!==null&&(y=new B),a=null,l=null,o=null,X0===null?t(y):(X0=t,R(m,y),R(C,y))},i}}),b5=I0((J,w)=>{var{ObjectDefineProperties:G,ObjectGetOwnPropertyDescriptor:Y,ObjectKeys:X,ObjectSetPrototypeOf:Q}=B1();w.exports=U;var q=Vw(),z=SZ();Q(U.prototype,q.prototype),Q(U,q);{let B=X(z.prototype);for(let x=0;x<B.length;x++){let O=B[x];U.prototype[O]||(U.prototype[O]=z.prototype[O])}}function U(B){if(!(this instanceof U))return new U(B);q.call(this,B),z.call(this,B),B?(this.allowHalfOpen=B.allowHalfOpen!==!1,B.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),B.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}G(U.prototype,{writable:{__proto__:null,...Y(z.prototype,"writable")},writableHighWaterMark:{__proto__:null,...Y(z.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...Y(z.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...Y(z.prototype,"writableBuffer")},writableLength:{__proto__:null,...Y(z.prototype,"writableLength")},writableFinished:{__proto__:null,...Y(z.prototype,"writableFinished")},writableCorked:{__proto__:null,...Y(z.prototype,"writableCorked")},writableEnded:{__proto__:null,...Y(z.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...Y(z.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(B){this._readableState&&this._writableState&&(this._readableState.destroyed=B,this._writableState.destroyed=B)}}});var W;function V(){return W===void 0&&(W={}),W}U.fromWeb=function(B,x){return V().newStreamDuplexFromReadableWritablePair(B,x)},U.toWeb=function(B){return V().newReadableWritablePairFromDuplex(B)};var j;U.from=function(B){return j||(j=tO()),j(B,"body")}}),gZ=I0((J,w)=>{var{ObjectSetPrototypeOf:G,Symbol:Y}=B1();w.exports=U;var{ERR_METHOD_NOT_IMPLEMENTED:X}=u1().codes,Q=b5(),{getHighWaterMark:q}=kQ();G(U.prototype,Q.prototype),G(U,Q);var z=Y("kCallback");function U(j){if(!(this instanceof U))return new U(j);let B=j?q(this,j,"readableHighWaterMark",!0):null;B===0&&(j={...j,highWaterMark:null,readableHighWaterMark:B,writableHighWaterMark:j.writableHighWaterMark||0}),Q.call(this,j),this._readableState.sync=!1,this[z]=null,j&&(typeof j.transform=="function"&&(this._transform=j.transform),typeof j.flush=="function"&&(this._flush=j.flush)),this.on("prefinish",V)}function W(j){typeof this._flush=="function"&&!this.destroyed?this._flush((B,x)=>{if(B){j?j(B):this.destroy(B);return}x!=null&&this.push(x),this.push(null),j&&j()}):(this.push(null),j&&j())}function V(){this._final!==W&&W.call(this)}U.prototype._final=W,U.prototype._transform=function(j,B,x){throw new X("_transform()")},U.prototype._write=function(j,B,x){let O=this._readableState,R=this._writableState,F=O.length;this._transform(j,B,(A,M)=>{if(A){x(A);return}M!=null&&this.push(M),R.ended||F===O.length||O.length<O.highWaterMark?x():this[z]=x})},U.prototype._read=function(){if(this[z]){let j=this[z];this[z]=null,j()}}}),bZ=I0((J,w)=>{var{ObjectSetPrototypeOf:G}=B1();w.exports=X;var Y=gZ();G(X.prototype,Y.prototype),G(X,Y);function X(Q){if(!(this instanceof X))return new X(Q);Y.call(this,Q)}X.prototype._transform=function(Q,q,z){z(null,Q)}}),CQ=I0((J,w)=>{var G=(A8(),$8(f5)),{ArrayIsArray:Y,Promise:X,SymbolAsyncIterator:Q}=B1(),q=R8(),{once:z}=g5(),U=y7(),W=b5(),{aggregateTwoErrors:V,codes:{ERR_INVALID_ARG_TYPE:j,ERR_INVALID_RETURN_VALUE:B,ERR_MISSING_ARGS:x,ERR_STREAM_DESTROYED:O,ERR_STREAM_PREMATURE_CLOSE:R},AbortError:F}=u1(),{validateFunction:A,validateAbortSignal:M}=Hw(),{isIterable:L,isReadable:$,isReadableNodeStream:I,isNodeStream:D}=O8(),k=globalThis.AbortController||RQ().AbortController,P,_;function v(a,X0,i){let n=!1;a.on("close",()=>{n=!0});let y=q(a,{readable:X0,writable:i},(t)=>{n=!t});return{destroy:(t)=>{n||(n=!0,U.destroyer(a,t||new O("pipe")))},cleanup:y}}function h(a){return A(a[a.length-1],"streams[stream.length - 1]"),a.pop()}function C(a){if(L(a))return a;if(I(a))return m(a);throw new j("val",["Readable","Iterable","AsyncIterable"],a)}async function*m(a){_||(_=Vw()),yield*_.prototype[Q].call(a)}async function s(a,X0,i,{end:n}){let y,t=null,Y0=(z0)=>{if(z0&&(y=z0),t){let M0=t;t=null,M0()}},Z0=()=>new X((z0,M0)=>{y?M0(y):t=()=>{y?M0(y):z0()}});X0.on("drain",Y0);let x0=q(X0,{readable:!1},Y0);try{X0.writableNeedDrain&&await Z0();for await(let z0 of a)X0.write(z0)||await Z0();n&&X0.end(),await Z0(),i()}catch(z0){i(y!==z0?V(y,z0):z0)}finally{x0(),X0.off("drain",Y0)}}function g(...a){return l(a,z(h(a)))}function l(a,X0,i){if(a.length===1&&Y(a[0])&&(a=a[0]),a.length<2)throw new x("streams");let n=new k,y=n.signal,t=i?.signal,Y0=[];M(t,"options.signal");function Z0(){E0(new F)}t?.addEventListener("abort",Z0);let x0,z0,M0=[],W0=0;function K0(T){E0(T,--W0===0)}function E0(T,b){if(T&&(!x0||x0.code==="ERR_STREAM_PREMATURE_CLOSE")&&(x0=T),!(!x0&&!b)){for(;M0.length;)M0.shift()(x0);t?.removeEventListener("abort",Z0),n.abort(),b&&(x0||Y0.forEach((u)=>u()),G.nextTick(X0,x0,z0))}}let q0;for(let T=0;T<a.length;T++){let b=a[T],u=T<a.length-1,J0=T>0,w0=u||i?.end!==!1,R0=T===a.length-1;if(D(b)){let H0=function(C0){C0&&C0.name!=="AbortError"&&C0.code!=="ERR_STREAM_PREMATURE_CLOSE"&&K0(C0)};var m0=H0;if(w0){let{destroy:C0,cleanup:h1}=v(b,u,J0);M0.push(C0),$(b)&&R0&&Y0.push(h1)}b.on("error",H0),$(b)&&R0&&Y0.push(()=>{b.removeListener("error",H0)})}if(T===0)if(typeof b=="function"){if(q0=b({signal:y}),!L(q0))throw new B("Iterable, AsyncIterable or Stream","source",q0)}else L(b)||I(b)?q0=b:q0=W.from(b);else if(typeof b=="function")if(q0=C(q0),q0=b(q0,{signal:y}),u){if(!L(q0,!0))throw new B("AsyncIterable",`transform[${T-1}]`,q0)}else{var p;P||(P=bZ());let H0=new P({objectMode:!0}),C0=(p=q0)===null||p===void 0?void 0:p.then;if(typeof C0=="function")W0++,C0.call(q0,(d0)=>{z0=d0,d0!=null&&H0.write(d0),w0&&H0.end(),G.nextTick(K0)},(d0)=>{H0.destroy(d0),G.nextTick(K0,d0)});else if(L(q0,!0))W0++,s(q0,H0,K0,{end:w0});else throw new B("AsyncIterable or Promise","destination",q0);q0=H0;let{destroy:h1,cleanup:V5}=v(q0,!1,!0);M0.push(h1),R0&&Y0.push(V5)}else if(D(b)){if(I(q0)){W0+=2;let H0=o(q0,b,K0,{end:w0});$(b)&&R0&&Y0.push(H0)}else if(L(q0))W0++,s(q0,b,K0,{end:w0});else throw new j("val",["Readable","Iterable","AsyncIterable"],q0);q0=b}else q0=W.from(b)}return(y!=null&&y.aborted||t!=null&&t.aborted)&&G.nextTick(Z0),q0}function o(a,X0,i,{end:n}){let y=!1;return X0.on("close",()=>{y||i(new R)}),a.pipe(X0,{end:n}),n?a.once("end",()=>{y=!0,X0.end()}):i(),q(a,{readable:!0,writable:!1},(t)=>{let Y0=a._readableState;t&&t.code==="ERR_STREAM_PREMATURE_CLOSE"&&Y0&&Y0.ended&&!Y0.errored&&!Y0.errorEmitted?a.once("end",i).once("error",i):i(t)}),q(X0,{readable:!1,writable:!0},i)}w.exports={pipelineImpl:l,pipeline:g}}),JR=I0((J,w)=>{var{pipeline:G}=CQ(),Y=b5(),{destroyer:X}=y7(),{isNodeStream:Q,isReadable:q,isWritable:z}=O8(),{AbortError:U,codes:{ERR_INVALID_ARG_VALUE:W,ERR_MISSING_ARGS:V}}=u1();w.exports=function(...j){if(j.length===0)throw new V("streams");if(j.length===1)return Y.from(j[0]);let B=[...j];if(typeof j[0]=="function"&&(j[0]=Y.from(j[0])),typeof j[j.length-1]=="function"){let k=j.length-1;j[k]=Y.from(j[k])}for(let k=0;k<j.length;++k)if(Q(j[k])){if(k<j.length-1&&!q(j[k]))throw new W(`streams[${k}]`,B[k],"must be readable");if(k>0&&!z(j[k]))throw new W(`streams[${k}]`,B[k],"must be writable")}let x,O,R,F,A;function M(k){let P=F;F=null,P?P(k):k?A.destroy(k):!D&&!I&&A.destroy()}let L=j[0],$=G(j,M),I=!!z(L),D=!!q($);return A=new Y({writableObjectMode:!!(L!=null&&L.writableObjectMode),readableObjectMode:!!($!=null&&$.writableObjectMode),writable:I,readable:D}),I&&(A._write=function(k,P,_){L.write(k,P)?_():x=_},A._final=function(k){L.end(),O=k},L.on("drain",function(){if(x){let k=x;x=null,k()}}),$.on("finish",function(){if(O){let k=O;O=null,k()}})),D&&($.on("readable",function(){if(R){let k=R;R=null,k()}}),$.on("end",function(){A.push(null)}),A._read=function(){for(;;){let k=$.read();if(k===null){R=A._read;return}if(!A.push(k))return}}),A._destroy=function(k,P){!k&&F!==null&&(k=new U),R=null,x=null,O=null,F===null?P(k):(F=P,X($,k))},A}}),fZ=I0((J,w)=>{var{ArrayPrototypePop:G,Promise:Y}=B1(),{isIterable:X,isNodeStream:Q}=O8(),{pipelineImpl:q}=CQ(),{finished:z}=R8();function U(...W){return new Y((V,j)=>{let B,x,O=W[W.length-1];if(O&&typeof O=="object"&&!Q(O)&&!X(O)){let R=G(W);B=R.signal,x=R.end}q(W,(R,F)=>{R?j(R):V(F)},{signal:B,end:x})})}w.exports={finished:z,pipeline:U}}),wR=I0((J,w)=>{var{Buffer:G}=I6(),{ObjectDefineProperty:Y,ObjectKeys:X,ReflectApply:Q}=B1(),{promisify:{custom:q}}=g5(),{streamReturningOperators:z,promiseReturningOperators:U}=nO(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:W}}=u1(),V=JR(),{pipeline:j}=CQ(),{destroyer:B}=y7(),x=R8(),O=fZ(),R=O8(),F=w.exports=FQ().Stream;F.isDisturbed=R.isDisturbed,F.isErrored=R.isErrored,F.isReadable=R.isReadable,F.Readable=Vw();for(let L of X(z)){let $=function(...D){if(new.target)throw W();return F.Readable.from(Q(I,this,D))};A=$;let I=z[L];Y($,"name",{__proto__:null,value:I.name}),Y($,"length",{__proto__:null,value:I.length}),Y(F.Readable.prototype,L,{__proto__:null,value:$,enumerable:!1,configurable:!0,writable:!0})}var A;for(let L of X(U)){let $=function(...D){if(new.target)throw W();return Q(I,this,D)};A=$;let I=U[L];Y($,"name",{__proto__:null,value:I.name}),Y($,"length",{__proto__:null,value:I.length}),Y(F.Readable.prototype,L,{__proto__:null,value:$,enumerable:!1,configurable:!0,writable:!0})}var A;F.Writable=SZ(),F.Duplex=b5(),F.Transform=gZ(),F.PassThrough=bZ(),F.pipeline=j;var{addAbortSignal:M}=IQ();F.addAbortSignal=M,F.finished=x,F.destroy=B,F.compose=V,Y(F,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return O}}),Y(j,q,{__proto__:null,enumerable:!0,get(){return O.pipeline}}),Y(x,q,{__proto__:null,enumerable:!0,get(){return O.finished}}),F.Stream=F,F._isUint8Array=function(L){return L instanceof Uint8Array},F._uint8ArrayToBuffer=function(L){return G.from(L.buffer,L.byteOffset,L.byteLength)}}),EZ=I0((J,w)=>{var G=wR(),Y=fZ(),X=G.Readable.destroy;w.exports=G.Readable,w.exports._uint8ArrayToBuffer=G._uint8ArrayToBuffer,w.exports._isUint8Array=G._isUint8Array,w.exports.isDisturbed=G.isDisturbed,w.exports.isErrored=G.isErrored,w.exports.isReadable=G.isReadable,w.exports.Readable=G.Readable,w.exports.Writable=G.Writable,w.exports.Duplex=G.Duplex,w.exports.Transform=G.Transform,w.exports.PassThrough=G.PassThrough,w.exports.addAbortSignal=G.addAbortSignal,w.exports.finished=G.finished,w.exports.destroy=G.destroy,w.exports.destroy=X,w.exports.pipeline=G.pipeline,w.exports.compose=G.compose,Object.defineProperty(G,"promises",{configurable:!0,enumerable:!0,get(){return Y}}),w.exports.Stream=G.Stream,w.exports.default=w.exports}),yZ={};CZ(yZ,{default:()=>vZ});NZ(yZ,Ww(EZ()));vZ=Ww(EZ());/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */});var E5=Q0((YR)=>{YR.base64=!0;YR.array=!0;YR.string=!0;YR.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";YR.nodebuffer=typeof Buffer!=="undefined";YR.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined")YR.blob=!1;else{Zw=new ArrayBuffer(0);try{YR.blob=new Blob([Zw],{type:"application/zip"}).size===0}catch(J){try{SQ=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,jw=new SQ,jw.append(Zw),YR.blob=jw.getBlob("application/zip").size===0}catch(w){YR.blob=!1}}}var Zw,SQ,jw;try{YR.nodestream=!!(PQ(),WW(NQ)).Readable}catch(J){YR.nodestream=!1}});var gQ=Q0((ZR)=>{var HR=s0(),VR=E5(),J5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";ZR.encode=function(J){var w=[],G,Y,X,Q,q,z,U,W=0,V=J.length,j=V,B=HR.getTypeOf(J)!=="string";while(W<J.length){if(j=V-W,!B)G=J.charCodeAt(W++),Y=W<V?J.charCodeAt(W++):0,X=W<V?J.charCodeAt(W++):0;else G=J[W++],Y=W<V?J[W++]:0,X=W<V?J[W++]:0;Q=G>>2,q=(G&3)<<4|Y>>4,z=j>1?(Y&15)<<2|X>>6:64,U=j>2?X&63:64,w.push(J5.charAt(Q)+J5.charAt(q)+J5.charAt(z)+J5.charAt(U))}return w.join("")};ZR.decode=function(J){var w,G,Y,X,Q,q,z,U=0,W=0,V="data:";if(J.substr(0,V.length)===V)throw new Error("Invalid base64 input, it looks like a data url.");J=J.replace(/[^A-Za-z0-9+/=]/g,"");var j=J.length*3/4;if(J.charAt(J.length-1)===J5.charAt(64))j--;if(J.charAt(J.length-2)===J5.charAt(64))j--;if(j%1!==0)throw new Error("Invalid base64 input, bad content length.");var B;if(VR.uint8array)B=new Uint8Array(j|0);else B=new Array(j|0);while(U<J.length){if(X=J5.indexOf(J.charAt(U++)),Q=J5.indexOf(J.charAt(U++)),q=J5.indexOf(J.charAt(U++)),z=J5.indexOf(J.charAt(U++)),w=X<<2|Q>>4,G=(Q&15)<<4|q>>2,Y=(q&3)<<6|z,B[W++]=w,q!==64)B[W++]=G;if(z!==64)B[W++]=Y}return B}});var p4=Q0((iP,_Z)=>{_Z.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(J,w){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(J,w);else{if(typeof J==="number")throw new Error('The "data" argument must not be a number');return new Buffer(J,w)}},allocBuffer:function(J){if(Buffer.alloc)return Buffer.alloc(J);else{var w=new Buffer(J);return w.fill(0),w}},isBuffer:function(J){return Buffer.isBuffer(J)},isStream:function(J){return J&&typeof J.on==="function"&&typeof J.pause==="function"&&typeof J.resume==="function"}}});var dZ=Q0((aP,mZ)=>{var hZ=global.MutationObserver||global.WebKitMutationObserver,o4;if(hZ)Mw=0,bQ=new hZ(Bw),xw=global.document.createTextNode(""),bQ.observe(xw,{characterData:!0}),o4=function(){xw.data=Mw=++Mw%2};else if(!global.setImmediate&&typeof global.MessageChannel!=="undefined")Kw=new global.MessageChannel,Kw.port1.onmessage=Bw,o4=function(){Kw.port2.postMessage(0)};else if("document"in global&&"onreadystatechange"in global.document.createElement("script"))o4=function(){var J=global.document.createElement("script");J.onreadystatechange=function(){Bw(),J.onreadystatechange=null,J.parentNode.removeChild(J),J=null},global.document.documentElement.appendChild(J)};else o4=function(){setTimeout(Bw,0)};var Mw,bQ,xw,Kw,fQ,i4=[];function Bw(){fQ=!0;var J,w,G=i4.length;while(G){w=i4,i4=[],J=-1;while(++J<G)w[J]();G=i4.length}fQ=!1}mZ.exports=MR;function MR(J){if(i4.push(J)===1&&!fQ)o4()}});var iZ=Q0((nP,oZ)=>{var xR=dZ();function v7(){}var P1={},cZ=["REJECTED"],EQ=["FULFILLED"],uZ=["PENDING"];oZ.exports=k6;function k6(J){if(typeof J!=="function")throw new TypeError("resolver must be a function");if(this.state=uZ,this.queue=[],this.outcome=void 0,J!==v7)lZ(this,J)}k6.prototype.finally=function(J){if(typeof J!=="function")return this;var w=this.constructor;return this.then(G,Y);function G(X){function Q(){return X}return w.resolve(J()).then(Q)}function Y(X){function Q(){throw X}return w.resolve(J()).then(Q)}};k6.prototype.catch=function(J){return this.then(null,J)};k6.prototype.then=function(J,w){if(typeof J!=="function"&&this.state===EQ||typeof w!=="function"&&this.state===cZ)return this;var G=new this.constructor(v7);if(this.state!==uZ){var Y=this.state===EQ?J:w;yQ(G,Y,this.outcome)}else this.queue.push(new a4(G,J,w));return G};function a4(J,w,G){if(this.promise=J,typeof w==="function")this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled;if(typeof G==="function")this.onRejected=G,this.callRejected=this.otherCallRejected}a4.prototype.callFulfilled=function(J){P1.resolve(this.promise,J)};a4.prototype.otherCallFulfilled=function(J){yQ(this.promise,this.onFulfilled,J)};a4.prototype.callRejected=function(J){P1.reject(this.promise,J)};a4.prototype.otherCallRejected=function(J){yQ(this.promise,this.onRejected,J)};function yQ(J,w,G){xR(function(){var Y;try{Y=w(G)}catch(X){return P1.reject(J,X)}if(Y===J)P1.reject(J,new TypeError("Cannot resolve promise with itself"));else P1.resolve(J,Y)})}P1.resolve=function(J,w){var G=pZ(KR,w);if(G.status==="error")return P1.reject(J,G.value);var Y=G.value;if(Y)lZ(J,Y);else{J.state=EQ,J.outcome=w;var X=-1,Q=J.queue.length;while(++X<Q)J.queue[X].callFulfilled(w)}return J};P1.reject=function(J,w){J.state=cZ,J.outcome=w;var G=-1,Y=J.queue.length;while(++G<Y)J.queue[G].callRejected(w);return J};function KR(J){var w=J&&J.then;if(J&&(typeof J==="object"||typeof J==="function")&&typeof w==="function")return function G(){w.apply(J,arguments)}}function lZ(J,w){var G=!1;function Y(z){if(G)return;G=!0,P1.reject(J,z)}function X(z){if(G)return;G=!0,P1.resolve(J,z)}function Q(){w(X,Y)}var q=pZ(Q);if(q.status==="error")Y(q.value)}function pZ(J,w){var G={};try{G.value=J(w),G.status="success"}catch(Y){G.status="error",G.value=Y}return G}k6.resolve=LR;function LR(J){if(J instanceof this)return J;return P1.resolve(new this(v7),J)}k6.reject=$R;function $R(J){var w=new this(v7);return P1.reject(w,J)}k6.all=AR;function AR(J){var w=this;if(Object.prototype.toString.call(J)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=J.length,Y=!1;if(!G)return this.resolve([]);var X=new Array(G),Q=0,q=-1,z=new this(v7);while(++q<G)U(J[q],q);return z;function U(W,V){w.resolve(W).then(j,function(B){if(!Y)Y=!0,P1.reject(z,B)});function j(B){if(X[V]=B,++Q===G&&!Y)Y=!0,P1.resolve(z,X)}}}k6.race=OR;function OR(J){var w=this;if(Object.prototype.toString.call(J)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=J.length,Y=!1;if(!G)return this.resolve([]);var X=-1,Q=new this(v7);while(++X<G)q(J[X]);return Q;function q(z){w.resolve(z).then(function(U){if(!Y)Y=!0,P1.resolve(Q,U)},function(U){if(!Y)Y=!0,P1.reject(Q,U)})}}});var _7=Q0((rP,aZ)=>{var vQ=null;if(typeof Promise!=="undefined")vQ=Promise;else vQ=iZ();aZ.exports={Promise:vQ}});var rZ=Q0((nZ)=>{(function(J,w){if(J.setImmediate)return;var G=1,Y={},X=!1,Q=J.document,q;function z(M){if(typeof M!=="function")M=new Function(""+M);var L=new Array(arguments.length-1);for(var $=0;$<L.length;$++)L[$]=arguments[$+1];var I={callback:M,args:L};return Y[G]=I,q(G),G++}function U(M){delete Y[M]}function W(M){var{callback:L,args:$}=M;switch($.length){case 0:L();break;case 1:L($[0]);break;case 2:L($[0],$[1]);break;case 3:L($[0],$[1],$[2]);break;default:L.apply(w,$);break}}function V(M){if(X)setTimeout(V,0,M);else{var L=Y[M];if(L){X=!0;try{W(L)}finally{U(M),X=!1}}}}function j(){q=function(M){process.nextTick(function(){V(M)})}}function B(){if(J.postMessage&&!J.importScripts){var M=!0,L=J.onmessage;return J.onmessage=function(){M=!1},J.postMessage("","*"),J.onmessage=L,M}}function x(){var M="setImmediate$"+Math.random()+"$",L=function($){if($.source===J&&typeof $.data==="string"&&$.data.indexOf(M)===0)V(+$.data.slice(M.length))};if(J.addEventListener)J.addEventListener("message",L,!1);else J.attachEvent("onmessage",L);q=function($){J.postMessage(M+$,"*")}}function O(){var M=new MessageChannel;M.port1.onmessage=function(L){var $=L.data;V($)},q=function(L){M.port2.postMessage(L)}}function R(){var M=Q.documentElement;q=function(L){var $=Q.createElement("script");$.onreadystatechange=function(){V(L),$.onreadystatechange=null,M.removeChild($),$=null},M.appendChild($)}}function F(){q=function(M){setTimeout(V,0,M)}}var A=Object.getPrototypeOf&&Object.getPrototypeOf(J);if(A=A&&A.setTimeout?A:J,{}.toString.call(J.process)==="[object process]")j();else if(B())x();else if(J.MessageChannel)O();else if(Q&&"onreadystatechange"in Q.createElement("script"))R();else F();A.setImmediate=z,A.clearImmediate=U})(typeof self==="undefined"?typeof global==="undefined"?nZ:global:self)});var s0=Q0((FR)=>{var C6=E5(),RR=gQ(),h7=p4(),_Q=_7();rZ();function DR(J){var w=null;if(C6.uint8array)w=new Uint8Array(J.length);else w=new Array(J.length);return $w(J,w)}FR.newBlob=function(J,w){FR.checkSupport("blob");try{return new Blob([J],{type:w})}catch(X){try{var G=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,Y=new G;return Y.append(J),Y.getBlob(w)}catch(Q){throw new Error("Bug : can't construct the Blob.")}}};function n4(J){return J}function $w(J,w){for(var G=0;G<J.length;++G)w[G]=J.charCodeAt(G)&255;return w}var Lw={stringifyByChunk:function(J,w,G){var Y=[],X=0,Q=J.length;if(Q<=G)return String.fromCharCode.apply(null,J);while(X<Q){if(w==="array"||w==="nodebuffer")Y.push(String.fromCharCode.apply(null,J.slice(X,Math.min(X+G,Q))));else Y.push(String.fromCharCode.apply(null,J.subarray(X,Math.min(X+G,Q))));X+=G}return Y.join("")},stringifyByChar:function(J){var w="";for(var G=0;G<J.length;G++)w+=String.fromCharCode(J[G]);return w},applyCanBeUsed:{uint8array:function(){try{return C6.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(J){return!1}}(),nodebuffer:function(){try{return C6.nodebuffer&&String.fromCharCode.apply(null,h7.allocBuffer(1)).length===1}catch(J){return!1}}()}};function r4(J){var w=65536,G=FR.getTypeOf(J),Y=!0;if(G==="uint8array")Y=Lw.applyCanBeUsed.uint8array;else if(G==="nodebuffer")Y=Lw.applyCanBeUsed.nodebuffer;if(Y)while(w>1)try{return Lw.stringifyByChunk(J,G,w)}catch(X){w=Math.floor(w/2)}return Lw.stringifyByChar(J)}FR.applyFromCharCode=r4;function Aw(J,w){for(var G=0;G<J.length;G++)w[G]=J[G];return w}var N6={};N6.string={string:n4,array:function(J){return $w(J,new Array(J.length))},arraybuffer:function(J){return N6.string.uint8array(J).buffer},uint8array:function(J){return $w(J,new Uint8Array(J.length))},nodebuffer:function(J){return $w(J,h7.allocBuffer(J.length))}};N6.array={string:r4,array:n4,arraybuffer:function(J){return new Uint8Array(J).buffer},uint8array:function(J){return new Uint8Array(J)},nodebuffer:function(J){return h7.newBufferFrom(J)}};N6.arraybuffer={string:function(J){return r4(new Uint8Array(J))},array:function(J){return Aw(new Uint8Array(J),new Array(J.byteLength))},arraybuffer:n4,uint8array:function(J){return new Uint8Array(J)},nodebuffer:function(J){return h7.newBufferFrom(new Uint8Array(J))}};N6.uint8array={string:r4,array:function(J){return Aw(J,new Array(J.length))},arraybuffer:function(J){return J.buffer},uint8array:n4,nodebuffer:function(J){return h7.newBufferFrom(J)}};N6.nodebuffer={string:r4,array:function(J){return Aw(J,new Array(J.length))},arraybuffer:function(J){return N6.nodebuffer.uint8array(J).buffer},uint8array:function(J){return Aw(J,new Uint8Array(J.length))},nodebuffer:n4};FR.transformTo=function(J,w){if(!w)w="";if(!J)return w;FR.checkSupport(J);var G=FR.getTypeOf(w),Y=N6[G][J](w);return Y};FR.resolve=function(J){var w=J.split("/"),G=[];for(var Y=0;Y<w.length;Y++){var X=w[Y];if(X==="."||X===""&&Y!==0&&Y!==w.length-1)continue;else if(X==="..")G.pop();else G.push(X)}return G.join("/")};FR.getTypeOf=function(J){if(typeof J==="string")return"string";if(Object.prototype.toString.call(J)==="[object Array]")return"array";if(C6.nodebuffer&&h7.isBuffer(J))return"nodebuffer";if(C6.uint8array&&J instanceof Uint8Array)return"uint8array";if(C6.arraybuffer&&J instanceof ArrayBuffer)return"arraybuffer"};FR.checkSupport=function(J){var w=C6[J.toLowerCase()];if(!w)throw new Error(J+" is not supported by this platform")};FR.MAX_VALUE_16BITS=65535;FR.MAX_VALUE_32BITS=-1;FR.pretty=function(J){var w="",G,Y;for(Y=0;Y<(J||"").length;Y++)G=J.charCodeAt(Y),w+="\\x"+(G<16?"0":"")+G.toString(16).toUpperCase();return w};FR.delay=function(J,w,G){setImmediate(function(){J.apply(G||null,w||[])})};FR.inherits=function(J,w){var G=function(){};G.prototype=w.prototype,J.prototype=new G};FR.extend=function(){var J={},w,G;for(w=0;w<arguments.length;w++)for(G in arguments[w])if(Object.prototype.hasOwnProperty.call(arguments[w],G)&&typeof J[G]==="undefined")J[G]=arguments[w][G];return J};FR.prepareContent=function(J,w,G,Y,X){var Q=_Q.Promise.resolve(w).then(function(q){var z=C6.blob&&(q instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(q))!==-1);if(z&&typeof FileReader!=="undefined")return new _Q.Promise(function(U,W){var V=new FileReader;V.onload=function(j){U(j.target.result)},V.onerror=function(j){W(j.target.error)},V.readAsArrayBuffer(q)});else return q});return Q.then(function(q){var z=FR.getTypeOf(q);if(!z)return _Q.Promise.reject(new Error("Can't read the data of '"+J+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));if(z==="arraybuffer")q=FR.transformTo("uint8array",q);else if(z==="string"){if(X)q=RR.decode(q);else if(G){if(Y!==!0)q=DR(q)}}return q})}});var G2=Q0((tP,Jj)=>{function tZ(J){this.name=J||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}tZ.prototype={push:function(J){this.emit("data",J)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(J){this.emit("error",J)}return!0},error:function(J){if(this.isFinished)return!1;if(this.isPaused)this.generatedError=J;else{if(this.isFinished=!0,this.emit("error",J),this.previous)this.previous.error(J);this.cleanUp()}return!0},on:function(J,w){return this._listeners[J].push(w),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(J,w){if(this._listeners[J])for(var G=0;G<this._listeners[J].length;G++)this._listeners[J][G].call(this,w)},pipe:function(J){return J.registerPrevious(this)},registerPrevious:function(J){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=J.streamInfo,this.mergeStreamInfo(),this.previous=J;var w=this;return J.on("data",function(G){w.processChunk(G)}),J.on("end",function(){w.end()}),J.on("error",function(G){w.error(G)}),this},pause:function(){if(this.isPaused||this.isFinished)return!1;if(this.isPaused=!0,this.previous)this.previous.pause();return!0},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var J=!1;if(this.generatedError)this.error(this.generatedError),J=!0;if(this.previous)this.previous.resume();return!J},flush:function(){},processChunk:function(J){this.push(J)},withStreamInfo:function(J,w){return this.extraStreamInfo[J]=w,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var J in this.extraStreamInfo){if(!Object.prototype.hasOwnProperty.call(this.extraStreamInfo,J))continue;this.streamInfo[J]=this.extraStreamInfo[J]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");if(this.isLocked=!0,this.previous)this.previous.lock()},toString:function(){var J="Worker "+this.name;if(this.previous)return this.previous+" -> "+J;else return J}};Jj.exports=tZ});var d7=Q0((hR)=>{var m7=s0(),D8=E5(),ER=p4(),Ow=G2(),s4=new Array(256);for(w5=0;w5<256;w5++)s4[w5]=w5>=252?6:w5>=248?5:w5>=240?4:w5>=224?3:w5>=192?2:1;var w5;s4[254]=s4[254]=1;var yR=function(J){var w,G,Y,X,Q,q=J.length,z=0;for(X=0;X<q;X++){if(G=J.charCodeAt(X),(G&64512)===55296&&X+1<q){if(Y=J.charCodeAt(X+1),(Y&64512)===56320)G=65536+(G-55296<<10)+(Y-56320),X++}z+=G<128?1:G<2048?2:G<65536?3:4}if(D8.uint8array)w=new Uint8Array(z);else w=new Array(z);for(Q=0,X=0;Q<z;X++){if(G=J.charCodeAt(X),(G&64512)===55296&&X+1<q){if(Y=J.charCodeAt(X+1),(Y&64512)===56320)G=65536+(G-55296<<10)+(Y-56320),X++}if(G<128)w[Q++]=G;else if(G<2048)w[Q++]=192|G>>>6,w[Q++]=128|G&63;else if(G<65536)w[Q++]=224|G>>>12,w[Q++]=128|G>>>6&63,w[Q++]=128|G&63;else w[Q++]=240|G>>>18,w[Q++]=128|G>>>12&63,w[Q++]=128|G>>>6&63,w[Q++]=128|G&63}return w},vR=function(J,w){var G;if(w=w||J.length,w>J.length)w=J.length;G=w-1;while(G>=0&&(J[G]&192)===128)G--;if(G<0)return w;if(G===0)return w;return G+s4[J[G]]>w?G:w},_R=function(J){var w,G,Y,X,Q=J.length,q=new Array(Q*2);for(G=0,w=0;w<Q;){if(Y=J[w++],Y<128){q[G++]=Y;continue}if(X=s4[Y],X>4){q[G++]=65533,w+=X-1;continue}Y&=X===2?31:X===3?15:7;while(X>1&&w<Q)Y=Y<<6|J[w++]&63,X--;if(X>1){q[G++]=65533;continue}if(Y<65536)q[G++]=Y;else Y-=65536,q[G++]=55296|Y>>10&1023,q[G++]=56320|Y&1023}if(q.length!==G)if(q.subarray)q=q.subarray(0,G);else q.length=G;return m7.applyFromCharCode(q)};hR.utf8encode=function J(w){if(D8.nodebuffer)return ER.newBufferFrom(w,"utf-8");return yR(w)};hR.utf8decode=function J(w){if(D8.nodebuffer)return m7.transformTo("nodebuffer",w).toString("utf-8");return w=m7.transformTo(D8.uint8array?"uint8array":"array",w),_R(w)};function Rw(){Ow.call(this,"utf-8 decode"),this.leftOver=null}m7.inherits(Rw,Ow);Rw.prototype.processChunk=function(J){var w=m7.transformTo(D8.uint8array?"uint8array":"array",J.data);if(this.leftOver&&this.leftOver.length){if(D8.uint8array){var G=w;w=new Uint8Array(G.length+this.leftOver.length),w.set(this.leftOver,0),w.set(G,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var Y=vR(w),X=w;if(Y!==w.length)if(D8.uint8array)X=w.subarray(0,Y),this.leftOver=w.subarray(Y,w.length);else X=w.slice(0,Y),this.leftOver=w.slice(Y,w.length);this.push({data:hR.utf8decode(X),meta:J.meta})};Rw.prototype.flush=function(){if(this.leftOver&&this.leftOver.length)this.push({data:hR.utf8decode(this.leftOver),meta:{}}),this.leftOver=null};hR.Utf8DecodeWorker=Rw;function mQ(){Ow.call(this,"utf-8 encode")}m7.inherits(mQ,Ow);mQ.prototype.processChunk=function(J){this.push({data:hR.utf8encode(J.data),meta:J.meta})};hR.Utf8EncodeWorker=mQ});var Qj=Q0((wT,Xj)=>{var Gj=G2(),Yj=s0();function cQ(J){Gj.call(this,"ConvertWorker to "+J),this.destType=J}Yj.inherits(cQ,Gj);cQ.prototype.processChunk=function(J){this.push({data:Yj.transformTo(this.destType,J.data),meta:J.meta})};Xj.exports=cQ});var Wj=Q0((GT,zj)=>{var qj=(PQ(),WW(NQ)).Readable,cR=s0();cR.inherits(uQ,qj);function uQ(J,w,G){qj.call(this,w),this._helper=J;var Y=this;J.on("data",function(X,Q){if(!Y.push(X))Y._helper.pause();if(G)G(Q)}).on("error",function(X){Y.emit("error",X)}).on("end",function(){Y.push(null)})}uQ.prototype._read=function(){this._helper.resume()};zj.exports=uQ});var lQ=Q0((YT,Vj)=>{var F8=s0(),uR=Qj(),lR=G2(),pR=gQ(),oR=E5(),iR=_7(),Uj=null;if(oR.nodestream)try{Uj=Wj()}catch(J){}function aR(J,w,G){switch(J){case"blob":return F8.newBlob(F8.transformTo("arraybuffer",w),G);case"base64":return pR.encode(w);default:return F8.transformTo(J,w)}}function nR(J,w){var G,Y=0,X=null,Q=0;for(G=0;G<w.length;G++)Q+=w[G].length;switch(J){case"string":return w.join("");case"array":return Array.prototype.concat.apply([],w);case"uint8array":X=new Uint8Array(Q);for(G=0;G<w.length;G++)X.set(w[G],Y),Y+=w[G].length;return X;case"nodebuffer":return Buffer.concat(w);default:throw new Error("concat : unsupported type '"+J+"'")}}function rR(J,w){return new iR.Promise(function(G,Y){var X=[],Q=J._internalType,q=J._outputType,z=J._mimeType;J.on("data",function(U,W){if(X.push(U),w)w(W)}).on("error",function(U){X=[],Y(U)}).on("end",function(){try{var U=aR(q,nR(Q,X),z);G(U)}catch(W){Y(W)}X=[]}).resume()})}function Hj(J,w,G){var Y=w;switch(w){case"blob":case"arraybuffer":Y="uint8array";break;case"base64":Y="string";break}try{this._internalType=Y,this._outputType=w,this._mimeType=G,F8.checkSupport(Y),this._worker=J.pipe(new uR(Y)),J.lock()}catch(X){this._worker=new lR("error"),this._worker.error(X)}}Hj.prototype={accumulate:function(J){return rR(this,J)},on:function(J,w){var G=this;if(J==="data")this._worker.on(J,function(Y){w.call(G,Y.data,Y.meta)});else this._worker.on(J,function(){F8.delay(w,arguments,G)});return this},resume:function(){return F8.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(J){if(F8.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Uj(this,{objectMode:this._outputType!=="nodebuffer"},J)}};Vj.exports=Hj});var pQ=Q0((sR)=>{sR.base64=!1;sR.binary=!1;sR.dir=!1;sR.createFolders=!0;sR.date=null;sR.compression=null;sR.compressionOptions=null;sR.comment=null;sR.unixPermissions=null;sR.dosPermissions=null});var oQ=Q0((QT,Zj)=>{var Dw=s0(),Fw=G2(),WD=16384;function c7(J){Fw.call(this,"DataWorker");var w=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,J.then(function(G){if(w.dataIsReady=!0,w.data=G,w.max=G&&G.length||0,w.type=Dw.getTypeOf(G),!w.isPaused)w._tickAndRepeat()},function(G){w.error(G)})}Dw.inherits(c7,Fw);c7.prototype.cleanUp=function(){Fw.prototype.cleanUp.call(this),this.data=null};c7.prototype.resume=function(){if(!Fw.prototype.resume.call(this))return!1;if(!this._tickScheduled&&this.dataIsReady)this._tickScheduled=!0,Dw.delay(this._tickAndRepeat,[],this);return!0};c7.prototype._tickAndRepeat=function(){if(this._tickScheduled=!1,this.isPaused||this.isFinished)return;if(this._tick(),!this.isFinished)Dw.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0};c7.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var J=WD,w=null,G=Math.min(this.max,this.index+J);if(this.index>=this.max)return this.end();else{switch(this.type){case"string":w=this.data.substring(this.index,G);break;case"uint8array":w=this.data.subarray(this.index,G);break;case"array":case"nodebuffer":w=this.data.slice(this.index,G);break}return this.index=G,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})}};Zj.exports=c7});var Iw=Q0((qT,Bj)=>{var UD=s0();function HD(){var J,w=[];for(var G=0;G<256;G++){J=G;for(var Y=0;Y<8;Y++)J=J&1?3988292384^J>>>1:J>>>1;w[G]=J}return w}var jj=HD();function VD(J,w,G,Y){var X=jj,Q=Y+G;J=J^-1;for(var q=Y;q<Q;q++)J=J>>>8^X[(J^w[q])&255];return J^-1}function ZD(J,w,G,Y){var X=jj,Q=Y+G;J=J^-1;for(var q=Y;q<Q;q++)J=J>>>8^X[(J^w.charCodeAt(q))&255];return J^-1}Bj.exports=function J(w,G){if(typeof w==="undefined"||!w.length)return 0;var Y=UD.getTypeOf(w)!=="string";if(Y)return VD(G|0,w,w.length,0);else return ZD(G|0,w,w.length,0)}});var aQ=Q0((zT,xj)=>{var Mj=G2(),jD=Iw(),BD=s0();function iQ(){Mj.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}BD.inherits(iQ,Mj);iQ.prototype.processChunk=function(J){this.streamInfo.crc32=jD(J.data,this.streamInfo.crc32||0),this.push(J)};xj.exports=iQ});var Lj=Q0((WT,Kj)=>{var MD=s0(),nQ=G2();function rQ(J){nQ.call(this,"DataLengthProbe for "+J),this.propName=J,this.withStreamInfo(J,0)}MD.inherits(rQ,nQ);rQ.prototype.processChunk=function(J){if(J){var w=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=w+J.data.length}nQ.prototype.processChunk.call(this,J)};Kj.exports=rQ});var kw=Q0((UT,Oj)=>{var $j=_7(),Aj=oQ(),xD=aQ(),sQ=Lj();function eQ(J,w,G,Y,X){this.compressedSize=J,this.uncompressedSize=w,this.crc32=G,this.compression=Y,this.compressedContent=X}eQ.prototype={getContentWorker:function(){var J=new Aj($j.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new sQ("data_length")),w=this;return J.on("end",function(){if(this.streamInfo.data_length!==w.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),J},getCompressedWorker:function(){return new Aj($j.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};eQ.createWorkerFrom=function(J,w,G){return J.pipe(new xD).pipe(new sQ("uncompressedSize")).pipe(w.compressWorker(G)).pipe(new sQ("compressedSize")).withStreamInfo("compression",w)};Oj.exports=eQ});var Ij=Q0((HT,Fj)=>{var KD=lQ(),LD=oQ(),tQ=d7(),Jq=kw(),Rj=G2(),wq=function(J,w,G){this.name=J,this.dir=G.dir,this.date=G.date,this.comment=G.comment,this.unixPermissions=G.unixPermissions,this.dosPermissions=G.dosPermissions,this._data=w,this._dataBinary=G.binary,this.options={compression:G.compression,compressionOptions:G.compressionOptions}};wq.prototype={internalStream:function(J){var w=null,G="string";try{if(!J)throw new Error("No output type specified.");G=J.toLowerCase();var Y=G==="string"||G==="text";if(G==="binarystring"||G==="text")G="string";w=this._decompressWorker();var X=!this._dataBinary;if(X&&!Y)w=w.pipe(new tQ.Utf8EncodeWorker);if(!X&&Y)w=w.pipe(new tQ.Utf8DecodeWorker)}catch(Q){w=new Rj("error"),w.error(Q)}return new KD(w,G,"")},async:function(J,w){return this.internalStream(J).accumulate(w)},nodeStream:function(J,w){return this.internalStream(J||"nodebuffer").toNodejsStream(w)},_compressWorker:function(J,w){if(this._data instanceof Jq&&this._data.compression.magic===J.magic)return this._data.getCompressedWorker();else{var G=this._decompressWorker();if(!this._dataBinary)G=G.pipe(new tQ.Utf8EncodeWorker);return Jq.createWorkerFrom(G,J,w)}},_decompressWorker:function(){if(this._data instanceof Jq)return this._data.getContentWorker();else if(this._data instanceof Rj)return this._data;else return new LD(this._data)}};var Dj=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],$D=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(e4=0;e4<Dj.length;e4++)wq.prototype[Dj[e4]]=$D;var e4;Fj.exports=wq});var y5=Q0((Gq)=>{var DD=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function FD(J,w){return Object.prototype.hasOwnProperty.call(J,w)}Gq.assign=function(J){var w=Array.prototype.slice.call(arguments,1);while(w.length){var G=w.shift();if(!G)continue;if(typeof G!=="object")throw new TypeError(G+"must be non-object");for(var Y in G)if(FD(G,Y))J[Y]=G[Y]}return J};Gq.shrinkBuf=function(J,w){if(J.length===w)return J;if(J.subarray)return J.subarray(0,w);return J.length=w,J};var ID={arraySet:function(J,w,G,Y,X){if(w.subarray&&J.subarray){J.set(w.subarray(G,G+Y),X);return}for(var Q=0;Q<Y;Q++)J[X+Q]=w[G+Q]},flattenChunks:function(J){var w,G,Y,X,Q,q;Y=0;for(w=0,G=J.length;w<G;w++)Y+=J[w].length;q=new Uint8Array(Y),X=0;for(w=0,G=J.length;w<G;w++)Q=J[w],q.set(Q,X),X+=Q.length;return q}},kD={arraySet:function(J,w,G,Y,X){for(var Q=0;Q<Y;Q++)J[X+Q]=w[G+Q]},flattenChunks:function(J){return[].concat.apply([],J)}};Gq.setTyped=function(J){if(J)Gq.Buf8=Uint8Array,Gq.Buf16=Uint16Array,Gq.Buf32=Int32Array,Gq.assign(Gq,ID);else Gq.Buf8=Array,Gq.Buf16=Array,Gq.Buf32=Array,Gq.assign(Gq,kD)};Gq.setTyped(DD)});var nj=Q0((nD)=>{var ND=y5(),PD=4,Cj=0,Nj=1,TD=2;function l7(J){var w=J.length;while(--w>=0)J[w]=0}var SD=0,fj=1,gD=2,bD=3,fD=258,Hq=29,X3=256,J3=X3+1+Hq,u7=30,Vq=19,Ej=2*J3+1,I8=15,Xq=16,ED=7,Zq=256,yj=16,vj=17,_j=18,Wq=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Cw=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],yD=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],hj=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],vD=512,v5=new Array((J3+2)*2);l7(v5);var t4=new Array(u7*2);l7(t4);var w3=new Array(vD);l7(w3);var G3=new Array(fD-bD+1);l7(G3);var jq=new Array(Hq);l7(jq);var Nw=new Array(u7);l7(Nw);function Qq(J,w,G,Y,X){this.static_tree=J,this.extra_bits=w,this.extra_base=G,this.elems=Y,this.max_length=X,this.has_stree=J&&J.length}var mj,dj,cj;function qq(J,w){this.dyn_tree=J,this.max_code=0,this.stat_desc=w}function uj(J){return J<256?w3[J]:w3[256+(J>>>7)]}function Y3(J,w){J.pending_buf[J.pending++]=w&255,J.pending_buf[J.pending++]=w>>>8&255}function l1(J,w,G){if(J.bi_valid>Xq-G)J.bi_buf|=w<<J.bi_valid&65535,Y3(J,J.bi_buf),J.bi_buf=w>>Xq-J.bi_valid,J.bi_valid+=G-Xq;else J.bi_buf|=w<<J.bi_valid&65535,J.bi_valid+=G}function G5(J,w,G){l1(J,G[w*2],G[w*2+1])}function lj(J,w){var G=0;do G|=J&1,J>>>=1,G<<=1;while(--w>0);return G>>>1}function _D(J){if(J.bi_valid===16)Y3(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0;else if(J.bi_valid>=8)J.pending_buf[J.pending++]=J.bi_buf&255,J.bi_buf>>=8,J.bi_valid-=8}function hD(J,w){var{dyn_tree:G,max_code:Y}=w,X=w.stat_desc.static_tree,Q=w.stat_desc.has_stree,q=w.stat_desc.extra_bits,z=w.stat_desc.extra_base,U=w.stat_desc.max_length,W,V,j,B,x,O,R=0;for(B=0;B<=I8;B++)J.bl_count[B]=0;G[J.heap[J.heap_max]*2+1]=0;for(W=J.heap_max+1;W<Ej;W++){if(V=J.heap[W],B=G[G[V*2+1]*2+1]+1,B>U)B=U,R++;if(G[V*2+1]=B,V>Y)continue;if(J.bl_count[B]++,x=0,V>=z)x=q[V-z];if(O=G[V*2],J.opt_len+=O*(B+x),Q)J.static_len+=O*(X[V*2+1]+x)}if(R===0)return;do{B=U-1;while(J.bl_count[B]===0)B--;J.bl_count[B]--,J.bl_count[B+1]+=2,J.bl_count[U]--,R-=2}while(R>0);for(B=U;B!==0;B--){V=J.bl_count[B];while(V!==0){if(j=J.heap[--W],j>Y)continue;if(G[j*2+1]!==B)J.opt_len+=(B-G[j*2+1])*G[j*2],G[j*2+1]=B;V--}}}function pj(J,w,G){var Y=new Array(I8+1),X=0,Q,q;for(Q=1;Q<=I8;Q++)Y[Q]=X=X+G[Q-1]<<1;for(q=0;q<=w;q++){var z=J[q*2+1];if(z===0)continue;J[q*2]=lj(Y[z]++,z)}}function mD(){var J,w,G,Y,X,Q=new Array(I8+1);G=0;for(Y=0;Y<Hq-1;Y++){jq[Y]=G;for(J=0;J<1<<Wq[Y];J++)G3[G++]=Y}G3[G-1]=Y,X=0;for(Y=0;Y<16;Y++){Nw[Y]=X;for(J=0;J<1<<Cw[Y];J++)w3[X++]=Y}X>>=7;for(;Y<u7;Y++){Nw[Y]=X<<7;for(J=0;J<1<<Cw[Y]-7;J++)w3[256+X++]=Y}for(w=0;w<=I8;w++)Q[w]=0;J=0;while(J<=143)v5[J*2+1]=8,J++,Q[8]++;while(J<=255)v5[J*2+1]=9,J++,Q[9]++;while(J<=279)v5[J*2+1]=7,J++,Q[7]++;while(J<=287)v5[J*2+1]=8,J++,Q[8]++;pj(v5,J3+1,Q);for(J=0;J<u7;J++)t4[J*2+1]=5,t4[J*2]=lj(J,5);mj=new Qq(v5,Wq,X3+1,J3,I8),dj=new Qq(t4,Cw,0,u7,I8),cj=new Qq(new Array(0),yD,0,Vq,ED)}function oj(J){var w;for(w=0;w<J3;w++)J.dyn_ltree[w*2]=0;for(w=0;w<u7;w++)J.dyn_dtree[w*2]=0;for(w=0;w<Vq;w++)J.bl_tree[w*2]=0;J.dyn_ltree[Zq*2]=1,J.opt_len=J.static_len=0,J.last_lit=J.matches=0}function ij(J){if(J.bi_valid>8)Y3(J,J.bi_buf);else if(J.bi_valid>0)J.pending_buf[J.pending++]=J.bi_buf;J.bi_buf=0,J.bi_valid=0}function dD(J,w,G,Y){if(ij(J),Y)Y3(J,G),Y3(J,~G);ND.arraySet(J.pending_buf,J.window,w,G,J.pending),J.pending+=G}function Pj(J,w,G,Y){var X=w*2,Q=G*2;return J[X]<J[Q]||J[X]===J[Q]&&Y[w]<=Y[G]}function zq(J,w,G){var Y=J.heap[G],X=G<<1;while(X<=J.heap_len){if(X<J.heap_len&&Pj(w,J.heap[X+1],J.heap[X],J.depth))X++;if(Pj(w,Y,J.heap[X],J.depth))break;J.heap[G]=J.heap[X],G=X,X<<=1}J.heap[G]=Y}function Tj(J,w,G){var Y,X,Q=0,q,z;if(J.last_lit!==0)do if(Y=J.pending_buf[J.d_buf+Q*2]<<8|J.pending_buf[J.d_buf+Q*2+1],X=J.pending_buf[J.l_buf+Q],Q++,Y===0)G5(J,X,w);else{if(q=G3[X],G5(J,q+X3+1,w),z=Wq[q],z!==0)X-=jq[q],l1(J,X,z);if(Y--,q=uj(Y),G5(J,q,G),z=Cw[q],z!==0)Y-=Nw[q],l1(J,Y,z)}while(Q<J.last_lit);G5(J,Zq,w)}function Uq(J,w){var G=w.dyn_tree,Y=w.stat_desc.static_tree,X=w.stat_desc.has_stree,Q=w.stat_desc.elems,q,z,U=-1,W;J.heap_len=0,J.heap_max=Ej;for(q=0;q<Q;q++)if(G[q*2]!==0)J.heap[++J.heap_len]=U=q,J.depth[q]=0;else G[q*2+1]=0;while(J.heap_len<2)if(W=J.heap[++J.heap_len]=U<2?++U:0,G[W*2]=1,J.depth[W]=0,J.opt_len--,X)J.static_len-=Y[W*2+1];w.max_code=U;for(q=J.heap_len>>1;q>=1;q--)zq(J,G,q);W=Q;do q=J.heap[1],J.heap[1]=J.heap[J.heap_len--],zq(J,G,1),z=J.heap[1],J.heap[--J.heap_max]=q,J.heap[--J.heap_max]=z,G[W*2]=G[q*2]+G[z*2],J.depth[W]=(J.depth[q]>=J.depth[z]?J.depth[q]:J.depth[z])+1,G[q*2+1]=G[z*2+1]=W,J.heap[1]=W++,zq(J,G,1);while(J.heap_len>=2);J.heap[--J.heap_max]=J.heap[1],hD(J,w),pj(G,U,J.bl_count)}function Sj(J,w,G){var Y,X=-1,Q,q=w[1],z=0,U=7,W=4;if(q===0)U=138,W=3;w[(G+1)*2+1]=65535;for(Y=0;Y<=G;Y++){if(Q=q,q=w[(Y+1)*2+1],++z<U&&Q===q)continue;else if(z<W)J.bl_tree[Q*2]+=z;else if(Q!==0){if(Q!==X)J.bl_tree[Q*2]++;J.bl_tree[yj*2]++}else if(z<=10)J.bl_tree[vj*2]++;else J.bl_tree[_j*2]++;if(z=0,X=Q,q===0)U=138,W=3;else if(Q===q)U=6,W=3;else U=7,W=4}}function gj(J,w,G){var Y,X=-1,Q,q=w[1],z=0,U=7,W=4;if(q===0)U=138,W=3;for(Y=0;Y<=G;Y++){if(Q=q,q=w[(Y+1)*2+1],++z<U&&Q===q)continue;else if(z<W)do G5(J,Q,J.bl_tree);while(--z!==0);else if(Q!==0){if(Q!==X)G5(J,Q,J.bl_tree),z--;G5(J,yj,J.bl_tree),l1(J,z-3,2)}else if(z<=10)G5(J,vj,J.bl_tree),l1(J,z-3,3);else G5(J,_j,J.bl_tree),l1(J,z-11,7);if(z=0,X=Q,q===0)U=138,W=3;else if(Q===q)U=6,W=3;else U=7,W=4}}function cD(J){var w;Sj(J,J.dyn_ltree,J.l_desc.max_code),Sj(J,J.dyn_dtree,J.d_desc.max_code),Uq(J,J.bl_desc);for(w=Vq-1;w>=3;w--)if(J.bl_tree[hj[w]*2+1]!==0)break;return J.opt_len+=3*(w+1)+5+5+4,w}function uD(J,w,G,Y){var X;l1(J,w-257,5),l1(J,G-1,5),l1(J,Y-4,4);for(X=0;X<Y;X++)l1(J,J.bl_tree[hj[X]*2+1],3);gj(J,J.dyn_ltree,w-1),gj(J,J.dyn_dtree,G-1)}function lD(J){var w=4093624447,G;for(G=0;G<=31;G++,w>>>=1)if(w&1&&J.dyn_ltree[G*2]!==0)return Cj;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return Nj;for(G=32;G<X3;G++)if(J.dyn_ltree[G*2]!==0)return Nj;return Cj}var bj=!1;function pD(J){if(!bj)mD(),bj=!0;J.l_desc=new qq(J.dyn_ltree,mj),J.d_desc=new qq(J.dyn_dtree,dj),J.bl_desc=new qq(J.bl_tree,cj),J.bi_buf=0,J.bi_valid=0,oj(J)}function aj(J,w,G,Y){l1(J,(SD<<1)+(Y?1:0),3),dD(J,w,G,!0)}function oD(J){l1(J,fj<<1,3),G5(J,Zq,v5),_D(J)}function iD(J,w,G,Y){var X,Q,q=0;if(J.level>0){if(J.strm.data_type===TD)J.strm.data_type=lD(J);if(Uq(J,J.l_desc),Uq(J,J.d_desc),q=cD(J),X=J.opt_len+3+7>>>3,Q=J.static_len+3+7>>>3,Q<=X)X=Q}else X=Q=G+5;if(G+4<=X&&w!==-1)aj(J,w,G,Y);else if(J.strategy===PD||Q===X)l1(J,(fj<<1)+(Y?1:0),3),Tj(J,v5,t4);else l1(J,(gD<<1)+(Y?1:0),3),uD(J,J.l_desc.max_code+1,J.d_desc.max_code+1,q+1),Tj(J,J.dyn_ltree,J.dyn_dtree);if(oj(J),Y)ij(J)}function aD(J,w,G){if(J.pending_buf[J.d_buf+J.last_lit*2]=w>>>8&255,J.pending_buf[J.d_buf+J.last_lit*2+1]=w&255,J.pending_buf[J.l_buf+J.last_lit]=G&255,J.last_lit++,w===0)J.dyn_ltree[G*2]++;else J.matches++,w--,J.dyn_ltree[(G3[G]+X3+1)*2]++,J.dyn_dtree[uj(w)*2]++;return J.last_lit===J.lit_bufsize-1}nD._tr_init=pD;nD._tr_stored_block=aj;nD._tr_flush_block=iD;nD._tr_tally=aD;nD._tr_align=oD});var Bq=Q0((jT,rj)=>{function wF(J,w,G,Y){var X=J&65535|0,Q=J>>>16&65535|0,q=0;while(G!==0){q=G>2000?2000:G,G-=q;do X=X+w[Y++]|0,Q=Q+X|0;while(--q);X%=65521,Q%=65521}return X|Q<<16|0}rj.exports=wF});var Mq=Q0((BT,sj)=>{function GF(){var J,w=[];for(var G=0;G<256;G++){J=G;for(var Y=0;Y<8;Y++)J=J&1?3988292384^J>>>1:J>>>1;w[G]=J}return w}var YF=GF();function XF(J,w,G,Y){var X=YF,Q=Y+G;J^=-1;for(var q=Y;q<Q;q++)J=J>>>8^X[(J^w[q])&255];return J^-1}sj.exports=XF});var Pw=Q0((MT,ej)=>{ej.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var zB=Q0((vF)=>{var f1=y5(),O2=nj(),GB=Bq(),P6=Mq(),QF=Pw(),P8=0,qF=1,zF=3,f6=4,tj=5,X5=0,JB=1,R2=-2,WF=-3,xq=-5,UF=-1,HF=1,Tw=2,VF=3,ZF=4,jF=0,BF=2,fw=8,MF=9,xF=15,KF=8,LF=29,$F=256,Lq=$F+1+LF,AF=30,OF=19,RF=2*Lq+1,DF=15,$0=3,g6=258,g2=g6+$0+1,FF=32,Ew=42,$q=69,Sw=73,gw=91,bw=103,k8=113,q3=666,M1=1,z3=2,C8=3,i7=4,IF=3;function b6(J,w){return J.msg=QF[w],w}function wB(J){return(J<<1)-(J>4?9:0)}function S6(J){var w=J.length;while(--w>=0)J[w]=0}function T6(J){var w=J.state,G=w.pending;if(G>J.avail_out)G=J.avail_out;if(G===0)return;if(f1.arraySet(J.output,w.pending_buf,w.pending_out,G,J.next_out),J.next_out+=G,w.pending_out+=G,J.total_out+=G,J.avail_out-=G,w.pending-=G,w.pending===0)w.pending_out=0}function F1(J,w){O2._tr_flush_block(J,J.block_start>=0?J.block_start:-1,J.strstart-J.block_start,w),J.block_start=J.strstart,T6(J.strm)}function k0(J,w){J.pending_buf[J.pending++]=w}function Q3(J,w){J.pending_buf[J.pending++]=w>>>8&255,J.pending_buf[J.pending++]=w&255}function kF(J,w,G,Y){var X=J.avail_in;if(X>Y)X=Y;if(X===0)return 0;if(J.avail_in-=X,f1.arraySet(w,J.input,J.next_in,X,G),J.state.wrap===1)J.adler=GB(J.adler,w,X,G);else if(J.state.wrap===2)J.adler=P6(J.adler,w,X,G);return J.next_in+=X,J.total_in+=X,X}function YB(J,w){var{max_chain_length:G,strstart:Y}=J,X,Q,q=J.prev_length,z=J.nice_match,U=J.strstart>J.w_size-g2?J.strstart-(J.w_size-g2):0,W=J.window,V=J.w_mask,j=J.prev,B=J.strstart+g6,x=W[Y+q-1],O=W[Y+q];if(J.prev_length>=J.good_match)G>>=2;if(z>J.lookahead)z=J.lookahead;do{if(X=w,W[X+q]!==O||W[X+q-1]!==x||W[X]!==W[Y]||W[++X]!==W[Y+1])continue;Y+=2,X++;do;while(W[++Y]===W[++X]&&W[++Y]===W[++X]&&W[++Y]===W[++X]&&W[++Y]===W[++X]&&W[++Y]===W[++X]&&W[++Y]===W[++X]&&W[++Y]===W[++X]&&W[++Y]===W[++X]&&Y<B);if(Q=g6-(B-Y),Y=B-g6,Q>q){if(J.match_start=w,q=Q,Q>=z)break;x=W[Y+q-1],O=W[Y+q]}}while((w=j[w&V])>U&&--G!==0);if(q<=J.lookahead)return q;return J.lookahead}function N8(J){var w=J.w_size,G,Y,X,Q,q;do{if(Q=J.window_size-J.lookahead-J.strstart,J.strstart>=w+(w-g2)){f1.arraySet(J.window,J.window,w,w,0),J.match_start-=w,J.strstart-=w,J.block_start-=w,Y=J.hash_size,G=Y;do X=J.head[--G],J.head[G]=X>=w?X-w:0;while(--Y);Y=w,G=Y;do X=J.prev[--G],J.prev[G]=X>=w?X-w:0;while(--Y);Q+=w}if(J.strm.avail_in===0)break;if(Y=kF(J.strm,J.window,J.strstart+J.lookahead,Q),J.lookahead+=Y,J.lookahead+J.insert>=$0){q=J.strstart-J.insert,J.ins_h=J.window[q],J.ins_h=(J.ins_h<<J.hash_shift^J.window[q+1])&J.hash_mask;while(J.insert)if(J.ins_h=(J.ins_h<<J.hash_shift^J.window[q+$0-1])&J.hash_mask,J.prev[q&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=q,q++,J.insert--,J.lookahead+J.insert<$0)break}}while(J.lookahead<g2&&J.strm.avail_in!==0)}function CF(J,w){var G=65535;if(G>J.pending_buf_size-5)G=J.pending_buf_size-5;for(;;){if(J.lookahead<=1){if(N8(J),J.lookahead===0&&w===P8)return M1;if(J.lookahead===0)break}J.strstart+=J.lookahead,J.lookahead=0;var Y=J.block_start+G;if(J.strstart===0||J.strstart>=Y){if(J.lookahead=J.strstart-Y,J.strstart=Y,F1(J,!1),J.strm.avail_out===0)return M1}if(J.strstart-J.block_start>=J.w_size-g2){if(F1(J,!1),J.strm.avail_out===0)return M1}}if(J.insert=0,w===f6){if(F1(J,!0),J.strm.avail_out===0)return C8;return i7}if(J.strstart>J.block_start){if(F1(J,!1),J.strm.avail_out===0)return M1}return M1}function Kq(J,w){var G,Y;for(;;){if(J.lookahead<g2){if(N8(J),J.lookahead<g2&&w===P8)return M1;if(J.lookahead===0)break}if(G=0,J.lookahead>=$0)J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+$0-1])&J.hash_mask,G=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;if(G!==0&&J.strstart-G<=J.w_size-g2)J.match_length=YB(J,G);if(J.match_length>=$0)if(Y=O2._tr_tally(J,J.strstart-J.match_start,J.match_length-$0),J.lookahead-=J.match_length,J.match_length<=J.max_lazy_match&&J.lookahead>=$0){J.match_length--;do J.strstart++,J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+$0-1])&J.hash_mask,G=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;while(--J.match_length!==0);J.strstart++}else J.strstart+=J.match_length,J.match_length=0,J.ins_h=J.window[J.strstart],J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+1])&J.hash_mask;else Y=O2._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++;if(Y){if(F1(J,!1),J.strm.avail_out===0)return M1}}if(J.insert=J.strstart<$0-1?J.strstart:$0-1,w===f6){if(F1(J,!0),J.strm.avail_out===0)return C8;return i7}if(J.last_lit){if(F1(J,!1),J.strm.avail_out===0)return M1}return z3}function p7(J,w){var G,Y,X;for(;;){if(J.lookahead<g2){if(N8(J),J.lookahead<g2&&w===P8)return M1;if(J.lookahead===0)break}if(G=0,J.lookahead>=$0)J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+$0-1])&J.hash_mask,G=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;if(J.prev_length=J.match_length,J.prev_match=J.match_start,J.match_length=$0-1,G!==0&&J.prev_length<J.max_lazy_match&&J.strstart-G<=J.w_size-g2){if(J.match_length=YB(J,G),J.match_length<=5&&(J.strategy===HF||J.match_length===$0&&J.strstart-J.match_start>4096))J.match_length=$0-1}if(J.prev_length>=$0&&J.match_length<=J.prev_length){X=J.strstart+J.lookahead-$0,Y=O2._tr_tally(J,J.strstart-1-J.prev_match,J.prev_length-$0),J.lookahead-=J.prev_length-1,J.prev_length-=2;do if(++J.strstart<=X)J.ins_h=(J.ins_h<<J.hash_shift^J.window[J.strstart+$0-1])&J.hash_mask,G=J.prev[J.strstart&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=J.strstart;while(--J.prev_length!==0);if(J.match_available=0,J.match_length=$0-1,J.strstart++,Y){if(F1(J,!1),J.strm.avail_out===0)return M1}}else if(J.match_available){if(Y=O2._tr_tally(J,0,J.window[J.strstart-1]),Y)F1(J,!1);if(J.strstart++,J.lookahead--,J.strm.avail_out===0)return M1}else J.match_available=1,J.strstart++,J.lookahead--}if(J.match_available)Y=O2._tr_tally(J,0,J.window[J.strstart-1]),J.match_available=0;if(J.insert=J.strstart<$0-1?J.strstart:$0-1,w===f6){if(F1(J,!0),J.strm.avail_out===0)return C8;return i7}if(J.last_lit){if(F1(J,!1),J.strm.avail_out===0)return M1}return z3}function NF(J,w){var G,Y,X,Q,q=J.window;for(;;){if(J.lookahead<=g6){if(N8(J),J.lookahead<=g6&&w===P8)return M1;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=$0&&J.strstart>0){if(X=J.strstart-1,Y=q[X],Y===q[++X]&&Y===q[++X]&&Y===q[++X]){Q=J.strstart+g6;do;while(Y===q[++X]&&Y===q[++X]&&Y===q[++X]&&Y===q[++X]&&Y===q[++X]&&Y===q[++X]&&Y===q[++X]&&Y===q[++X]&&X<Q);if(J.match_length=g6-(Q-X),J.match_length>J.lookahead)J.match_length=J.lookahead}}if(J.match_length>=$0)G=O2._tr_tally(J,1,J.match_length-$0),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0;else G=O2._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++;if(G){if(F1(J,!1),J.strm.avail_out===0)return M1}}if(J.insert=0,w===f6){if(F1(J,!0),J.strm.avail_out===0)return C8;return i7}if(J.last_lit){if(F1(J,!1),J.strm.avail_out===0)return M1}return z3}function PF(J,w){var G;for(;;){if(J.lookahead===0){if(N8(J),J.lookahead===0){if(w===P8)return M1;break}}if(J.match_length=0,G=O2._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,G){if(F1(J,!1),J.strm.avail_out===0)return M1}}if(J.insert=0,w===f6){if(F1(J,!0),J.strm.avail_out===0)return C8;return i7}if(J.last_lit){if(F1(J,!1),J.strm.avail_out===0)return M1}return z3}function Y5(J,w,G,Y,X){this.good_length=J,this.max_lazy=w,this.nice_length=G,this.max_chain=Y,this.func=X}var o7;o7=[new Y5(0,0,0,0,CF),new Y5(4,4,8,4,Kq),new Y5(4,5,16,8,Kq),new Y5(4,6,32,32,Kq),new Y5(4,4,16,16,p7),new Y5(8,16,32,32,p7),new Y5(8,16,128,128,p7),new Y5(8,32,128,256,p7),new Y5(32,128,258,1024,p7),new Y5(32,258,258,4096,p7)];function TF(J){J.window_size=2*J.w_size,S6(J.head),J.max_lazy_match=o7[J.level].max_lazy,J.good_match=o7[J.level].good_length,J.nice_match=o7[J.level].nice_length,J.max_chain_length=o7[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=$0-1,J.match_available=0,J.ins_h=0}function SF(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fw,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f1.Buf16(RF*2),this.dyn_dtree=new f1.Buf16((2*AF+1)*2),this.bl_tree=new f1.Buf16((2*OF+1)*2),S6(this.dyn_ltree),S6(this.dyn_dtree),S6(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f1.Buf16(DF+1),this.heap=new f1.Buf16(2*Lq+1),S6(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f1.Buf16(2*Lq+1),S6(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function XB(J){var w;if(!J||!J.state)return b6(J,R2);if(J.total_in=J.total_out=0,J.data_type=BF,w=J.state,w.pending=0,w.pending_out=0,w.wrap<0)w.wrap=-w.wrap;return w.status=w.wrap?Ew:k8,J.adler=w.wrap===2?0:1,w.last_flush=P8,O2._tr_init(w),X5}function QB(J){var w=XB(J);if(w===X5)TF(J.state);return w}function gF(J,w){if(!J||!J.state)return R2;if(J.state.wrap!==2)return R2;return J.state.gzhead=w,X5}function qB(J,w,G,Y,X,Q){if(!J)return R2;var q=1;if(w===UF)w=6;if(Y<0)q=0,Y=-Y;else if(Y>15)q=2,Y-=16;if(X<1||X>MF||G!==fw||Y<8||Y>15||w<0||w>9||Q<0||Q>ZF)return b6(J,R2);if(Y===8)Y=9;var z=new SF;return J.state=z,z.strm=J,z.wrap=q,z.gzhead=null,z.w_bits=Y,z.w_size=1<<z.w_bits,z.w_mask=z.w_size-1,z.hash_bits=X+7,z.hash_size=1<<z.hash_bits,z.hash_mask=z.hash_size-1,z.hash_shift=~~((z.hash_bits+$0-1)/$0),z.window=new f1.Buf8(z.w_size*2),z.head=new f1.Buf16(z.hash_size),z.prev=new f1.Buf16(z.w_size),z.lit_bufsize=1<<X+6,z.pending_buf_size=z.lit_bufsize*4,z.pending_buf=new f1.Buf8(z.pending_buf_size),z.d_buf=1*z.lit_bufsize,z.l_buf=3*z.lit_bufsize,z.level=w,z.strategy=Q,z.method=G,QB(J)}function bF(J,w){return qB(J,w,fw,xF,KF,jF)}function fF(J,w){var G,Y,X,Q;if(!J||!J.state||w>tj||w<0)return J?b6(J,R2):R2;if(Y=J.state,!J.output||!J.input&&J.avail_in!==0||Y.status===q3&&w!==f6)return b6(J,J.avail_out===0?xq:R2);if(Y.strm=J,G=Y.last_flush,Y.last_flush=w,Y.status===Ew)if(Y.wrap===2)if(J.adler=0,k0(Y,31),k0(Y,139),k0(Y,8),!Y.gzhead)k0(Y,0),k0(Y,0),k0(Y,0),k0(Y,0),k0(Y,0),k0(Y,Y.level===9?2:Y.strategy>=Tw||Y.level<2?4:0),k0(Y,IF),Y.status=k8;else{if(k0(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(!Y.gzhead.extra?0:4)+(!Y.gzhead.name?0:8)+(!Y.gzhead.comment?0:16)),k0(Y,Y.gzhead.time&255),k0(Y,Y.gzhead.time>>8&255),k0(Y,Y.gzhead.time>>16&255),k0(Y,Y.gzhead.time>>24&255),k0(Y,Y.level===9?2:Y.strategy>=Tw||Y.level<2?4:0),k0(Y,Y.gzhead.os&255),Y.gzhead.extra&&Y.gzhead.extra.length)k0(Y,Y.gzhead.extra.length&255),k0(Y,Y.gzhead.extra.length>>8&255);if(Y.gzhead.hcrc)J.adler=P6(J.adler,Y.pending_buf,Y.pending,0);Y.gzindex=0,Y.status=$q}else{var q=fw+(Y.w_bits-8<<4)<<8,z=-1;if(Y.strategy>=Tw||Y.level<2)z=0;else if(Y.level<6)z=1;else if(Y.level===6)z=2;else z=3;if(q|=z<<6,Y.strstart!==0)q|=FF;if(q+=31-q%31,Y.status=k8,Q3(Y,q),Y.strstart!==0)Q3(Y,J.adler>>>16),Q3(Y,J.adler&65535);J.adler=1}if(Y.status===$q)if(Y.gzhead.extra){X=Y.pending;while(Y.gzindex<(Y.gzhead.extra.length&65535)){if(Y.pending===Y.pending_buf_size){if(Y.gzhead.hcrc&&Y.pending>X)J.adler=P6(J.adler,Y.pending_buf,Y.pending-X,X);if(T6(J),X=Y.pending,Y.pending===Y.pending_buf_size)break}k0(Y,Y.gzhead.extra[Y.gzindex]&255),Y.gzindex++}if(Y.gzhead.hcrc&&Y.pending>X)J.adler=P6(J.adler,Y.pending_buf,Y.pending-X,X);if(Y.gzindex===Y.gzhead.extra.length)Y.gzindex=0,Y.status=Sw}else Y.status=Sw;if(Y.status===Sw)if(Y.gzhead.name){X=Y.pending;do{if(Y.pending===Y.pending_buf_size){if(Y.gzhead.hcrc&&Y.pending>X)J.adler=P6(J.adler,Y.pending_buf,Y.pending-X,X);if(T6(J),X=Y.pending,Y.pending===Y.pending_buf_size){Q=1;break}}if(Y.gzindex<Y.gzhead.name.length)Q=Y.gzhead.name.charCodeAt(Y.gzindex++)&255;else Q=0;k0(Y,Q)}while(Q!==0);if(Y.gzhead.hcrc&&Y.pending>X)J.adler=P6(J.adler,Y.pending_buf,Y.pending-X,X);if(Q===0)Y.gzindex=0,Y.status=gw}else Y.status=gw;if(Y.status===gw)if(Y.gzhead.comment){X=Y.pending;do{if(Y.pending===Y.pending_buf_size){if(Y.gzhead.hcrc&&Y.pending>X)J.adler=P6(J.adler,Y.pending_buf,Y.pending-X,X);if(T6(J),X=Y.pending,Y.pending===Y.pending_buf_size){Q=1;break}}if(Y.gzindex<Y.gzhead.comment.length)Q=Y.gzhead.comment.charCodeAt(Y.gzindex++)&255;else Q=0;k0(Y,Q)}while(Q!==0);if(Y.gzhead.hcrc&&Y.pending>X)J.adler=P6(J.adler,Y.pending_buf,Y.pending-X,X);if(Q===0)Y.status=bw}else Y.status=bw;if(Y.status===bw)if(Y.gzhead.hcrc){if(Y.pending+2>Y.pending_buf_size)T6(J);if(Y.pending+2<=Y.pending_buf_size)k0(Y,J.adler&255),k0(Y,J.adler>>8&255),J.adler=0,Y.status=k8}else Y.status=k8;if(Y.pending!==0){if(T6(J),J.avail_out===0)return Y.last_flush=-1,X5}else if(J.avail_in===0&&wB(w)<=wB(G)&&w!==f6)return b6(J,xq);if(Y.status===q3&&J.avail_in!==0)return b6(J,xq);if(J.avail_in!==0||Y.lookahead!==0||w!==P8&&Y.status!==q3){var U=Y.strategy===Tw?PF(Y,w):Y.strategy===VF?NF(Y,w):o7[Y.level].func(Y,w);if(U===C8||U===i7)Y.status=q3;if(U===M1||U===C8){if(J.avail_out===0)Y.last_flush=-1;return X5}if(U===z3){if(w===qF)O2._tr_align(Y);else if(w!==tj){if(O2._tr_stored_block(Y,0,0,!1),w===zF){if(S6(Y.head),Y.lookahead===0)Y.strstart=0,Y.block_start=0,Y.insert=0}}if(T6(J),J.avail_out===0)return Y.last_flush=-1,X5}}if(w!==f6)return X5;if(Y.wrap<=0)return JB;if(Y.wrap===2)k0(Y,J.adler&255),k0(Y,J.adler>>8&255),k0(Y,J.adler>>16&255),k0(Y,J.adler>>24&255),k0(Y,J.total_in&255),k0(Y,J.total_in>>8&255),k0(Y,J.total_in>>16&255),k0(Y,J.total_in>>24&255);else Q3(Y,J.adler>>>16),Q3(Y,J.adler&65535);if(T6(J),Y.wrap>0)Y.wrap=-Y.wrap;return Y.pending!==0?X5:JB}function EF(J){var w;if(!J||!J.state)return R2;if(w=J.state.status,w!==Ew&&w!==$q&&w!==Sw&&w!==gw&&w!==bw&&w!==k8&&w!==q3)return b6(J,R2);return J.state=null,w===k8?b6(J,WF):X5}function yF(J,w){var G=w.length,Y,X,Q,q,z,U,W,V;if(!J||!J.state)return R2;if(Y=J.state,q=Y.wrap,q===2||q===1&&Y.status!==Ew||Y.lookahead)return R2;if(q===1)J.adler=GB(J.adler,w,G,0);if(Y.wrap=0,G>=Y.w_size){if(q===0)S6(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0;V=new f1.Buf8(Y.w_size),f1.arraySet(V,w,G-Y.w_size,Y.w_size,0),w=V,G=Y.w_size}z=J.avail_in,U=J.next_in,W=J.input,J.avail_in=G,J.next_in=0,J.input=w,N8(Y);while(Y.lookahead>=$0){X=Y.strstart,Q=Y.lookahead-($0-1);do Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[X+$0-1])&Y.hash_mask,Y.prev[X&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=X,X++;while(--Q);Y.strstart=X,Y.lookahead=$0-1,N8(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=$0-1,Y.match_available=0,J.next_in=U,J.input=W,J.avail_in=z,Y.wrap=q,X5}vF.deflateInit=bF;vF.deflateInit2=qB;vF.deflateReset=QB;vF.deflateResetKeep=XB;vF.deflateSetHeader=gF;vF.deflate=fF;vF.deflateEnd=EF;vF.deflateSetDictionary=yF;vF.deflateInfo="pako deflate (from Nodeca project)"});var Aq=Q0((iF)=>{var yw=y5(),WB=!0,UB=!0;try{String.fromCharCode.apply(null,[0])}catch(J){WB=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(J){UB=!1}var W3=new yw.Buf8(256);for(Q5=0;Q5<256;Q5++)W3[Q5]=Q5>=252?6:Q5>=248?5:Q5>=240?4:Q5>=224?3:Q5>=192?2:1;var Q5;W3[254]=W3[254]=1;iF.string2buf=function(J){var w,G,Y,X,Q,q=J.length,z=0;for(X=0;X<q;X++){if(G=J.charCodeAt(X),(G&64512)===55296&&X+1<q){if(Y=J.charCodeAt(X+1),(Y&64512)===56320)G=65536+(G-55296<<10)+(Y-56320),X++}z+=G<128?1:G<2048?2:G<65536?3:4}w=new yw.Buf8(z);for(Q=0,X=0;Q<z;X++){if(G=J.charCodeAt(X),(G&64512)===55296&&X+1<q){if(Y=J.charCodeAt(X+1),(Y&64512)===56320)G=65536+(G-55296<<10)+(Y-56320),X++}if(G<128)w[Q++]=G;else if(G<2048)w[Q++]=192|G>>>6,w[Q++]=128|G&63;else if(G<65536)w[Q++]=224|G>>>12,w[Q++]=128|G>>>6&63,w[Q++]=128|G&63;else w[Q++]=240|G>>>18,w[Q++]=128|G>>>12&63,w[Q++]=128|G>>>6&63,w[Q++]=128|G&63}return w};function HB(J,w){if(w<65534){if(J.subarray&&UB||!J.subarray&&WB)return String.fromCharCode.apply(null,yw.shrinkBuf(J,w))}var G="";for(var Y=0;Y<w;Y++)G+=String.fromCharCode(J[Y]);return G}iF.buf2binstring=function(J){return HB(J,J.length)};iF.binstring2buf=function(J){var w=new yw.Buf8(J.length);for(var G=0,Y=w.length;G<Y;G++)w[G]=J.charCodeAt(G);return w};iF.buf2string=function(J,w){var G,Y,X,Q,q=w||J.length,z=new Array(q*2);for(Y=0,G=0;G<q;){if(X=J[G++],X<128){z[Y++]=X;continue}if(Q=W3[X],Q>4){z[Y++]=65533,G+=Q-1;continue}X&=Q===2?31:Q===3?15:7;while(Q>1&&G<q)X=X<<6|J[G++]&63,Q--;if(Q>1){z[Y++]=65533;continue}if(X<65536)z[Y++]=X;else X-=65536,z[Y++]=55296|X>>10&1023,z[Y++]=56320|X&1023}return HB(z,Y)};iF.utf8border=function(J,w){var G;if(w=w||J.length,w>J.length)w=J.length;G=w-1;while(G>=0&&(J[G]&192)===128)G--;if(G<0)return w;if(G===0)return w;return G+W3[J[G]]>w?G:w}});var Oq=Q0((LT,VB)=>{function tF(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}VB.exports=tF});var MB=Q0((zI)=>{var U3=zB(),H3=y5(),Dq=Aq(),Fq=Pw(),JI=Oq(),BB=Object.prototype.toString,wI=0,Rq=4,a7=0,ZB=1,jB=2,GI=-1,YI=0,XI=8;function T8(J){if(!(this instanceof T8))return new T8(J);this.options=H3.assign({level:GI,method:XI,chunkSize:16384,windowBits:15,memLevel:8,strategy:YI,to:""},J||{});var w=this.options;if(w.raw&&w.windowBits>0)w.windowBits=-w.windowBits;else if(w.gzip&&w.windowBits>0&&w.windowBits<16)w.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new JI,this.strm.avail_out=0;var G=U3.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(G!==a7)throw new Error(Fq[G]);if(w.header)U3.deflateSetHeader(this.strm,w.header);if(w.dictionary){var Y;if(typeof w.dictionary==="string")Y=Dq.string2buf(w.dictionary);else if(BB.call(w.dictionary)==="[object ArrayBuffer]")Y=new Uint8Array(w.dictionary);else Y=w.dictionary;if(G=U3.deflateSetDictionary(this.strm,Y),G!==a7)throw new Error(Fq[G]);this._dict_set=!0}}T8.prototype.push=function(J,w){var G=this.strm,Y=this.options.chunkSize,X,Q;if(this.ended)return!1;if(Q=w===~~w?w:w===!0?Rq:wI,typeof J==="string")G.input=Dq.string2buf(J);else if(BB.call(J)==="[object ArrayBuffer]")G.input=new Uint8Array(J);else G.input=J;G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0)G.output=new H3.Buf8(Y),G.next_out=0,G.avail_out=Y;if(X=U3.deflate(G,Q),X!==ZB&&X!==a7)return this.onEnd(X),this.ended=!0,!1;if(G.avail_out===0||G.avail_in===0&&(Q===Rq||Q===jB))if(this.options.to==="string")this.onData(Dq.buf2binstring(H3.shrinkBuf(G.output,G.next_out)));else this.onData(H3.shrinkBuf(G.output,G.next_out))}while((G.avail_in>0||G.avail_out===0)&&X!==ZB);if(Q===Rq)return X=U3.deflateEnd(this.strm),this.onEnd(X),this.ended=!0,X===a7;if(Q===jB)return this.onEnd(a7),G.avail_out=0,!0;return!0};T8.prototype.onData=function(J){this.chunks.push(J)};T8.prototype.onEnd=function(J){if(J===a7)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=H3.flattenChunks(this.chunks);this.chunks=[],this.err=J,this.msg=this.strm.msg};function Iq(J,w){var G=new T8(w);if(G.push(J,!0),G.err)throw G.msg||Fq[G.err];return G.result}function QI(J,w){return w=w||{},w.raw=!0,Iq(J,w)}function qI(J,w){return w=w||{},w.gzip=!0,Iq(J,w)}zI.Deflate=T8;zI.deflate=Iq;zI.deflateRaw=QI;zI.gzip=qI});var KB=Q0((AT,xB)=>{var vw=30,ZI=12;xB.exports=function J(w,G){var Y,X,Q,q,z,U,W,V,j,B,x,O,R,F,A,M,L,$,I,D,k,P,_,v,h;Y=w.state,X=w.next_in,v=w.input,Q=X+(w.avail_in-5),q=w.next_out,h=w.output,z=q-(G-w.avail_out),U=q+(w.avail_out-257),W=Y.dmax,V=Y.wsize,j=Y.whave,B=Y.wnext,x=Y.window,O=Y.hold,R=Y.bits,F=Y.lencode,A=Y.distcode,M=(1<<Y.lenbits)-1,L=(1<<Y.distbits)-1;J:do{if(R<15)O+=v[X++]<<R,R+=8,O+=v[X++]<<R,R+=8;$=F[O&M];w:for(;;){if(I=$>>>24,O>>>=I,R-=I,I=$>>>16&255,I===0)h[q++]=$&65535;else if(I&16){if(D=$&65535,I&=15,I){if(R<I)O+=v[X++]<<R,R+=8;D+=O&(1<<I)-1,O>>>=I,R-=I}if(R<15)O+=v[X++]<<R,R+=8,O+=v[X++]<<R,R+=8;$=A[O&L];G:for(;;){if(I=$>>>24,O>>>=I,R-=I,I=$>>>16&255,I&16){if(k=$&65535,I&=15,R<I){if(O+=v[X++]<<R,R+=8,R<I)O+=v[X++]<<R,R+=8}if(k+=O&(1<<I)-1,k>W){w.msg="invalid distance too far back",Y.mode=vw;break J}if(O>>>=I,R-=I,I=q-z,k>I){if(I=k-I,I>j){if(Y.sane){w.msg="invalid distance too far back",Y.mode=vw;break J}}if(P=0,_=x,B===0){if(P+=V-I,I<D){D-=I;do h[q++]=x[P++];while(--I);P=q-k,_=h}}else if(B<I){if(P+=V+B-I,I-=B,I<D){D-=I;do h[q++]=x[P++];while(--I);if(P=0,B<D){I=B,D-=I;do h[q++]=x[P++];while(--I);P=q-k,_=h}}}else if(P+=B-I,I<D){D-=I;do h[q++]=x[P++];while(--I);P=q-k,_=h}while(D>2)h[q++]=_[P++],h[q++]=_[P++],h[q++]=_[P++],D-=3;if(D){if(h[q++]=_[P++],D>1)h[q++]=_[P++]}}else{P=q-k;do h[q++]=h[P++],h[q++]=h[P++],h[q++]=h[P++],D-=3;while(D>2);if(D){if(h[q++]=h[P++],D>1)h[q++]=h[P++]}}}else if((I&64)===0){$=A[($&65535)+(O&(1<<I)-1)];continue G}else{w.msg="invalid distance code",Y.mode=vw;break J}break}}else if((I&64)===0){$=F[($&65535)+(O&(1<<I)-1)];continue w}else if(I&32){Y.mode=ZI;break J}else{w.msg="invalid literal/length code",Y.mode=vw;break J}break}}while(X<Q&&q<U);D=R>>3,X-=D,R-=D<<3,O&=(1<<R)-1,w.next_in=X,w.next_out=q,w.avail_in=X<Q?5+(Q-X):5-(X-Q),w.avail_out=q<U?257+(U-q):257-(q-U),Y.hold=O,Y.bits=R;return}});var FB=Q0((OT,DB)=>{var LB=y5(),n7=15,$B=852,AB=592,OB=0,kq=1,RB=2,jI=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],BI=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],MI=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],xI=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];DB.exports=function J(w,G,Y,X,Q,q,z,U){var W=U.bits,V=0,j=0,B=0,x=0,O=0,R=0,F=0,A=0,M=0,L=0,$,I,D,k,P,_=null,v=0,h,C=new LB.Buf16(n7+1),m=new LB.Buf16(n7+1),s=null,g=0,l,o,a;for(V=0;V<=n7;V++)C[V]=0;for(j=0;j<X;j++)C[G[Y+j]]++;O=W;for(x=n7;x>=1;x--)if(C[x]!==0)break;if(O>x)O=x;if(x===0)return Q[q++]=20971520,Q[q++]=20971520,U.bits=1,0;for(B=1;B<x;B++)if(C[B]!==0)break;if(O<B)O=B;A=1;for(V=1;V<=n7;V++)if(A<<=1,A-=C[V],A<0)return-1;if(A>0&&(w===OB||x!==1))return-1;m[1]=0;for(V=1;V<n7;V++)m[V+1]=m[V]+C[V];for(j=0;j<X;j++)if(G[Y+j]!==0)z[m[G[Y+j]]++]=j;if(w===OB)_=s=z,h=19;else if(w===kq)_=jI,v-=257,s=BI,g-=257,h=256;else _=MI,s=xI,h=-1;if(L=0,j=0,V=B,P=q,R=O,F=0,D=-1,M=1<<O,k=M-1,w===kq&&M>$B||w===RB&&M>AB)return 1;for(;;){if(l=V-F,z[j]<h)o=0,a=z[j];else if(z[j]>h)o=s[g+z[j]],a=_[v+z[j]];else o=96,a=0;$=1<<V-F,I=1<<R,B=I;do I-=$,Q[P+(L>>F)+I]=l<<24|o<<16|a|0;while(I!==0);$=1<<V-1;while(L&$)$>>=1;if($!==0)L&=$-1,L+=$;else L=0;if(j++,--C[V]===0){if(V===x)break;V=G[Y+z[j]]}if(V>O&&(L&k)!==D){if(F===0)F=O;P+=B,R=V-F,A=1<<R;while(R+F<x){if(A-=C[R+F],A<=0)break;R++,A<<=1}if(M+=1<<R,w===kq&&M>$B||w===RB&&M>AB)return 1;D=L&k,Q[D]=O<<24|R<<16|P-q|0}}if(L!==0)Q[P+L]=V-F<<24|4194304|0;return U.bits=O,0}});var QM=Q0((EI)=>{var Y2=y5(),gq=Bq(),q5=Mq(),KI=KB(),V3=FB(),LI=0,rB=1,sB=2,IB=4,$I=5,_w=6,S8=0,AI=1,OI=2,D2=-2,eB=-3,bq=-4,RI=-5,kB=8,tB=1,CB=2,NB=3,PB=4,TB=5,SB=6,gB=7,bB=8,fB=9,EB=10,dw=11,_5=12,Cq=13,yB=14,Nq=15,vB=16,_B=17,hB=18,mB=19,hw=20,mw=21,dB=22,cB=23,uB=24,lB=25,pB=26,Pq=27,oB=28,iB=29,p0=30,fq=31,DI=32,FI=852,II=592,kI=15,CI=kI;function aB(J){return(J>>>24&255)+(J>>>8&65280)+((J&65280)<<8)+((J&255)<<24)}function NI(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Y2.Buf16(320),this.work=new Y2.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function JM(J){var w;if(!J||!J.state)return D2;if(w=J.state,J.total_in=J.total_out=w.total=0,J.msg="",w.wrap)J.adler=w.wrap&1;return w.mode=tB,w.last=0,w.havedict=0,w.dmax=32768,w.head=null,w.hold=0,w.bits=0,w.lencode=w.lendyn=new Y2.Buf32(FI),w.distcode=w.distdyn=new Y2.Buf32(II),w.sane=1,w.back=-1,S8}function wM(J){var w;if(!J||!J.state)return D2;return w=J.state,w.wsize=0,w.whave=0,w.wnext=0,JM(J)}function GM(J,w){var G,Y;if(!J||!J.state)return D2;if(Y=J.state,w<0)G=0,w=-w;else if(G=(w>>4)+1,w<48)w&=15;if(w&&(w<8||w>15))return D2;if(Y.window!==null&&Y.wbits!==w)Y.window=null;return Y.wrap=G,Y.wbits=w,wM(J)}function YM(J,w){var G,Y;if(!J)return D2;if(Y=new NI,J.state=Y,Y.window=null,G=GM(J,w),G!==S8)J.state=null;return G}function PI(J){return YM(J,CI)}var nB=!0,Tq,Sq;function TI(J){if(nB){var w;Tq=new Y2.Buf32(512),Sq=new Y2.Buf32(32),w=0;while(w<144)J.lens[w++]=8;while(w<256)J.lens[w++]=9;while(w<280)J.lens[w++]=7;while(w<288)J.lens[w++]=8;V3(rB,J.lens,0,288,Tq,0,J.work,{bits:9}),w=0;while(w<32)J.lens[w++]=5;V3(sB,J.lens,0,32,Sq,0,J.work,{bits:5}),nB=!1}J.lencode=Tq,J.lenbits=9,J.distcode=Sq,J.distbits=5}function XM(J,w,G,Y){var X,Q=J.state;if(Q.window===null)Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new Y2.Buf8(Q.wsize);if(Y>=Q.wsize)Y2.arraySet(Q.window,w,G-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize;else{if(X=Q.wsize-Q.wnext,X>Y)X=Y;if(Y2.arraySet(Q.window,w,G-Y,X,Q.wnext),Y-=X,Y)Y2.arraySet(Q.window,w,G-Y,Y,0),Q.wnext=Y,Q.whave=Q.wsize;else{if(Q.wnext+=X,Q.wnext===Q.wsize)Q.wnext=0;if(Q.whave<Q.wsize)Q.whave+=X}}return 0}function SI(J,w){var G,Y,X,Q,q,z,U,W,V,j,B,x,O,R,F=0,A,M,L,$,I,D,k,P,_=new Y2.Buf8(4),v,h,C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!J||!J.state||!J.output||!J.input&&J.avail_in!==0)return D2;if(G=J.state,G.mode===_5)G.mode=Cq;q=J.next_out,X=J.output,U=J.avail_out,Q=J.next_in,Y=J.input,z=J.avail_in,W=G.hold,V=G.bits,j=z,B=U,P=S8;J:for(;;)switch(G.mode){case tB:if(G.wrap===0){G.mode=Cq;break}while(V<16){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(G.wrap&2&&W===35615){G.check=0,_[0]=W&255,_[1]=W>>>8&255,G.check=q5(G.check,_,2,0),W=0,V=0,G.mode=CB;break}if(G.flags=0,G.head)G.head.done=!1;if(!(G.wrap&1)||(((W&255)<<8)+(W>>8))%31){J.msg="incorrect header check",G.mode=p0;break}if((W&15)!==kB){J.msg="unknown compression method",G.mode=p0;break}if(W>>>=4,V-=4,k=(W&15)+8,G.wbits===0)G.wbits=k;else if(k>G.wbits){J.msg="invalid window size",G.mode=p0;break}G.dmax=1<<k,J.adler=G.check=1,G.mode=W&512?EB:_5,W=0,V=0;break;case CB:while(V<16){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(G.flags=W,(G.flags&255)!==kB){J.msg="unknown compression method",G.mode=p0;break}if(G.flags&57344){J.msg="unknown header flags set",G.mode=p0;break}if(G.head)G.head.text=W>>8&1;if(G.flags&512)_[0]=W&255,_[1]=W>>>8&255,G.check=q5(G.check,_,2,0);W=0,V=0,G.mode=NB;case NB:while(V<32){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(G.head)G.head.time=W;if(G.flags&512)_[0]=W&255,_[1]=W>>>8&255,_[2]=W>>>16&255,_[3]=W>>>24&255,G.check=q5(G.check,_,4,0);W=0,V=0,G.mode=PB;case PB:while(V<16){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(G.head)G.head.xflags=W&255,G.head.os=W>>8;if(G.flags&512)_[0]=W&255,_[1]=W>>>8&255,G.check=q5(G.check,_,2,0);W=0,V=0,G.mode=TB;case TB:if(G.flags&1024){while(V<16){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(G.length=W,G.head)G.head.extra_len=W;if(G.flags&512)_[0]=W&255,_[1]=W>>>8&255,G.check=q5(G.check,_,2,0);W=0,V=0}else if(G.head)G.head.extra=null;G.mode=SB;case SB:if(G.flags&1024){if(x=G.length,x>z)x=z;if(x){if(G.head){if(k=G.head.extra_len-G.length,!G.head.extra)G.head.extra=new Array(G.head.extra_len);Y2.arraySet(G.head.extra,Y,Q,x,k)}if(G.flags&512)G.check=q5(G.check,Y,x,Q);z-=x,Q+=x,G.length-=x}if(G.length)break J}G.length=0,G.mode=gB;case gB:if(G.flags&2048){if(z===0)break J;x=0;do if(k=Y[Q+x++],G.head&&k&&G.length<65536)G.head.name+=String.fromCharCode(k);while(k&&x<z);if(G.flags&512)G.check=q5(G.check,Y,x,Q);if(z-=x,Q+=x,k)break J}else if(G.head)G.head.name=null;G.length=0,G.mode=bB;case bB:if(G.flags&4096){if(z===0)break J;x=0;do if(k=Y[Q+x++],G.head&&k&&G.length<65536)G.head.comment+=String.fromCharCode(k);while(k&&x<z);if(G.flags&512)G.check=q5(G.check,Y,x,Q);if(z-=x,Q+=x,k)break J}else if(G.head)G.head.comment=null;G.mode=fB;case fB:if(G.flags&512){while(V<16){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(W!==(G.check&65535)){J.msg="header crc mismatch",G.mode=p0;break}W=0,V=0}if(G.head)G.head.hcrc=G.flags>>9&1,G.head.done=!0;J.adler=G.check=0,G.mode=_5;break;case EB:while(V<32){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}J.adler=G.check=aB(W),W=0,V=0,G.mode=dw;case dw:if(G.havedict===0)return J.next_out=q,J.avail_out=U,J.next_in=Q,J.avail_in=z,G.hold=W,G.bits=V,OI;J.adler=G.check=1,G.mode=_5;case _5:if(w===$I||w===_w)break J;case Cq:if(G.last){W>>>=V&7,V-=V&7,G.mode=Pq;break}while(V<3){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}switch(G.last=W&1,W>>>=1,V-=1,W&3){case 0:G.mode=yB;break;case 1:if(TI(G),G.mode=hw,w===_w){W>>>=2,V-=2;break J}break;case 2:G.mode=_B;break;case 3:J.msg="invalid block type",G.mode=p0}W>>>=2,V-=2;break;case yB:W>>>=V&7,V-=V&7;while(V<32){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if((W&65535)!==(W>>>16^65535)){J.msg="invalid stored block lengths",G.mode=p0;break}if(G.length=W&65535,W=0,V=0,G.mode=Nq,w===_w)break J;case Nq:G.mode=vB;case vB:if(x=G.length,x){if(x>z)x=z;if(x>U)x=U;if(x===0)break J;Y2.arraySet(X,Y,Q,x,q),z-=x,Q+=x,U-=x,q+=x,G.length-=x;break}G.mode=_5;break;case _B:while(V<14){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(G.nlen=(W&31)+257,W>>>=5,V-=5,G.ndist=(W&31)+1,W>>>=5,V-=5,G.ncode=(W&15)+4,W>>>=4,V-=4,G.nlen>286||G.ndist>30){J.msg="too many length or distance symbols",G.mode=p0;break}G.have=0,G.mode=hB;case hB:while(G.have<G.ncode){while(V<3){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}G.lens[C[G.have++]]=W&7,W>>>=3,V-=3}while(G.have<19)G.lens[C[G.have++]]=0;if(G.lencode=G.lendyn,G.lenbits=7,v={bits:G.lenbits},P=V3(LI,G.lens,0,19,G.lencode,0,G.work,v),G.lenbits=v.bits,P){J.msg="invalid code lengths set",G.mode=p0;break}G.have=0,G.mode=mB;case mB:while(G.have<G.nlen+G.ndist){for(;;){if(F=G.lencode[W&(1<<G.lenbits)-1],A=F>>>24,M=F>>>16&255,L=F&65535,A<=V)break;if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(L<16)W>>>=A,V-=A,G.lens[G.have++]=L;else{if(L===16){h=A+2;while(V<h){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(W>>>=A,V-=A,G.have===0){J.msg="invalid bit length repeat",G.mode=p0;break}k=G.lens[G.have-1],x=3+(W&3),W>>>=2,V-=2}else if(L===17){h=A+3;while(V<h){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}W>>>=A,V-=A,k=0,x=3+(W&7),W>>>=3,V-=3}else{h=A+7;while(V<h){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}W>>>=A,V-=A,k=0,x=11+(W&127),W>>>=7,V-=7}if(G.have+x>G.nlen+G.ndist){J.msg="invalid bit length repeat",G.mode=p0;break}while(x--)G.lens[G.have++]=k}}if(G.mode===p0)break;if(G.lens[256]===0){J.msg="invalid code -- missing end-of-block",G.mode=p0;break}if(G.lenbits=9,v={bits:G.lenbits},P=V3(rB,G.lens,0,G.nlen,G.lencode,0,G.work,v),G.lenbits=v.bits,P){J.msg="invalid literal/lengths set",G.mode=p0;break}if(G.distbits=6,G.distcode=G.distdyn,v={bits:G.distbits},P=V3(sB,G.lens,G.nlen,G.ndist,G.distcode,0,G.work,v),G.distbits=v.bits,P){J.msg="invalid distances set",G.mode=p0;break}if(G.mode=hw,w===_w)break J;case hw:G.mode=mw;case mw:if(z>=6&&U>=258){if(J.next_out=q,J.avail_out=U,J.next_in=Q,J.avail_in=z,G.hold=W,G.bits=V,KI(J,B),q=J.next_out,X=J.output,U=J.avail_out,Q=J.next_in,Y=J.input,z=J.avail_in,W=G.hold,V=G.bits,G.mode===_5)G.back=-1;break}G.back=0;for(;;){if(F=G.lencode[W&(1<<G.lenbits)-1],A=F>>>24,M=F>>>16&255,L=F&65535,A<=V)break;if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(M&&(M&240)===0){$=A,I=M,D=L;for(;;){if(F=G.lencode[D+((W&(1<<$+I)-1)>>$)],A=F>>>24,M=F>>>16&255,L=F&65535,$+A<=V)break;if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}W>>>=$,V-=$,G.back+=$}if(W>>>=A,V-=A,G.back+=A,G.length=L,M===0){G.mode=pB;break}if(M&32){G.back=-1,G.mode=_5;break}if(M&64){J.msg="invalid literal/length code",G.mode=p0;break}G.extra=M&15,G.mode=dB;case dB:if(G.extra){h=G.extra;while(V<h){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}G.length+=W&(1<<G.extra)-1,W>>>=G.extra,V-=G.extra,G.back+=G.extra}G.was=G.length,G.mode=cB;case cB:for(;;){if(F=G.distcode[W&(1<<G.distbits)-1],A=F>>>24,M=F>>>16&255,L=F&65535,A<=V)break;if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if((M&240)===0){$=A,I=M,D=L;for(;;){if(F=G.distcode[D+((W&(1<<$+I)-1)>>$)],A=F>>>24,M=F>>>16&255,L=F&65535,$+A<=V)break;if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}W>>>=$,V-=$,G.back+=$}if(W>>>=A,V-=A,G.back+=A,M&64){J.msg="invalid distance code",G.mode=p0;break}G.offset=L,G.extra=M&15,G.mode=uB;case uB:if(G.extra){h=G.extra;while(V<h){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}G.offset+=W&(1<<G.extra)-1,W>>>=G.extra,V-=G.extra,G.back+=G.extra}if(G.offset>G.dmax){J.msg="invalid distance too far back",G.mode=p0;break}G.mode=lB;case lB:if(U===0)break J;if(x=B-U,G.offset>x){if(x=G.offset-x,x>G.whave){if(G.sane){J.msg="invalid distance too far back",G.mode=p0;break}}if(x>G.wnext)x-=G.wnext,O=G.wsize-x;else O=G.wnext-x;if(x>G.length)x=G.length;R=G.window}else R=X,O=q-G.offset,x=G.length;if(x>U)x=U;U-=x,G.length-=x;do X[q++]=R[O++];while(--x);if(G.length===0)G.mode=mw;break;case pB:if(U===0)break J;X[q++]=G.length,U--,G.mode=mw;break;case Pq:if(G.wrap){while(V<32){if(z===0)break J;z--,W|=Y[Q++]<<V,V+=8}if(B-=U,J.total_out+=B,G.total+=B,B)J.adler=G.check=G.flags?q5(G.check,X,B,q-B):gq(G.check,X,B,q-B);if(B=U,(G.flags?W:aB(W))!==G.check){J.msg="incorrect data check",G.mode=p0;break}W=0,V=0}G.mode=oB;case oB:if(G.wrap&&G.flags){while(V<32){if(z===0)break J;z--,W+=Y[Q++]<<V,V+=8}if(W!==(G.total&4294967295)){J.msg="incorrect length check",G.mode=p0;break}W=0,V=0}G.mode=iB;case iB:P=AI;break J;case p0:P=eB;break J;case fq:return bq;case DI:default:return D2}if(J.next_out=q,J.avail_out=U,J.next_in=Q,J.avail_in=z,G.hold=W,G.bits=V,G.wsize||B!==J.avail_out&&G.mode<p0&&(G.mode<Pq||w!==IB)){if(XM(J,J.output,J.next_out,B-J.avail_out))return G.mode=fq,bq}if(j-=J.avail_in,B-=J.avail_out,J.total_in+=j,J.total_out+=B,G.total+=B,G.wrap&&B)J.adler=G.check=G.flags?q5(G.check,X,B,J.next_out-B):gq(G.check,X,B,J.next_out-B);if(J.data_type=G.bits+(G.last?64:0)+(G.mode===_5?128:0)+(G.mode===hw||G.mode===Nq?256:0),(j===0&&B===0||w===IB)&&P===S8)P=RI;return P}function gI(J){if(!J||!J.state)return D2;var w=J.state;if(w.window)w.window=null;return J.state=null,S8}function bI(J,w){var G;if(!J||!J.state)return D2;if(G=J.state,(G.wrap&2)===0)return D2;return G.head=w,w.done=!1,S8}function fI(J,w){var G=w.length,Y,X,Q;if(!J||!J.state)return D2;if(Y=J.state,Y.wrap!==0&&Y.mode!==dw)return D2;if(Y.mode===dw){if(X=1,X=gq(X,w,G,0),X!==Y.check)return eB}if(Q=XM(J,w,G,G),Q)return Y.mode=fq,bq;return Y.havedict=1,S8}EI.inflateReset=wM;EI.inflateReset2=GM;EI.inflateResetKeep=JM;EI.inflateInit=PI;EI.inflateInit2=YM;EI.inflate=SI;EI.inflateEnd=gI;EI.inflateGetHeader=bI;EI.inflateSetDictionary=fI;EI.inflateInfo="pako inflate (from Nodeca project)"});var Eq=Q0((DT,qM)=>{qM.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var WM=Q0((FT,zM)=>{function oI(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}zM.exports=oI});var HM=Q0((rI)=>{var r7=QM(),Z3=y5(),cw=Aq(),X1=Eq(),yq=Pw(),iI=Oq(),aI=WM(),UM=Object.prototype.toString;function g8(J){if(!(this instanceof g8))return new g8(J);this.options=Z3.assign({chunkSize:16384,windowBits:0,to:""},J||{});var w=this.options;if(w.raw&&w.windowBits>=0&&w.windowBits<16){if(w.windowBits=-w.windowBits,w.windowBits===0)w.windowBits=-15}if(w.windowBits>=0&&w.windowBits<16&&!(J&&J.windowBits))w.windowBits+=32;if(w.windowBits>15&&w.windowBits<48){if((w.windowBits&15)===0)w.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new iI,this.strm.avail_out=0;var G=r7.inflateInit2(this.strm,w.windowBits);if(G!==X1.Z_OK)throw new Error(yq[G]);if(this.header=new aI,r7.inflateGetHeader(this.strm,this.header),w.dictionary){if(typeof w.dictionary==="string")w.dictionary=cw.string2buf(w.dictionary);else if(UM.call(w.dictionary)==="[object ArrayBuffer]")w.dictionary=new Uint8Array(w.dictionary);if(w.raw){if(G=r7.inflateSetDictionary(this.strm,w.dictionary),G!==X1.Z_OK)throw new Error(yq[G])}}}g8.prototype.push=function(J,w){var G=this.strm,Y=this.options.chunkSize,X=this.options.dictionary,Q,q,z,U,W,V=!1;if(this.ended)return!1;if(q=w===~~w?w:w===!0?X1.Z_FINISH:X1.Z_NO_FLUSH,typeof J==="string")G.input=cw.binstring2buf(J);else if(UM.call(J)==="[object ArrayBuffer]")G.input=new Uint8Array(J);else G.input=J;G.next_in=0,G.avail_in=G.input.length;do{if(G.avail_out===0)G.output=new Z3.Buf8(Y),G.next_out=0,G.avail_out=Y;if(Q=r7.inflate(G,X1.Z_NO_FLUSH),Q===X1.Z_NEED_DICT&&X)Q=r7.inflateSetDictionary(this.strm,X);if(Q===X1.Z_BUF_ERROR&&V===!0)Q=X1.Z_OK,V=!1;if(Q!==X1.Z_STREAM_END&&Q!==X1.Z_OK)return this.onEnd(Q),this.ended=!0,!1;if(G.next_out){if(G.avail_out===0||Q===X1.Z_STREAM_END||G.avail_in===0&&(q===X1.Z_FINISH||q===X1.Z_SYNC_FLUSH))if(this.options.to==="string"){if(z=cw.utf8border(G.output,G.next_out),U=G.next_out-z,W=cw.buf2string(G.output,z),G.next_out=U,G.avail_out=Y-U,U)Z3.arraySet(G.output,G.output,z,U,0);this.onData(W)}else this.onData(Z3.shrinkBuf(G.output,G.next_out))}if(G.avail_in===0&&G.avail_out===0)V=!0}while((G.avail_in>0||G.avail_out===0)&&Q!==X1.Z_STREAM_END);if(Q===X1.Z_STREAM_END)q=X1.Z_FINISH;if(q===X1.Z_FINISH)return Q=r7.inflateEnd(this.strm),this.onEnd(Q),this.ended=!0,Q===X1.Z_OK;if(q===X1.Z_SYNC_FLUSH)return this.onEnd(X1.Z_OK),G.avail_out=0,!0;return!0};g8.prototype.onData=function(J){this.chunks.push(J)};g8.prototype.onEnd=function(J){if(J===X1.Z_OK)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=Z3.flattenChunks(this.chunks);this.chunks=[],this.err=J,this.msg=this.strm.msg};function vq(J,w){var G=new g8(w);if(G.push(J,!0),G.err)throw G.msg||yq[G.err];return G.result}function nI(J,w){return w=w||{},w.raw=!0,vq(J,w)}rI.Inflate=g8;rI.inflate=vq;rI.inflateRaw=nI;rI.ungzip=vq});var jM=Q0((kT,ZM)=>{var wk=y5().assign,Gk=MB(),Yk=HM(),Xk=Eq(),VM={};wk(VM,Gk,Yk,Xk);ZM.exports=VM});var MM=Q0((Wk)=>{var Qk=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined",qk=jM(),BM=s0(),uw=G2(),zk=Qk?"uint8array":"array";Wk.magic="\b\x00";function b8(J,w){uw.call(this,"FlateWorker/"+J),this._pako=null,this._pakoAction=J,this._pakoOptions=w,this.meta={}}BM.inherits(b8,uw);b8.prototype.processChunk=function(J){if(this.meta=J.meta,this._pako===null)this._createPako();this._pako.push(BM.transformTo(zk,J.data),!1)};b8.prototype.flush=function(){if(uw.prototype.flush.call(this),this._pako===null)this._createPako();this._pako.push([],!0)};b8.prototype.cleanUp=function(){uw.prototype.cleanUp.call(this),this._pako=null};b8.prototype._createPako=function(){this._pako=new qk[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var J=this;this._pako.onData=function(w){J.push({data:w,meta:J.meta})}};Wk.compressWorker=function(J){return new b8("Deflate",J)};Wk.uncompressWorker=function(){return new b8("Inflate",{})}});var _q=Q0((Zk)=>{var xM=G2();Zk.STORE={magic:"\x00\x00",compressWorker:function(){return new xM("STORE compression")},uncompressWorker:function(){return new xM("STORE decompression")}};Zk.DEFLATE=MM()});var hq=Q0((Mk)=>{Mk.LOCAL_FILE_HEADER="PK\x03\x04";Mk.CENTRAL_FILE_HEADER="PK\x01\x02";Mk.CENTRAL_DIRECTORY_END="PK\x05\x06";Mk.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";Mk.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";Mk.DATA_DESCRIPTOR="PK\x07\b"});var AM=Q0((TT,$M)=>{var s7=s0(),e7=G2(),mq=d7(),KM=Iw(),lw=hq(),h0=function(J,w){var G="",Y;for(Y=0;Y<w;Y++)G+=String.fromCharCode(J&255),J=J>>>8;return G},Rk=function(J,w){var G=J;if(!J)G=w?16893:33204;return(G&65535)<<16},Dk=function(J){return(J||0)&63},LM=function(J,w,G,Y,X,Q){var{file:q,compression:z}=J,U=Q!==mq.utf8encode,W=s7.transformTo("string",Q(q.name)),V=s7.transformTo("string",mq.utf8encode(q.name)),j=q.comment,B=s7.transformTo("string",Q(j)),x=s7.transformTo("string",mq.utf8encode(j)),O=V.length!==q.name.length,R=x.length!==j.length,F,A,M="",L="",$="",I=q.dir,D=q.date,k={crc32:0,compressedSize:0,uncompressedSize:0};if(!w||G)k.crc32=J.crc32,k.compressedSize=J.compressedSize,k.uncompressedSize=J.uncompressedSize;var P=0;if(w)P|=8;if(!U&&(O||R))P|=2048;var _=0,v=0;if(I)_|=16;if(X==="UNIX")v=798,_|=Rk(q.unixPermissions,I);else v=20,_|=Dk(q.dosPermissions,I);if(F=D.getUTCHours(),F=F<<6,F=F|D.getUTCMinutes(),F=F<<5,F=F|D.getUTCSeconds()/2,A=D.getUTCFullYear()-1980,A=A<<4,A=A|D.getUTCMonth()+1,A=A<<5,A=A|D.getUTCDate(),O)L=h0(1,1)+h0(KM(W),4)+V,M+="up"+h0(L.length,2)+L;if(R)$=h0(1,1)+h0(KM(B),4)+x,M+="uc"+h0($.length,2)+$;var h="";h+=`
\x00`,h+=h0(P,2),h+=z.magic,h+=h0(F,2),h+=h0(A,2),h+=h0(k.crc32,4),h+=h0(k.compressedSize,4),h+=h0(k.uncompressedSize,4),h+=h0(W.length,2),h+=h0(M.length,2);var C=lw.LOCAL_FILE_HEADER+h+W+M,m=lw.CENTRAL_FILE_HEADER+h0(v,2)+h+h0(B.length,2)+"\x00\x00\x00\x00"+h0(_,4)+h0(Y,4)+W+M+B;return{fileRecord:C,dirRecord:m}},Fk=function(J,w,G,Y,X){var Q="",q=s7.transformTo("string",X(Y));return Q=lw.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+h0(J,2)+h0(J,2)+h0(w,4)+h0(G,4)+h0(q.length,2)+q,Q},Ik=function(J){var w="";return w=lw.DATA_DESCRIPTOR+h0(J.crc32,4)+h0(J.compressedSize,4)+h0(J.uncompressedSize,4),w};function b2(J,w,G,Y){e7.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=G,this.encodeFileName=Y,this.streamFiles=J,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s7.inherits(b2,e7);b2.prototype.push=function(J){var w=J.meta.percent||0,G=this.entriesCount,Y=this._sources.length;if(this.accumulate)this.contentBuffer.push(J);else this.bytesWritten+=J.data.length,e7.prototype.push.call(this,{data:J.data,meta:{currentFile:this.currentFile,percent:G?(w+100*(G-Y-1))/G:100}})};b2.prototype.openedSource=function(J){this.currentSourceOffset=this.bytesWritten,this.currentFile=J.file.name;var w=this.streamFiles&&!J.file.dir;if(w){var G=LM(J,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:G.fileRecord,meta:{percent:0}})}else this.accumulate=!0};b2.prototype.closedSource=function(J){this.accumulate=!1;var w=this.streamFiles&&!J.file.dir,G=LM(J,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(G.dirRecord),w)this.push({data:Ik(J),meta:{percent:100}});else{this.push({data:G.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};b2.prototype.flush=function(){var J=this.bytesWritten;for(var w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var G=this.bytesWritten-J,Y=Fk(this.dirRecords.length,G,J,this.zipComment,this.encodeFileName);this.push({data:Y,meta:{percent:100}})};b2.prototype.prepareNextSource=function(){if(this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused)this.previous.pause();else this.previous.resume()};b2.prototype.registerPrevious=function(J){this._sources.push(J);var w=this;return J.on("data",function(G){w.processChunk(G)}),J.on("end",function(){if(w.closedSource(w.previous.streamInfo),w._sources.length)w.prepareNextSource();else w.end()}),J.on("error",function(G){w.error(G)}),this};b2.prototype.resume=function(){if(!e7.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};b2.prototype.error=function(J){var w=this._sources;if(!e7.prototype.error.call(this,J))return!1;for(var G=0;G<w.length;G++)try{w[G].error(J)}catch(Y){}return!0};b2.prototype.lock=function(){e7.prototype.lock.call(this);var J=this._sources;for(var w=0;w<J.length;w++)J[w].lock()};$M.exports=b2});var OM=Q0((Pk)=>{var kk=_q(),Ck=AM(),Nk=function(J,w){var G=J||w,Y=kk[G];if(!Y)throw new Error(G+" is not a valid compression method !");return Y};Pk.generateWorker=function(J,w,G){var Y=new Ck(w.streamFiles,G,w.platform,w.encodeFileName),X=0;try{J.forEach(function(Q,q){X++;var z=Nk(q.options.compression,w.compression),U=q.options.compressionOptions||w.compressionOptions||{},W=q.dir,V=q.date;q._compressWorker(z,U).withStreamInfo("file",{name:Q,dir:W,date:V,comment:q.comment||"",unixPermissions:q.unixPermissions,dosPermissions:q.dosPermissions}).pipe(Y)}),Y.entriesCount=X}catch(Q){Y.error(Q)}return Y}});var DM=Q0((gT,RM)=>{var Sk=s0(),pw=G2();function j3(J,w){pw.call(this,"Nodejs stream input adapter for "+J),this._upstreamEnded=!1,this._bindStream(w)}Sk.inherits(j3,pw);j3.prototype._bindStream=function(J){var w=this;this._stream=J,J.pause(),J.on("data",function(G){w.push({data:G,meta:{percent:0}})}).on("error",function(G){if(w.isPaused)this.generatedError=G;else w.error(G)}).on("end",function(){if(w.isPaused)w._upstreamEnded=!0;else w.end()})};j3.prototype.pause=function(){if(!pw.prototype.pause.call(this))return!1;return this._stream.pause(),!0};j3.prototype.resume=function(){if(!pw.prototype.resume.call(this))return!1;if(this._upstreamEnded)this.end();else this._stream.resume();return!0};RM.exports=j3});var bM=Q0((bT,gM)=>{var gk=d7(),B3=s0(),CM=G2(),bk=lQ(),NM=pQ(),FM=kw(),fk=Ij(),Ek=OM(),IM=p4(),yk=DM(),PM=function(J,w,G){var Y=B3.getTypeOf(w),X,Q=B3.extend(G||{},NM);if(Q.date=Q.date||new Date,Q.compression!==null)Q.compression=Q.compression.toUpperCase();if(typeof Q.unixPermissions==="string")Q.unixPermissions=parseInt(Q.unixPermissions,8);if(Q.unixPermissions&&Q.unixPermissions&16384)Q.dir=!0;if(Q.dosPermissions&&Q.dosPermissions&16)Q.dir=!0;if(Q.dir)J=TM(J);if(Q.createFolders&&(X=vk(J)))SM.call(this,X,!0);var q=Y==="string"&&Q.binary===!1&&Q.base64===!1;if(!G||typeof G.binary==="undefined")Q.binary=!q;var z=w instanceof FM&&w.uncompressedSize===0;if(z||Q.dir||!w||w.length===0)Q.base64=!1,Q.binary=!0,w="",Q.compression="STORE",Y="string";var U=null;if(w instanceof FM||w instanceof CM)U=w;else if(IM.isNode&&IM.isStream(w))U=new yk(J,w);else U=B3.prepareContent(J,w,Q.binary,Q.optimizedBinaryString,Q.base64);var W=new fk(J,U,Q);this.files[J]=W},vk=function(J){if(J.slice(-1)==="/")J=J.substring(0,J.length-1);var w=J.lastIndexOf("/");return w>0?J.substring(0,w):""},TM=function(J){if(J.slice(-1)!=="/")J+="/";return J},SM=function(J,w){if(w=typeof w!=="undefined"?w:NM.createFolders,J=TM(J),!this.files[J])PM.call(this,J,null,{dir:!0,createFolders:w});return this.files[J]};function kM(J){return Object.prototype.toString.call(J)==="[object RegExp]"}var _k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(J){var w,G,Y;for(w in this.files)if(Y=this.files[w],G=w.slice(this.root.length,w.length),G&&w.slice(0,this.root.length)===this.root)J(G,Y)},filter:function(J){var w=[];return this.forEach(function(G,Y){if(J(G,Y))w.push(Y)}),w},file:function(J,w,G){if(arguments.length===1)if(kM(J)){var Y=J;return this.filter(function(Q,q){return!q.dir&&Y.test(Q)})}else{var X=this.files[this.root+J];if(X&&!X.dir)return X;else return null}else J=this.root+J,PM.call(this,J,w,G);return this},folder:function(J){if(!J)return this;if(kM(J))return this.filter(function(X,Q){return Q.dir&&J.test(X)});var w=this.root+J,G=SM.call(this,w),Y=this.clone();return Y.root=G.name,Y},remove:function(J){J=this.root+J;var w=this.files[J];if(!w){if(J.slice(-1)!=="/")J+="/";w=this.files[J]}if(w&&!w.dir)delete this.files[J];else{var G=this.filter(function(X,Q){return Q.name.slice(0,J.length)===J});for(var Y=0;Y<G.length;Y++)delete this.files[G[Y].name]}return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(J){var w,G={};try{if(G=B3.extend(J||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:gk.utf8encode}),G.type=G.type.toLowerCase(),G.compression=G.compression.toUpperCase(),G.type==="binarystring")G.type="string";if(!G.type)throw new Error("No output type specified.");if(B3.checkSupport(G.type),G.platform==="darwin"||G.platform==="freebsd"||G.platform==="linux"||G.platform==="sunos")G.platform="UNIX";if(G.platform==="win32")G.platform="DOS";var Y=G.comment||this.comment||"";w=Ek.generateWorker(this,G,Y)}catch(X){w=new CM("error"),w.error(X)}return new bk(w,G.type||"string",G.mimeType)},generateAsync:function(J,w){return this.generateInternalStream(J).accumulate(w)},generateNodeStream:function(J,w){if(J=J||{},!J.type)J.type="nodebuffer";return this.generateInternalStream(J).toNodejsStream(w)}};gM.exports=_k});var dq=Q0((fT,EM)=>{var hk=s0();function fM(J){this.data=J,this.length=J.length,this.index=0,this.zero=0}fM.prototype={checkOffset:function(J){this.checkIndex(this.index+J)},checkIndex:function(J){if(this.length<this.zero+J||J<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+J+"). Corrupted zip ?")},setIndex:function(J){this.checkIndex(J),this.index=J},skip:function(J){this.setIndex(this.index+J)},byteAt:function(){},readInt:function(J){var w=0,G;this.checkOffset(J);for(G=this.index+J-1;G>=this.index;G--)w=(w<<8)+this.byteAt(G);return this.index+=J,w},readString:function(J){return hk.transformTo("string",this.readData(J))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var J=this.readInt(4);return new Date(Date.UTC((J>>25&127)+1980,(J>>21&15)-1,J>>16&31,J>>11&31,J>>5&63,(J&31)<<1))}};EM.exports=fM});var cq=Q0((ET,vM)=>{var yM=dq(),mk=s0();function t7(J){yM.call(this,J);for(var w=0;w<this.data.length;w++)J[w]=J[w]&255}mk.inherits(t7,yM);t7.prototype.byteAt=function(J){return this.data[this.zero+J]};t7.prototype.lastIndexOfSignature=function(J){var w=J.charCodeAt(0),G=J.charCodeAt(1),Y=J.charCodeAt(2),X=J.charCodeAt(3);for(var Q=this.length-4;Q>=0;--Q)if(this.data[Q]===w&&this.data[Q+1]===G&&this.data[Q+2]===Y&&this.data[Q+3]===X)return Q-this.zero;return-1};t7.prototype.readAndCheckSignature=function(J){var w=J.charCodeAt(0),G=J.charCodeAt(1),Y=J.charCodeAt(2),X=J.charCodeAt(3),Q=this.readData(4);return w===Q[0]&&G===Q[1]&&Y===Q[2]&&X===Q[3]};t7.prototype.readData=function(J){if(this.checkOffset(J),J===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+J);return this.index+=J,w};vM.exports=t7});var mM=Q0((yT,hM)=>{var _M=dq(),dk=s0();function J9(J){_M.call(this,J)}dk.inherits(J9,_M);J9.prototype.byteAt=function(J){return this.data.charCodeAt(this.zero+J)};J9.prototype.lastIndexOfSignature=function(J){return this.data.lastIndexOf(J)-this.zero};J9.prototype.readAndCheckSignature=function(J){var w=this.readData(4);return J===w};J9.prototype.readData=function(J){this.checkOffset(J);var w=this.data.slice(this.zero+this.index,this.zero+this.index+J);return this.index+=J,w};hM.exports=J9});var lq=Q0((vT,cM)=>{var dM=cq(),ck=s0();function uq(J){dM.call(this,J)}ck.inherits(uq,dM);uq.prototype.readData=function(J){if(this.checkOffset(J),J===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+J);return this.index+=J,w};cM.exports=uq});var pM=Q0((_T,lM)=>{var uM=lq(),uk=s0();function pq(J){uM.call(this,J)}uk.inherits(pq,uM);pq.prototype.readData=function(J){this.checkOffset(J);var w=this.data.slice(this.zero+this.index,this.zero+this.index+J);return this.index+=J,w};lM.exports=pq});var oq=Q0((hT,iM)=>{var ow=s0(),oM=E5(),lk=cq(),pk=mM(),ok=pM(),ik=lq();iM.exports=function(J){var w=ow.getTypeOf(J);if(ow.checkSupport(w),w==="string"&&!oM.uint8array)return new pk(J);if(w==="nodebuffer")return new ok(J);if(oM.uint8array)return new ik(ow.transformTo("uint8array",J));return new lk(ow.transformTo("array",J))}});var sM=Q0((mT,rM)=>{var iq=oq(),E6=s0(),ak=kw(),aM=Iw(),iw=d7(),aw=_q(),nk=E5(),rk=0,sk=3,ek=function(J){for(var w in aw){if(!Object.prototype.hasOwnProperty.call(aw,w))continue;if(aw[w].magic===J)return aw[w]}return null};function nM(J,w){this.options=J,this.loadOptions=w}nM.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(J){var w,G;if(J.skip(22),this.fileNameLength=J.readInt(2),G=J.readInt(2),this.fileName=J.readData(this.fileNameLength),J.skip(G),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(w=ek(this.compressionMethod),w===null)throw new Error("Corrupted zip : compression "+E6.pretty(this.compressionMethod)+" unknown (inner file : "+E6.transformTo("string",this.fileName)+")");this.decompressed=new ak(this.compressedSize,this.uncompressedSize,this.crc32,w,J.readData(this.compressedSize))},readCentralPart:function(J){this.versionMadeBy=J.readInt(2),J.skip(2),this.bitFlag=J.readInt(2),this.compressionMethod=J.readString(2),this.date=J.readDate(),this.crc32=J.readInt(4),this.compressedSize=J.readInt(4),this.uncompressedSize=J.readInt(4);var w=J.readInt(2);if(this.extraFieldsLength=J.readInt(2),this.fileCommentLength=J.readInt(2),this.diskNumberStart=J.readInt(2),this.internalFileAttributes=J.readInt(2),this.externalFileAttributes=J.readInt(4),this.localHeaderOffset=J.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");J.skip(w),this.readExtraFields(J),this.parseZIP64ExtraField(J),this.fileComment=J.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var J=this.versionMadeBy>>8;if(this.dir=this.externalFileAttributes&16?!0:!1,J===rk)this.dosPermissions=this.externalFileAttributes&63;if(J===sk)this.unixPermissions=this.externalFileAttributes>>16&65535;if(!this.dir&&this.fileNameStr.slice(-1)==="/")this.dir=!0},parseZIP64ExtraField:function(){if(!this.extraFields[1])return;var J=iq(this.extraFields[1].value);if(this.uncompressedSize===E6.MAX_VALUE_32BITS)this.uncompressedSize=J.readInt(8);if(this.compressedSize===E6.MAX_VALUE_32BITS)this.compressedSize=J.readInt(8);if(this.localHeaderOffset===E6.MAX_VALUE_32BITS)this.localHeaderOffset=J.readInt(8);if(this.diskNumberStart===E6.MAX_VALUE_32BITS)this.diskNumberStart=J.readInt(4)},readExtraFields:function(J){var w=J.index+this.extraFieldsLength,G,Y,X;if(!this.extraFields)this.extraFields={};while(J.index+4<w)G=J.readInt(2),Y=J.readInt(2),X=J.readData(Y),this.extraFields[G]={id:G,length:Y,value:X};J.setIndex(w)},handleUTF8:function(){var J=nk.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=iw.utf8decode(this.fileName),this.fileCommentStr=iw.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var G=E6.transformTo(J,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(G)}var Y=this.findExtraFieldUnicodeComment();if(Y!==null)this.fileCommentStr=Y;else{var X=E6.transformTo(J,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(X)}}},findExtraFieldUnicodePath:function(){var J=this.extraFields[28789];if(J){var w=iq(J.value);if(w.readInt(1)!==1)return null;if(aM(this.fileName)!==w.readInt(4))return null;return iw.utf8decode(w.readData(J.length-5))}return null},findExtraFieldUnicodeComment:function(){var J=this.extraFields[25461];if(J){var w=iq(J.value);if(w.readInt(1)!==1)return null;if(aM(this.fileComment)!==w.readInt(4))return null;return iw.utf8decode(w.readData(J.length-5))}return null}};rM.exports=nM});var Jx=Q0((dT,tM)=>{var tk=oq(),h5=s0(),f2=hq(),JC=sM(),wC=E5();function eM(J){this.files=[],this.loadOptions=J}eM.prototype={checkSignature:function(J){if(!this.reader.readAndCheckSignature(J)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h5.pretty(w)+", expected "+h5.pretty(J)+")")}},isSignature:function(J,w){var G=this.reader.index;this.reader.setIndex(J);var Y=this.reader.readString(4),X=Y===w;return this.reader.setIndex(G),X},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var J=this.reader.readData(this.zipCommentLength),w=wC.uint8array?"uint8array":"array",G=h5.transformTo(w,J);this.zipComment=this.loadOptions.decodeFileName(G)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var J=this.zip64EndOfCentralSize-44,w=0,G,Y,X;while(w<J)G=this.reader.readInt(2),Y=this.reader.readInt(4),X=this.reader.readData(Y),this.zip64ExtensibleData[G]={id:G,length:Y,value:X}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var J,w;for(J=0;J<this.files.length;J++)w=this.files[J],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(f2.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var J;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(f2.CENTRAL_FILE_HEADER))J=new JC({zip64:this.zip64},this.loadOptions),J.readCentralPart(this.reader),this.files.push(J);if(this.centralDirRecords!==this.files.length){if(this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}},readEndOfCentral:function(){var J=this.reader.lastIndexOfSignature(f2.CENTRAL_DIRECTORY_END);if(J<0){var w=!this.isSignature(0,f2.LOCAL_FILE_HEADER);if(w)throw new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");else throw new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(J);var G=J;if(this.checkSignature(f2.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h5.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h5.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h5.MAX_VALUE_16BITS||this.centralDirRecords===h5.MAX_VALUE_16BITS||this.centralDirSize===h5.MAX_VALUE_32BITS||this.centralDirOffset===h5.MAX_VALUE_32BITS){if(this.zip64=!0,J=this.reader.lastIndexOfSignature(f2.ZIP64_CENTRAL_DIRECTORY_LOCATOR),J<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(J),this.checkSignature(f2.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f2.ZIP64_CENTRAL_DIRECTORY_END)){if(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f2.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f2.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var Y=this.centralDirOffset+this.centralDirSize;if(this.zip64)Y+=20,Y+=12+this.zip64EndOfCentralSize;var X=G-Y;if(X>0)if(this.isSignature(G,f2.CENTRAL_FILE_HEADER));else this.reader.zero=X;else if(X<0)throw new Error("Corrupted zip: missing "+Math.abs(X)+" bytes.")},prepareReader:function(J){this.reader=tk(J)},load:function(J){this.prepareReader(J),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};tM.exports=eM});var Yx=Q0((cT,Gx)=>{var aq=s0(),nw=_7(),GC=d7(),YC=Jx(),XC=aQ(),wx=p4();function QC(J){return new nw.Promise(function(w,G){var Y=J.decompressed.getContentWorker().pipe(new XC);Y.on("error",function(X){G(X)}).on("end",function(){if(Y.streamInfo.crc32!==J.decompressed.crc32)G(new Error("Corrupted zip : CRC32 mismatch"));else w()}).resume()})}Gx.exports=function(J,w){var G=this;if(w=aq.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:GC.utf8decode}),wx.isNode&&wx.isStream(J))return nw.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."));return aq.prepareContent("the loaded zip file",J,!0,w.optimizedBinaryString,w.base64).then(function(Y){var X=new YC(w);return X.load(Y),X}).then(function Y(X){var Q=[nw.Promise.resolve(X)],q=X.files;if(w.checkCRC32)for(var z=0;z<q.length;z++)Q.push(QC(q[z]));return nw.Promise.all(Q)}).then(function Y(X){var Q=X.shift(),q=Q.files;for(var z=0;z<q.length;z++){var U=q[z],W=U.fileNameStr,V=aq.resolve(U.fileNameStr);if(G.file(V,U.decompressed,{binary:!0,optimizedBinaryString:!0,date:U.date,dir:U.dir,comment:U.fileCommentStr.length?U.fileCommentStr:null,unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions,createFolders:w.createFolders}),!U.dir)G.file(V).unsafeOriginalName=W}if(Q.zipComment.length)G.comment=Q.zipComment;return G})}});var Qx=Q0((uT,Xx)=>{function F2(){if(!(this instanceof F2))return new F2;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var J=new F2;for(var w in this)if(typeof this[w]!=="function")J[w]=this[w];return J}}F2.prototype=bM();F2.prototype.loadAsync=Yx();F2.support=E5();F2.defaults=pQ();F2.version="3.10.1";F2.loadAsync=function(J,w){return new F2().loadAsync(J,w)};F2.external=_7();Xx.exports=F2});var UW="./logo-kygw735p.svg";var EL=hG(RZ(),1);i6();var hO=Symbol.for("react.transitional.element"),mO=Symbol.for("react.fragment");function DZ(J,w,G){var Y=null;if(G!==void 0&&(Y=""+G),w.key!==void 0&&(Y=""+w.key),"key"in w){G={};for(var X in w)X!=="key"&&(G[X]=w[X])}else G=w;return w=G.ref,{$$typeof:hO,type:J,key:Y,ref:w!==void 0?w:null,props:G}}var L8=mO,b0=DZ,A2=DZ;function FZ({setFileData:J,setIsProcessing:w,resetStates:G}){let Y=e5(null);function X(Q){G(),console.log("entering uploadFiles");let q=Q.target.files;if(!q||q.length===0){console.error("No files selected.");return}w(!0),console.log("Files processing:",q.length);for(let z=0;z<q.length;z++){if(console.log("Processing file:",q[z].name),!q[z].type.startsWith("image/png")){console.error("Only PNG files are allowed.");continue}else{console.log("creating fileName");let U=q[z].name.substring(0,q[z].name.lastIndexOf(".")),W=q[z],V=new FileReader;V.onload=(j)=>{console.log("entering reader.onload");let B=j.target?.result;J((x)=>{let O=[...x,{name:U,data:B}];if(O.length===q.length)w(!1),console.log("processing complete");return O})},V.readAsDataURL(W)}console.log("File processed + added to fileData.")}}return b0(L8,{children:A2("div",{className:"border-[10px] border-dashed h-[250px] w-[250px] justify-content content-center",children:[b0("p",{children:"Drag and Drop"}),b0("p",{children:"or"}),b0("button",{onClick:()=>Y.current?.click(),className:"bg-blue-500 px-[5px] mt-[10px]",children:"Upload Files"}),b0("input",{type:"file",id:"files",name:"files",multiple:!0,accept:"image/png",ref:Y,className:"hidden",onChange:X})]})})}function IZ({files:J}){return A2("div",{children:[b0("h2",{children:"Icon Display"}),J?.length===0&&b0("p",{children:"No files to display"}),b0("div",{className:"grid grid-cols-4",children:J?.map((w)=>b0("img",{src:w.data,alt:w.name},w.name))})]})}var qx=hG(Qx(),1);i6();function zx({files:J}){console.log("Preparing Files for ZIP:",J);let w=e5(null),G=new qx.default;async function Y(){if(!J||J.length===0){alert("No files to download");return}for(let X=0;X<J.length;X++){let q=await(await fetch(J[X].data)).blob();if(G.file(`${J[X].name}.png`,q),X===J.length-1){let z=await G.generateAsync({type:"blob"}),U=URL.createObjectURL(z);if(w.current)w.current.href=U,w.current.download="icons.zip",w.current.click(),setTimeout(()=>URL.revokeObjectURL(U),100)}}}return A2(L8,{children:[b0("button",{onClick:Y,children:"Download"}),b0("a",{ref:w,style:{display:"none"}})]})}i6();function E(J,w,G){return(w=function(Y){var X=function(Q,q){if(typeof Q!="object"||!Q)return Q;var z=Q[Symbol.toPrimitive];if(z!==void 0){var U=z.call(Q,q||"default");if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(Q)}(Y,"string");return typeof X=="symbol"?X:X+""}(w))in J?Object.defineProperty(J,w,{value:G,enumerable:!0,configurable:!0,writable:!0}):J[w]=G,J}function Wx(J,w){var G=Object.keys(J);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(J);w&&(Y=Y.filter(function(X){return Object.getOwnPropertyDescriptor(J,X).enumerable})),G.push.apply(G,Y)}return G}function f(J){for(var w=1;w<arguments.length;w++){var G=arguments[w]!=null?arguments[w]:{};w%2?Wx(Object(G),!0).forEach(function(Y){E(J,Y,G[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(G)):Wx(Object(G)).forEach(function(Y){Object.defineProperty(J,Y,Object.getOwnPropertyDescriptor(G,Y))})}return J}function i0(J,w){if(J==null)return{};var G,Y,X=function(q,z){if(q==null)return{};var U={};for(var W in q)if({}.hasOwnProperty.call(q,W)){if(z.indexOf(W)>=0)continue;U[W]=q[W]}return U}(J,w);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(J);for(Y=0;Y<Q.length;Y++)G=Q[Y],w.indexOf(G)>=0||{}.propertyIsEnumerable.call(J,G)&&(X[G]=J[G])}return X}function u6(J,w){return w||(w=J.slice(0)),Object.freeze(Object.defineProperties(J,{raw:{value:Object.freeze(w)}}))}class zz{constructor(){E(this,"browserShadowBlurConstant",1),E(this,"DPI",96),E(this,"devicePixelRatio",typeof window!="undefined"?window.devicePixelRatio:1),E(this,"perfLimitSizeTotal",2097152),E(this,"maxCacheSideLimit",4096),E(this,"minCacheSideLimit",256),E(this,"disableStyleCopyPaste",!1),E(this,"enableGLFiltering",!0),E(this,"textureSize",4096),E(this,"forceGLPutImageData",!1),E(this,"cachesBoundsOfCurve",!1),E(this,"fontPaths",{}),E(this,"NUM_FRACTION_DIGITS",4)}}var D0=new class extends zz{constructor(J){super(),this.configure(J)}configure(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,J)}addFonts(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=f(f({},this.fontPaths),J)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((J)=>{delete this.fontPaths[J]})}clearFonts(){this.fontPaths={}}restoreDefaults(J){let w=new zz,G=(J==null?void 0:J.reduce((Y,X)=>(Y[X]=w[X],Y),{}))||w;this.configure(G)}},h6=function(J){for(var w=arguments.length,G=new Array(w>1?w-1:0),Y=1;Y<w;Y++)G[Y-1]=arguments[Y];return console[J]("fabric",...G)};class _2 extends Error{constructor(J,w){super("fabric: ".concat(J),w)}}class kz extends _2{constructor(J){super("".concat(J," 'options.signal' is in 'aborted' state"))}}class _x{}class hx extends _x{testPrecision(J,w){let G="precision ".concat(w,` float;
void main(){}`),Y=J.createShader(J.FRAGMENT_SHADER);return!!Y&&(J.shaderSource(Y,G),J.compileShader(Y),!!J.getShaderParameter(Y,J.COMPILE_STATUS))}queryWebGL(J){let w=J.getContext("webgl");w&&(this.maxTextureSize=w.getParameter(w.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((G)=>this.testPrecision(w,G)),w.getExtension("WEBGL_lose_context").loseContext(),h6("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(J){return!!this.maxTextureSize&&this.maxTextureSize>=J}}var qC={},Ux;var H5=()=>Ux||(Ux={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new hx,dispose(){},copyPasteData:qC}),k9=()=>H5().document,AG=()=>H5().window,mx=()=>{var J;return Math.max((J=D0.devicePixelRatio)!==null&&J!==void 0?J:AG().devicePixelRatio,1)},A3=new class{constructor(){E(this,"charWidthsCache",{}),E(this,"boundsOfCurveCache",{})}getFontCache(J){let{fontFamily:w,fontStyle:G,fontWeight:Y}=J;w=w.toLowerCase(),this.charWidthsCache[w]||(this.charWidthsCache[w]={});let X=this.charWidthsCache[w],Q="".concat(G.toLowerCase(),"_").concat((Y+"").toLowerCase());return X[Q]||(X[Q]={}),X[Q]}clearFontCache(J){(J=(J||"").toLowerCase())?this.charWidthsCache[J]&&delete this.charWidthsCache[J]:this.charWidthsCache={}}limitDimsByArea(J){let{perfLimitSizeTotal:w}=D0,G=Math.sqrt(w*J);return[Math.floor(G),Math.floor(w/G)]}},Wz="6.6.1";function c8(){}var m6=Math.PI/2,a5=2*Math.PI,Cz=Math.PI/180,v1=Object.freeze([1,0,0,1,0,0]),Nz=16,y6=0.4477152502,V0="center",N0="left",o1="top",Uz="bottom",Q1="right",i1="none",Pz=/\r?\n/,dx="moving",OG="scaling",cx="rotating",Tz="rotate",ux="skewing",k3="resizing",lx="modifyPoly",zC="modifyPath",QG="changed",RG="scale",_1="scaleX",q2="scaleY",C9="skewX",N9="skewY",x1="fill",a1="stroke",qG="modified",w9="json",nq="svg",G0=new class{constructor(){this[w9]=new Map,this[nq]=new Map}has(J){return this[w9].has(J)}getClass(J){let w=this[w9].get(J);if(!w)throw new _2("No class registered for ".concat(J));return w}setClass(J,w){w?this[w9].set(w,J):(this[w9].set(J.type,J),this[w9].set(J.type.toLowerCase(),J))}getSVGClass(J){return this[nq].get(J)}setSVGClass(J,w){this[nq].set(w!=null?w:J.type.toLowerCase(),J)}},zG=new class extends Array{remove(J){let w=this.indexOf(J);w>-1&&this.splice(w,1)}cancelAll(){let J=this.splice(0);return J.forEach((w)=>w.abort()),J}cancelByCanvas(J){if(!J)return[];let w=this.filter((G)=>{var Y;return G.target===J||typeof G.target=="object"&&((Y=G.target)===null||Y===void 0?void 0:Y.canvas)===J});return w.forEach((G)=>G.abort()),w}cancelByTarget(J){if(!J)return[];let w=this.filter((G)=>G.target===J);return w.forEach((G)=>G.abort()),w}};class px{constructor(){E(this,"__eventListeners",{})}on(J,w){if(this.__eventListeners||(this.__eventListeners={}),typeof J=="object")return Object.entries(J).forEach((G)=>{let[Y,X]=G;this.on(Y,X)}),()=>this.off(J);if(w){let G=J;return this.__eventListeners[G]||(this.__eventListeners[G]=[]),this.__eventListeners[G].push(w),()=>this.off(G,w)}return()=>!1}once(J,w){if(typeof J=="object"){let G=[];return Object.entries(J).forEach((Y)=>{let[X,Q]=Y;G.push(this.once(X,Q))}),()=>G.forEach((Y)=>Y())}if(w){let G=this.on(J,function(){for(var Y=arguments.length,X=new Array(Y),Q=0;Q<Y;Q++)X[Q]=arguments[Q];w.call(this,...X),G()});return G}return()=>!1}_removeEventListener(J,w){if(this.__eventListeners[J])if(w){let G=this.__eventListeners[J],Y=G.indexOf(w);Y>-1&&G.splice(Y,1)}else this.__eventListeners[J]=[]}off(J,w){if(this.__eventListeners)if(J===void 0)for(let G in this.__eventListeners)this._removeEventListener(G);else typeof J=="object"?Object.entries(J).forEach((G)=>{let[Y,X]=G;this._removeEventListener(Y,X)}):this._removeEventListener(J,w)}fire(J,w){var G;if(!this.__eventListeners)return;let Y=(G=this.__eventListeners[J])===null||G===void 0?void 0:G.concat();if(Y)for(let X=0;X<Y.length;X++)Y[X].call(this,w||{})}}var f8=(J,w)=>{let G=J.indexOf(w);return G!==-1&&J.splice(G,1),J},d2=(J)=>{if(J===0)return 1;switch(Math.abs(J)/m6){case 1:case 3:return 0;case 2:return-1}return Math.cos(J)},c2=(J)=>{if(J===0)return 0;let w=J/m6,G=Math.sign(J);switch(w){case 1:return G;case 2:return 0;case 3:return-G}return Math.sin(J)};class d{constructor(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof J=="object"?(this.x=J.x,this.y=J.y):(this.x=J,this.y=w)}add(J){return new d(this.x+J.x,this.y+J.y)}addEquals(J){return this.x+=J.x,this.y+=J.y,this}scalarAdd(J){return new d(this.x+J,this.y+J)}scalarAddEquals(J){return this.x+=J,this.y+=J,this}subtract(J){return new d(this.x-J.x,this.y-J.y)}subtractEquals(J){return this.x-=J.x,this.y-=J.y,this}scalarSubtract(J){return new d(this.x-J,this.y-J)}scalarSubtractEquals(J){return this.x-=J,this.y-=J,this}multiply(J){return new d(this.x*J.x,this.y*J.y)}scalarMultiply(J){return new d(this.x*J,this.y*J)}scalarMultiplyEquals(J){return this.x*=J,this.y*=J,this}divide(J){return new d(this.x/J.x,this.y/J.y)}scalarDivide(J){return new d(this.x/J,this.y/J)}scalarDivideEquals(J){return this.x/=J,this.y/=J,this}eq(J){return this.x===J.x&&this.y===J.y}lt(J){return this.x<J.x&&this.y<J.y}lte(J){return this.x<=J.x&&this.y<=J.y}gt(J){return this.x>J.x&&this.y>J.y}gte(J){return this.x>=J.x&&this.y>=J.y}lerp(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0.5;return w=Math.max(Math.min(1,w),0),new d(this.x+(J.x-this.x)*w,this.y+(J.y-this.y)*w)}distanceFrom(J){let w=this.x-J.x,G=this.y-J.y;return Math.sqrt(w*w+G*G)}midPointFrom(J){return this.lerp(J)}min(J){return new d(Math.min(this.x,J.x),Math.min(this.y,J.y))}max(J){return new d(Math.max(this.x,J.x),Math.max(this.y,J.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(J,w){return this.x=J,this.y=w,this}setX(J){return this.x=J,this}setY(J){return this.y=J,this}setFromPoint(J){return this.x=J.x,this.y=J.y,this}swap(J){let w=this.x,G=this.y;this.x=J.x,this.y=J.y,J.x=w,J.y=G}clone(){return new d(this.x,this.y)}rotate(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Sz,G=c2(J),Y=d2(J),X=this.subtract(w);return new d(X.x*Y-X.y*G,X.x*G+X.y*Y).add(w)}transform(J){let w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new d(J[0]*this.x+J[2]*this.y+(w?0:J[4]),J[1]*this.x+J[3]*this.y+(w?0:J[5]))}}var Sz=new d(0,0),YG=(J)=>!!J&&Array.isArray(J._objects);function ox(J){class w extends J{constructor(){super(...arguments),E(this,"_objects",[])}_onObjectAdded(G){}_onObjectRemoved(G){}_onStackOrderChanged(G){}add(){for(var G=arguments.length,Y=new Array(G),X=0;X<G;X++)Y[X]=arguments[X];let Q=this._objects.push(...Y);return Y.forEach((q)=>this._onObjectAdded(q)),Q}insertAt(G){for(var Y=arguments.length,X=new Array(Y>1?Y-1:0),Q=1;Q<Y;Q++)X[Q-1]=arguments[Q];return this._objects.splice(G,0,...X),X.forEach((q)=>this._onObjectAdded(q)),this._objects.length}remove(){let G=this._objects,Y=[];for(var X=arguments.length,Q=new Array(X),q=0;q<X;q++)Q[q]=arguments[q];return Q.forEach((z)=>{let U=G.indexOf(z);U!==-1&&(G.splice(U,1),Y.push(z),this._onObjectRemoved(z))}),Y}forEachObject(G){this.getObjects().forEach((Y,X,Q)=>G(Y,X,Q))}getObjects(){for(var G=arguments.length,Y=new Array(G),X=0;X<G;X++)Y[X]=arguments[X];return Y.length===0?[...this._objects]:this._objects.filter((Q)=>Q.isType(...Y))}item(G){return this._objects[G]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(G,Y){return!!this._objects.includes(G)||!!Y&&this._objects.some((X)=>X instanceof w&&X.contains(G,!0))}complexity(){return this._objects.reduce((G,Y)=>G+=Y.complexity?Y.complexity():0,0)}sendObjectToBack(G){return!(!G||G===this._objects[0])&&(f8(this._objects,G),this._objects.unshift(G),this._onStackOrderChanged(G),!0)}bringObjectToFront(G){return!(!G||G===this._objects[this._objects.length-1])&&(f8(this._objects,G),this._objects.push(G),this._onStackOrderChanged(G),!0)}sendObjectBackwards(G,Y){if(!G)return!1;let X=this._objects.indexOf(G);if(X!==0){let Q=this.findNewLowerIndex(G,X,Y);return f8(this._objects,G),this._objects.splice(Q,0,G),this._onStackOrderChanged(G),!0}return!1}bringObjectForward(G,Y){if(!G)return!1;let X=this._objects.indexOf(G);if(X!==this._objects.length-1){let Q=this.findNewUpperIndex(G,X,Y);return f8(this._objects,G),this._objects.splice(Q,0,G),this._onStackOrderChanged(G),!0}return!1}moveObjectTo(G,Y){return G!==this._objects[Y]&&(f8(this._objects,G),this._objects.splice(Y,0,G),this._onStackOrderChanged(G),!0)}findNewLowerIndex(G,Y,X){let Q;if(X){Q=Y;for(let q=Y-1;q>=0;--q)if(G.isOverlapping(this._objects[q])){Q=q;break}}else Q=Y-1;return Q}findNewUpperIndex(G,Y,X){let Q;if(X){Q=Y;for(let q=Y+1;q<this._objects.length;++q)if(G.isOverlapping(this._objects[q])){Q=q;break}}else Q=Y+1;return Q}collectObjects(G){let{left:Y,top:X,width:Q,height:q}=G,{includeIntersecting:z=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=[],W=new d(Y,X),V=W.add(new d(Q,q));for(let j=this._objects.length-1;j>=0;j--){let B=this._objects[j];B.selectable&&B.visible&&(z&&B.intersectsWithRect(W,V)||B.isContainedWithinRect(W,V)||z&&B.containsPoint(W)||z&&B.containsPoint(V))&&U.push(B)}return U}}return w}class gz extends px{_setOptions(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let w in J)this.set(w,J[w])}_setObject(J){for(let w in J)this._set(w,J[w])}set(J,w){return typeof J=="object"?this._setObject(J):this._set(J,w),this}_set(J,w){this[J]=w}toggle(J){let w=this.get(J);return typeof w=="boolean"&&this.set(J,!w),this}get(J){return this[J]}}function O3(J){return AG().requestAnimationFrame(J)}function ix(J){return AG().cancelAnimationFrame(J)}var WC=0,d6=()=>WC++,C2=()=>{let J=k9().createElement("canvas");if(!J||J.getContext===void 0)throw new _2("Failed to create `canvas` element");return J},ax=()=>k9().createElement("img"),u2=(J)=>{let w=C2();return w.width=J.width,w.height=J.height,w},bz=(J,w,G)=>J.toDataURL("image/".concat(w),G),fz=(J,w,G)=>new Promise((Y,X)=>{J.toBlob(Y,"image/".concat(w),G)}),w1=(J)=>J*Cz,c6=(J)=>J/Cz,nx=(J)=>J.every((w,G)=>w===v1[G]),T1=(J,w,G)=>new d(J).transform(w,G),Q2=(J)=>{let w=1/(J[0]*J[3]-J[1]*J[2]),G=[w*J[3],-w*J[1],-w*J[2],w*J[0],0,0],{x:Y,y:X}=new d(J[4],J[5]).transform(G,!0);return G[4]=-Y,G[5]=-X,G},G1=(J,w,G)=>[J[0]*w[0]+J[2]*w[1],J[1]*w[0]+J[3]*w[1],J[0]*w[2]+J[2]*w[3],J[1]*w[2]+J[3]*w[3],G?0:J[0]*w[4]+J[2]*w[5]+J[4],G?0:J[1]*w[4]+J[3]*w[5]+J[5]],DG=(J,w)=>J.reduceRight((G,Y)=>Y&&G?G1(Y,G,w):Y||G,void 0)||v1.concat(),rx=(J)=>{let[w,G]=J;return Math.atan2(G,w)},R9=(J)=>{let w=rx(J),G=Math.pow(J[0],2)+Math.pow(J[1],2),Y=Math.sqrt(G),X=(J[0]*J[3]-J[2]*J[1])/Y,Q=Math.atan2(J[0]*J[2]+J[1]*J[3],G);return{angle:c6(w),scaleX:Y,scaleY:X,skewX:c6(Q),skewY:0,translateX:J[4]||0,translateY:J[5]||0}},P9=function(J){return[1,0,0,1,J,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function T9(){let{angle:J=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:w=0,y:G=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=w1(J),X=d2(Y),Q=c2(Y);return[X,Q,-Q,X,w?w-(X*w-Q*G):0,G?G-(Q*w+X*G):0]}var FG=function(J){return[J,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:J,0,0]},sx=(J)=>Math.tan(w1(J)),Ez=(J)=>[1,0,sx(J),1,0,0],yz=(J)=>[1,sx(J),0,1,0,0],S3=(J)=>{let{scaleX:w=1,scaleY:G=1,flipX:Y=!1,flipY:X=!1,skewX:Q=0,skewY:q=0}=J,z=FG(Y?-w:w,X?-G:G);return Q&&(z=G1(z,Ez(Q),!0)),q&&(z=G1(z,yz(q),!0)),z},ex=(J)=>{let{translateX:w=0,translateY:G=0,angle:Y=0}=J,X=P9(w,G);Y&&(X=G1(X,T9({angle:Y})));let Q=S3(J);return nx(Q)||(X=G1(X,Q)),X},R3=function(J){let{signal:w,crossOrigin:G=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(Y,X){if(w&&w.aborted)return X(new kz("loadImage"));let Q=ax(),q;w&&(q=function(U){Q.src="",X(U)},w.addEventListener("abort",q,{once:!0}));let z=function(){Q.onload=Q.onerror=null,q&&(w==null||w.removeEventListener("abort",q)),Y(Q)};J?(Q.onload=z,Q.onerror=function(){q&&(w==null||w.removeEventListener("abort",q)),X(new _2("Error loading ".concat(Q.src)))},G&&(Q.crossOrigin=G),Q.src=J):z()})},D9=function(J){let{signal:w,reviver:G=c8}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((Y,X)=>{let Q=[];w&&w.addEventListener("abort",X,{once:!0}),Promise.all(J.map((q)=>G0.getClass(q.type).fromObject(q,{signal:w}).then((z)=>(G(q,z),Q.push(z),z)))).then(Y).catch((q)=>{Q.forEach((z)=>{z.dispose&&z.dispose()}),X(q)}).finally(()=>{w&&w.removeEventListener("abort",X)})})},g3=function(J){let{signal:w}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((G,Y)=>{let X=[];w&&w.addEventListener("abort",Y,{once:!0});let Q=Object.values(J).map((z)=>z&&z.type&&G0.has(z.type)?D9([z],{signal:w}).then((U)=>{let[W]=U;return X.push(W),W}):z),q=Object.keys(J);Promise.all(Q).then((z)=>z.reduce((U,W,V)=>(U[q[V]]=W,U),{})).then(G).catch((z)=>{X.forEach((U)=>{U.dispose&&U.dispose()}),Y(z)}).finally(()=>{w&&w.removeEventListener("abort",Y)})})},p8=function(J){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((w,G)=>((G in J)&&(w[G]=J[G]),w),{})},vz=(J,w)=>Object.keys(J).reduce((G,Y)=>(w(J[Y],Y,J)&&(G[Y]=J[Y]),G),{}),Hx={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},rq=(J,w,G)=>(G<0&&(G+=1),G>1&&(G-=1),G<0.16666666666666666?J+6*(w-J)*G:G<0.5?w:G<0.6666666666666666?J+(w-J)*(0.6666666666666666-G)*6:J),Vx=(J,w,G,Y)=>{J/=255,w/=255,G/=255;let X=Math.max(J,w,G),Q=Math.min(J,w,G),q,z,U=(X+Q)/2;if(X===Q)q=z=0;else{let W=X-Q;switch(z=U>0.5?W/(2-X-Q):W/(X+Q),X){case J:q=(w-G)/W+(w<G?6:0);break;case w:q=(G-J)/W+2;break;case G:q=(J-w)/W+4}q/=6}return[Math.round(360*q),Math.round(100*z),Math.round(100*U),Y]},Zx=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(J)/(J.endsWith("%")?100:1)},rw=(J)=>Math.min(Math.round(J),255).toString(16).toUpperCase().padStart(2,"0"),jx=(J)=>{let[w,G,Y,X=1]=J,Q=Math.round(0.3*w+0.59*G+0.11*Y);return[Q,Q,Q,X]};class T0{constructor(J){if(E(this,"isUnrecognised",!1),J)if(J instanceof T0)this.setSource([...J._source]);else if(Array.isArray(J)){let[w,G,Y,X=1]=J;this.setSource([w,G,Y,X])}else this.setSource(this._tryParsingColor(J));else this.setSource([0,0,0,1])}_tryParsingColor(J){return(J=J.toLowerCase())in Hx&&(J=Hx[J]),J==="transparent"?[255,255,255,0]:T0.sourceFromHex(J)||T0.sourceFromRgb(J)||T0.sourceFromHsl(J)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(J){this._source=J}toRgb(){let[J,w,G]=this.getSource();return"rgb(".concat(J,",").concat(w,",").concat(G,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[J,w,G]=Vx(...this.getSource());return"hsl(".concat(J,",").concat(w,"%,").concat(G,"%)")}toHsla(){let[J,w,G,Y]=Vx(...this.getSource());return"hsla(".concat(J,",").concat(w,"%,").concat(G,"%,").concat(Y,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[J,w,G,Y]=this.getSource();return"".concat(rw(J)).concat(rw(w)).concat(rw(G)).concat(rw(Math.round(255*Y)))}getAlpha(){return this.getSource()[3]}setAlpha(J){return this._source[3]=J,this}toGrayscale(){return this.setSource(jx(this.getSource())),this}toBlackWhite(J){let[w,,,G]=jx(this.getSource()),Y=w<(J||127)?0:255;return this.setSource([Y,Y,Y,G]),this}overlayWith(J){J instanceof T0||(J=new T0(J));let w=this.getSource(),G=J.getSource(),[Y,X,Q]=w.map((q,z)=>Math.round(0.5*q+0.5*G[z]));return this.setSource([Y,X,Q,w[3]]),this}static fromRgb(J){return T0.fromRgba(J)}static fromRgba(J){return new T0(T0.sourceFromRgb(J))}static sourceFromRgb(J){let w=J.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(w){let[G,Y,X]=w.slice(1,4).map((Q)=>{let q=parseFloat(Q);return Q.endsWith("%")?Math.round(2.55*q):q});return[G,Y,X,Zx(w[4])]}}static fromHsl(J){return T0.fromHsla(J)}static fromHsla(J){return new T0(T0.sourceFromHsl(J))}static sourceFromHsl(J){let w=J.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!w)return;let G=(T0.parseAngletoDegrees(w[1])%360+360)%360/360,Y=parseFloat(w[2])/100,X=parseFloat(w[3])/100,Q,q,z;if(Y===0)Q=q=z=X;else{let U=X<=0.5?X*(Y+1):X+Y-X*Y,W=2*X-U;Q=rq(W,U,G+0.3333333333333333),q=rq(W,U,G),z=rq(W,U,G-0.3333333333333333)}return[Math.round(255*Q),Math.round(255*q),Math.round(255*z),Zx(w[4])]}static fromHex(J){return new T0(T0.sourceFromHex(J))}static sourceFromHex(J){if(J.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let w=J.slice(J.indexOf("#")+1),G;G=w.length<=4?w.split("").map((z)=>z+z):w.match(/.{2}/g);let[Y,X,Q,q=255]=G.map((z)=>parseInt(z,16));return[Y,X,Q,q/255]}}static parseAngletoDegrees(J){let w=J.toLowerCase(),G=parseFloat(w);return w.includes("rad")?c6(G):w.includes("turn")?360*G:G}}var o0=(J,w)=>parseFloat(Number(J).toFixed(w)),u8=function(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nz,G=/\D{0,2}$/.exec(J),Y=parseFloat(J),X=D0.DPI;switch(G==null?void 0:G[0]){case"mm":return Y*X/25.4;case"cm":return Y*X/2.54;case"in":return Y*X;case"pt":return Y*X/72;case"pc":return Y*X/72*12;case"em":return Y*w;default:return Y}},tx=(J)=>{let[w,G]=J.trim().split(" "),[Y,X]=(Q=w)&&Q!==i1?[Q.slice(1,4),Q.slice(5,8)]:Q===i1?[Q,Q]:["Mid","Mid"];var Q;return{meetOrSlice:G||"meet",alignX:Y,alignY:X}},C3=(J)=>"matrix("+J.map((w)=>o0(w,D0.NUM_FRACTION_DIGITS)).join(" ")+")",N3=function(J,w){let G,Y,X=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(w)if(w.toLive)G="url(#SVGID_".concat(w.id,")");else{let Q=new T0(w),q=Q.getAlpha();G=Q.toRgb(),q!==1&&(Y=q.toString())}else G="none";return X?"".concat(J,": ").concat(G,"; ").concat(Y?"".concat(J,"-opacity: ").concat(Y,"; "):""):"".concat(J,'="').concat(G,'" ').concat(Y?"".concat(J,'-opacity="').concat(Y,'" '):"")},k2=(J)=>!!J&&J.toLive!==void 0,Bx=(J)=>!!J&&typeof J.toObject=="function",Mx=(J)=>!!J&&J.offsetX!==void 0&&("source"in J),E8=(J)=>!!J&&("multiSelectionStacking"in J);function JK(J){let w=J&&v2(J),G=0,Y=0;if(!J||!w)return{left:G,top:Y};let X=J,Q=w.documentElement,q=w.body||{scrollLeft:0,scrollTop:0};for(;X&&(X.parentNode||X.host)&&(X=X.parentNode||X.host,X===w?(G=q.scrollLeft||Q.scrollLeft||0,Y=q.scrollTop||Q.scrollTop||0):(G+=X.scrollLeft||0,Y+=X.scrollTop||0),X.nodeType!==1||X.style.position!=="fixed"););return{left:G,top:Y}}var v2=(J)=>J.ownerDocument||null,wK=(J)=>{var w;return((w=J.ownerDocument)===null||w===void 0?void 0:w.defaultView)||null},GK=function(J,w,G){let{width:Y,height:X}=G,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;J.width=Y,J.height=X,Q>1&&(J.setAttribute("width",(Y*Q).toString()),J.setAttribute("height",(X*Q).toString()),w.scale(Q,Q))},Hz=(J,w)=>{let{width:G,height:Y}=w;G&&(J.style.width=typeof G=="number"?"".concat(G,"px"):G),Y&&(J.style.height=typeof Y=="number"?"".concat(Y,"px"):Y)};function xx(J){return J.onselectstart!==void 0&&(J.onselectstart=()=>!1),J.style.userSelect=i1,J}class _z{constructor(J){E(this,"_originalCanvasStyle",void 0),E(this,"lower",void 0);let w=this.createLowerCanvas(J);this.lower={el:w,ctx:w.getContext("2d")}}createLowerCanvas(J){let w=(G=J)&&G.getContext!==void 0?J:J&&k9().getElementById(J)||C2();var G;if(w.hasAttribute("data-fabric"))throw new _2("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=w.style.cssText,w.setAttribute("data-fabric","main"),w.classList.add("lower-canvas"),w}cleanupDOM(J){let{width:w,height:G}=J,{el:Y}=this.lower;Y.classList.remove("lower-canvas"),Y.removeAttribute("data-fabric"),Y.setAttribute("width","".concat(w)),Y.setAttribute("height","".concat(G)),Y.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(J,w){let{el:G,ctx:Y}=this.lower;GK(G,Y,J,w)}setCSSDimensions(J){Hz(this.lower.el,J)}calcOffset(){return function(J){var w;let G=J&&v2(J),Y={left:0,top:0};if(!G)return Y;let X=((w=wK(J))===null||w===void 0?void 0:w.getComputedStyle(J,null))||{};Y.left+=parseInt(X.borderLeftWidth,10)||0,Y.top+=parseInt(X.borderTopWidth,10)||0,Y.left+=parseInt(X.paddingLeft,10)||0,Y.top+=parseInt(X.paddingTop,10)||0;let Q={left:0,top:0},q=G.documentElement;J.getBoundingClientRect!==void 0&&(Q=J.getBoundingClientRect());let z=JK(J);return{left:Q.left+z.left-(q.clientLeft||0)+Y.left,top:Q.top+z.top-(q.clientTop||0)+Y.top}}(this.lower.el)}dispose(){H5().dispose(this.lower.el),delete this.lower}}var UC={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...v1]};class b3 extends ox(gz){get lowerCanvasEl(){var J;return(J=this.elements.lower)===null||J===void 0?void 0:J.el}get contextContainer(){var J;return(J=this.elements.lower)===null||J===void 0?void 0:J.ctx}static getDefaults(){return b3.ownDefaults}constructor(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(w),this.initElements(J),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(J){this.elements=new _z(J)}add(){let J=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),J}insertAt(J){for(var w=arguments.length,G=new Array(w>1?w-1:0),Y=1;Y<w;Y++)G[Y-1]=arguments[Y];let X=super.insertAt(J,...G);return G.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),X}remove(){let J=super.remove(...arguments);return J.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),J}_onObjectAdded(J){J.canvas&&J.canvas!==this&&(h6("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),J.canvas.remove(J)),J._set("canvas",this),J.setCoords(),this.fire("object:added",{target:J}),J.fire("added",{target:this})}_onObjectRemoved(J){J._set("canvas",void 0),this.fire("object:removed",{target:J}),J.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?mx():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(J,w){return this.setDimensions({width:J},w)}setHeight(J,w){return this.setDimensions({height:J},w)}_setDimensionsImpl(J){let{cssOnly:w=!1,backstoreOnly:G=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!w){let Y=f({width:this.width,height:this.height},J);this.elements.setDimensions(Y,this.getRetinaScaling()),this.hasLostContext=!0,this.width=Y.width,this.height=Y.height}G||this.elements.setCSSDimensions(J),this.calcOffset()}setDimensions(J,w){this._setDimensionsImpl(J,w),w&&w.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(J){this.viewportTransform=J,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(J,w){let G=J,Y=[...this.viewportTransform],X=T1(J,Q2(Y));Y[0]=w,Y[3]=w;let Q=T1(X,Y);Y[4]+=G.x-Q.x,Y[5]+=G.y-Q.y,this.setViewportTransform(Y)}setZoom(J){this.zoomToPoint(new d(0,0),J)}absolutePan(J){let w=[...this.viewportTransform];return w[4]=-J.x,w[5]=-J.y,this.setViewportTransform(w)}relativePan(J){return this.absolutePan(new d(-J.x-this.viewportTransform[4],-J.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(J){J.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=O3(()=>this.renderAndReset()))}calcViewportBoundaries(){let J=this.width,w=this.height,G=Q2(this.viewportTransform),Y=T1({x:0,y:0},G),X=T1({x:J,y:w},G),Q=Y.min(X),q=Y.max(X);return this.vptCoords={tl:Q,tr:new d(q.x,Q.y),bl:new d(Q.x,q.y),br:q}}cancelRequestedRender(){this.nextRenderHandle&&(ix(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(J){}renderCanvas(J,w){if(this.destroyed)return;let G=this.viewportTransform,Y=this.clipPath;this.calcViewportBoundaries(),this.clearContext(J),J.imageSmoothingEnabled=this.imageSmoothingEnabled,J.patternQuality="best",this.fire("before:render",{ctx:J}),this._renderBackground(J),J.save(),J.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._renderObjects(J,w),J.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(J),Y&&(Y._set("canvas",this),Y.shouldCache(),Y._transformDone=!0,Y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(J,Y)),this._renderOverlay(J),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(J),this.fire("after:render",{ctx:J}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(J,w){let G=this.viewportTransform;J.save(),J.transform(...G),J.globalCompositeOperation="destination-in",w.transform(J),J.scale(1/w.zoomX,1/w.zoomY),J.drawImage(w._cacheCanvas,-w.cacheTranslationX,-w.cacheTranslationY),J.restore()}_renderObjects(J,w){for(let G=0,Y=w.length;G<Y;++G)w[G]&&w[G].render(J)}_renderBackgroundOrOverlay(J,w){let G=this["".concat(w,"Color")],Y=this["".concat(w,"Image")],X=this.viewportTransform,Q=this["".concat(w,"Vpt")];if(!G&&!Y)return;let q=k2(G);if(G){if(J.save(),J.beginPath(),J.moveTo(0,0),J.lineTo(this.width,0),J.lineTo(this.width,this.height),J.lineTo(0,this.height),J.closePath(),J.fillStyle=q?G.toLive(J):G,Q&&J.transform(...X),q){J.transform(1,0,0,1,G.offsetX||0,G.offsetY||0);let z=G.gradientTransform||G.patternTransform;z&&J.transform(...z)}J.fill(),J.restore()}if(Y){J.save();let{skipOffscreen:z}=this;this.skipOffscreen=Q,Q&&J.transform(...X),Y.render(J),this.skipOffscreen=z,J.restore()}}_renderBackground(J){this._renderBackgroundOrOverlay(J,"background")}_renderOverlay(J){this._renderBackgroundOrOverlay(J,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new d(this.width/2,this.height/2)}centerObjectH(J){return this._centerObject(J,new d(this.getCenterPoint().x,J.getCenterPoint().y))}centerObjectV(J){return this._centerObject(J,new d(J.getCenterPoint().x,this.getCenterPoint().y))}centerObject(J){return this._centerObject(J,this.getCenterPoint())}viewportCenterObject(J){return this._centerObject(J,this.getVpCenter())}viewportCenterObjectH(J){return this._centerObject(J,new d(this.getVpCenter().x,J.getCenterPoint().y))}viewportCenterObjectV(J){return this._centerObject(J,new d(J.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return T1(this.getCenterPoint(),Q2(this.viewportTransform))}_centerObject(J,w){J.setXY(w,V0,V0),J.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(J){return this.toDatalessObject(J)}toObject(J){return this._toObjectMethod("toObject",J)}toJSON(){return this.toObject()}toDatalessObject(J){return this._toObjectMethod("toDatalessObject",J)}_toObjectMethod(J,w){let G=this.clipPath,Y=G&&!G.excludeFromExport?this._toObject(G,J,w):null;return f(f(f({version:Wz},p8(this,w)),{},{objects:this._objects.filter((X)=>!X.excludeFromExport).map((X)=>this._toObject(X,J,w))},this.__serializeBgOverlay(J,w)),Y?{clipPath:Y}:null)}_toObject(J,w,G){let Y;this.includeDefaultValues||(Y=J.includeDefaultValues,J.includeDefaultValues=!1);let X=J[w](G);return this.includeDefaultValues||(J.includeDefaultValues=!!Y),X}__serializeBgOverlay(J,w){let G={},Y=this.backgroundImage,X=this.overlayImage,Q=this.backgroundColor,q=this.overlayColor;return k2(Q)?Q.excludeFromExport||(G.background=Q.toObject(w)):Q&&(G.background=Q),k2(q)?q.excludeFromExport||(G.overlay=q.toObject(w)):q&&(G.overlay=q),Y&&!Y.excludeFromExport&&(G.backgroundImage=this._toObject(Y,J,w)),X&&!X.excludeFromExport&&(G.overlayImage=this._toObject(X,J,w)),G}toSVG(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=arguments.length>1?arguments[1]:void 0;J.reviver=w;let G=[];return this._setSVGPreamble(G,J),this._setSVGHeader(G,J),this.clipPath&&G.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(G,"background"),this._setSVGBgOverlayImage(G,"backgroundImage",w),this._setSVGObjects(G,w),this.clipPath&&G.push(`</g>
`),this._setSVGBgOverlayColor(G,"overlay"),this._setSVGBgOverlayImage(G,"overlayImage",w),G.push("</svg>"),G.join("")}_setSVGPreamble(J,w){w.suppressPreamble||J.push('<?xml version="1.0" encoding="',w.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(J,w){let G=w.width||"".concat(this.width),Y=w.height||"".concat(this.height),X=D0.NUM_FRACTION_DIGITS,Q=w.viewBox,q;if(Q)q='viewBox="'.concat(Q.x," ").concat(Q.y," ").concat(Q.width," ").concat(Q.height,'" ');else if(this.svgViewportTransformation){let z=this.viewportTransform;q='viewBox="'.concat(o0(-z[4]/z[0],X)," ").concat(o0(-z[5]/z[3],X)," ").concat(o0(this.width/z[0],X)," ").concat(o0(this.height/z[3],X),'" ')}else q='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');J.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',G,'" ','height="',Y,'" ',q,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Wz,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(w),`</defs>
`)}createSVGClipPathMarkup(J){let w=this.clipPath;return w?(w.clipPathId="CLIPPATH_".concat(d6()),'<clipPath id="'.concat(w.clipPathId,`" >
`).concat(w.toClipPathSVG(J.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((J)=>{let w=this["".concat(J,"Color")];if(k2(w)){let G=this["".concat(J,"Vpt")],Y=this.viewportTransform,X={isType:()=>!1,width:this.width/(G?Y[0]:1),height:this.height/(G?Y[3]:1)};return w.toSVG(X,{additionalTransform:G?C3(Y):""})}}).join("")}createSVGFontFacesMarkup(){let J=[],w={},G=D0.fontPaths;this._objects.forEach(function X(Q){J.push(Q),YG(Q)&&Q._objects.forEach(X)}),J.forEach((X)=>{if(!(Q=X)||typeof Q._renderText!="function")return;var Q;let{styles:q,fontFamily:z}=X;!w[z]&&G[z]&&(w[z]=!0,q&&Object.values(q).forEach((U)=>{Object.values(U).forEach((W)=>{let{fontFamily:V=""}=W;!w[V]&&G[V]&&(w[V]=!0)})}))});let Y=Object.keys(w).map((X)=>`		@font-face {
			font-family: '`.concat(X,`';
			src: url('`).concat(G[X],`');
		}
`)).join("");return Y?`	<style type="text/css"><![CDATA[
`.concat(Y,`]]></style>
`):""}_setSVGObjects(J,w){this.forEachObject((G)=>{G.excludeFromExport||this._setSVGObject(J,G,w)})}_setSVGObject(J,w,G){J.push(w.toSVG(G))}_setSVGBgOverlayImage(J,w,G){let Y=this[w];Y&&!Y.excludeFromExport&&Y.toSVG&&J.push(Y.toSVG(G))}_setSVGBgOverlayColor(J,w){let G=this["".concat(w,"Color")];if(G)if(k2(G)){let Y=G.repeat||"",X=this.width,Q=this.height,q=this["".concat(w,"Vpt")]?C3(Q2(this.viewportTransform)):"";J.push('<rect transform="'.concat(q," translate(").concat(X/2,",").concat(Q/2,')" x="').concat(G.offsetX-X/2,'" y="').concat(G.offsetY-Q/2,'" width="').concat(Y!=="repeat-y"&&Y!=="no-repeat"||!Mx(G)?X:G.source.width,'" height="').concat(Y!=="repeat-x"&&Y!=="no-repeat"||!Mx(G)?Q:G.source.height,'" fill="url(#SVGID_').concat(G.id,`)"></rect>
`))}else J.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',G,'"',`></rect>
`)}loadFromJSON(J,w){let{signal:G}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!J)return Promise.reject(new _2("`json` is undefined"));let Y=typeof J=="string"?JSON.parse(J):J,{objects:X=[],backgroundImage:Q,background:q,overlayImage:z,overlay:U,clipPath:W}=Y,V=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([D9(X,{reviver:w,signal:G}),g3({backgroundImage:Q,backgroundColor:q,overlayImage:z,overlayColor:U,clipPath:W},{signal:G})]).then((j)=>{let[B,x]=j;return this.clear(),this.add(...B),this.set(Y),this.set(x),this.renderOnAddRemove=V,this})}clone(J){let w=this.toObject(J);return this.cloneWithoutData().loadFromJSON(w)}cloneWithoutData(){let J=u2(this);return new this.constructor(J)}toDataURL(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:w="png",quality:G=1,multiplier:Y=1,enableRetinaScaling:X=!1}=J,Q=Y*(X?this.getRetinaScaling():1);return bz(this.toCanvasElement(Q,J),w,G)}toBlob(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:w="png",quality:G=1,multiplier:Y=1,enableRetinaScaling:X=!1}=J,Q=Y*(X?this.getRetinaScaling():1);return fz(this.toCanvasElement(Q,J),w,G)}toCanvasElement(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:w,height:G,left:Y,top:X,filter:Q}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=(w||this.width)*J,z=(G||this.height)*J,U=this.getZoom(),W=this.width,V=this.height,j=this.skipControlsDrawing,B=U*J,x=this.viewportTransform,O=[B,0,0,B,(x[4]-(Y||0))*J,(x[5]-(X||0))*J],R=this.enableRetinaScaling,F=u2({width:q,height:z}),A=Q?this._objects.filter((M)=>Q(M)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=O,this.width=q,this.height=z,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(F.getContext("2d"),A),this.viewportTransform=x,this.width=W,this.height=V,this.calcViewportBoundaries(),this.enableRetinaScaling=R,this.skipControlsDrawing=j,F}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),zG.cancelByCanvas(this),this.disposed=!0,new Promise((J,w)=>{let G=()=>{this.destroy(),J(!0)};G.kill=w,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?J(!1):this.nextRenderHandle?this.__cleanupTask=G:G()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((J)=>J.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}E(b3,"ownDefaults",UC);var HC=["touchstart","touchmove","touchend"],YK=(J)=>{let w=JK(J.target),G=function(Y){let X=Y.changedTouches;return X&&X[0]?X[0]:Y}(J);return new d(G.clientX+w.left,G.clientY+w.top)},WG=(J)=>HC.includes(J.type)||J.pointerType==="touch",Vz=(J)=>{J.preventDefault(),J.stopPropagation()},U5=(J)=>{let w=0,G=0,Y=0,X=0;for(let Q=0,q=J.length;Q<q;Q++){let{x:z,y:U}=J[Q];(z>Y||!Q)&&(Y=z),(z<w||!Q)&&(w=z),(U>X||!Q)&&(X=U),(U<G||!Q)&&(G=U)}return{left:w,top:G,width:Y-w,height:X-G}},VC=["translateX","translateY","scaleX","scaleY"],XK=(J,w)=>F9(J,G1(w,J.calcOwnMatrix())),F9=(J,w)=>{let G=R9(w),{translateX:Y,translateY:X,scaleX:Q,scaleY:q}=G,z=i0(G,VC),U=new d(Y,X);J.flipX=!1,J.flipY=!1,Object.assign(J,z),J.set({scaleX:Q,scaleY:q}),J.setPositionByOrigin(U,V0,V0)},QK=(J)=>{J.scaleX=1,J.scaleY=1,J.skewX=0,J.skewY=0,J.flipX=!1,J.flipY=!1,J.rotate(0)},hz=(J)=>({scaleX:J.scaleX,scaleY:J.scaleY,skewX:J.skewX,skewY:J.skewY,angle:J.angle,left:J.left,flipX:J.flipX,flipY:J.flipY,top:J.top}),IG=(J,w,G)=>{let Y=J/2,X=w/2,Q=[new d(-Y,-X),new d(Y,-X),new d(-Y,X),new d(Y,X)].map((z)=>z.transform(G)),q=U5(Q);return new d(q.width,q.height)},f3=function(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v1;return G1(Q2(arguments.length>1&&arguments[1]!==void 0?arguments[1]:v1),J)},p5=function(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v1,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v1;return J.transform(f3(w,G))},qK=function(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v1,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v1;return J.transform(f3(w,G),!0)},Zz=(J,w,G)=>{let Y=f3(w,G);return F9(J,G1(Y,J.calcOwnMatrix())),Y},mz=(J,w)=>{var G;let{transform:{target:Y}}=w;(G=Y.canvas)===null||G===void 0||G.fire("object:".concat(J),f(f({},w),{},{target:Y})),Y.fire(J,w)},ZC={left:-0.5,top:-0.5,center:0,bottom:0.5,right:0.5},V1=(J)=>typeof J=="string"?ZC[J]:J-0.5,UG="not-allowed";function zK(J){return V1(J.originX)===V1(V0)&&V1(J.originY)===V1(V0)}function Kx(J){return 0.5-V1(J)}var m2=(J,w)=>J[w],dz=(J,w,G,Y)=>({e:J,transform:w,pointer:new d(G,Y)});function WK(J,w){let G=J.getTotalAngle()+c6(Math.atan2(w.y,w.x))+360;return Math.round(G%360/45)}function kG(J,w,G,Y,X){var Q;let{target:q,corner:z}=J,U=q.controls[z],W=((Q=q.canvas)===null||Q===void 0?void 0:Q.getZoom())||1,V=q.padding/W,j=function(B,x,O,R){let F=B.getRelativeCenterPoint(),A=O!==void 0&&R!==void 0?B.translateToGivenOrigin(F,V0,V0,O,R):new d(B.left,B.top);return(B.angle?x.rotate(-w1(B.angle),F):x).subtract(A)}(q,new d(Y,X),w,G);return j.x>=V&&(j.x-=V),j.x<=-V&&(j.x+=V),j.y>=V&&(j.y-=V),j.y<=V&&(j.y+=V),j.x-=U.offsetX,j.y-=U.offsetY,j}var UK=(J,w,G,Y)=>{let{target:X,offsetX:Q,offsetY:q}=w,z=G-Q,U=Y-q,W=!m2(X,"lockMovementX")&&X.left!==z,V=!m2(X,"lockMovementY")&&X.top!==U;return W&&X.set(N0,z),V&&X.set(o1,U),(W||V)&&mz(dx,dz(J,w,G,Y)),W||V};class cz{getSvgStyles(J){let w=this.fillRule?this.fillRule:"nonzero",G=this.strokeWidth?this.strokeWidth:"0",Y=this.strokeDashArray?this.strokeDashArray.join(" "):i1,X=this.strokeDashOffset?this.strokeDashOffset:"0",Q=this.strokeLineCap?this.strokeLineCap:"butt",q=this.strokeLineJoin?this.strokeLineJoin:"miter",z=this.strokeMiterLimit?this.strokeMiterLimit:"4",U=this.opacity!==void 0?this.opacity:"1",W=this.visible?"":" visibility: hidden;",V=J?"":this.getSvgFilter(),j=N3(x1,this.fill);return[N3(a1,this.stroke),"stroke-width: ",G,"; ","stroke-dasharray: ",Y,"; ","stroke-linecap: ",Q,"; ","stroke-dashoffset: ",X,"; ","stroke-linejoin: ",q,"; ","stroke-miterlimit: ",z,"; ",j,"fill-rule: ",w,"; ","opacity: ",U,";",V,W].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",G=J?this.calcTransformMatrix():this.calcOwnMatrix(),Y='transform="'.concat(C3(G));return"".concat(Y).concat(w,'" ')}_toSVG(J){return[""]}toSVG(J){return this._createBaseSVGMarkup(this._toSVG(J),{reviver:J})}toClipPathSVG(J){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(J),{reviver:J})}_createBaseClipPathSVGMarkup(J){let{reviver:w,additionalTransform:G=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=[this.getSvgTransform(!0,G),this.getSvgCommons()].join(""),X=J.indexOf("COMMON_PARTS");return J[X]=Y,w?w(J.join("")):J.join("")}_createBaseSVGMarkup(J){let{noStyle:w,reviver:G,withShadow:Y,additionalTransform:X}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=w?"":'style="'.concat(this.getSvgStyles(),'" '),q=Y?'style="'.concat(this.getSvgFilter(),'" '):"",z=this.clipPath,U=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",W=z&&z.absolutePositioned,V=this.stroke,j=this.fill,B=this.shadow,x=[],O=J.indexOf("COMMON_PARTS"),R;z&&(z.clipPathId="CLIPPATH_".concat(d6()),R='<clipPath id="'.concat(z.clipPathId,`" >
`).concat(z.toClipPathSVG(G),`</clipPath>
`)),W&&x.push("<g ",q,this.getSvgCommons(),` >
`),x.push("<g ",this.getSvgTransform(!1),W?"":q+this.getSvgCommons(),` >
`);let F=[Q,U,w?"":this.addPaintOrder()," ",X?'transform="'.concat(X,'" '):""].join("");return J[O]=F,k2(j)&&x.push(j.toSVG(this)),k2(V)&&x.push(V.toSVG(this)),B&&x.push(B.toSVG(this)),z&&x.push(R),x.push(J.join("")),x.push(`</g>
`),W&&x.push(`</g>
`),G?G(x.join("")):x.join("")}addPaintOrder(){return this.paintFirst!==x1?' paint-order="'.concat(this.paintFirst,'" '):""}}function CG(J){return new RegExp("^("+J.join("|")+")\\b","i")}var Lx,h2=String.raw(Lx||(Lx=u6(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));var jC=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+h2+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+h2+"))?\\s+(.*)"),BC={cx:N0,x:N0,r:"radius",cy:o1,y:o1,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},sq="font-size",eq="clip-path",iT=CG(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),aT=CG(["symbol","image","marker","pattern","view","svg"]),$x=CG(["symbol","g","a","svg","clipPath","defs"]),nT=new RegExp("^\\s*("+h2+"+)\\s*,?\\s*("+h2+"+)\\s*,?\\s*("+h2+"+)\\s*,?\\s*("+h2+"+)\\s*$"),MC=new d(1,0),HK=new d,uz=(J,w)=>J.rotate(w),HG=(J,w)=>new d(w).subtract(J),VG=(J)=>J.distanceFrom(HK),ZG=(J,w)=>Math.atan2(A9(J,w),ZK(J,w)),VK=(J)=>ZG(MC,J),NG=(J)=>J.eq(HK)?J:J.scalarDivide(VG(J)),lz=function(J){let w=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return NG(new d(-J.y,J.x).scalarMultiply(w?1:-1))},A9=(J,w)=>J.x*w.y-J.y*w.x,ZK=(J,w)=>J.x*w.x+J.y*w.y,jz=(J,w,G)=>{if(J.eq(w)||J.eq(G))return!0;let Y=A9(w,G),X=A9(w,J),Q=A9(G,J);return Y>=0?X>=0&&Q<=0:!(X<=0&&Q>=0)},Ax="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",Ox=new RegExp("(?:\\s|^)"+Ax+Ax+"("+h2+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class o5{constructor(J){let w=typeof J=="string"?o5.parseShadow(J):J;Object.assign(this,o5.ownDefaults,w),this.id=d6()}static parseShadow(J){let w=J.trim(),[,G=0,Y=0,X=0]=(Ox.exec(w)||[]).map((Q)=>parseFloat(Q)||0);return{color:(w.replace(Ox,"")||"rgb(0,0,0)").trim(),offsetX:G,offsetY:Y,blur:X}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(J){let w=uz(new d(this.offsetX,this.offsetY),w1(-J.angle)),G=new T0(this.color),Y=40,X=40;return J.width&&J.height&&(Y=100*o0((Math.abs(w.x)+this.blur)/J.width,D0.NUM_FRACTION_DIGITS)+20,X=100*o0((Math.abs(w.y)+this.blur)/J.height,D0.NUM_FRACTION_DIGITS)+20),J.flipX&&(w.x*=-1),J.flipY&&(w.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(X,'%" height="').concat(100+2*X,'%" x="-').concat(Y,'%" width="').concat(100+2*Y,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(o0(this.blur?this.blur/2:0,D0.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(o0(w.x,D0.NUM_FRACTION_DIGITS),'" dy="').concat(o0(w.y,D0.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(G.toRgb(),'" flood-opacity="').concat(G.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let J={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},w=o5.ownDefaults;return this.includeDefaultValues?J:vz(J,(G,Y)=>G!==w[Y])}static async fromObject(J){return new this(J)}}E(o5,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),E(o5,"type","shadow"),G0.setClass(o5,"shadow");var l8=(J,w,G)=>Math.max(J,Math.min(w,G)),xC=[o1,N0,_1,q2,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",C9,N9],n5=[x1,a1,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],KC={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:N0,originY:o1,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:x1,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},tq=(J,w,G,Y)=>(J<Math.abs(w)?(J=w,Y=G/4):Y=w===0&&J===0?G/a5*Math.asin(1):G/a5*Math.asin(w/J),{a:J,c:w,p:G,s:Y}),Rx=(J,w,G,Y,X)=>J*Math.pow(2,10*(Y-=1))*Math.sin((Y*X-w)*a5/G),jK=(J,w,G,Y)=>-G*Math.cos(J/Y*m6)+G+w,Bz=(J,w,G,Y)=>(J/=Y)<0.36363636363636365?G*(7.5625*J*J)+w:J<0.7272727272727273?G*(7.5625*(J-=0.5454545454545454)*J+0.75)+w:J<0.9090909090909091?G*(7.5625*(J-=0.8181818181818182)*J+0.9375)+w:G*(7.5625*(J-=0.9545454545454546)*J+0.984375)+w,Dx=(J,w,G,Y)=>G-Bz(Y-J,0,G,Y)+w,LC=Object.freeze({__proto__:null,defaultEasing:jK,easeInBack:function(J,w,G,Y){let X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return G*(J/=Y)*J*((X+1)*J-X)+w},easeInBounce:Dx,easeInCirc:(J,w,G,Y)=>-G*(Math.sqrt(1-(J/=Y)*J)-1)+w,easeInCubic:(J,w,G,Y)=>G*(J/Y)**3+w,easeInElastic:(J,w,G,Y)=>{let X=G,Q=0;if(J===0)return w;if((J/=Y)===1)return w+G;Q||(Q=0.3*Y);let{a:q,s:z,p:U}=tq(X,G,Q,1.70158);return-Rx(q,z,U,J,Y)+w},easeInExpo:(J,w,G,Y)=>J===0?w:G*2**(10*(J/Y-1))+w,easeInOutBack:function(J,w,G,Y){let X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(J/=Y/2)<1?G/2*(J*J*((1+(X*=1.525))*J-X))+w:G/2*((J-=2)*J*((1+(X*=1.525))*J+X)+2)+w},easeInOutBounce:(J,w,G,Y)=>J<Y/2?0.5*Dx(2*J,0,G,Y)+w:0.5*Bz(2*J-Y,0,G,Y)+0.5*G+w,easeInOutCirc:(J,w,G,Y)=>(J/=Y/2)<1?-G/2*(Math.sqrt(1-J**2)-1)+w:G/2*(Math.sqrt(1-(J-=2)*J)+1)+w,easeInOutCubic:(J,w,G,Y)=>(J/=Y/2)<1?G/2*J**3+w:G/2*((J-2)**3+2)+w,easeInOutElastic:(J,w,G,Y)=>{let X=G,Q=0;if(J===0)return w;if((J/=Y/2)===2)return w+G;Q||(Q=Y*0.44999999999999996);let{a:q,s:z,p:U,c:W}=tq(X,G,Q,1.70158);return J<1?-0.5*Rx(q,z,U,J,Y)+w:q*Math.pow(2,-10*(J-=1))*Math.sin((J*Y-z)*a5/U)*0.5+W+w},easeInOutExpo:(J,w,G,Y)=>J===0?w:J===Y?w+G:(J/=Y/2)<1?G/2*2**(10*(J-1))+w:G/2*-(2**(-10*--J)+2)+w,easeInOutQuad:(J,w,G,Y)=>(J/=Y/2)<1?G/2*J**2+w:-G/2*(--J*(J-2)-1)+w,easeInOutQuart:(J,w,G,Y)=>(J/=Y/2)<1?G/2*J**4+w:-G/2*((J-=2)*J**3-2)+w,easeInOutQuint:(J,w,G,Y)=>(J/=Y/2)<1?G/2*J**5+w:G/2*((J-2)**5+2)+w,easeInOutSine:(J,w,G,Y)=>-G/2*(Math.cos(Math.PI*J/Y)-1)+w,easeInQuad:(J,w,G,Y)=>G*(J/=Y)*J+w,easeInQuart:(J,w,G,Y)=>G*(J/=Y)*J**3+w,easeInQuint:(J,w,G,Y)=>G*(J/Y)**5+w,easeInSine:(J,w,G,Y)=>-G*Math.cos(J/Y*m6)+G+w,easeOutBack:function(J,w,G,Y){let X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return G*((J=J/Y-1)*J*((X+1)*J+X)+1)+w},easeOutBounce:Bz,easeOutCirc:(J,w,G,Y)=>G*Math.sqrt(1-(J=J/Y-1)*J)+w,easeOutCubic:(J,w,G,Y)=>G*((J/Y-1)**3+1)+w,easeOutElastic:(J,w,G,Y)=>{let X=G,Q=0;if(J===0)return w;if((J/=Y)===1)return w+G;Q||(Q=0.3*Y);let{a:q,s:z,p:U,c:W}=tq(X,G,Q,1.70158);return q*2**(-10*J)*Math.sin((J*Y-z)*a5/U)+W+w},easeOutExpo:(J,w,G,Y)=>J===Y?w+G:G*-(2**(-10*J/Y)+1)+w,easeOutQuad:(J,w,G,Y)=>-G*(J/=Y)*(J-2)+w,easeOutQuart:(J,w,G,Y)=>-G*((J=J/Y-1)*J**3-1)+w,easeOutQuint:(J,w,G,Y)=>G*((J/Y-1)**5+1)+w,easeOutSine:(J,w,G,Y)=>G*Math.sin(J/Y*m6)+w}),$C=()=>!1;class PG{constructor(J){let{startValue:w,byValue:G,duration:Y=500,delay:X=0,easing:Q=jK,onStart:q=c8,onChange:z=c8,onComplete:U=c8,abort:W=$C,target:V}=J;E(this,"_state","pending"),E(this,"durationProgress",0),E(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=Y,this.delay=X,this.easing=Q,this._onStart=q,this._onChange=z,this._onComplete=U,this._abort=W,this.target=V,this.startValue=w,this.byValue=G,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let J=(w)=>{this._state==="pending"&&(this.startTime=w||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>O3(J),this.delay):O3(J)}tick(J){let w=(J||+new Date)-this.startTime,G=Math.min(w,this.duration);this.durationProgress=G/this.duration;let{value:Y,valueProgress:X}=this.calculate(G);this.value=Object.freeze(Y),this.valueProgress=X,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):w>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),O3(this.tick)))}register(){zG.push(this)}unregister(){zG.remove(this)}abort(){this._state="aborted",this.unregister()}}var AC=["startValue","endValue"];class BK extends PG{constructor(J){let{startValue:w=0,endValue:G=100}=J;super(f(f({},i0(J,AC)),{},{startValue:w,byValue:G-w}))}calculate(J){let w=this.easing(J,this.startValue,this.byValue,this.duration);return{value:w,valueProgress:Math.abs((w-this.startValue)/this.byValue)}}}var OC=["startValue","endValue"];class MK extends PG{constructor(J){let{startValue:w=[0],endValue:G=[100]}=J;super(f(f({},i0(J,OC)),{},{startValue:w,byValue:G.map((Y,X)=>Y-w[X])}))}calculate(J){let w=this.startValue.map((G,Y)=>this.easing(J,G,this.byValue[Y],this.duration,Y));return{value:w,valueProgress:Math.abs((w[0]-this.startValue[0])/this.byValue[0])}}}var RC=["startValue","endValue","easing","onChange","onComplete","abort"],DC=(J,w,G,Y)=>w+G*(1-Math.cos(J/Y*m6)),Jz=(J)=>J&&((w,G,Y)=>J(new T0(w).toRgba(),G,Y));class xK extends PG{constructor(J){let{startValue:w,endValue:G,easing:Y=DC,onChange:X,onComplete:Q,abort:q}=J,z=i0(J,RC),U=new T0(w).getSource(),W=new T0(G).getSource();super(f(f({},z),{},{startValue:U,byValue:W.map((V,j)=>V-U[j]),easing:Y,onChange:Jz(X),onComplete:Jz(Q),abort:Jz(q)}))}calculate(J){let[w,G,Y,X]=this.startValue.map((q,z)=>this.easing(J,q,this.byValue[z],this.duration,z)),Q=[...[w,G,Y].map(Math.round),l8(0,X,1)];return{value:Q,valueProgress:Q.map((q,z)=>this.byValue[z]!==0?Math.abs((q-this.startValue[z])/this.byValue[z]):0).find((q)=>q!==0)||0}}}function pz(J){let w=((G)=>Array.isArray(G.startValue)||Array.isArray(G.endValue))(J)?new MK(J):new BK(J);return w.start(),w}function KK(J){let w=new xK(J);return w.start(),w}class e0{constructor(J){this.status=J,this.points=[]}includes(J){return this.points.some((w)=>w.eq(J))}append(){for(var J=arguments.length,w=new Array(J),G=0;G<J;G++)w[G]=arguments[G];return this.points=this.points.concat(w.filter((Y)=>!this.includes(Y))),this}static isPointContained(J,w,G){let Y=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(w.eq(G))return J.eq(w);if(w.x===G.x)return J.x===w.x&&(Y||J.y>=Math.min(w.y,G.y)&&J.y<=Math.max(w.y,G.y));if(w.y===G.y)return J.y===w.y&&(Y||J.x>=Math.min(w.x,G.x)&&J.x<=Math.max(w.x,G.x));{let X=HG(w,G),Q=HG(w,J).divide(X);return Y?Math.abs(Q.x)===Math.abs(Q.y):Q.x===Q.y&&Q.x>=0&&Q.x<=1}}static isPointInPolygon(J,w){let G=new d(J).setX(Math.min(J.x-1,...w.map((X)=>X.x))),Y=0;for(let X=0;X<w.length;X++){let Q=this.intersectSegmentSegment(w[X],w[(X+1)%w.length],J,G);if(Q.includes(J))return!0;Y+=Number(Q.status==="Intersection")}return Y%2==1}static intersectLineLine(J,w,G,Y){let X=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],Q=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],q=w.x-J.x,z=w.y-J.y,U=Y.x-G.x,W=Y.y-G.y,V=J.x-G.x,j=J.y-G.y,B=U*j-W*V,x=q*j-z*V,O=W*q-U*z;if(O!==0){let R=B/O,F=x/O;return(X||0<=R&&R<=1)&&(Q||0<=F&&F<=1)?new e0("Intersection").append(new d(J.x+R*q,J.y+R*z)):new e0}if(B===0||x===0){let R=X||Q||e0.isPointContained(J,G,Y)||e0.isPointContained(w,G,Y)||e0.isPointContained(G,J,w)||e0.isPointContained(Y,J,w);return new e0(R?"Coincident":void 0)}return new e0("Parallel")}static intersectSegmentLine(J,w,G,Y){return e0.intersectLineLine(J,w,G,Y,!1,!0)}static intersectSegmentSegment(J,w,G,Y){return e0.intersectLineLine(J,w,G,Y,!1,!1)}static intersectLinePolygon(J,w,G){let Y=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],X=new e0,Q=G.length;for(let q,z,U,W=0;W<Q;W++){if(q=G[W],z=G[(W+1)%Q],U=e0.intersectLineLine(J,w,q,z,Y,!1),U.status==="Coincident")return U;X.append(...U.points)}return X.points.length>0&&(X.status="Intersection"),X}static intersectSegmentPolygon(J,w,G){return e0.intersectLinePolygon(J,w,G,!1)}static intersectPolygonPolygon(J,w){let G=new e0,Y=J.length,X=[];for(let Q=0;Q<Y;Q++){let q=J[Q],z=J[(Q+1)%Y],U=e0.intersectSegmentPolygon(q,z,w);U.status==="Coincident"?(X.push(U),G.append(q,z)):G.append(...U.points)}return X.length>0&&X.length===J.length?new e0("Coincident"):(G.points.length>0&&(G.status="Intersection"),G)}static intersectPolygonRectangle(J,w,G){let Y=w.min(G),X=w.max(G),Q=new d(X.x,Y.y),q=new d(Y.x,X.y);return e0.intersectPolygonPolygon(J,[Y,Q,X,q])}}class LK extends gz{getX(){return this.getXY().x}setX(J){this.setXY(this.getXY().setX(J))}getY(){return this.getXY().y}setY(J){this.setXY(this.getXY().setY(J))}getRelativeX(){return this.left}setRelativeX(J){this.left=J}getRelativeY(){return this.top}setRelativeY(J){this.top=J}getXY(){let J=this.getRelativeXY();return this.group?T1(J,this.group.calcTransformMatrix()):J}setXY(J,w,G){this.group&&(J=T1(J,Q2(this.group.calcTransformMatrix()))),this.setRelativeXY(J,w,G)}getRelativeXY(){return new d(this.left,this.top)}setRelativeXY(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(J,w,G)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:J,tr:w,br:G,bl:Y}=this.aCoords||(this.aCoords=this.calcACoords()),X=[J,w,G,Y];if(this.group){let Q=this.group.calcTransformMatrix();return X.map((q)=>T1(q,Q))}return X}intersectsWithRect(J,w){return e0.intersectPolygonRectangle(this.getCoords(),J,w).status==="Intersection"}intersectsWithObject(J){let w=e0.intersectPolygonPolygon(this.getCoords(),J.getCoords());return w.status==="Intersection"||w.status==="Coincident"||J.isContainedWithinObject(this)||this.isContainedWithinObject(J)}isContainedWithinObject(J){return this.getCoords().every((w)=>J.containsPoint(w))}isContainedWithinRect(J,w){let{left:G,top:Y,width:X,height:Q}=this.getBoundingRect();return G>=J.x&&G+X<=w.x&&Y>=J.y&&Y+Q<=w.y}isOverlapping(J){return this.intersectsWithObject(J)||this.isContainedWithinObject(J)||J.isContainedWithinObject(this)}containsPoint(J){return e0.isPointInPolygon(J,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:J,br:w}=this.canvas.vptCoords;return!!this.getCoords().some((G)=>G.x<=w.x&&G.x>=J.x&&G.y<=w.y&&G.y>=J.y)||(!!this.intersectsWithRect(J,w)||this.containsPoint(J.midPointFrom(w)))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:J,br:w}=this.canvas.vptCoords;if(this.intersectsWithRect(J,w))return!0;return this.getCoords().every((G)=>(G.x>=w.x||G.x<=J.x)&&(G.y>=w.y||G.y<=J.y))&&this.containsPoint(J.midPointFrom(w))}getBoundingRect(){return U5(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(J){this._set(_1,J),this._set(q2,J),this.setCoords()}scaleToWidth(J){let w=this.getBoundingRect().width/this.getScaledWidth();return this.scale(J/this.width/w)}scaleToHeight(J){let w=this.getBoundingRect().height/this.getScaledHeight();return this.scale(J/this.height/w)}getCanvasRetinaScaling(){var J;return((J=this.canvas)===null||J===void 0?void 0:J.getRetinaScaling())||1}getTotalAngle(){return this.group?c6(rx(this.calcTransformMatrix())):this.angle}getViewportTransform(){var J;return((J=this.canvas)===null||J===void 0?void 0:J.viewportTransform)||v1.concat()}calcACoords(){let J=T9({angle:this.angle}),{x:w,y:G}=this.getRelativeCenterPoint(),Y=P9(w,G),X=G1(Y,J),Q=this._getTransformedDimensions(),q=Q.x/2,z=Q.y/2;return{tl:T1({x:-q,y:-z},X),tr:T1({x:q,y:-z},X),bl:T1({x:-q,y:z},X),br:T1({x:q,y:z},X)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let J=arguments.length>0&&arguments[0]!==void 0&&arguments[0],w=[];return!J&&this.group&&(w=this.group.transformMatrixKey(J)),w.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,V1(this.originX),V1(this.originY)),w}calcTransformMatrix(){let J=arguments.length>0&&arguments[0]!==void 0&&arguments[0],w=this.calcOwnMatrix();if(J||!this.group)return w;let G=this.transformMatrixKey(J),Y=this.matrixCache;return Y&&Y.key.every((X,Q)=>X===G[Q])?Y.value:(this.group&&(w=G1(this.group.calcTransformMatrix(!1),w)),this.matrixCache={key:G,value:w},w)}calcOwnMatrix(){let J=this.transformMatrixKey(!0),w=this.ownMatrixCache;if(w&&w.key===J)return w.value;let G=this.getRelativeCenterPoint(),Y={angle:this.angle,translateX:G.x,translateY:G.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},X=ex(Y);return this.ownMatrixCache={key:J,value:X},X}_getNonTransformedDimensions(){return new d(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(J){return this._getTransformedDimensions(J).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=f({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},J),G=w.strokeWidth,Y=G,X=0;this.strokeUniform&&(Y=0,X=G);let Q=w.width+Y,q=w.height+Y,z;return z=w.skewX===0&&w.skewY===0?new d(Q*w.scaleX,q*w.scaleY):IG(Q,q,S3(w)),z.scalarAdd(X)}translateToGivenOrigin(J,w,G,Y,X){let{x:Q,y:q}=J,z=V1(Y)-V1(w),U=V1(X)-V1(G);if(z||U){let W=this._getTransformedDimensions();Q+=z*W.x,q+=U*W.y}return new d(Q,q)}translateToCenterPoint(J,w,G){if(w===V0&&G===V0)return J;let Y=this.translateToGivenOrigin(J,w,G,V0,V0);return this.angle?Y.rotate(w1(this.angle),J):Y}translateToOriginPoint(J,w,G){let Y=this.translateToGivenOrigin(J,V0,V0,w,G);return this.angle?Y.rotate(w1(this.angle),J):Y}getCenterPoint(){let J=this.getRelativeCenterPoint();return this.group?T1(J,this.group.calcTransformMatrix()):J}getRelativeCenterPoint(){return this.translateToCenterPoint(new d(this.left,this.top),this.originX,this.originY)}getPointByOrigin(J,w){return this.translateToOriginPoint(this.getRelativeCenterPoint(),J,w)}setPositionByOrigin(J,w,G){let Y=this.translateToCenterPoint(J,w,G),X=this.translateToOriginPoint(Y,this.originX,this.originY);this.set({left:X.x,top:X.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),N0,o1)}}var FC=["type"],IC=["extraParam"],m5=class J extends LK{static getDefaults(){return J.ownDefaults}get type(){let w=this.constructor.type;return w==="FabricObject"?"object":w.toLowerCase()}set type(w){h6("warn","Setting type has no effect",w)}constructor(w){super(),E(this,"_cacheContext",null),Object.assign(this,J.ownDefaults),this.setOptions(w)}_createCacheCanvas(){this._cacheCanvas=C2(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(w){let{width:G,height:Y}=w,X=D0.maxCacheSideLimit,Q=D0.minCacheSideLimit;if(G<=X&&Y<=X&&G*Y<=D0.perfLimitSizeTotal)return G<Q&&(w.width=Q),Y<Q&&(w.height=Q),w;let q=G/Y,[z,U]=A3.limitDimsByArea(q),W=l8(Q,z,X),V=l8(Q,U,X);return G>W&&(w.zoomX/=G/W,w.width=W,w.capped=!0),Y>V&&(w.zoomY/=Y/V,w.height=V,w.capped=!0),w}_getCacheCanvasDimensions(){let w=this.getTotalObjectScaling(),G=this._getTransformedDimensions({skewX:0,skewY:0}),Y=G.x*w.x/this.scaleX,X=G.y*w.y/this.scaleY;return{width:Math.ceil(Y+2),height:Math.ceil(X+2),zoomX:w.x,zoomY:w.y,x:Y,y:X}}_updateCacheCanvas(){let w=this._cacheCanvas,G=this._cacheContext,{width:Y,height:X,zoomX:Q,zoomY:q,x:z,y:U}=this._limitCacheSize(this._getCacheCanvasDimensions()),W=Y!==w.width||X!==w.height,V=this.zoomX!==Q||this.zoomY!==q;if(!w||!G)return!1;if(W||V){Y!==w.width||X!==w.height?(w.width=Y,w.height=X):(G.setTransform(1,0,0,1,0,0),G.clearRect(0,0,w.width,w.height));let j=z/2,B=U/2;return this.cacheTranslationX=Math.round(w.width/2-j)+j,this.cacheTranslationY=Math.round(w.height/2-B)+B,G.translate(this.cacheTranslationX,this.cacheTranslationY),G.scale(Q,q),this.zoomX=Q,this.zoomY=q,!0}return!1}setOptions(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(w)}transform(w){let G=this.group&&!this.group._transformDone||this.group&&this.canvas&&w===this.canvas.contextTop,Y=this.calcTransformMatrix(!G);w.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5])}getObjectScaling(){if(!this.group)return new d(Math.abs(this.scaleX),Math.abs(this.scaleY));let w=R9(this.calcTransformMatrix());return new d(Math.abs(w.scaleX),Math.abs(w.scaleY))}getTotalObjectScaling(){let w=this.getObjectScaling();if(this.canvas){let G=this.canvas.getZoom(),Y=this.getCanvasRetinaScaling();return w.scalarMultiply(G*Y)}return w}getObjectOpacity(){let w=this.opacity;return this.group&&(w*=this.group.getObjectOpacity()),w}_constrainScale(w){return Math.abs(w)<this.minScaleLimit?w<0?-this.minScaleLimit:this.minScaleLimit:w===0?0.0001:w}_set(w,G){w!==_1&&w!==q2||(G=this._constrainScale(G)),w===_1&&G<0?(this.flipX=!this.flipX,G*=-1):w==="scaleY"&&G<0?(this.flipY=!this.flipY,G*=-1):w!=="shadow"||!G||G instanceof o5||(G=new o5(G));let Y=this[w]!==G;return this[w]=G,Y&&this.constructor.cacheProperties.includes(w)&&(this.dirty=!0),this.parent&&(this.dirty||Y&&this.constructor.stateProperties.includes(w))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(w){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(w.save(),this._setupCompositeOperation(w),this.drawSelectionBackground(w),this.transform(w),this._setOpacity(w),this._setShadow(w),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(w)):(this._removeCacheCanvas(),this.drawObject(w,!1,{}),this.dirty=!1),w.restore())}drawSelectionBackground(w){}renderCache(w){if(w=w||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){let{zoomX:G,zoomY:Y,cacheTranslationX:X,cacheTranslationY:Q}=this,{width:q,height:z}=this._cacheCanvas;this.drawObject(this._cacheContext,w.forClipping,{zoomX:G,zoomY:Y,cacheTranslationX:X,cacheTranslationY:Q,width:q,height:z,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===a1&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(w,G,Y){w.save(),G.inverted?w.globalCompositeOperation="destination-out":w.globalCompositeOperation="destination-in",w.setTransform(1,0,0,1,0,0),w.drawImage(Y,0,0),w.restore()}drawObject(w,G,Y){let X=this.fill,Q=this.stroke;G?(this.fill="black",this.stroke="",this._setClippingProperties(w)):this._renderBackground(w),this._render(w),this._drawClipPath(w,this.clipPath,Y),this.fill=X,this.stroke=Q}createClipPathLayer(w,G){let Y=u2(G),X=Y.getContext("2d");if(X.translate(G.cacheTranslationX,G.cacheTranslationY),X.scale(G.zoomX,G.zoomY),w._cacheCanvas=Y,G.parentClipPaths.forEach((Q)=>{Q.transform(X)}),G.parentClipPaths.push(w),w.absolutePositioned){let Q=Q2(this.calcTransformMatrix());X.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}return w.transform(X),w.drawObject(X,!0,G),Y}_drawClipPath(w,G,Y){if(!G)return;G._transformDone=!0;let X=this.createClipPathLayer(G,Y);this.drawClipPathOnCache(w,G,X)}drawCacheOnCanvas(w){w.scale(1/this.zoomX,1/this.zoomY),w.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let w=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let G=this._cacheCanvas,Y=this._cacheContext;return!(!G||!Y||w||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(G&&Y&&!w&&(Y.save(),Y.setTransform(1,0,0,1,0,0),Y.clearRect(0,0,G.width,G.height),Y.restore()),!0)}_renderBackground(w){if(!this.backgroundColor)return;let G=this._getNonTransformedDimensions();w.fillStyle=this.backgroundColor,w.fillRect(-G.x/2,-G.y/2,G.x,G.y),this._removeShadow(w)}_setOpacity(w){this.group&&!this.group._transformDone?w.globalAlpha=this.getObjectOpacity():w.globalAlpha*=this.opacity}_setStrokeStyles(w,G){let Y=G.stroke;Y&&(w.lineWidth=G.strokeWidth,w.lineCap=G.strokeLineCap,w.lineDashOffset=G.strokeDashOffset,w.lineJoin=G.strokeLineJoin,w.miterLimit=G.strokeMiterLimit,k2(Y)?Y.gradientUnits==="percentage"||Y.gradientTransform||Y.patternTransform?this._applyPatternForTransformedGradient(w,Y):(w.strokeStyle=Y.toLive(w),this._applyPatternGradientTransform(w,Y)):w.strokeStyle=G.stroke)}_setFillStyles(w,G){let{fill:Y}=G;Y&&(k2(Y)?(w.fillStyle=Y.toLive(w),this._applyPatternGradientTransform(w,Y)):w.fillStyle=Y)}_setClippingProperties(w){w.globalAlpha=1,w.strokeStyle="transparent",w.fillStyle="#000000"}_setLineDash(w,G){G&&G.length!==0&&w.setLineDash(G)}_setShadow(w){if(!this.shadow)return;let G=this.shadow,Y=this.canvas,X=this.getCanvasRetinaScaling(),[Q,,,q]=(Y==null?void 0:Y.viewportTransform)||v1,z=Q*X,U=q*X,W=G.nonScaling?new d(1,1):this.getObjectScaling();w.shadowColor=G.color,w.shadowBlur=G.blur*D0.browserShadowBlurConstant*(z+U)*(W.x+W.y)/4,w.shadowOffsetX=G.offsetX*z*W.x,w.shadowOffsetY=G.offsetY*U*W.y}_removeShadow(w){this.shadow&&(w.shadowColor="",w.shadowBlur=w.shadowOffsetX=w.shadowOffsetY=0)}_applyPatternGradientTransform(w,G){if(!k2(G))return{offsetX:0,offsetY:0};let Y=G.gradientTransform||G.patternTransform,X=-this.width/2+G.offsetX||0,Q=-this.height/2+G.offsetY||0;return G.gradientUnits==="percentage"?w.transform(this.width,0,0,this.height,X,Q):w.transform(1,0,0,1,X,Q),Y&&w.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),{offsetX:X,offsetY:Q}}_renderPaintInOrder(w){this.paintFirst===a1?(this._renderStroke(w),this._renderFill(w)):(this._renderFill(w),this._renderStroke(w))}_render(w){}_renderFill(w){this.fill&&(w.save(),this._setFillStyles(w,this),this.fillRule==="evenodd"?w.fill("evenodd"):w.fill(),w.restore())}_renderStroke(w){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(w),w.save(),this.strokeUniform){let G=this.getObjectScaling();w.scale(1/G.x,1/G.y)}this._setLineDash(w,this.strokeDashArray),this._setStrokeStyles(w,this),w.stroke(),w.restore()}}_applyPatternForTransformedGradient(w,G){var Y;let X=this._limitCacheSize(this._getCacheCanvasDimensions()),Q=this.getCanvasRetinaScaling(),q=X.x/this.scaleX/Q,z=X.y/this.scaleY/Q,U=u2({width:Math.ceil(q),height:Math.ceil(z)}),W=U.getContext("2d");W&&(W.beginPath(),W.moveTo(0,0),W.lineTo(q,0),W.lineTo(q,z),W.lineTo(0,z),W.closePath(),W.translate(q/2,z/2),W.scale(X.zoomX/this.scaleX/Q,X.zoomY/this.scaleY/Q),this._applyPatternGradientTransform(W,G),W.fillStyle=G.toLive(w),W.fill(),w.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),w.scale(Q*this.scaleX/X.zoomX,Q*this.scaleY/X.zoomY),w.strokeStyle=(Y=W.createPattern(U,"no-repeat"))!==null&&Y!==void 0?Y:"")}_findCenterFromElement(){return new d(this.left+this.width/2,this.top+this.height/2)}clone(w){let G=this.toObject(w);return this.constructor.fromObject(G)}cloneAsImage(w){let G=this.toCanvasElement(w);return new(G0.getClass("image"))(G)}toCanvasElement(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=hz(this),Y=this.group,X=this.shadow,Q=Math.abs,q=w.enableRetinaScaling?mx():1,z=(w.multiplier||1)*q,U=w.canvasProvider||((M)=>new b3(M,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,w.withoutTransform&&QK(this),w.withoutShadow&&(this.shadow=null),w.viewportTransform&&Zz(this,this.getViewportTransform()),this.setCoords();let W=C2(),V=this.getBoundingRect(),j=this.shadow,B=new d;if(j){let M=j.blur,L=j.nonScaling?new d(1,1):this.getObjectScaling();B.x=2*Math.round(Q(j.offsetX)+M)*Q(L.x),B.y=2*Math.round(Q(j.offsetY)+M)*Q(L.y)}let x=V.width+B.x,O=V.height+B.y;W.width=Math.ceil(x),W.height=Math.ceil(O);let R=U(W);w.format==="jpeg"&&(R.backgroundColor="#fff"),this.setPositionByOrigin(new d(R.width/2,R.height/2),V0,V0);let F=this.canvas;R._objects=[this],this.set("canvas",R),this.setCoords();let A=R.toCanvasElement(z||1,w);return this.set("canvas",F),this.shadow=X,Y&&(this.group=Y),this.set(G),this.setCoords(),R._objects=[],R.destroy(),A}toDataURL(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return bz(this.toCanvasElement(w),w.format||"png",w.quality||1)}toBlob(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return fz(this.toCanvasElement(w),w.format||"png",w.quality||1)}isType(){for(var w=arguments.length,G=new Array(w),Y=0;Y<w;Y++)G[Y]=arguments[Y];return G.includes(this.constructor.type)||G.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(w){let{centeredRotation:G,originX:Y,originY:X}=this;if(G){let{x:Q,y:q}=this.getRelativeCenterPoint();this.originX=V0,this.originY=V0,this.left=Q,this.top=q}if(this.set("angle",w),G){let{x:Q,y:q}=this.translateToOriginPoint(this.getRelativeCenterPoint(),Y,X);this.left=Q,this.top=q,this.originX=Y,this.originY=X}}setOnGroup(){}_setupCompositeOperation(w){this.globalCompositeOperation&&(w.globalCompositeOperation=this.globalCompositeOperation)}dispose(){zG.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&H5().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(w,G){return Object.entries(w).reduce((Y,X)=>{let[Q,q]=X;return Y[Q]=this._animate(Q,q,G),Y},{})}_animate(w,G){let Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=w.split("."),Q=this.constructor.colorProperties.includes(X[X.length-1]),{abort:q,startValue:z,onChange:U,onComplete:W}=Y,V=f(f({},Y),{},{target:this,startValue:z!=null?z:X.reduce((j,B)=>j[B],this),endValue:G,abort:q==null?void 0:q.bind(this),onChange:(j,B,x)=>{X.reduce((O,R,F)=>(F===X.length-1&&(O[R]=j),O[R]),this),U&&U(j,B,x)},onComplete:(j,B,x)=>{this.setCoords(),W&&W(j,B,x)}});return Q?KK(V):pz(V)}isDescendantOf(w){let{parent:G,group:Y}=this;return G===w||Y===w||!!G&&G.isDescendantOf(w)||!!Y&&Y!==G&&Y.isDescendantOf(w)}getAncestors(){let w=[],G=this;do G=G.parent,G&&w.push(G);while(G);return w}findCommonAncestors(w){if(this===w)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let G=this.getAncestors(),Y=w.getAncestors();if(G.length===0&&Y.length>0&&this===Y[Y.length-1])return{fork:[],otherFork:[w,...Y.slice(0,Y.length-1)],common:[this]};for(let X,Q=0;Q<G.length;Q++){if(X=G[Q],X===w)return{fork:[this,...G.slice(0,Q)],otherFork:[],common:G.slice(Q)};for(let q=0;q<Y.length;q++){if(this===Y[q])return{fork:[],otherFork:[w,...Y.slice(0,q)],common:[this,...G]};if(X===Y[q])return{fork:[this,...G.slice(0,Q)],otherFork:[w,...Y.slice(0,q)],common:G.slice(Q)}}}return{fork:[this,...G],otherFork:[w,...Y],common:[]}}hasCommonAncestors(w){let G=this.findCommonAncestors(w);return G&&!!G.common.length}isInFrontOf(w){if(this===w)return;let G=this.findCommonAncestors(w);if(G.fork.includes(w))return!0;if(G.otherFork.includes(this))return!1;let Y=G.common[0]||this.canvas;if(!Y)return;let X=G.fork.pop(),Q=G.otherFork.pop(),q=Y._objects.indexOf(X),z=Y._objects.indexOf(Q);return q>-1&&q>z}toObject(){let w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(J.customProperties,this.constructor.customProperties||[]),G,Y=D0.NUM_FRACTION_DIGITS,{clipPath:X,fill:Q,stroke:q,shadow:z,strokeDashArray:U,left:W,top:V,originX:j,originY:B,width:x,height:O,strokeWidth:R,strokeLineCap:F,strokeDashOffset:A,strokeLineJoin:M,strokeUniform:L,strokeMiterLimit:$,scaleX:I,scaleY:D,angle:k,flipX:P,flipY:_,opacity:v,visible:h,backgroundColor:C,fillRule:m,paintFirst:s,globalCompositeOperation:g,skewX:l,skewY:o}=this;X&&!X.excludeFromExport&&(G=X.toObject(w.concat("inverted","absolutePositioned")));let a=(i)=>o0(i,Y),X0=f(f({},p8(this,w)),{},{type:this.constructor.type,version:Wz,originX:j,originY:B,left:a(W),top:a(V),width:a(x),height:a(O),fill:Bx(Q)?Q.toObject():Q,stroke:Bx(q)?q.toObject():q,strokeWidth:a(R),strokeDashArray:U?U.concat():U,strokeLineCap:F,strokeDashOffset:A,strokeLineJoin:M,strokeUniform:L,strokeMiterLimit:a($),scaleX:a(I),scaleY:a(D),angle:a(k),flipX:P,flipY:_,opacity:a(v),shadow:z?z.toObject():z,visible:h,backgroundColor:C,fillRule:m,paintFirst:s,globalCompositeOperation:g,skewX:a(l),skewY:a(o)},G?{clipPath:G}:null);return this.includeDefaultValues?X0:this._removeDefaultValues(X0)}toDatalessObject(w){return this.toObject(w)}_removeDefaultValues(w){let G=this.constructor.getDefaults(),Y=Object.keys(G).length>0?G:Object.getPrototypeOf(this);return vz(w,(X,Q)=>{if(Q===N0||Q===o1||Q==="type")return!0;let q=Y[Q];return X!==q&&!(Array.isArray(X)&&Array.isArray(q)&&X.length===0&&q.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(w){let G=i0(w,FC),Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:X}=Y,Q=i0(Y,IC);return g3(G,Q).then((q)=>X?(delete q[X],new this(G[X],q)):new this(q))}static fromObject(w,G){return this._fromObject(w,G)}};E(m5,"stateProperties",xC),E(m5,"cacheProperties",n5),E(m5,"ownDefaults",KC),E(m5,"type","FabricObject"),E(m5,"colorProperties",[x1,a1,"backgroundColor"]),E(m5,"customProperties",[]),G0.setClass(m5),G0.setClass(m5,"object");var l6=(J,w,G)=>(Y,X,Q,q)=>{let z=w(Y,X,Q,q);return z&&mz(J,f(f({},dz(Y,X,Q,q)),G)),z};function o8(J){return(w,G,Y,X)=>{let{target:Q,originX:q,originY:z}=G,U=Q.getRelativeCenterPoint(),W=Q.translateToOriginPoint(U,q,z),V=J(w,G,Y,X);return Q.setPositionByOrigin(W,G.originX,G.originY),V}}var Mz=l6(k3,o8((J,w,G,Y)=>{let X=kG(w,w.originX,w.originY,G,Y);if(V1(w.originX)===V1(V0)||V1(w.originX)===V1(Q1)&&X.x<0||V1(w.originX)===V1(N0)&&X.x>0){let{target:Q}=w,q=Q.strokeWidth/(Q.strokeUniform?Q.scaleX:1),z=zK(w)?2:1,U=Q.width,W=Math.abs(X.x*z/Q.scaleX)-q;return Q.set("width",Math.max(W,1)),U!==Q.width}return!1}));function $K(J,w,G,Y,X){Y=Y||{};let Q=this.sizeX||Y.cornerSize||X.cornerSize,q=this.sizeY||Y.cornerSize||X.cornerSize,z=Y.transparentCorners!==void 0?Y.transparentCorners:X.transparentCorners,U=z?a1:x1,W=!z&&(Y.cornerStrokeColor||X.cornerStrokeColor),V,j=w,B=G;J.save(),J.fillStyle=Y.cornerColor||X.cornerColor||"",J.strokeStyle=Y.cornerStrokeColor||X.cornerStrokeColor||"",Q>q?(V=Q,J.scale(1,q/Q),B=G*Q/q):q>Q?(V=q,J.scale(Q/q,1),j=w*q/Q):V=Q,J.beginPath(),J.arc(j,B,V/2,0,a5,!1),J[U](),W&&J.stroke(),J.restore()}function AK(J,w,G,Y,X){Y=Y||{};let Q=this.sizeX||Y.cornerSize||X.cornerSize,q=this.sizeY||Y.cornerSize||X.cornerSize,z=Y.transparentCorners!==void 0?Y.transparentCorners:X.transparentCorners,U=z?a1:x1,W=!z&&(Y.cornerStrokeColor||X.cornerStrokeColor),V=Q/2,j=q/2;J.save(),J.fillStyle=Y.cornerColor||X.cornerColor||"",J.strokeStyle=Y.cornerStrokeColor||X.cornerStrokeColor||"",J.translate(w,G);let B=X.getTotalAngle();J.rotate(w1(B)),J["".concat(U,"Rect")](-V,-j,Q,q),W&&J.strokeRect(-V,-j,Q,q),J.restore()}class p1{constructor(J){E(this,"visible",!0),E(this,"actionName",RG),E(this,"angle",0),E(this,"x",0),E(this,"y",0),E(this,"offsetX",0),E(this,"offsetY",0),E(this,"sizeX",0),E(this,"sizeY",0),E(this,"touchSizeX",0),E(this,"touchSizeY",0),E(this,"cursorStyle","crosshair"),E(this,"withConnection",!1),Object.assign(this,J)}shouldActivate(J,w,G,Y){var X;let{tl:Q,tr:q,br:z,bl:U}=Y;return((X=w.canvas)===null||X===void 0?void 0:X.getActiveObject())===w&&w.isControlVisible(J)&&e0.isPointInPolygon(G,[Q,q,z,U])}getActionHandler(J,w,G){return this.actionHandler}getMouseDownHandler(J,w,G){return this.mouseDownHandler}getMouseUpHandler(J,w,G){return this.mouseUpHandler}cursorStyleHandler(J,w,G){return w.cursorStyle}getActionName(J,w,G){return w.actionName}getVisibility(J,w){var G,Y;return(G=(Y=J._controlsVisibility)===null||Y===void 0?void 0:Y[w])!==null&&G!==void 0?G:this.visible}setVisibility(J,w,G){this.visible=J}positionHandler(J,w,G,Y){return new d(this.x*J.x+this.offsetX,this.y*J.y+this.offsetY).transform(w)}calcCornerCoords(J,w,G,Y,X,Q){let q=DG([P9(G,Y),T9({angle:J}),FG((X?this.touchSizeX:this.sizeX)||w,(X?this.touchSizeY:this.sizeY)||w)]);return{tl:new d(-0.5,-0.5).transform(q),tr:new d(0.5,-0.5).transform(q),br:new d(0.5,0.5).transform(q),bl:new d(-0.5,0.5).transform(q)}}render(J,w,G,Y,X){if(((Y=Y||{}).cornerStyle||X.cornerStyle)==="circle")$K.call(this,J,w,G,Y,X);else AK.call(this,J,w,G,Y,X)}}var OK=(J,w,G)=>G.lockRotation?UG:w.cursorStyle,RK=l6(cx,o8((J,w,G,Y)=>{let{target:X,ex:Q,ey:q,theta:z,originX:U,originY:W}=w,V=X.translateToOriginPoint(X.getRelativeCenterPoint(),U,W);if(m2(X,"lockRotation"))return!1;let j=Math.atan2(q-V.y,Q-V.x),B=Math.atan2(Y-V.y,G-V.x),x=c6(B-j+z);if(X.snapAngle&&X.snapAngle>0){let R=X.snapAngle,F=X.snapThreshold||R,A=Math.ceil(x/R)*R,M=Math.floor(x/R)*R;Math.abs(x-M)<F?x=M:Math.abs(x-A)<F&&(x=A)}x<0&&(x=360+x),x%=360;let O=X.angle!==x;return X.angle=x,O}));function DK(J,w){let G=w.canvas,Y=J[G.uniScaleKey];return G.uniformScaling&&!Y||!G.uniformScaling&&Y}function FK(J,w,G){let Y=m2(J,"lockScalingX"),X=m2(J,"lockScalingY");if(Y&&X)return!0;if(!w&&(Y||X)&&G)return!0;if(Y&&w==="x")return!0;if(X&&w==="y")return!0;let{width:Q,height:q,strokeWidth:z}=J;return Q===0&&z===0&&w!=="y"||q===0&&z===0&&w!=="x"}var kC=["e","se","s","sw","w","nw","n","ne","e"],Y9=(J,w,G)=>{let Y=DK(J,G);if(FK(G,w.x!==0&&w.y===0?"x":w.x===0&&w.y!==0?"y":"",Y))return UG;let X=WK(G,w);return"".concat(kC[X],"-resize")};function oz(J,w,G,Y){let X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},Q=w.target,q=X.by,z=DK(J,Q),U,W,V,j,B,x;if(FK(Q,q,z))return!1;if(w.gestureScale)W=w.scaleX*w.gestureScale,V=w.scaleY*w.gestureScale;else{if(U=kG(w,w.originX,w.originY,G,Y),B=q!=="y"?Math.sign(U.x||w.signX||1):1,x=q!=="x"?Math.sign(U.y||w.signY||1):1,w.signX||(w.signX=B),w.signY||(w.signY=x),m2(Q,"lockScalingFlip")&&(w.signX!==B||w.signY!==x))return!1;if(j=Q._getTransformedDimensions(),z&&!q){let F=Math.abs(U.x)+Math.abs(U.y),{original:A}=w,M=F/(Math.abs(j.x*A.scaleX/Q.scaleX)+Math.abs(j.y*A.scaleY/Q.scaleY));W=A.scaleX*M,V=A.scaleY*M}else W=Math.abs(U.x*Q.scaleX/j.x),V=Math.abs(U.y*Q.scaleY/j.y);zK(w)&&(W*=2,V*=2),w.signX!==B&&q!=="y"&&(w.originX=Kx(w.originX),W*=-1,w.signX=B),w.signY!==x&&q!=="x"&&(w.originY=Kx(w.originY),V*=-1,w.signY=x)}let{scaleX:O,scaleY:R}=Q;return q?(q==="x"&&Q.set(_1,W),q==="y"&&Q.set(q2,V)):(!m2(Q,"lockScalingX")&&Q.set(_1,W),!m2(Q,"lockScalingY")&&Q.set(q2,V)),O!==Q.scaleX||R!==Q.scaleY}var x3=l6(OG,o8((J,w,G,Y)=>oz(J,w,G,Y))),IK=l6(OG,o8((J,w,G,Y)=>oz(J,w,G,Y,{by:"x"}))),kK=l6(OG,o8((J,w,G,Y)=>oz(J,w,G,Y,{by:"y"}))),CC=["target","ex","ey","skewingSide"],wz={x:{counterAxis:"y",scale:_1,skew:C9,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:q2,skew:N9,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},NC=["ns","nesw","ew","nwse"],CK=(J,w,G)=>{if(w.x!==0&&m2(G,"lockSkewingY"))return UG;if(w.y!==0&&m2(G,"lockSkewingX"))return UG;let Y=WK(G,w)%4;return"".concat(NC[Y],"-resize")};function NK(J,w,G,Y,X){let{target:Q}=G,{counterAxis:q,origin:z,lockSkewing:U,skew:W,flip:V}=wz[J];if(m2(Q,U))return!1;let{origin:j,flip:B}=wz[q],x=V1(G[j])*(Q[B]?-1:1),O=-Math.sign(x)*(Q[V]?-1:1),R=0.5*-((Q[W]===0&&kG(G,V0,V0,Y,X)[J]>0||Q[W]>0?1:-1)*O)+0.5;return l6(ux,o8((A,M,L,$)=>function(I,D,k){let{target:P,ex:_,ey:v,skewingSide:h}=D,C=i0(D,CC),{skew:m}=wz[I],s=k.subtract(new d(_,v)).divide(new d(P.scaleX,P.scaleY))[I],g=P[m],l=C[m],o=Math.tan(w1(l)),a=I==="y"?P._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:P._getTransformedDimensions({scaleX:1,scaleY:1}).y,X0=2*s*h/Math.max(a,1)+o,i=c6(Math.atan(X0));P.set(m,i);let n=g!==P[m];if(n&&I==="y"){let{skewX:y,scaleX:t}=P,Y0=P._getTransformedDimensions({skewY:g}),Z0=P._getTransformedDimensions(),x0=y!==0?Y0.x/Z0.x:1;x0!==1&&P.set(_1,x0*t)}return n}(J,M,new d(L,$))))(w,f(f({},G),{},{[z]:R,skewingSide:O}),Y,X)}var PK=(J,w,G,Y)=>NK("x",J,w,G,Y),TK=(J,w,G,Y)=>NK("y",J,w,G,Y);function TG(J,w){return J[w.canvas.altActionKey]}var K3=(J,w,G)=>{let Y=TG(J,G);return w.x===0?Y?C9:q2:w.y===0?Y?N9:_1:""},_8=(J,w,G)=>TG(J,G)?CK(0,w,G):Y9(J,w,G),xz=(J,w,G,Y)=>TG(J,w.target)?TK(J,w,G,Y):IK(J,w,G,Y),Kz=(J,w,G,Y)=>TG(J,w.target)?PK(J,w,G,Y):kK(J,w,G,Y),iz=()=>({ml:new p1({x:-0.5,y:0,cursorStyleHandler:_8,actionHandler:xz,getActionName:K3}),mr:new p1({x:0.5,y:0,cursorStyleHandler:_8,actionHandler:xz,getActionName:K3}),mb:new p1({x:0,y:0.5,cursorStyleHandler:_8,actionHandler:Kz,getActionName:K3}),mt:new p1({x:0,y:-0.5,cursorStyleHandler:_8,actionHandler:Kz,getActionName:K3}),tl:new p1({x:-0.5,y:-0.5,cursorStyleHandler:Y9,actionHandler:x3}),tr:new p1({x:0.5,y:-0.5,cursorStyleHandler:Y9,actionHandler:x3}),bl:new p1({x:-0.5,y:0.5,cursorStyleHandler:Y9,actionHandler:x3}),br:new p1({x:0.5,y:0.5,cursorStyleHandler:Y9,actionHandler:x3}),mtr:new p1({x:0,y:-0.5,actionHandler:RK,cursorStyleHandler:OK,offsetY:-40,withConnection:!0,actionName:Tz})}),SK=()=>({mr:new p1({x:0.5,y:0,actionHandler:Mz,cursorStyleHandler:_8,actionName:k3}),ml:new p1({x:-0.5,y:0,actionHandler:Mz,cursorStyleHandler:_8,actionName:k3})}),gK=()=>f(f({},iz()),SK());class P3 extends m5{static getDefaults(){return f(f({},super.getDefaults()),P3.ownDefaults)}constructor(J){super(),Object.assign(this,this.constructor.createControls(),P3.ownDefaults),this.setOptions(J)}static createControls(){return{controls:iz()}}_updateCacheCanvas(){let J=this.canvas;if(this.noScaleCache&&J&&J._currentTransform){let w=J._currentTransform,G=w.target,Y=w.action;if(this===G&&Y&&Y.startsWith(RG))return!1}return super._updateCacheCanvas()}getActiveControl(){let J=this.__corner;return J?{key:J,control:this.controls[J],coord:this.oCoords[J]}:void 0}findControl(J){let w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let G=Object.entries(this.oCoords);for(let Y=G.length-1;Y>=0;Y--){let[X,Q]=G[Y],q=this.controls[X];if(q.shouldActivate(X,this,J,w?Q.touchCorner:Q.corner))return this.__corner=X,{key:X,control:q,coord:this.oCoords[X]}}}calcOCoords(){let J=this.getViewportTransform(),w=this.getCenterPoint(),G=P9(w.x,w.y),Y=T9({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),X=G1(G,Y),Q=G1(J,X),q=G1(Q,[1/J[0],0,0,1/J[3],0,0]),z=this.group?R9(this.calcTransformMatrix()):void 0;z&&(z.scaleX=Math.abs(z.scaleX),z.scaleY=Math.abs(z.scaleY));let U=this._calculateCurrentDimensions(z),W={};return this.forEachControl((V,j)=>{let B=V.positionHandler(U,q,this,V);W[j]=Object.assign(B,this._calcCornerCoords(V,B))}),W}_calcCornerCoords(J,w){let G=this.getTotalAngle();return{corner:J.calcCornerCoords(G,this.cornerSize,w.x,w.y,!1,this),touchCorner:J.calcCornerCoords(G,this.touchCornerSize,w.x,w.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(J){for(let w in this.controls)J(this.controls[w],w,this)}drawSelectionBackground(J){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;J.save();let w=this.getRelativeCenterPoint(),G=this._calculateCurrentDimensions(),Y=this.getViewportTransform();J.translate(w.x,w.y),J.scale(1/Y[0],1/Y[3]),J.rotate(w1(this.angle)),J.fillStyle=this.selectionBackgroundColor,J.fillRect(-G.x/2,-G.y/2,G.x,G.y),J.restore()}strokeBorders(J,w){J.strokeRect(-w.x/2,-w.y/2,w.x,w.y)}_drawBorders(J,w){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Y=f({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},G);J.save(),J.strokeStyle=Y.borderColor,this._setLineDash(J,Y.borderDashArray),this.strokeBorders(J,w),Y.hasControls&&this.drawControlsConnectingLines(J,w),J.restore()}_renderControls(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:G,hasControls:Y}=this,X=f({hasBorders:G,hasControls:Y},w),Q=this.getViewportTransform(),q=X.hasBorders,z=X.hasControls,U=G1(Q,this.calcTransformMatrix()),W=R9(U);J.save(),J.translate(W.translateX,W.translateY),J.lineWidth=this.borderScaleFactor,this.group===this.parent&&(J.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(W.angle-=180),J.rotate(w1(this.group?W.angle:this.angle)),q&&this.drawBorders(J,W,w),z&&this.drawControls(J,w),J.restore()}drawBorders(J,w,G){let Y;if(G&&G.forActiveSelection||this.group){let X=IG(this.width,this.height,S3(w)),Q=this.isStrokeAccountedForInDimensions()?Sz:(this.strokeUniform?new d().scalarAdd(this.canvas?this.canvas.getZoom():1):new d(w.scaleX,w.scaleY)).scalarMultiply(this.strokeWidth);Y=X.add(Q).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else Y=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(J,Y,G)}drawControlsConnectingLines(J,w){let G=!1;J.beginPath(),this.forEachControl((Y,X)=>{Y.withConnection&&Y.getVisibility(this,X)&&(G=!0,J.moveTo(Y.x*w.x,Y.y*w.y),J.lineTo(Y.x*w.x+Y.offsetX,Y.y*w.y+Y.offsetY))}),G&&J.stroke()}drawControls(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};J.save();let G=this.getCanvasRetinaScaling(),{cornerStrokeColor:Y,cornerDashArray:X,cornerColor:Q}=this,q=f({cornerStrokeColor:Y,cornerDashArray:X,cornerColor:Q},w);J.setTransform(G,0,0,G,0,0),J.strokeStyle=J.fillStyle=q.cornerColor,this.transparentCorners||(J.strokeStyle=q.cornerStrokeColor),this._setLineDash(J,q.cornerDashArray),this.forEachControl((z,U)=>{if(z.getVisibility(this,U)){let W=this.oCoords[U];z.render(J,W.x,W.y,q,this)}}),J.restore()}isControlVisible(J){return this.controls[J]&&this.controls[J].getVisibility(this,J)}setControlVisible(J,w){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[J]=w}setControlsVisibility(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(J).forEach((w)=>{let[G,Y]=w;return this.setControlVisible(G,Y)})}clearContextTop(J){if(!this.canvas)return;let w=this.canvas.contextTop;if(!w)return;let G=this.canvas.viewportTransform;w.save(),w.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this.transform(w);let Y=this.width+4,X=this.height+4;return w.clearRect(-Y/2,-X/2,Y,X),J||w.restore(),w}onDeselect(J){return!1}onSelect(J){return!1}shouldStartDragging(J){return!1}onDragStart(J){return!1}canDrop(J){return!1}renderDragSourceEffect(J){}renderDropTargetEffect(J){}}function bK(J,w){return w.forEach((G)=>{Object.getOwnPropertyNames(G.prototype).forEach((Y)=>{Y!=="constructor"&&Object.defineProperty(J.prototype,Y,Object.getOwnPropertyDescriptor(G.prototype,Y)||Object.create(null))})}),J}E(P3,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:0.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class k1 extends P3{}bK(k1,[cz]),G0.setClass(k1),G0.setClass(k1,"object");var fK=(J,w,G,Y)=>{let X=2*(Y=Math.round(Y))+1,{data:Q}=J.getImageData(w-Y,G-Y,X,X);for(let q=3;q<Q.length;q+=4)if(Q[q]>0)return!1;return!0};class az{constructor(J){this.options=J,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new d(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new d(1/this.options.scaleX,1/this.options.scaleY):new d(1,1)}createSideVector(J,w){let G=HG(J,w);return this.options.strokeUniform?G.multiply(this.scale):G}projectOrthogonally(J,w,G){return this.applySkew(J.add(this.calcOrthogonalProjection(J,w,G)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(J){let w=new d(J);return w.y+=w.x*Math.tan(w1(this.options.skewY)),w.x+=w.y*Math.tan(w1(this.options.skewX)),w}scaleUnitVector(J,w){return J.multiply(this.strokeUniformScalar).scalarMultiply(w)}}var PC=new d;class O9 extends az{static getOrthogonalRotationFactor(J,w){let G=w?ZG(J,w):VK(J);return Math.abs(G)<m6?-1:1}constructor(J,w,G,Y){super(Y),E(this,"AB",void 0),E(this,"AC",void 0),E(this,"alpha",void 0),E(this,"bisector",void 0),this.A=new d(J),this.B=new d(w),this.C=new d(G),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=ZG(this.AB,this.AC),this.bisector=NG(uz(this.AB.eq(PC)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(J,w){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,Y=this.createSideVector(J,w),X=lz(Y),Q=O9.getOrthogonalRotationFactor(X,this.bisector);return this.scaleUnitVector(X,G*Q)}projectBevel(){let J=[];return(this.alpha%a5==0?[this.B]:[this.B,this.C]).forEach((w)=>{J.push(this.projectOrthogonally(this.A,w)),J.push(this.projectOrthogonally(this.A,w,-this.strokeProjectionMagnitude))}),J}projectMiter(){let J=[],w=Math.abs(this.alpha),G=1/Math.sin(w/2),Y=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*G),X=this.options.strokeUniform?VG(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return VG(Y)/this.strokeProjectionMagnitude<=X&&J.push(this.applySkew(this.A.add(Y))),J.push(...this.projectBevel()),J}projectRoundNoSkew(J,w){let G=[],Y=new d(O9.getOrthogonalRotationFactor(this.bisector),O9.getOrthogonalRotationFactor(new d(this.bisector.y,this.bisector.x)));return[new d(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(Y),new d(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(Y)].forEach((X)=>{jz(X,J,w)&&G.push(this.A.add(X))}),G}projectRoundWithSkew(J,w){let G=[],{skewX:Y,skewY:X,scaleX:Q,scaleY:q,strokeUniform:z}=this.options,U=new d(Math.tan(w1(Y)),Math.tan(w1(X))),W=this.strokeProjectionMagnitude,V=z?W/q/Math.sqrt(1/q**2+1/Q**2*U.y**2):W/Math.sqrt(1+U.y**2),j=new d(Math.sqrt(Math.max(W**2-V**2,0)),V),B=z?W/Math.sqrt(1+U.x**2*(1/q)**2/(1/Q+1/Q*U.x*U.y)**2):W/Math.sqrt(1+U.x**2/(1+U.x*U.y)**2),x=new d(B,Math.sqrt(Math.max(W**2-B**2,0)));return[x,x.scalarMultiply(-1),j,j.scalarMultiply(-1)].map((O)=>this.applySkew(z?O.multiply(this.strokeUniformScalar):O)).forEach((O)=>{jz(O,J,w)&&G.push(this.applySkew(this.A).add(O))}),G}projectRound(){let J=[];J.push(...this.projectBevel());let w=this.alpha%a5==0,G=this.applySkew(this.A),Y=J[w?0:2].subtract(G),X=J[w?1:0].subtract(G),Q=w?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),q=A9(Y,Q)>0,z=q?Y:X,U=q?X:Y;return this.isSkewed()?J.push(...this.projectRoundWithSkew(z,U)):J.push(...this.projectRoundNoSkew(z,U)),J}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((J)=>({originPoint:this.A,projectedPoint:J,angle:this.alpha,bisector:this.bisector}))}}class Lz extends az{constructor(J,w,G){super(G),this.A=new d(J),this.T=new d(w)}calcOrthogonalProjection(J,w){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,Y=this.createSideVector(J,w);return this.scaleUnitVector(lz(Y),G)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let J=[];if(!this.isSkewed()&&this.A.eq(this.T)){let w=new d(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);J.push(this.applySkew(this.A.add(w)),this.applySkew(this.A.subtract(w)))}else J.push(...new O9(this.A,this.T,this.T,this.options).projectRound());return J}projectSquare(){let J=[];if(this.A.eq(this.T)){let w=new d(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);J.push(this.A.add(w),this.A.subtract(w))}else{let w=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),G=this.scaleUnitVector(NG(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),Y=this.A.add(G);J.push(Y.add(w),Y.subtract(w))}return J.map((w)=>this.applySkew(w))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((J)=>({originPoint:this.A,projectedPoint:J}))}}var EK=function(J,w){let G=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Y=[];if(J.length===0)return Y;let X=J.reduce((Q,q)=>(Q[Q.length-1].eq(q)||Q.push(new d(q)),Q),[new d(J[0])]);if(X.length===1)G=!0;else if(!G){let Q=X[0],q=((z,U)=>{for(let W=z.length-1;W>=0;W--)if(U(z[W],W,z))return W;return-1})(X,(z)=>!z.eq(Q));X.splice(q+1)}return X.forEach((Q,q,z)=>{let U,W;q===0?(W=z[1],U=G?Q:z[z.length-1]):q===z.length-1?(U=z[q-1],W=G?Q:z[0]):(U=z[q-1],W=z[q+1]),G&&z.length===1?Y.push(...new Lz(Q,Q,w).project()):!G||q!==0&&q!==z.length-1?Y.push(...new O9(Q,U,W,w).project()):Y.push(...new Lz(Q,q===0?W:U,w).project())}),Y},nz=(J)=>{let w={};return Object.keys(J).forEach((G)=>{w[G]={},Object.keys(J[G]).forEach((Y)=>{w[G][Y]=f({},J[G][Y])})}),w},yK=(J)=>J.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),SG=(J)=>{let w=[];for(let G,Y=0;Y<J.length;Y++)(G=TC(J,Y))!==!1&&w.push(G);return w},TC=(J,w)=>{let G=J.charCodeAt(w);if(isNaN(G))return"";if(G<55296||G>57343)return J.charAt(w);if(55296<=G&&G<=56319){if(J.length<=w+1)throw"High surrogate without following low surrogate";let X=J.charCodeAt(w+1);if(56320>X||X>57343)throw"High surrogate without following low surrogate";return J.charAt(w)+J.charAt(w+1)}if(w===0)throw"Low surrogate without preceding high surrogate";let Y=J.charCodeAt(w-1);if(55296>Y||Y>56319)throw"Low surrogate without preceding high surrogate";return!1},SC=Object.freeze({__proto__:null,capitalize:function(J){let w=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(J.charAt(0).toUpperCase()).concat(w?J.slice(1):J.slice(1).toLowerCase())},escapeXml:yK,graphemeSplit:SG}),gG=function(J,w){let G=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return J.fill!==w.fill||J.stroke!==w.stroke||J.strokeWidth!==w.strokeWidth||J.fontSize!==w.fontSize||J.fontFamily!==w.fontFamily||J.fontWeight!==w.fontWeight||J.fontStyle!==w.fontStyle||J.textBackgroundColor!==w.textBackgroundColor||J.deltaY!==w.deltaY||G&&(J.overline!==w.overline||J.underline!==w.underline||J.linethrough!==w.linethrough)},vK=(J,w)=>{let G=w.split(`
`),Y=[],X=-1,Q={};J=nz(J);for(let q=0;q<G.length;q++){let z=SG(G[q]);if(J[q])for(let U=0;U<z.length;U++){X++;let W=J[q][U];W&&Object.keys(W).length>0&&(gG(Q,W,!0)?Y.push({start:X,end:X+1,style:W}):Y[Y.length-1].end++),Q=W||{}}else X+=z.length,Q={}}return Y},_K=(J,w)=>{if(!Array.isArray(J))return nz(J);let G=w.split(Pz),Y={},X=-1,Q=0;for(let q=0;q<G.length;q++){let z=SG(G[q]);for(let U=0;U<z.length;U++)X++,J[Q]&&J[Q].start<=X&&X<J[Q].end&&(Y[q]=Y[q]||{},Y[q][U]=f({},J[Q].style),X===J[Q].end-1&&Q++)}return Y},p6=["display","transform",x1,"fill-opacity","fill-rule","opacity",a1,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function Fx(J,w){let G=J.nodeName,Y=J.getAttribute("class"),X=J.getAttribute("id"),q;if(q=new RegExp("^"+G,"i"),w=w.replace(q,""),X&&w.length&&(q=new RegExp("#"+X+"(?![a-zA-Z\\-]+)","i"),w=w.replace(q,"")),Y&&w.length){let z=Y.split(" ");for(let U=z.length;U--;)q=new RegExp("\\."+z[U]+"(?![a-zA-Z\\-]+)","i"),w=w.replace(q,"")}return w.length===0}function gC(J,w){let G=!0,Y=Fx(J,w.pop());return Y&&w.length&&(G=function(X,Q){let q,z=!0;for(;X.parentElement&&X.parentElement.nodeType===1&&Q.length;)z&&(q=Q.pop()),z=Fx(X=X.parentElement,q);return Q.length===0}(J,w)),Y&&G&&w.length===0}var bC=(J)=>{var w;return(w=BC[J])!==null&&w!==void 0?w:J},fC=new RegExp("(".concat(h2,")"),"gi"),EC=(J)=>J.replace(fC," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),Ix,kx,Cx,Nx,Px,Tx,Sx,y1="(".concat(h2,")"),yC=String.raw(Ix||(Ix=u6(["(skewX)(",")"],["(skewX)\\(","\\)"])),y1),vC=String.raw(kx||(kx=u6(["(skewY)(",")"],["(skewY)\\(","\\)"])),y1),_C=String.raw(Cx||(Cx=u6(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),y1,y1,y1),hC=String.raw(Nx||(Nx=u6(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),y1,y1),mC=String.raw(Px||(Px=u6(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),y1,y1),dC=String.raw(Tx||(Tx=u6(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),y1,y1,y1,y1,y1,y1),rz="(?:".concat(dC,"|").concat(mC,"|").concat(_C,"|").concat(hC,"|").concat(yC,"|").concat(vC,")"),cC="(?:".concat(rz,"*)"),uC=String.raw(Sx||(Sx=u6(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),cC),lC=new RegExp(uC),pC=new RegExp(rz),oC=new RegExp(rz,"g");function $z(J){let w=[];if(!(J=EC(J).replace(/\s*([()])\s*/gi,"$1"))||J&&!lC.test(J))return[...v1];for(let G of J.matchAll(oC)){let Y=pC.exec(G[0]);if(!Y)continue;let X=v1,Q=Y.filter((O)=>!!O),[,q,...z]=Q,[U,W,V,j,B,x]=z.map((O)=>parseFloat(O));switch(q){case"translate":X=P9(U,W);break;case Tz:X=T9({angle:U},{x:W,y:V});break;case RG:X=FG(U,W);break;case C9:X=Ez(U);break;case N9:X=yz(U);break;case"matrix":X=[U,W,V,j,B,x]}w.push(X)}return DG(w)}function iC(J,w,G,Y){let X=Array.isArray(w),Q,q=w;if(J!==x1&&J!==a1||w!==i1){if(J==="strokeUniform")return w==="non-scaling-stroke";if(J==="strokeDashArray")q=w===i1?null:w.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(J==="transformMatrix")q=G&&G.transformMatrix?G1(G.transformMatrix,$z(w)):$z(w);else if(J==="visible")q=w!==i1&&w!=="hidden",G&&G.visible===!1&&(q=!1);else if(J==="opacity")q=parseFloat(w),G&&G.opacity!==void 0&&(q*=G.opacity);else if(J==="textAnchor")q=w==="start"?N0:w==="end"?Q1:V0;else if(J==="charSpacing")Q=u8(w,Y)/Y*1000;else if(J==="paintFirst"){let z=w.indexOf(x1),U=w.indexOf(a1);q=x1,(z>-1&&U>-1&&U<z||z===-1&&U>-1)&&(q=a1)}else{if(J==="href"||J==="xlink:href"||J==="font"||J==="id")return w;if(J==="imageSmoothing")return w==="optimizeQuality";Q=X?w.map(u8):u8(w,Y)}}else q="";return!X&&isNaN(Q)?q:Q}function aC(J,w){let G=J.match(jC);if(!G)return;let Y=G[1],X=G[3],Q=G[4],q=G[5],z=G[6];Y&&(w.fontStyle=Y),X&&(w.fontWeight=isNaN(parseFloat(X))?X:parseFloat(X)),Q&&(w.fontSize=u8(Q)),z&&(w.fontFamily=z),q&&(w.lineHeight=q==="normal"?1:q)}function nC(J,w){J.replace(/;\s*$/,"").split(";").forEach((G)=>{if(!G)return;let[Y,X]=G.split(":");w[Y.trim().toLowerCase()]=X.trim()})}function rC(J){let w={},G=J.getAttribute("style");return G?(typeof G=="string"?nC(G,w):function(Y,X){Object.entries(Y).forEach((Q)=>{let[q,z]=Q;z!==void 0&&(X[q.toLowerCase()]=z)})}(G,w),w):w}var sC={stroke:"strokeOpacity",fill:"fillOpacity"};function r5(J,w,G){if(!J)return{};let Y,X={},Q=Nz;J.parentNode&&$x.test(J.parentNode.nodeName)&&(X=r5(J.parentElement,w,G),X.fontSize&&(Y=Q=u8(X.fontSize)));let q=f(f(f({},w.reduce((W,V)=>{let j=J.getAttribute(V);return j&&(W[V]=j),W},{})),function(W){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j={};for(let B in V)gC(W,B.split(" "))&&(j=f(f({},j),V[B]));return j}(J,G)),rC(J));q[eq]&&J.setAttribute(eq,q[eq]),q[sq]&&(Y=u8(q[sq],Q),q[sq]="".concat(Y));let z={};for(let W in q){let V=bC(W),j=iC(V,q[W],X,Y);z[V]=j}z&&z.font&&aC(z.font,z);let U=f(f({},X),z);return $x.test(J.nodeName)?U:function(W){let V=k1.getDefaults();return Object.entries(sC).forEach((j)=>{let[B,x]=j;if(W[x]===void 0||W[B]==="")return;if(W[B]===void 0){if(!V[B])return;W[B]=V[B]}if(W[B].indexOf("url(")===0)return;let O=new T0(W[B]);W[B]=O.setAlpha(o0(O.getAlpha()*W[x],2)).toRgba()}),W}(U)}var eC=["left","top","width","height","visible"],hK=["rx","ry"];class z5 extends k1{static getDefaults(){return f(f({},super.getDefaults()),z5.ownDefaults)}constructor(J){super(),Object.assign(this,z5.ownDefaults),this.setOptions(J),this._initRxRy()}_initRxRy(){let{rx:J,ry:w}=this;J&&!w?this.ry=J:w&&!J&&(this.rx=w)}_render(J){let{width:w,height:G}=this,Y=-w/2,X=-G/2,Q=this.rx?Math.min(this.rx,w/2):0,q=this.ry?Math.min(this.ry,G/2):0,z=Q!==0||q!==0;J.beginPath(),J.moveTo(Y+Q,X),J.lineTo(Y+w-Q,X),z&&J.bezierCurveTo(Y+w-y6*Q,X,Y+w,X+y6*q,Y+w,X+q),J.lineTo(Y+w,X+G-q),z&&J.bezierCurveTo(Y+w,X+G-y6*q,Y+w-y6*Q,X+G,Y+w-Q,X+G),J.lineTo(Y+Q,X+G),z&&J.bezierCurveTo(Y+y6*Q,X+G,Y,X+G-y6*q,Y,X+G-q),J.lineTo(Y,X+q),z&&J.bezierCurveTo(Y,X+y6*q,Y+y6*Q,X,Y+Q,X),J.closePath(),this._renderPaintInOrder(J)}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...hK,...J])}_toSVG(){let{width:J,height:w,rx:G,ry:Y}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-J/2,'" y="').concat(-w/2,'" rx="').concat(G,'" ry="').concat(Y,'" width="').concat(J,'" height="').concat(w,`" />
`)]}static async fromElement(J,w,G){let Y=r5(J,this.ATTRIBUTE_NAMES,G),{left:X=0,top:Q=0,width:q=0,height:z=0,visible:U=!0}=Y,W=i0(Y,eC);return new this(f(f(f({},w),W),{},{left:X,top:Q,width:q,height:z,visible:Boolean(U&&q&&z)}))}}E(z5,"type","Rect"),E(z5,"cacheProperties",[...n5,...hK]),E(z5,"ownDefaults",{rx:0,ry:0}),E(z5,"ATTRIBUTE_NAMES",[...p6,"x","y","rx","ry","width","height"]),G0.setClass(z5),G0.setSVGClass(z5);var u5="initialization",jG="added",sz="removed",BG="imperative",mK=(J,w)=>{let{strokeUniform:G,strokeWidth:Y,width:X,height:Q,group:q}=w,z=q&&q!==J?f3(q.calcTransformMatrix(),J.calcTransformMatrix()):null,U=z?w.getRelativeCenterPoint().transform(z):w.getRelativeCenterPoint(),W=!w.isStrokeAccountedForInDimensions(),V=G&&W?qK(new d(Y,Y),void 0,J.calcTransformMatrix()):Sz,j=!G&&W?Y:0,B=IG(X+j,Q+j,DG([z,w.calcOwnMatrix()],!0)).add(V).scalarDivide(2);return[U.subtract(B),U.add(B)]};class E3{calcLayoutResult(J,w){if(this.shouldPerformLayout(J))return this.calcBoundingBox(w,J)}shouldPerformLayout(J){let{type:w,prevStrategy:G,strategy:Y}=J;return w===u5||w===BG||!!G&&Y!==G}shouldLayoutClipPath(J){let{type:w,target:{clipPath:G}}=J;return w!==u5&&G&&!G.absolutePositioned}getInitialSize(J,w){return w.size}calcBoundingBox(J,w){let{type:G,target:Y}=w;if(G===BG&&w.overrides)return w.overrides;if(J.length===0)return;let{left:X,top:Q,width:q,height:z}=U5(J.map((V)=>mK(Y,V)).reduce((V,j)=>V.concat(j),[])),U=new d(q,z),W=new d(X,Q).add(U.scalarDivide(2));if(G===u5){let V=this.getInitialSize(w,{size:U,center:W});return{center:W,relativeCorrection:new d(0,0),size:V}}return{center:W.transform(Y.calcOwnMatrix()),size:U}}}E(E3,"type","strategy");class MG extends E3{shouldPerformLayout(J){return!0}}E(MG,"type","fit-content"),G0.setClass(MG);var tC=["strategy"],JN=["target","strategy","bubbles","prevStrategy"],dK="layoutManager";class I9{constructor(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new MG;E(this,"strategy",void 0),this.strategy=J,this._subscriptions=new Map}performLayout(J){let w=f(f({bubbles:!0,strategy:this.strategy},J),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(w);let G=this.getLayoutResult(w);G&&this.commitLayout(w,G),this.onAfterLayout(w,G),this._prevLayoutStrategy=w.strategy}attachHandlers(J,w){let{target:G}=w;return[qG,dx,k3,cx,OG,ux,QG,lx,zC].map((Y)=>J.on(Y,(X)=>this.performLayout(Y===qG?{type:"object_modified",trigger:Y,e:X,target:G}:{type:"object_modifying",trigger:Y,e:X,target:G})))}subscribe(J,w){this.unsubscribe(J,w);let G=this.attachHandlers(J,w);this._subscriptions.set(J,G)}unsubscribe(J,w){(this._subscriptions.get(J)||[]).forEach((G)=>G()),this._subscriptions.delete(J)}unsubscribeTargets(J){J.targets.forEach((w)=>this.unsubscribe(w,J))}subscribeTargets(J){J.targets.forEach((w)=>this.subscribe(w,J))}onBeforeLayout(J){let{target:w,type:G}=J,{canvas:Y}=w;if(G===u5||G===jG?this.subscribeTargets(J):G===sz&&this.unsubscribeTargets(J),w.fire("layout:before",{context:J}),Y&&Y.fire("object:layout:before",{target:w,context:J}),G===BG&&J.deep){let X=i0(J,tC);w.forEachObject((Q)=>Q.layoutManager&&Q.layoutManager.performLayout(f(f({},X),{},{bubbles:!1,target:Q})))}}getLayoutResult(J){let{target:w,strategy:G,type:Y}=J,X=G.calcLayoutResult(J,w.getObjects());if(!X)return;let Q=Y===u5?new d:w.getRelativeCenterPoint(),{center:q,correction:z=new d,relativeCorrection:U=new d}=X,W=Q.subtract(q).add(z).transform(Y===u5?v1:Q2(w.calcOwnMatrix()),!0).add(U);return{result:X,prevCenter:Q,nextCenter:q,offset:W}}commitLayout(J,w){let{target:G}=J,{result:{size:Y},nextCenter:X}=w;var Q,q;(G.set({width:Y.x,height:Y.y}),this.layoutObjects(J,w),J.type===u5)?G.set({left:(Q=J.x)!==null&&Q!==void 0?Q:X.x+Y.x*V1(G.originX),top:(q=J.y)!==null&&q!==void 0?q:X.y+Y.y*V1(G.originY)}):(G.setPositionByOrigin(X,V0,V0),G.setCoords(),G.set("dirty",!0))}layoutObjects(J,w){let{target:G}=J;G.forEachObject((Y)=>{Y.group===G&&this.layoutObject(J,w,Y)}),J.strategy.shouldLayoutClipPath(J)&&this.layoutObject(J,w,G.clipPath)}layoutObject(J,w,G){let{offset:Y}=w;G.set({left:G.left+Y.x,top:G.top+Y.y})}onAfterLayout(J,w){let{target:G,strategy:Y,bubbles:X,prevStrategy:Q}=J,q=i0(J,JN),{canvas:z}=G;G.fire("layout:after",{context:J,result:w}),z&&z.fire("object:layout:after",{context:J,result:w,target:G});let U=G.parent;X&&U!=null&&U.layoutManager&&((q.path||(q.path=[])).push(G),U.layoutManager.performLayout(f(f({},q),{},{target:U}))),G.set("dirty",!0)}dispose(){let{_subscriptions:J}=this;J.forEach((w)=>w.forEach((G)=>G())),J.clear()}toObject(){return{type:dK,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}G0.setClass(I9,dK);var wN=["type","objects","layoutManager"];class cK extends I9{performLayout(){}}class i5 extends ox(k1){static getDefaults(){return f(f({},super.getDefaults()),i5.ownDefaults)}constructor(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),E(this,"_activeObjects",[]),E(this,"__objectSelectionTracker",void 0),E(this,"__objectSelectionDisposer",void 0),Object.assign(this,i5.ownDefaults),this.setOptions(w),this.groupInit(J,w)}groupInit(J,w){var G;this._objects=[...J],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((Y)=>{this.enterGroup(Y,!1)}),this.layoutManager=(G=w.layoutManager)!==null&&G!==void 0?G:new I9,this.layoutManager.performLayout({type:u5,target:this,targets:[...J],x:w.left,y:w.top})}canEnterGroup(J){return J===this||this.isDescendantOf(J)?(h6("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(J)===-1||(h6("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(J){return J.filter((w,G,Y)=>this.canEnterGroup(w)&&Y.indexOf(w)===G)}add(){for(var J=arguments.length,w=new Array(J),G=0;G<J;G++)w[G]=arguments[G];let Y=this._filterObjectsBeforeEnteringGroup(w),X=super.add(...Y);return this._onAfterObjectsChange(jG,Y),X}insertAt(J){for(var w=arguments.length,G=new Array(w>1?w-1:0),Y=1;Y<w;Y++)G[Y-1]=arguments[Y];let X=this._filterObjectsBeforeEnteringGroup(G),Q=super.insertAt(J,...X);return this._onAfterObjectsChange(jG,X),Q}remove(){let J=super.remove(...arguments);return this._onAfterObjectsChange(sz,J),J}_onObjectAdded(J){this.enterGroup(J,!0),this.fire("object:added",{target:J}),J.fire("added",{target:this})}_onObjectRemoved(J,w){this.exitGroup(J,w),this.fire("object:removed",{target:J}),J.fire("removed",{target:this})}_onAfterObjectsChange(J,w){this.layoutManager.performLayout({type:J,targets:w,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(J,w){let G=this[J];return super._set(J,w),J==="canvas"&&G!==w&&(this._objects||[]).forEach((Y)=>{Y._set(J,w)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(J,w){let{target:G}=w,Y=this._activeObjects;if(J)Y.push(G),this._set("dirty",!0);else if(Y.length>0){let X=Y.indexOf(G);X>-1&&(Y.splice(X,1),this._set("dirty",!0))}}_watchObject(J,w){J&&this._watchObject(!1,w),J?(w.on("selected",this.__objectSelectionTracker),w.on("deselected",this.__objectSelectionDisposer)):(w.off("selected",this.__objectSelectionTracker),w.off("deselected",this.__objectSelectionDisposer))}enterGroup(J,w){J.group&&J.group.remove(J),J._set("parent",this),this._enterGroup(J,w)}_enterGroup(J,w){w&&F9(J,G1(Q2(this.calcTransformMatrix()),J.calcTransformMatrix())),this._shouldSetNestedCoords()&&J.setCoords(),J._set("group",this),J._set("canvas",this.canvas),this._watchObject(!0,J);let G=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();G&&(G===J||J.isDescendantOf(G))&&this._activeObjects.push(J)}exitGroup(J,w){this._exitGroup(J,w),J._set("parent",void 0),J._set("canvas",void 0)}_exitGroup(J,w){J._set("group",void 0),w||(F9(J,G1(this.calcTransformMatrix(),J.calcTransformMatrix())),J.setCoords()),this._watchObject(!1,J);let G=this._activeObjects.length>0?this._activeObjects.indexOf(J):-1;G>-1&&this._activeObjects.splice(G,1)}shouldCache(){let J=k1.prototype.shouldCache.call(this);if(J){for(let w=0;w<this._objects.length;w++)if(this._objects[w].willDrawShadow())return this.ownCaching=!1,!1}return J}willDrawShadow(){if(super.willDrawShadow())return!0;for(let J=0;J<this._objects.length;J++)if(this._objects[J].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(J,w,G){this._renderBackground(J);for(let X=0;X<this._objects.length;X++){var Y;let Q=this._objects[X];(Y=this.canvas)!==null&&Y!==void 0&&Y.preserveObjectStacking&&Q.group!==this?(J.save(),J.transform(...Q2(this.calcTransformMatrix())),Q.render(J),J.restore()):Q.group===this&&Q.render(J)}this._drawClipPath(J,this.clipPath,G)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((J)=>J.setCoords())}triggerLayout(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(f({target:this,type:BG},J))}render(J){this._transformDone=!0,super.render(J),this._transformDone=!1}__serializeObjects(J,w){let G=this.includeDefaultValues;return this._objects.filter(function(Y){return!Y.excludeFromExport}).map(function(Y){let X=Y.includeDefaultValues;Y.includeDefaultValues=G;let Q=Y[J||"toObject"](w);return Y.includeDefaultValues=X,Q})}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=this.layoutManager.toObject();return f(f(f({},super.toObject(["subTargetCheck","interactive",...J])),w.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:w}:{}),{},{objects:this.__serializeObjects("toObject",J)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((J)=>{this._watchObject(!1,J),J.dispose()}),super.dispose()}_createSVGBgRect(J){if(!this.backgroundColor)return"";let w=z5.prototype._toSVG.call(this),G=w.indexOf("COMMON_PARTS");w[G]='for="group" ';let Y=w.join("");return J?J(Y):Y}_toSVG(J){let w=["<g ","COMMON_PARTS",` >
`],G=this._createSVGBgRect(J);G&&w.push("\t\t",G);for(let Y=0;Y<this._objects.length;Y++)w.push("\t\t",this._objects[Y].toSVG(J));return w.push(`</g>
`),w}getSvgStyles(){let J=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",w=this.visible?"":" visibility: hidden;";return[J,this.getSvgFilter(),w].join("")}toClipPathSVG(J){let w=[],G=this._createSVGBgRect(J);G&&w.push("\t",G);for(let Y=0;Y<this._objects.length;Y++)w.push("\t",this._objects[Y].toClipPathSVG(J));return this._createBaseClipPathSVGMarkup(w,{reviver:J})}static fromObject(J,w){let{type:G,objects:Y=[],layoutManager:X}=J,Q=i0(J,wN);return Promise.all([D9(Y,w),g3(Q,w)]).then((q)=>{let[z,U]=q,W=new this(z,f(f(f({},Q),U),{},{layoutManager:new cK}));if(X){let V=G0.getClass(X.type),j=G0.getClass(X.strategy);W.layoutManager=new V(new j)}else W.layoutManager=new I9;return W.layoutManager.subscribeTargets({type:u5,target:W,targets:W.getObjects()}),W.setCoords(),W})}}E(i5,"type","Group"),E(i5,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),G0.setClass(i5);var uK=(J,w)=>Math.min(w.width/J.width,w.height/J.height),lK=(J,w)=>Math.max(w.width/J.width,w.height/J.height),Az="\\s*,?\\s*",M3="".concat(Az,"(").concat(h2,")"),GN="".concat(M3).concat(M3).concat(M3).concat(Az,"([01])").concat(Az,"([01])").concat(M3).concat(M3),YN={m:"l",M:"L"},XN=(J,w,G,Y,X,Q,q,z,U,W,V)=>{let j=d2(J),B=c2(J),x=d2(w),O=c2(w),R=G*X*x-Y*Q*O+q,F=Y*X*x+G*Q*O+z;return["C",W+U*(-G*X*B-Y*Q*j),V+U*(-Y*X*B+G*Q*j),R+U*(G*X*O+Y*Q*x),F+U*(Y*X*O-G*Q*x),R,F]},gx=(J,w,G,Y)=>{let X=Math.atan2(w,J),Q=Math.atan2(Y,G);return Q>=X?Q-X:2*Math.PI-(X-Q)};function Oz(J,w,G,Y,X,Q,q,z){let U;if(D0.cachesBoundsOfCurve&&(U=[...arguments].join(),A3.boundsOfCurveCache[U]))return A3.boundsOfCurveCache[U];let{sqrt:W,abs:V}=Math,j=[],B=[[0,0],[0,0]],x=6*J-12*G+6*X,O=-3*J+9*G-9*X+3*q,R=3*G-3*J;for(let $=0;$<2;++$){if($>0&&(x=6*w-12*Y+6*Q,O=-3*w+9*Y-9*Q+3*z,R=3*Y-3*w),V(O)<0.000000000001){if(V(x)<0.000000000001)continue;let _=-R/x;0<_&&_<1&&j.push(_);continue}let I=x*x-4*R*O;if(I<0)continue;let D=W(I),k=(-x+D)/(2*O);0<k&&k<1&&j.push(k);let P=(-x-D)/(2*O);0<P&&P<1&&j.push(P)}let F=j.length,A=F,M=oK(J,w,G,Y,X,Q,q,z);for(;F--;){let{x:$,y:I}=M(j[F]);B[0][F]=$,B[1][F]=I}B[0][A]=J,B[1][A]=w,B[0][A+1]=q,B[1][A+1]=z;let L=[new d(Math.min(...B[0]),Math.min(...B[1])),new d(Math.max(...B[0]),Math.max(...B[1]))];return D0.cachesBoundsOfCurve&&(A3.boundsOfCurveCache[U]=L),L}var QN=(J,w,G)=>{let[Y,X,Q,q,z,U,W,V]=G,j=((B,x,O,R,F,A,M)=>{if(O===0||R===0)return[];let L=0,$=0,I=0,D=Math.PI,k=M*Cz,P=c2(k),_=d2(k),v=0.5*(-_*B-P*x),h=0.5*(-_*x+P*B),C=O**2,m=R**2,s=h**2,g=v**2,l=C*m-C*s-m*g,o=Math.abs(O),a=Math.abs(R);if(l<0){let K0=Math.sqrt(1-l/(C*m));o*=K0,a*=K0}else I=(F===A?-1:1)*Math.sqrt(l/(C*s+m*g));let X0=I*o*h/a,i=-I*a*v/o,n=_*X0-P*i+0.5*B,y=P*X0+_*i+0.5*x,t=gx(1,0,(v-X0)/o,(h-i)/a),Y0=gx((v-X0)/o,(h-i)/a,(-v-X0)/o,(-h-i)/a);A===0&&Y0>0?Y0-=2*D:A===1&&Y0<0&&(Y0+=2*D);let Z0=Math.ceil(Math.abs(Y0/D*2)),x0=[],z0=Y0/Z0,M0=2.6666666666666665*Math.sin(z0/4)*Math.sin(z0/4)/Math.sin(z0/2),W0=t+z0;for(let K0=0;K0<Z0;K0++)x0[K0]=XN(t,W0,_,P,o,a,n,y,M0,L,$),L=x0[K0][5],$=x0[K0][6],t=W0,W0+=z0;return x0})(W-J,V-w,X,Q,z,U,q);for(let B=0,x=j.length;B<x;B++)j[B][1]+=J,j[B][2]+=w,j[B][3]+=J,j[B][4]+=w,j[B][5]+=J,j[B][6]+=w;return j},pK=(J)=>{let w=0,G=0,Y=0,X=0,Q=[],q,z=0,U=0;for(let W of J){let V=[...W],j;switch(V[0]){case"l":V[1]+=w,V[2]+=G;case"L":w=V[1],G=V[2],j=["L",w,G];break;case"h":V[1]+=w;case"H":w=V[1],j=["L",w,G];break;case"v":V[1]+=G;case"V":G=V[1],j=["L",w,G];break;case"m":V[1]+=w,V[2]+=G;case"M":w=V[1],G=V[2],Y=V[1],X=V[2],j=["M",w,G];break;case"c":V[1]+=w,V[2]+=G,V[3]+=w,V[4]+=G,V[5]+=w,V[6]+=G;case"C":z=V[3],U=V[4],w=V[5],G=V[6],j=["C",V[1],V[2],z,U,w,G];break;case"s":V[1]+=w,V[2]+=G,V[3]+=w,V[4]+=G;case"S":q==="C"?(z=2*w-z,U=2*G-U):(z=w,U=G),w=V[3],G=V[4],j=["C",z,U,V[1],V[2],w,G],z=j[3],U=j[4];break;case"q":V[1]+=w,V[2]+=G,V[3]+=w,V[4]+=G;case"Q":z=V[1],U=V[2],w=V[3],G=V[4],j=["Q",z,U,w,G];break;case"t":V[1]+=w,V[2]+=G;case"T":q==="Q"?(z=2*w-z,U=2*G-U):(z=w,U=G),w=V[1],G=V[2],j=["Q",z,U,w,G];break;case"a":V[6]+=w,V[7]+=G;case"A":QN(w,G,V).forEach((B)=>Q.push(B)),w=V[6],G=V[7];break;case"z":case"Z":w=Y,G=X,j=["Z"]}j?(Q.push(j),q=j[0]):q=""}return Q},xG=(J,w,G,Y)=>Math.sqrt((G-J)**2+(Y-w)**2),oK=(J,w,G,Y,X,Q,q,z)=>(U)=>{let W=U**3,V=((x)=>3*x**2*(1-x))(U),j=((x)=>3*x*(1-x)**2)(U),B=((x)=>(1-x)**3)(U);return new d(q*W+X*V+G*j+J*B,z*W+Q*V+Y*j+w*B)},iK=(J)=>J**2,aK=(J)=>2*J*(1-J),nK=(J)=>(1-J)**2,qN=(J,w,G,Y,X,Q,q,z)=>(U)=>{let W=iK(U),V=aK(U),j=nK(U),B=3*(j*(G-J)+V*(X-G)+W*(q-X)),x=3*(j*(Y-w)+V*(Q-Y)+W*(z-Q));return Math.atan2(x,B)},zN=(J,w,G,Y,X,Q)=>(q)=>{let z=iK(q),U=aK(q),W=nK(q);return new d(X*z+G*U+J*W,Q*z+Y*U+w*W)},WN=(J,w,G,Y,X,Q)=>(q)=>{let z=1-q,U=2*(z*(G-J)+q*(X-G)),W=2*(z*(Y-w)+q*(Q-Y));return Math.atan2(W,U)},bx=(J,w,G)=>{let Y=new d(w,G),X=0;for(let Q=1;Q<=100;Q+=1){let q=J(Q/100);X+=xG(Y.x,Y.y,q.x,q.y),Y=q}return X},UN=(J,w)=>{let G,Y=0,X=0,Q={x:J.x,y:J.y},q=f({},Q),z=0.01,U=0,W=J.iterator,V=J.angleFinder;for(;X<w&&z>0.0001;)q=W(Y),U=Y,G=xG(Q.x,Q.y,q.x,q.y),G+X>w?(Y-=z,z/=2):(Q=q,Y+=z,X+=G);return f(f({},q),{},{angle:V(U)})},ez=(J)=>{let w,G,Y=0,X=0,Q=0,q=0,z=0,U=[];for(let W of J){let V={x:X,y:Q,command:W[0],length:0};switch(W[0]){case"M":G=V,G.x=q=X=W[1],G.y=z=Q=W[2];break;case"L":G=V,G.length=xG(X,Q,W[1],W[2]),X=W[1],Q=W[2];break;case"C":w=oK(X,Q,W[1],W[2],W[3],W[4],W[5],W[6]),G=V,G.iterator=w,G.angleFinder=qN(X,Q,W[1],W[2],W[3],W[4],W[5],W[6]),G.length=bx(w,X,Q),X=W[5],Q=W[6];break;case"Q":w=zN(X,Q,W[1],W[2],W[3],W[4]),G=V,G.iterator=w,G.angleFinder=WN(X,Q,W[1],W[2],W[3],W[4]),G.length=bx(w,X,Q),X=W[3],Q=W[4];break;case"Z":G=V,G.destX=q,G.destY=z,G.length=xG(X,Q,q,z),X=q,Q=z}Y+=G.length,U.push(G)}return U.push({length:Y,x:X,y:Q}),U},rK=function(J,w){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ez(J),Y=0;for(;w-G[Y].length>0&&Y<G.length-2;)w-=G[Y].length,Y++;let X=G[Y],Q=w/X.length,q=J[Y];switch(X.command){case"M":return{x:X.x,y:X.y,angle:0};case"Z":return f(f({},new d(X.x,X.y).lerp(new d(X.destX,X.destY),Q)),{},{angle:Math.atan2(X.destY-X.y,X.destX-X.x)});case"L":return f(f({},new d(X.x,X.y).lerp(new d(q[1],q[2]),Q)),{},{angle:Math.atan2(q[2]-X.y,q[1]-X.x)});case"C":case"Q":return UN(X,w)}},HN=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),fx=new RegExp(GN,"g"),VN=new RegExp(h2,"gi"),ZN={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},sK=(J)=>{var w;let G=[],Y=(w=J.match(HN))!==null&&w!==void 0?w:[];for(let X of Y){let Q=X[0];if(Q==="z"||Q==="Z"){G.push([Q]);continue}let q=ZN[Q.toLowerCase()],z=[];if(Q==="a"||Q==="A"){fx.lastIndex=0;for(let U=null;U=fx.exec(X);)z.push(...U.slice(1))}else z=X.match(VN)||[];for(let U=0;U<z.length;U+=q){let W=new Array(q),V=YN[Q];W[0]=U>0&&V?V:Q;for(let j=0;j<q;j++)W[j+1]=parseFloat(z[U+j]);G.push(W)}}return G},jN=function(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,G=new d(J[0]),Y=new d(J[1]),X=1,Q=0,q=[],z=J.length,U=z>2,W;for(U&&(X=J[2].x<Y.x?-1:J[2].x===Y.x?0:1,Q=J[2].y<Y.y?-1:J[2].y===Y.y?0:1),q.push(["M",G.x-X*w,G.y-Q*w]),W=1;W<z;W++){if(!G.eq(Y)){let V=G.midPointFrom(Y);q.push(["Q",G.x,G.y,V.x,V.y])}G=J[W],W+1<J.length&&(Y=J[W+1])}return U&&(X=G.x>J[W-2].x?1:G.x===J[W-2].x?0:-1,Q=G.y>J[W-2].y?1:G.y===J[W-2].y?0:-1),q.push(["L",G.x+X*w,G.y+Q*w]),q},eK=(J,w)=>J.map((G)=>G.map((Y,X)=>X===0||w===void 0?Y:o0(Y,w)).join(" ")).join(" ");function KG(J,w){let G=J.style;G&&w&&(typeof w=="string"?G.cssText+=";"+w:Object.entries(w).forEach((Y)=>{let[X,Q]=Y;return G.setProperty(X,Q)}))}var BN=(J,w)=>Math.floor(Math.random()*(w-J+1))+J;function MN(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=w.onComplete||c8,Y=new(AG()).XMLHttpRequest,X=w.signal,Q=function(){Y.abort()},q=function(){X&&X.removeEventListener("abort",Q),Y.onerror=Y.ontimeout=c8};if(X&&X.aborted)throw new kz("request");return X&&X.addEventListener("abort",Q,{once:!0}),Y.onreadystatechange=function(){Y.readyState===4&&(q(),G(Y),Y.onreadystatechange=c8)},Y.onerror=Y.ontimeout=q,Y.open("get",J,!0),Y.send(),Y}var xN=(J,w)=>{let G=J._findCenterFromElement();J.transformMatrix&&(((Y)=>{if(Y.transformMatrix){let{scaleX:X,scaleY:Q,angle:q,skewX:z}=R9(Y.transformMatrix);Y.flipX=!1,Y.flipY=!1,Y.set(_1,X),Y.set(q2,Q),Y.angle=q,Y.skewX=z,Y.skewY=0}})(J),G=G.transform(J.transformMatrix)),delete J.transformMatrix,w&&(J.scaleX*=w.scaleX,J.scaleY*=w.scaleY,J.cropX=w.cropX,J.cropY=w.cropY,G.x+=w.offsetLeft,G.y+=w.offsetTop,J.width=w.width,J.height=w.height),J.setPositionByOrigin(G,V0,V0)},rT=Object.freeze({__proto__:null,addTransformToObject:XK,animate:pz,animateColor:KK,applyTransformToObject:F9,calcAngleBetweenVectors:ZG,calcDimensionsMatrix:S3,calcPlaneChangeMatrix:f3,calcVectorRotation:VK,cancelAnimFrame:ix,capValue:l8,composeMatrix:ex,copyCanvasElement:(J)=>{var w;let G=u2(J);return(w=G.getContext("2d"))===null||w===void 0||w.drawImage(J,0,0),G},cos:d2,createCanvasElement:C2,createImage:ax,createRotateMatrix:T9,createScaleMatrix:FG,createSkewXMatrix:Ez,createSkewYMatrix:yz,createTranslateMatrix:P9,createVector:HG,crossProduct:A9,degreesToRadians:w1,dotProduct:ZK,ease:LC,enlivenObjectEnlivables:g3,enlivenObjects:D9,findScaleToCover:lK,findScaleToFit:uK,getBoundsOfCurve:Oz,getOrthonormalVector:lz,getPathSegmentsInfo:ez,getPointOnPath:rK,getPointer:YK,getRandomInt:BN,getRegularPolygonPath:(J,w)=>{let G=2*Math.PI/J,Y=-m6;J%2==0&&(Y+=G/2);let X=new Array(J+1);for(let Q=0;Q<J;Q++){let q=Q*G+Y,{x:z,y:U}=new d(d2(q),c2(q)).scalarMultiply(w);X[Q]=[Q===0?"M":"L",z,U]}return X[J]=["Z"],X},getSmoothPathFromPoints:jN,getSvgAttributes:(J)=>{let w=["instantiated_by_use","style","id","class"];switch(J){case"linearGradient":return w.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return w.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return w.concat(["offset","stop-color","stop-opacity"])}return w},getUnitVector:NG,groupSVGElements:(J,w)=>J&&J.length===1?J[0]:new i5(J,w),hasStyleChanged:gG,invertTransform:Q2,isBetweenVectors:jz,isIdentityMatrix:nx,isTouchEvent:WG,isTransparent:fK,joinPath:eK,loadImage:R3,magnitude:VG,makeBoundingBoxFromPoints:U5,makePathSimpler:pK,matrixToSVG:C3,mergeClipPaths:(J,w)=>{var G;let Y=J,X=w;Y.inverted&&!X.inverted&&(Y=w,X=J),Zz(X,(G=X.group)===null||G===void 0?void 0:G.calcTransformMatrix(),Y.calcTransformMatrix());let Q=Y.inverted&&X.inverted;return Q&&(Y.inverted=X.inverted=!1),new i5([Y],{clipPath:X,inverted:Q})},multiplyTransformMatrices:G1,multiplyTransformMatrixArray:DG,parsePath:sK,parsePreserveAspectRatioAttribute:tx,parseUnit:u8,pick:p8,projectStrokeOnPoints:EK,qrDecompose:R9,radiansToDegrees:c6,removeFromArray:f8,removeTransformFromObject:(J,w)=>{let G=Q2(w),Y=G1(G,J.calcOwnMatrix());F9(J,Y)},removeTransformMatrixForSvgParsing:xN,request:MN,requestAnimFrame:O3,resetObjectTransform:QK,rotatePoint:(J,w,G)=>J.rotate(G,w),rotateVector:uz,saveObjectTransform:hz,sendObjectToPlane:Zz,sendPointToPlane:p5,sendVectorToPlane:qK,setStyle:KG,sin:c2,sizeAfterTransform:IG,string:SC,stylesFromArray:_K,stylesToArray:vK,toBlob:fz,toDataURL:bz,toFixed:o0,transformPath:(J,w,G)=>(G&&(w=G1(w,[1,0,0,1,-G.x,-G.y])),J.map((Y)=>{let X=[...Y];for(let Q=1;Q<Y.length-1;Q+=2){let{x:q,y:z}=T1({x:Y[Q],y:Y[Q+1]},w);X[Q]=q,X[Q+1]=z}return X})),transformPoint:T1});class tK extends _z{constructor(J){let{allowTouchScrolling:w=!1,containerClass:G=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(J),E(this,"upper",void 0),E(this,"container",void 0);let{el:Y}=this.lower,X=this.createUpperCanvas();this.upper={el:X,ctx:X.getContext("2d")},this.applyCanvasStyle(Y,{allowTouchScrolling:w}),this.applyCanvasStyle(X,{allowTouchScrolling:w,styles:{position:"absolute",left:"0",top:"0"}});let Q=this.createContainerElement();Q.classList.add(G),Y.parentNode&&Y.parentNode.replaceChild(Q,Y),Q.append(Y,X),this.container=Q}createUpperCanvas(){let{el:J}=this.lower,w=C2();return w.className=J.className,w.classList.remove("lower-canvas"),w.classList.add("upper-canvas"),w.setAttribute("data-fabric","top"),w.style.cssText=J.style.cssText,w.setAttribute("draggable","true"),w}createContainerElement(){let J=k9().createElement("div");return J.setAttribute("data-fabric","wrapper"),KG(J,{position:"relative"}),xx(J),J}applyCanvasStyle(J,w){let{styles:G,allowTouchScrolling:Y}=w;KG(J,f(f({},G),{},{"touch-action":Y?"manipulation":i1})),xx(J)}setDimensions(J,w){super.setDimensions(J,w);let{el:G,ctx:Y}=this.upper;GK(G,Y,J,w)}setCSSDimensions(J){super.setCSSDimensions(J),Hz(this.upper.el,J),Hz(this.container,J)}cleanupDOM(J){let w=this.container,{el:G}=this.lower,{el:Y}=this.upper;super.cleanupDOM(J),w.removeChild(Y),w.removeChild(G),w.parentNode&&w.parentNode.replaceChild(G,w)}dispose(){super.dispose(),H5().dispose(this.upper.el),delete this.upper,delete this.container}}class bG extends b3{constructor(){super(...arguments),E(this,"targets",[]),E(this,"_hoveredTargets",[]),E(this,"_objectsToRender",void 0),E(this,"_currentTransform",null),E(this,"_groupSelector",null),E(this,"contextTopDirty",!1)}static getDefaults(){return f(f({},super.getDefaults()),bG.ownDefaults)}get upperCanvasEl(){var J;return(J=this.elements.upper)===null||J===void 0?void 0:J.el}get contextTop(){var J;return(J=this.elements.upper)===null||J===void 0?void 0:J.ctx}get wrapperEl(){return this.elements.container}initElements(J){this.elements=new tK(J,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(J){this._objectsToRender=void 0,super._onObjectAdded(J)}_onObjectRemoved(J){this._objectsToRender=void 0,J===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[J]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[J]}),J.fire("deselected",{target:J})),J===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(J)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let J=this._activeObject;return!this.preserveObjectStacking&&J?this._objects.filter((w)=>!w.group&&w!==J).concat(J):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(J){J.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(J),this.contextTopDirty=!0),J.restore()}renderTop(){let J=this.contextTop;this.clearContext(J),this.renderTopLayer(J),this.fire("after:render",{ctx:J})}setTargetFindTolerance(J){J=Math.round(J),this.targetFindTolerance=J;let w=this.getRetinaScaling(),G=Math.ceil((2*J+1)*w);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=G,this.pixelFindContext.scale(w,w)}isTargetTransparent(J,w,G){let Y=this.targetFindTolerance,X=this.pixelFindContext;this.clearContext(X),X.save(),X.translate(-w+Y,-G+Y),X.transform(...this.viewportTransform);let Q=J.selectionBackgroundColor;J.selectionBackgroundColor="",J.render(X),J.selectionBackgroundColor=Q,X.restore();let q=Math.round(Y*this.getRetinaScaling());return fK(X,q,q,q)}_isSelectionKeyPressed(J){let w=this.selectionKey;return!!w&&(Array.isArray(w)?!!w.find((G)=>!!G&&J[G]===!0):J[w])}_shouldClearSelection(J,w){let G=this.getActiveObjects(),Y=this._activeObject;return!!(!w||w&&Y&&G.length>1&&G.indexOf(w)===-1&&Y!==w&&!this._isSelectionKeyPressed(J)||w&&!w.evented||w&&!w.selectable&&Y&&Y!==w)}_shouldCenterTransform(J,w,G){if(!J)return;let Y;return w===RG||w===_1||w===q2||w===k3?Y=this.centeredScaling||J.centeredScaling:w===Tz&&(Y=this.centeredRotation||J.centeredRotation),Y?!G:G}_getOriginFromCorner(J,w){let G={x:J.originX,y:J.originY};return w?(["ml","tl","bl"].includes(w)?G.x=Q1:["mr","tr","br"].includes(w)&&(G.x=N0),["tl","mt","tr"].includes(w)?G.y=Uz:["bl","mb","br"].includes(w)&&(G.y=o1),G):G}_setupCurrentTransform(J,w,G){var Y;let X=w.group?p5(this.getScenePoint(J),void 0,w.group.calcTransformMatrix()):this.getScenePoint(J),{key:Q="",control:q}=w.getActiveControl()||{},z=G&&q?(Y=q.getActionHandler(J,w,q))===null||Y===void 0?void 0:Y.bind(q):UK,U=((B,x,O,R)=>{if(!x||!B)return"drag";let F=R.controls[x];return F.getActionName(O,F,R)})(G,Q,J,w),W=J[this.centeredKey],V=this._shouldCenterTransform(w,U,W)?{x:V0,y:V0}:this._getOriginFromCorner(w,Q),j={target:w,action:U,actionHandler:z,actionPerformed:!1,corner:Q,scaleX:w.scaleX,scaleY:w.scaleY,skewX:w.skewX,skewY:w.skewY,offsetX:X.x-w.left,offsetY:X.y-w.top,originX:V.x,originY:V.y,ex:X.x,ey:X.y,lastX:X.x,lastY:X.y,theta:w1(w.angle),width:w.width,height:w.height,shiftKey:J.shiftKey,altKey:W,original:f(f({},hz(w)),{},{originX:V.x,originY:V.y})};this._currentTransform=j,this.fire("before:transform",{e:J,transform:j})}setCursor(J){this.upperCanvasEl.style.cursor=J}_drawSelection(J){let{x:w,y:G,deltaX:Y,deltaY:X}=this._groupSelector,Q=new d(w,G).transform(this.viewportTransform),q=new d(w+Y,G+X).transform(this.viewportTransform),z=this.selectionLineWidth/2,U=Math.min(Q.x,q.x),W=Math.min(Q.y,q.y),V=Math.max(Q.x,q.x),j=Math.max(Q.y,q.y);this.selectionColor&&(J.fillStyle=this.selectionColor,J.fillRect(U,W,V-U,j-W)),this.selectionLineWidth&&this.selectionBorderColor&&(J.lineWidth=this.selectionLineWidth,J.strokeStyle=this.selectionBorderColor,U+=z,W+=z,V-=z,j-=z,k1.prototype._setLineDash.call(this,J,this.selectionDashArray),J.strokeRect(U,W,V-U,j-W))}findTarget(J){if(this.skipTargetFind)return;let w=this.getViewportPoint(J),G=this._activeObject,Y=this.getActiveObjects();if(this.targets=[],G&&Y.length>=1){if(G.findControl(w,WG(J)))return G;if(Y.length>1&&this.searchPossibleTargets([G],w))return G;if(G===this.searchPossibleTargets([G],w)){if(this.preserveObjectStacking){let X=this.targets;this.targets=[];let Q=this.searchPossibleTargets(this._objects,w);return J[this.altSelectionKey]&&Q&&Q!==G?(this.targets=X,G):Q}return G}}return this.searchPossibleTargets(this._objects,w)}_pointIsInObjectSelectionArea(J,w){let G=J.getCoords(),Y=this.getZoom(),X=J.padding/Y;if(X){let[Q,q,z,U]=G,W=Math.atan2(q.y-Q.y,q.x-Q.x),V=d2(W)*X,j=c2(W)*X,B=V+j,x=V-j;G=[new d(Q.x-x,Q.y-B),new d(q.x+B,q.y-x),new d(z.x+x,z.y+B),new d(U.x-B,U.y+x)]}return e0.isPointInPolygon(w,G)}_checkTarget(J,w){if(J&&J.visible&&J.evented&&this._pointIsInObjectSelectionArea(J,p5(w,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!J.perPixelTargetFind||J.isEditing)return!0;if(!this.isTargetTransparent(J,w.x,w.y))return!0}return!1}_searchPossibleTargets(J,w){let G=J.length;for(;G--;){let Y=J[G];if(this._checkTarget(Y,w)){if(YG(Y)&&Y.subTargetCheck){let X=this._searchPossibleTargets(Y._objects,w);X&&this.targets.push(X)}return Y}}}searchPossibleTargets(J,w){let G=this._searchPossibleTargets(J,w);if(G&&YG(G)&&G.interactive&&this.targets[0]){let Y=this.targets;for(let X=Y.length-1;X>0;X--){let Q=Y[X];if(!YG(Q)||!Q.interactive)return Q}return Y[0]}return G}getViewportPoint(J){return this._pointer?this._pointer:this.getPointer(J,!0)}getScenePoint(J){return this._absolutePointer?this._absolutePointer:this.getPointer(J)}getPointer(J){let w=arguments.length>1&&arguments[1]!==void 0&&arguments[1],G=this.upperCanvasEl,Y=G.getBoundingClientRect(),X=YK(J),Q=Y.width||0,q=Y.height||0;Q&&q||((o1 in Y)&&(Uz in Y)&&(q=Math.abs(Y.top-Y.bottom)),(Q1 in Y)&&(N0 in Y)&&(Q=Math.abs(Y.right-Y.left))),this.calcOffset(),X.x=X.x-this._offset.left,X.y=X.y-this._offset.top,w||(X=p5(X,void 0,this.viewportTransform));let z=this.getRetinaScaling();z!==1&&(X.x/=z,X.y/=z);let U=Q===0||q===0?new d(1,1):new d(G.width/Q,G.height/q);return X.multiply(U)}_setDimensionsImpl(J,w){this._resetTransformEventData(),super._setDimensionsImpl(J,w),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=C2(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let J=this._activeObject;return E8(J)?J.getObjects():J?[J]:[]}_fireSelectionEvents(J,w){let G=!1,Y=!1,X=this.getActiveObjects(),Q=[],q=[];J.forEach((z)=>{X.includes(z)||(G=!0,z.fire("deselected",{e:w,target:z}),q.push(z))}),X.forEach((z)=>{J.includes(z)||(G=!0,z.fire("selected",{e:w,target:z}),Q.push(z))}),J.length>0&&X.length>0?(Y=!0,G&&this.fire("selection:updated",{e:w,selected:Q,deselected:q})):X.length>0?(Y=!0,this.fire("selection:created",{e:w,selected:Q})):J.length>0&&(Y=!0,this.fire("selection:cleared",{e:w,deselected:q})),Y&&(this._objectsToRender=void 0)}setActiveObject(J,w){let G=this.getActiveObjects(),Y=this._setActiveObject(J,w);return this._fireSelectionEvents(G,w),Y}_setActiveObject(J,w){let G=this._activeObject;return G!==J&&(!(!this._discardActiveObject(w,J)&&this._activeObject)&&(!J.onSelect({e:w})&&(this._activeObject=J,E8(J)&&G!==J&&J.set("canvas",this),J.setCoords(),!0)))}_discardActiveObject(J,w){let G=this._activeObject;return!!G&&(!G.onDeselect({e:J,object:w})&&(this._currentTransform&&this._currentTransform.target===G&&this.endCurrentTransform(J),E8(G)&&G===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0))}discardActiveObject(J){let w=this.getActiveObjects(),G=this.getActiveObject();w.length&&this.fire("before:selection:cleared",{e:J,deselected:[G]});let Y=this._discardActiveObject(J);return this._fireSelectionEvents(w,J),Y}endCurrentTransform(J){let w=this._currentTransform;this._finalizeCurrentTransform(J),w&&w.target&&(w.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(J){let w=this._currentTransform,G=w.target,Y={e:J,target:G,transform:w,action:w.action};G._scaling&&(G._scaling=!1),G.setCoords(),w.actionPerformed&&(this.fire("object:modified",Y),G.fire(qG,Y))}setViewportTransform(J){super.setViewportTransform(J);let w=this._activeObject;w&&w.setCoords()}destroy(){let J=this._activeObject;E8(J)&&(J.removeAll(),J.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(J){let w=this._activeObject;w&&w._renderControls(J)}_toObject(J,w,G){let Y=this._realizeGroupTransformOnObject(J),X=super._toObject(J,w,G);return J.set(Y),X}_realizeGroupTransformOnObject(J){let{group:w}=J;if(w&&E8(w)&&this._activeObject===w){let G=p8(J,["angle","flipX","flipY",N0,_1,q2,C9,N9,o1]);return XK(J,w.calcOwnMatrix()),G}return{}}_setSVGObject(J,w,G){let Y=this._realizeGroupTransformOnObject(w);super._setSVGObject(J,w,G),w.set(Y)}}E(bG,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class JL{constructor(J){E(this,"targets",[]),E(this,"__disposer",void 0);let w=()=>{let{hiddenTextarea:Y}=J.getActiveObject()||{};Y&&Y.focus()},G=J.upperCanvasEl;G.addEventListener("click",w),this.__disposer=()=>G.removeEventListener("click",w)}exitTextEditing(){this.target=void 0,this.targets.forEach((J)=>{J.isEditing&&J.exitEditing()})}add(J){this.targets.push(J)}remove(J){this.unregister(J),f8(this.targets,J)}register(J){this.target=J}unregister(J){J===this.target&&(this.target=void 0)}onMouseMove(J){var w;((w=this.target)===null||w===void 0?void 0:w.isEditing)&&this.target.updateSelectionOnMouseMove(J)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}var KN=["target","oldTarget","fireCanvas","e"],X2={passive:!1},G9=(J,w)=>{let G=J.getViewportPoint(w),Y=J.getScenePoint(w);return{viewportPoint:G,scenePoint:Y,pointer:G,absolutePointer:Y}},v6=function(J){for(var w=arguments.length,G=new Array(w>1?w-1:0),Y=1;Y<w;Y++)G[Y-1]=arguments[Y];return J.addEventListener(...G)},I2=function(J){for(var w=arguments.length,G=new Array(w>1?w-1:0),Y=1;Y<w;Y++)G[Y-1]=arguments[Y];return J.removeEventListener(...G)},LN={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class T3 extends bG{constructor(J){super(J,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),E(this,"_isClick",void 0),E(this,"textEditingManager",new JL(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((w)=>{this[w]=this[w].bind(this)}),this.addOrRemove(v6,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(J,w){let G=this.upperCanvasEl,Y=this._getEventPrefix();J(wK(G),"resize",this._onResize),J(G,Y+"down",this._onMouseDown),J(G,"".concat(Y,"move"),this._onMouseMove,X2),J(G,"".concat(Y,"out"),this._onMouseOut),J(G,"".concat(Y,"enter"),this._onMouseEnter),J(G,"wheel",this._onMouseWheel),J(G,"contextmenu",this._onContextMenu),J(G,"dblclick",this._onDoubleClick),J(G,"dragstart",this._onDragStart),J(G,"dragend",this._onDragEnd),J(G,"dragover",this._onDragOver),J(G,"dragenter",this._onDragEnter),J(G,"dragleave",this._onDragLeave),J(G,"drop",this._onDrop),this.enablePointerEvents||J(G,"touchstart",this._onTouchStart,X2)}removeListeners(){this.addOrRemove(I2,"remove");let J=this._getEventPrefix(),w=v2(this.upperCanvasEl);I2(w,"".concat(J,"up"),this._onMouseUp),I2(w,"touchend",this._onTouchEnd,X2),I2(w,"".concat(J,"move"),this._onMouseMove,X2),I2(w,"touchmove",this._onMouseMove,X2),clearTimeout(this._willAddMouseDown)}_onMouseWheel(J){this.__onMouseWheel(J)}_onMouseOut(J){let w=this._hoveredTarget,G=f({e:J},G9(this,J));this.fire("mouse:out",f(f({},G),{},{target:w})),this._hoveredTarget=void 0,w&&w.fire("mouseout",f({},G)),this._hoveredTargets.forEach((Y)=>{this.fire("mouse:out",f(f({},G),{},{target:Y})),Y&&Y.fire("mouseout",f({},G))}),this._hoveredTargets=[]}_onMouseEnter(J){this._currentTransform||this.findTarget(J)||(this.fire("mouse:over",f({e:J},G9(this,J))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(J){this._isClick=!1;let w=this.getActiveObject();if(w&&w.onDragStart(J)){this._dragSource=w;let G={e:J,target:w};return this.fire("dragstart",G),w.fire("dragstart",G),void v6(this.upperCanvasEl,"drag",this._onDragProgress)}Vz(J)}_renderDragEffects(J,w,G){let Y=!1,X=this._dropTarget;X&&X!==w&&X!==G&&(X.clearContextTop(),Y=!0),w==null||w.clearContextTop(),G!==w&&(G==null||G.clearContextTop());let Q=this.contextTop;Q.save(),Q.transform(...this.viewportTransform),w&&(Q.save(),w.transform(Q),w.renderDragSourceEffect(J),Q.restore(),Y=!0),G&&(Q.save(),G.transform(Q),G.renderDropTargetEffect(J),Q.restore(),Y=!0),Q.restore(),Y&&(this.contextTopDirty=!0)}_onDragEnd(J){let w=!!J.dataTransfer&&J.dataTransfer.dropEffect!==i1,G=w?this._activeObject:void 0,Y={e:J,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:w,dropTarget:G};I2(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",Y),this._dragSource&&this._dragSource.fire("dragend",Y),delete this._dragSource,this._onMouseUp(J)}_onDragProgress(J){let w={e:J,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",w),this._dragSource&&this._dragSource.fire("drag",w)}findDragTargets(J){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(J)),targets:[...this.targets]}}_onDragOver(J){let{target:G,targets:Y}=this.findDragTargets(J),X=this._dragSource,Q={e:J,target:G,subTargets:Y,dragSource:X,canDrop:!1,dropTarget:void 0},q;this.fire("dragover",Q),this._fireEnterLeaveEvents(G,Q),G&&(G.canDrop(J)&&(q=G),G.fire("dragover",Q));for(let z=0;z<Y.length;z++){let U=Y[z];U.canDrop(J)&&(q=U),U.fire("dragover",Q)}this._renderDragEffects(J,X,q),this._dropTarget=q}_onDragEnter(J){let{target:w,targets:G}=this.findDragTargets(J),Y={e:J,target:w,subTargets:G,dragSource:this._dragSource};this.fire("dragenter",Y),this._fireEnterLeaveEvents(w,Y)}_onDragLeave(J){let w={e:J,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",w),this._fireEnterLeaveEvents(void 0,w),this._renderDragEffects(J,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(J){let{target:w,targets:G}=this.findDragTargets(J),Y=this._basicEventHandler("drop:before",f({e:J,target:w,subTargets:G,dragSource:this._dragSource},G9(this,J)));Y.didDrop=!1,Y.dropTarget=void 0,this._basicEventHandler("drop",Y),this.fire("drop:after",Y)}_onContextMenu(J){let w=this.findTarget(J),G=this.targets||[],Y=this._basicEventHandler("contextmenu:before",{e:J,target:w,subTargets:G});return this.stopContextMenu&&Vz(J),this._basicEventHandler("contextmenu",Y),!1}_onDoubleClick(J){this._cacheTransformEventData(J),this._handleEvent(J,"dblclick"),this._resetTransformEventData()}getPointerId(J){let w=J.changedTouches;return w?w[0]&&w[0].identifier:this.enablePointerEvents?J.pointerId:-1}_isMainEvent(J){return J.isPrimary===!0||J.isPrimary!==!1&&(J.type==="touchend"&&J.touches.length===0||(!J.changedTouches||J.changedTouches[0].identifier===this.mainTouchId))}_onTouchStart(J){let w=!this.allowTouchScrolling,G=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(J)),this.__onMouseDown(J),(this.isDrawingMode||G&&this._target===G)&&(w=!0),w&&J.preventDefault(),this._resetTransformEventData();let Y=this.upperCanvasEl,X=this._getEventPrefix(),Q=v2(Y);v6(Q,"touchend",this._onTouchEnd,X2),w&&v6(Q,"touchmove",this._onMouseMove,X2),I2(Y,"".concat(X,"down"),this._onMouseDown)}_onMouseDown(J){this.__onMouseDown(J),this._resetTransformEventData();let w=this.upperCanvasEl,G=this._getEventPrefix();I2(w,"".concat(G,"move"),this._onMouseMove,X2);let Y=v2(w);v6(Y,"".concat(G,"up"),this._onMouseUp),v6(Y,"".concat(G,"move"),this._onMouseMove,X2)}_onTouchEnd(J){if(J.touches.length>0)return;this.__onMouseUp(J),this._resetTransformEventData(),delete this.mainTouchId;let w=this._getEventPrefix(),G=v2(this.upperCanvasEl);I2(G,"touchend",this._onTouchEnd,X2),I2(G,"touchmove",this._onMouseMove,X2),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{v6(this.upperCanvasEl,"".concat(w,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(J){this.__onMouseUp(J),this._resetTransformEventData();let w=this.upperCanvasEl,G=this._getEventPrefix();if(this._isMainEvent(J)){let Y=v2(this.upperCanvasEl);I2(Y,"".concat(G,"up"),this._onMouseUp),I2(Y,"".concat(G,"move"),this._onMouseMove,X2),v6(w,"".concat(G,"move"),this._onMouseMove,X2)}}_onMouseMove(J){let w=this.getActiveObject();!this.allowTouchScrolling&&(!w||!w.shouldStartDragging(J))&&J.preventDefault&&J.preventDefault(),this.__onMouseMove(J)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(J){let w=this.getActiveObject();return!!w!=!!J||w&&J&&w!==J}__onMouseUp(J){var w;this._cacheTransformEventData(J),this._handleEvent(J,"up:before");let G=this._currentTransform,Y=this._isClick,X=this._target,{button:Q}=J;if(Q)return(this.fireMiddleClick&&Q===1||this.fireRightClick&&Q===2)&&this._handleEvent(J,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(J);if(!this._isMainEvent(J))return;let q,z,U=!1;if(G&&(this._finalizeCurrentTransform(J),U=G.actionPerformed),!Y){let W=X===this._activeObject;this.handleSelection(J),U||(U=this._shouldRender(X)||!W&&X===this._activeObject)}if(X){let W=X.findControl(this.getViewportPoint(J),WG(J)),{key:V,control:j}=W||{};if(z=V,X.selectable&&X!==this._activeObject&&X.activeOn==="up")this.setActiveObject(X,J),U=!0;else if(j){let B=j.getMouseUpHandler(J,X,j);B&&(q=this.getScenePoint(J),B.call(j,J,G,q.x,q.y))}X.isMoving=!1}if(G&&(G.target!==X||G.corner!==z)){let W=G.target&&G.target.controls[G.corner],V=W&&W.getMouseUpHandler(J,G.target,W);q=q||this.getScenePoint(J),V&&V.call(W,J,G,q.x,q.y)}this._setCursorFromEvent(J,X),this._handleEvent(J,"up"),this._groupSelector=null,this._currentTransform=null,X&&(X.__corner=void 0),U?this.requestRenderAll():Y||(w=this._activeObject)!==null&&w!==void 0&&w.isEditing||this.renderTop()}_basicEventHandler(J,w){let{target:G,subTargets:Y=[]}=w;this.fire(J,w),G&&G.fire(J,w);for(let X=0;X<Y.length;X++)Y[X]!==G&&Y[X].fire(J,w);return w}_handleEvent(J,w){let G=this._target,Y=this.targets||[],X=f(f({e:J,target:G,subTargets:Y},G9(this,J)),{},{transform:this._currentTransform},w==="up:before"||w==="up"?{isClick:this._isClick,currentTarget:this.findTarget(J),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(w),X),G&&G.fire("mouse".concat(w),X);for(let Q=0;Q<Y.length;Q++)Y[Q]!==G&&Y[Q].fire("mouse".concat(w),X)}_onMouseDownInDrawingMode(J){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(J),this.requestRenderAll());let w=this.getScenePoint(J);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(w,{e:J,pointer:w}),this._handleEvent(J,"down")}_onMouseMoveInDrawingMode(J){if(this._isCurrentlyDrawing){let w=this.getScenePoint(J);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(w,{e:J,pointer:w})}this.setCursor(this.freeDrawingCursor),this._handleEvent(J,"move")}_onMouseUpInDrawingMode(J){let w=this.getScenePoint(J);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:J,pointer:w}):this._isCurrentlyDrawing=!1,this._handleEvent(J,"up")}__onMouseDown(J){this._isClick=!0,this._cacheTransformEventData(J),this._handleEvent(J,"down:before");let w=this._target,{button:G}=J;if(G)return(this.fireMiddleClick&&G===1||this.fireRightClick&&G===2)&&this._handleEvent(J,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(J);if(!this._isMainEvent(J))return;if(this._currentTransform)return;let Y=this._shouldRender(w),X=!1;if(this.handleMultiSelection(J,w)?(w=this._activeObject,X=!0,Y=!0):this._shouldClearSelection(J,w)&&this.discardActiveObject(J),this.selection&&(!w||!w.selectable&&!w.isEditing&&w!==this._activeObject)){let Q=this.getScenePoint(J);this._groupSelector={x:Q.x,y:Q.y,deltaY:0,deltaX:0}}if(w){let Q=w===this._activeObject;w.selectable&&w.activeOn==="down"&&this.setActiveObject(w,J);let q=w.findControl(this.getViewportPoint(J),WG(J));if(w===this._activeObject&&(q||!X)){this._setupCurrentTransform(J,w,Q);let z=q?q.control:void 0,U=this.getScenePoint(J),W=z&&z.getMouseDownHandler(J,w,z);W&&W.call(z,J,this._currentTransform,U.x,U.y)}}Y&&(this._objectsToRender=void 0),this._handleEvent(J,"down"),Y&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(J){this._resetTransformEventData(),this._pointer=this.getViewportPoint(J),this._absolutePointer=p5(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(J)}__onMouseMove(J){if(this._isClick=!1,this._cacheTransformEventData(J),this._handleEvent(J,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(J);if(!this._isMainEvent(J))return;let w=this._groupSelector;if(w){let G=this.getScenePoint(J);w.deltaX=G.x-w.x,w.deltaY=G.y-w.y,this.renderTop()}else if(this._currentTransform)this._transformObject(J);else{let G=this.findTarget(J);this._setCursorFromEvent(J,G),this._fireOverOutEvents(J,G)}this.textEditingManager.onMouseMove(J),this._handleEvent(J,"move"),this._resetTransformEventData()}_fireOverOutEvents(J,w){let G=this._hoveredTarget,Y=this._hoveredTargets,X=this.targets,Q=Math.max(Y.length,X.length);this.fireSyntheticInOutEvents("mouse",{e:J,target:w,oldTarget:G,fireCanvas:!0});for(let q=0;q<Q;q++)this.fireSyntheticInOutEvents("mouse",{e:J,target:X[q],oldTarget:Y[q]});this._hoveredTarget=w,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(J,w){let G=this._draggedoverTarget,Y=this._hoveredTargets,X=this.targets,Q=Math.max(Y.length,X.length);this.fireSyntheticInOutEvents("drag",f(f({},w),{},{target:J,oldTarget:G,fireCanvas:!0}));for(let q=0;q<Q;q++)this.fireSyntheticInOutEvents("drag",f(f({},w),{},{target:X[q],oldTarget:Y[q]}));this._draggedoverTarget=J}fireSyntheticInOutEvents(J,w){let{target:G,oldTarget:Y,fireCanvas:X,e:Q}=w,q=i0(w,KN),{targetIn:z,targetOut:U,canvasIn:W,canvasOut:V}=LN[J],j=Y!==G;if(Y&&j){let B=f(f({},q),{},{e:Q,target:Y,nextTarget:G},G9(this,Q));X&&this.fire(V,B),Y.fire(U,B)}if(G&&j){let B=f(f({},q),{},{e:Q,target:G,previousTarget:Y},G9(this,Q));X&&this.fire(W,B),G.fire(z,B)}}__onMouseWheel(J){this._cacheTransformEventData(J),this._handleEvent(J,"wheel"),this._resetTransformEventData()}_transformObject(J){let w=this.getScenePoint(J),G=this._currentTransform,Y=G.target,X=Y.group?p5(w,void 0,Y.group.calcTransformMatrix()):w;G.shiftKey=J.shiftKey,G.altKey=!!this.centeredKey&&J[this.centeredKey],this._performTransformAction(J,G,X),G.actionPerformed&&this.requestRenderAll()}_performTransformAction(J,w,G){let{action:Y,actionHandler:X,target:Q}=w,q=!!X&&X(J,w,G.x,G.y);q&&Q.setCoords(),Y==="drag"&&q&&(w.target.isMoving=!0,this.setCursor(w.target.moveCursor||this.moveCursor)),w.actionPerformed=w.actionPerformed||q}_setCursorFromEvent(J,w){if(!w)return void this.setCursor(this.defaultCursor);let G=w.hoverCursor||this.hoverCursor,Y=E8(this._activeObject)?this._activeObject:null,X=(!Y||w.group!==Y)&&w.findControl(this.getViewportPoint(J));if(X){let Q=X.control;this.setCursor(Q.cursorStyleHandler(J,Q,w))}else w.subTargetCheck&&this.targets.concat().reverse().map((Q)=>{G=Q.hoverCursor||G}),this.setCursor(G)}handleMultiSelection(J,w){let G=this._activeObject,Y=E8(G);if(G&&this._isSelectionKeyPressed(J)&&this.selection&&w&&w.selectable&&(G!==w||Y)&&(Y||!w.isDescendantOf(G)&&!G.isDescendantOf(w))&&!w.onSelect({e:J})&&!G.getActiveControl()){if(Y){let X=G.getObjects();if(w===G){let Q=this.getViewportPoint(J);if(!(w=this.searchPossibleTargets(X,Q)||this.searchPossibleTargets(this._objects,Q))||!w.selectable)return!1}w.group===G?(G.remove(w),this._hoveredTarget=w,this._hoveredTargets=[...this.targets],G.size()===1&&this._setActiveObject(G.item(0),J)):(G.multiSelectAdd(w),this._hoveredTarget=G,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(X,J)}else{G.isEditing&&G.exitEditing();let X=new(G0.getClass("ActiveSelection"))([],{canvas:this});X.multiSelectAdd(G,w),this._hoveredTarget=X,this._setActiveObject(X,J),this._fireSelectionEvents([G],J)}return!0}return!1}handleSelection(J){if(!this.selection||!this._groupSelector)return!1;let{x:w,y:G,deltaX:Y,deltaY:X}=this._groupSelector,Q=new d(w,G),q=Q.add(new d(Y,X)),z=Q.min(q),U=Q.max(q).subtract(z),W=this.collectObjects({left:z.x,top:z.y,width:U.x,height:U.y},{includeIntersecting:!this.selectionFullyContained}),V=Q.eq(q)?W[0]?[W[0]]:[]:W.length>1?W.filter((j)=>!j.onSelect({e:J})).reverse():W;if(V.length===1)this.setActiveObject(V[0],J);else if(V.length>1){let j=G0.getClass("ActiveSelection");this.setActiveObject(new j(V,{canvas:this}),J)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}var wL={x1:0,y1:0,x2:0,y2:0},$N=f(f({},wL),{},{r1:0,r2:0}),X9=(J,w)=>isNaN(J)&&typeof w=="number"?w:J,AN=/^(\d+\.\d+)%|(\d+)%$/;function GL(J){return J&&AN.test(J)}function YL(J,w){let G=typeof J=="number"?J:typeof J=="string"?parseFloat(J)/(GL(J)?100:1):NaN;return l8(0,X9(G,w),1)}var ON=/\s*;\s*/,RN=/\s*:\s*/;function DN(J,w){let G,Y,X=J.getAttribute("style");if(X){let q=X.split(ON);q[q.length-1]===""&&q.pop();for(let z=q.length;z--;){let[U,W]=q[z].split(RN).map((V)=>V.trim());U==="stop-color"?G=W:U==="stop-opacity"&&(Y=W)}}let Q=new T0(G||J.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:YL(J.getAttribute("offset"),0),color:Q.toRgb(),opacity:X9(parseFloat(Y||J.getAttribute("stop-opacity")||""),1)*Q.getAlpha()*w}}function FN(J,w){let G=[],Y=J.getElementsByTagName("stop"),X=YL(w,1);for(let Q=Y.length;Q--;)G.push(DN(Y[Q],X));return G}function XL(J){return J.nodeName==="linearGradient"||J.nodeName==="LINEARGRADIENT"?"linear":"radial"}function QL(J){return J.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function E2(J,w){return J.getAttribute(w)}function IN(J,w){return function(G,Y){let X,{width:Q,height:q,gradientUnits:z}=Y;return Object.keys(G).reduce((U,W)=>{let V=G[W];return V==="Infinity"?X=1:V==="-Infinity"?X=0:(X=typeof V=="string"?parseFloat(V):V,typeof V=="string"&&GL(V)&&(X*=0.01,z==="pixels"&&(W!=="x1"&&W!=="x2"&&W!=="r2"||(X*=Q),W!=="y1"&&W!=="y2"||(X*=q)))),U[W]=X,U},{})}(XL(J)==="linear"?function(G){return{x1:E2(G,"x1")||0,y1:E2(G,"y1")||0,x2:E2(G,"x2")||"100%",y2:E2(G,"y2")||0}}(J):function(G){return{x1:E2(G,"fx")||E2(G,"cx")||"50%",y1:E2(G,"fy")||E2(G,"cy")||"50%",r1:0,x2:E2(G,"cx")||"50%",y2:E2(G,"cy")||"50%",r2:E2(G,"r")||"50%"}}(J),f(f({},w),{},{gradientUnits:QL(J)}))}class L3{constructor(J){let{type:w="linear",gradientUnits:G="pixels",coords:Y={},colorStops:X=[],offsetX:Q=0,offsetY:q=0,gradientTransform:z,id:U}=J||{};Object.assign(this,{type:w,gradientUnits:G,coords:f(f({},w==="radial"?$N:wL),Y),colorStops:X,offsetX:Q,offsetY:q,gradientTransform:z,id:U?"".concat(U,"_").concat(d6()):d6()})}addColorStop(J){for(let w in J){let G=new T0(J[w]);this.colorStops.push({offset:parseFloat(w),color:G.toRgb(),opacity:G.getAlpha()})}return this}toObject(J){return f(f({},p8(this,J)),{},{type:this.type,coords:f({},this.coords),colorStops:this.colorStops.map((w)=>f({},w)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(J){let{additionalTransform:w}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=[],Y=this.gradientTransform?this.gradientTransform.concat():v1.concat(),X=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",Q=this.colorStops.map((V)=>f({},V)).sort((V,j)=>V.offset-j.offset),q=-this.offsetX,z=-this.offsetY;var U;X==="objectBoundingBox"?(q/=J.width,z/=J.height):(q+=J.width/2,z+=J.height/2),(U=J)&&typeof U._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(q-=J.pathOffset.x,z-=J.pathOffset.y),Y[4]-=q,Y[5]-=z;let W=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(X,'"'),'gradientTransform="'.concat(w?w+" ":"").concat(C3(Y),'"'),""].join(" ");if(this.type==="linear"){let{x1:V,y1:j,x2:B,y2:x}=this.coords;G.push("<linearGradient ",W,' x1="',V,'" y1="',j,'" x2="',B,'" y2="',x,`">
`)}else if(this.type==="radial"){let{x1:V,y1:j,x2:B,y2:x,r1:O,r2:R}=this.coords,F=O>R;G.push("<radialGradient ",W,' cx="',F?V:B,'" cy="',F?j:x,'" r="',F?O:R,'" fx="',F?B:V,'" fy="',F?x:j,`">
`),F&&(Q.reverse(),Q.forEach((M)=>{M.offset=1-M.offset}));let A=Math.min(O,R);if(A>0){let M=A/Math.max(O,R);Q.forEach((L)=>{L.offset+=M*(1-L.offset)})}}return Q.forEach((V)=>{let{color:j,offset:B,opacity:x}=V;G.push("<stop ",'offset="',100*B+"%",'" style="stop-color:',j,x!==void 0?";stop-opacity: "+x:";",`"/>
`)}),G.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),G.join("")}toLive(J){let{x1:w,y1:G,x2:Y,y2:X,r1:Q,r2:q}=this.coords,z=this.type==="linear"?J.createLinearGradient(w,G,Y,X):J.createRadialGradient(w,G,Q,Y,X,q);return this.colorStops.forEach((U)=>{let{color:W,opacity:V,offset:j}=U;z.addColorStop(j,V!==void 0?new T0(W).setAlpha(V).toRgba():W)}),z}static async fromObject(J){let{colorStops:w,gradientTransform:G}=J;return new this(f(f({},J),{},{colorStops:w?w.map((Y)=>f({},Y)):void 0,gradientTransform:G?[...G]:void 0}))}static fromElement(J,w,G){let Y=QL(J),X=w._findCenterFromElement();return new this(f({id:J.getAttribute("id")||void 0,type:XL(J),coords:IN(J,{width:G.viewBoxWidth||G.width,height:G.viewBoxHeight||G.height}),colorStops:FN(J,G.opacity),gradientUnits:Y,gradientTransform:$z(J.getAttribute("gradientTransform")||"")},Y==="pixels"?{offsetX:w.width/2-X.x,offsetY:w.height/2-X.y}:{offsetX:0,offsetY:0}))}}E(L3,"type","Gradient"),G0.setClass(L3,"gradient"),G0.setClass(L3,"linear"),G0.setClass(L3,"radial");var kN=["type","source","patternTransform"];class XG{get type(){return"pattern"}set type(J){h6("warn","Setting type has no effect",J)}constructor(J){E(this,"repeat","repeat"),E(this,"offsetX",0),E(this,"offsetY",0),E(this,"crossOrigin",""),this.id=d6(),Object.assign(this,J)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(J){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?J.createPattern(this.source,this.repeat):null}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:w,crossOrigin:G}=this;return f(f({},p8(this,J)),{},{type:"pattern",source:this.sourceToString(),repeat:w,crossOrigin:G,offsetX:o0(this.offsetX,D0.NUM_FRACTION_DIGITS),offsetY:o0(this.offsetY,D0.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(J){let{width:w,height:G}=J,{source:Y,repeat:X,id:Q}=this,q=X9(this.offsetX/w,0),z=X9(this.offsetY/G,0),U=X==="repeat-y"||X==="no-repeat"?1+Math.abs(q||0):X9(Y.width/w,0),W=X==="repeat-x"||X==="no-repeat"?1+Math.abs(z||0):X9(Y.height/G,0);return['<pattern id="SVGID_'.concat(Q,'" x="').concat(q,'" y="').concat(z,'" width="').concat(U,'" height="').concat(W,'">'),'<image x="0" y="0" width="'.concat(Y.width,'" height="').concat(Y.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(J,w){let{type:G,source:Y,patternTransform:X}=J,Q=i0(J,kN),q=await R3(Y,f(f({},w),{},{crossOrigin:Q.crossOrigin}));return new this(f(f({},Q),{},{patternTransform:X&&X.slice(0),source:q}))}}E(XG,"type","Pattern"),G0.setClass(XG),G0.setClass(XG,"pattern");var CN=["path","left","top"],NN=["d"];class y8 extends k1{constructor(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:G,left:Y,top:X}=w,Q=i0(w,CN);super(),Object.assign(this,y8.ownDefaults),this.setOptions(Q),this._setPath(J||[],!0),typeof Y=="number"&&this.set(N0,Y),typeof X=="number"&&this.set(o1,X)}_setPath(J,w){this.path=pK(Array.isArray(J)?J:sK(J)),this.setBoundingBox(w)}_findCenterFromElement(){let J=this._calcBoundsFromPath();return new d(J.left+J.width/2,J.top+J.height/2)}_renderPathCommands(J){let w=-this.pathOffset.x,G=-this.pathOffset.y;J.beginPath();for(let Y of this.path)switch(Y[0]){case"L":J.lineTo(Y[1]+w,Y[2]+G);break;case"M":J.moveTo(Y[1]+w,Y[2]+G);break;case"C":J.bezierCurveTo(Y[1]+w,Y[2]+G,Y[3]+w,Y[4]+G,Y[5]+w,Y[6]+G);break;case"Q":J.quadraticCurveTo(Y[1]+w,Y[2]+G,Y[3]+w,Y[4]+G);break;case"Z":J.closePath()}}_render(J){this._renderPathCommands(J),this._renderPaintInOrder(J)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return f(f({},super.toObject(J)),{},{path:this.path.map((w)=>w.slice())})}toDatalessObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=this.toObject(J);return this.sourcePath&&(delete w.path,w.sourcePath=this.sourcePath),w}_toSVG(){let J=eK(this.path,D0.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(J,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let J=D0.NUM_FRACTION_DIGITS;return" translate(".concat(o0(-this.pathOffset.x,J),", ").concat(o0(-this.pathOffset.y,J),")")}toClipPathSVG(J){let w=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:J,additionalTransform:w})}toSVG(J){let w=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:J,additionalTransform:w})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(J){let{width:w,height:G,pathOffset:Y}=this._calcDimensions();this.set({width:w,height:G,pathOffset:Y}),J&&this.setPositionByOrigin(Y,V0,V0)}_calcBoundsFromPath(){let J=[],w=0,G=0,Y=0,X=0;for(let Q of this.path)switch(Q[0]){case"L":Y=Q[1],X=Q[2],J.push({x:w,y:G},{x:Y,y:X});break;case"M":Y=Q[1],X=Q[2],w=Y,G=X;break;case"C":J.push(...Oz(Y,X,Q[1],Q[2],Q[3],Q[4],Q[5],Q[6])),Y=Q[5],X=Q[6];break;case"Q":J.push(...Oz(Y,X,Q[1],Q[2],Q[1],Q[2],Q[3],Q[4])),Y=Q[3],X=Q[4];break;case"Z":Y=w,X=G}return U5(J)}_calcDimensions(){let J=this._calcBoundsFromPath();return f(f({},J),{},{pathOffset:new d(J.left+J.width/2,J.top+J.height/2)})}static fromObject(J){return this._fromObject(J,{extraParam:"path"})}static async fromElement(J,w,G){let Y=r5(J,this.ATTRIBUTE_NAMES,G),{d:X}=Y;return new this(X,f(f(f({},i0(Y,NN)),w),{},{left:void 0,top:void 0}))}}E(y8,"type","Path"),E(y8,"cacheProperties",[...n5,"path","fillRule"]),E(y8,"ATTRIBUTE_NAMES",[...p6,"d"]),G0.setClass(y8),G0.setSVGClass(y8);var PN=["left","top","radius"],qL=["radius","startAngle","endAngle","counterClockwise"];class d5 extends k1{static getDefaults(){return f(f({},super.getDefaults()),d5.ownDefaults)}constructor(J){super(),Object.assign(this,d5.ownDefaults),this.setOptions(J)}_set(J,w){return super._set(J,w),J==="radius"&&this.setRadius(w),this}_render(J){J.beginPath(),J.arc(0,0,this.radius,w1(this.startAngle),w1(this.endAngle),this.counterClockwise),this._renderPaintInOrder(J)}getRadiusX(){return this.get("radius")*this.get(_1)}getRadiusY(){return this.get("radius")*this.get(q2)}setRadius(J){this.radius=J,this.set({width:2*J,height:2*J})}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...qL,...J])}_toSVG(){let J=(this.endAngle-this.startAngle)%360;if(J===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:w}=this,G=w1(this.startAngle),Y=w1(this.endAngle),X=d2(G)*w,Q=c2(G)*w,q=d2(Y)*w,z=c2(Y)*w,U=J>180?1:0,W=this.counterClockwise?0:1;return['<path d="M '.concat(X," ").concat(Q," A ").concat(w," ").concat(w," 0 ").concat(U," ").concat(W," ").concat(q," ").concat(z,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(J,w,G){let Y=r5(J,this.ATTRIBUTE_NAMES,G),{left:X=0,top:Q=0,radius:q=0}=Y;return new this(f(f({},i0(Y,PN)),{},{radius:q,left:X-q,top:Q-q}))}static fromObject(J){return super._fromObject(J)}}E(d5,"type","Circle"),E(d5,"cacheProperties",[...n5,...qL]),E(d5,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),E(d5,"ATTRIBUTE_NAMES",["cx","cy","r",...p6]),G0.setClass(d5),G0.setSVGClass(d5);var TN=["x1","y1","x2","y2"],SN=["x1","y1","x2","y2"],Rz=["x1","x2","y1","y2"];class v8 extends k1{constructor(){let[J,w,G,Y]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,v8.ownDefaults),this.setOptions(X),this.x1=J,this.x2=G,this.y1=w,this.y2=Y,this._setWidthHeight();let{left:Q,top:q}=X;typeof Q=="number"&&this.set(N0,Q),typeof q=="number"&&this.set(o1,q)}_setWidthHeight(){let{x1:J,y1:w,x2:G,y2:Y}=this;this.width=Math.abs(G-J),this.height=Math.abs(Y-w);let{left:X,top:Q,width:q,height:z}=U5([{x:J,y:w},{x:G,y:Y}]),U=new d(X+q/2,Q+z/2);this.setPositionByOrigin(U,V0,V0)}_set(J,w){return super._set(J,w),Rz.includes(J)&&this._setWidthHeight(),this}_render(J){J.beginPath();let w=this.calcLinePoints();J.moveTo(w.x1,w.y1),J.lineTo(w.x2,w.y2),J.lineWidth=this.strokeWidth;let G=J.strokeStyle;var Y;k2(this.stroke)?J.strokeStyle=this.stroke.toLive(J):J.strokeStyle=(Y=this.stroke)!==null&&Y!==void 0?Y:J.fillStyle,this.stroke&&this._renderStroke(J),J.strokeStyle=G}_findCenterFromElement(){return new d((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return f(f({},super.toObject(J)),this.calcLinePoints())}_getNonTransformedDimensions(){let J=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(J.y-=this.strokeWidth),this.height===0&&(J.x-=this.strokeWidth)),J}calcLinePoints(){let{x1:J,x2:w,y1:G,y2:Y,width:X,height:Q}=this,q=J<=w?-1:1,z=G<=Y?-1:1;return{x1:q*X/2,x2:q*-X/2,y1:z*Q/2,y2:z*-Q/2}}_toSVG(){let{x1:J,x2:w,y1:G,y2:Y}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(J,'" y1="').concat(G,'" x2="').concat(w,'" y2="').concat(Y,`" />
`)]}static async fromElement(J,w,G){let Y=r5(J,this.ATTRIBUTE_NAMES,G),{x1:X=0,y1:Q=0,x2:q=0,y2:z=0}=Y;return new this([X,Q,q,z],i0(Y,TN))}static fromObject(J){let{x1:w,y1:G,x2:Y,y2:X}=J,Q=i0(J,SN);return this._fromObject(f(f({},Q),{},{points:[w,G,Y,X]}),{extraParam:"points"})}}E(v8,"type","Line"),E(v8,"cacheProperties",[...n5,...Rz]),E(v8,"ATTRIBUTE_NAMES",p6.concat(Rz)),G0.setClass(v8),G0.setSVGClass(v8);class h8 extends k1{static getDefaults(){return f(f({},super.getDefaults()),h8.ownDefaults)}constructor(J){super(),Object.assign(this,h8.ownDefaults),this.setOptions(J)}_render(J){let w=this.width/2,G=this.height/2;J.beginPath(),J.moveTo(-w,G),J.lineTo(0,-G),J.lineTo(w,G),J.closePath(),this._renderPaintInOrder(J)}_toSVG(){let J=this.width/2,w=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-J," ").concat(w,",0 ").concat(-w,",").concat(J," ").concat(w),'" />']}}E(h8,"type","Triangle"),E(h8,"ownDefaults",{width:100,height:100}),G0.setClass(h8),G0.setSVGClass(h8);var zL=["rx","ry"];class c5 extends k1{static getDefaults(){return f(f({},super.getDefaults()),c5.ownDefaults)}constructor(J){super(),Object.assign(this,c5.ownDefaults),this.setOptions(J)}_set(J,w){switch(super._set(J,w),J){case"rx":this.rx=w,this.set("width",2*w);break;case"ry":this.ry=w,this.set("height",2*w)}return this}getRx(){return this.get("rx")*this.get(_1)}getRy(){return this.get("ry")*this.get(q2)}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...zL,...J])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(J){J.beginPath(),J.save(),J.transform(1,0,0,this.ry/this.rx,0,0),J.arc(0,0,this.rx,0,a5,!1),J.restore(),this._renderPaintInOrder(J)}static async fromElement(J,w,G){let Y=r5(J,this.ATTRIBUTE_NAMES,G);return Y.left=(Y.left||0)-Y.rx,Y.top=(Y.top||0)-Y.ry,new this(Y)}}function gN(J){if(!J)return[];let w=J.replace(/,/g," ").trim().split(/\s+/),G=[];for(let Y=0;Y<w.length;Y+=2)G.push({x:parseFloat(w[Y]),y:parseFloat(w[Y+1])});return G}E(c5,"type","Ellipse"),E(c5,"cacheProperties",[...n5,...zL]),E(c5,"ownDefaults",{rx:0,ry:0}),E(c5,"ATTRIBUTE_NAMES",[...p6,"cx","cy","rx","ry"]),G0.setClass(c5),G0.setSVGClass(c5);var bN=["left","top"],WL={exactBoundingBox:!1};class y2 extends k1{static getDefaults(){return f(f({},super.getDefaults()),y2.ownDefaults)}constructor(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),E(this,"strokeDiff",void 0),Object.assign(this,y2.ownDefaults),this.setOptions(w),this.points=J;let{left:G,top:Y}=w;this.initialized=!0,this.setBoundingBox(!0),typeof G=="number"&&this.set(N0,G),typeof Y=="number"&&this.set(o1,Y)}isOpen(){return!0}_projectStrokeOnPoints(J){return EK(this.points,J,this.isOpen())}_calcDimensions(J){J=f({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},J||{});let w=this.exactBoundingBox?this._projectStrokeOnPoints(J).map((U)=>U.projectedPoint):this.points;if(w.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new d,strokeOffset:new d,strokeDiff:new d};let G=U5(w),Y=S3(f(f({},J),{},{scaleX:1,scaleY:1})),X=U5(this.points.map((U)=>T1(U,Y,!0))),Q=new d(this.scaleX,this.scaleY),q=G.left+G.width/2,z=G.top+G.height/2;return this.exactBoundingBox&&(q-=z*Math.tan(w1(this.skewX)),z-=q*Math.tan(w1(this.skewY))),f(f({},G),{},{pathOffset:new d(q,z),strokeOffset:new d(X.left,X.top).subtract(new d(G.left,G.top)).multiply(Q),strokeDiff:new d(G.width,G.height).subtract(new d(X.width,X.height)).multiply(Q)})}_findCenterFromElement(){let J=U5(this.points);return new d(J.left+J.width/2,J.top+J.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(J){let{left:w,top:G,width:Y,height:X,pathOffset:Q,strokeOffset:q,strokeDiff:z}=this._calcDimensions();this.set({width:Y,height:X,pathOffset:Q,strokeOffset:q,strokeDiff:z}),J&&this.setPositionByOrigin(new d(w+Y/2,G+X/2),V0,V0)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new d(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let Q;if(Object.keys(J).some((q)=>this.strokeUniform||this.constructor.layoutProperties.includes(q))){var w,G;let{width:q,height:z}=this._calcDimensions(J);Q=new d((w=J.width)!==null&&w!==void 0?w:q,(G=J.height)!==null&&G!==void 0?G:z)}else{var Y,X;Q=new d((Y=J.width)!==null&&Y!==void 0?Y:this.width,(X=J.height)!==null&&X!==void 0?X:this.height)}return Q.multiply(new d(J.scaleX||this.scaleX,J.scaleY||this.scaleY))}return super._getTransformedDimensions(J)}_set(J,w){let G=this.initialized&&this[J]!==w,Y=super._set(J,w);return this.exactBoundingBox&&G&&((J===_1||J===q2)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(J))&&this.setDimensions(),Y}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return f(f({},super.toObject(J)),{},{points:this.points.map((w)=>{let{x:G,y:Y}=w;return{x:G,y:Y}})})}_toSVG(){let J=[],w=this.pathOffset.x,G=this.pathOffset.y,Y=D0.NUM_FRACTION_DIGITS;for(let X=0,Q=this.points.length;X<Q;X++)J.push(o0(this.points[X].x-w,Y),",",o0(this.points[X].y-G,Y)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(J.join(""),`" />
`)]}_render(J){let w=this.points.length,G=this.pathOffset.x,Y=this.pathOffset.y;if(w&&!isNaN(this.points[w-1].y)){J.beginPath(),J.moveTo(this.points[0].x-G,this.points[0].y-Y);for(let X=0;X<w;X++){let Q=this.points[X];J.lineTo(Q.x-G,Q.y-Y)}!this.isOpen()&&J.closePath(),this._renderPaintInOrder(J)}}complexity(){return this.points.length}static async fromElement(J,w,G){return new this(gN(J.getAttribute("points")),f(f({},i0(r5(J,this.ATTRIBUTE_NAMES,G),bN)),w))}static fromObject(J){return this._fromObject(J,{extraParam:"points"})}}E(y2,"ownDefaults",WL),E(y2,"type","Polyline"),E(y2,"layoutProperties",[C9,N9,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),E(y2,"cacheProperties",[...n5,"points"]),E(y2,"ATTRIBUTE_NAMES",[...p6]),G0.setClass(y2),G0.setSVGClass(y2);class $3 extends y2{isOpen(){return!1}}E($3,"ownDefaults",WL),E($3,"type","Polygon"),G0.setClass($3),G0.setSVGClass($3);var UL=["fontSize","fontWeight","fontFamily","fontStyle"],HL=["underline","overline","linethrough"],VL=[...UL,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],ZL=[...VL,...HL,"textBackgroundColor","direction"],fN=[...UL,...HL,a1,"strokeWidth",x1,"deltaY","textBackgroundColor"],EN={_reNewline:Pz,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:N0,fontStyle:"normal",lineHeight:1.16,superscript:{size:0.6,baseline:-0.35},subscript:{size:0.6,baseline:0.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:N0,pathAlign:"baseline",_fontSizeFraction:0.222,offsets:{underline:0.1,linethrough:-0.315,overline:-0.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},W5="justify",LG="justify-left",D3="justify-right",F3="justify-center";class tz extends k1{isEmptyStyles(J){if(!this.styles)return!0;if(J!==void 0&&!this.styles[J])return!0;let w=J===void 0?this.styles:{line:this.styles[J]};for(let G in w)for(let Y in w[G])for(let X in w[G][Y])return!1;return!0}styleHas(J,w){if(!this.styles)return!1;if(w!==void 0&&!this.styles[w])return!1;let G=w===void 0?this.styles:{0:this.styles[w]};for(let Y in G)for(let X in G[Y])if(G[Y][X][J]!==void 0)return!0;return!1}cleanStyle(J){if(!this.styles)return!1;let w=this.styles,G,Y,X=0,Q=!0,q=0;for(let z in w){G=0;for(let U in w[z]){let W=w[z][U]||{};X++,W[J]!==void 0?(Y?W[J]!==Y&&(Q=!1):Y=W[J],W[J]===this[J]&&delete W[J]):Q=!1,Object.keys(W).length!==0?G++:delete w[z][U]}G===0&&delete w[z]}for(let z=0;z<this._textLines.length;z++)q+=this._textLines[z].length;Q&&X===q&&(this[J]=Y,this.removeStyle(J))}removeStyle(J){if(!this.styles)return;let w=this.styles,G,Y,X;for(Y in w){for(X in G=w[Y],G)delete G[X][J],Object.keys(G[X]).length===0&&delete G[X];Object.keys(G).length===0&&delete w[Y]}}_extendStyles(J,w){let{lineIndex:G,charIndex:Y}=this.get2DCursorLocation(J);this._getLineStyle(G)||this._setLineStyle(G);let X=vz(f(f({},this._getStyleDeclaration(G,Y)),w),(Q)=>Q!==void 0);this._setStyleDeclaration(G,Y,X)}getSelectionStyles(J,w,G){let Y=[];for(let X=J;X<(w||J);X++)Y.push(this.getStyleAtPosition(X,G));return Y}getStyleAtPosition(J,w){let{lineIndex:G,charIndex:Y}=this.get2DCursorLocation(J);return w?this.getCompleteStyleDeclaration(G,Y):this._getStyleDeclaration(G,Y)}setSelectionStyles(J,w,G){for(let Y=w;Y<(G||w);Y++)this._extendStyles(Y,J);this._forceClearCache=!0}_getStyleDeclaration(J,w){var G;let Y=this.styles&&this.styles[J];return Y&&(G=Y[w])!==null&&G!==void 0?G:{}}getCompleteStyleDeclaration(J,w){return f(f({},p8(this,this.constructor._styleProperties)),this._getStyleDeclaration(J,w))}_setStyleDeclaration(J,w,G){this.styles[J][w]=G}_deleteStyleDeclaration(J,w){delete this.styles[J][w]}_getLineStyle(J){return!!this.styles[J]}_setLineStyle(J){this.styles[J]={}}_deleteLineStyle(J){delete this.styles[J]}}E(tz,"_styleProperties",fN);var yN=/  +/g,vN=/"/g;function Gz(J,w,G,Y,X){return"\t\t".concat(function(Q,q){let{left:z,top:U,width:W,height:V}=q,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D0.NUM_FRACTION_DIGITS,B=N3(x1,Q,!1),[x,O,R,F]=[z,U,W,V].map((A)=>o0(A,j));return"<rect ".concat(B,' x="').concat(x,'" y="').concat(O,'" width="').concat(R,'" height="').concat(F,'"></rect>')}(J,{left:w,top:G,width:Y,height:X}),`
`)}var _N=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],Yz;class E1 extends tz{static getDefaults(){return f(f({},super.getDefaults()),E1.ownDefaults)}constructor(J,w){super(),E(this,"__charBounds",[]),Object.assign(this,E1.ownDefaults),this.setOptions(w),this.styles||(this.styles={}),this.text=J,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let J=this.path;J&&(J.segmentsInfo=ez(J.path))}_splitText(){let J=this._splitTextIntoLines(this.text);return this.textLines=J.lines,this._textLines=J.graphemeLines,this._unwrappedTextLines=J._unwrappedLines,this._text=J.graphemeText,J}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(W5)&&this.enlargeSpaces()}enlargeSpaces(){let J,w,G,Y,X,Q,q;for(let z=0,U=this._textLines.length;z<U;z++)if((this.textAlign===W5||z!==U-1&&!this.isEndOfWrapping(z))&&(Y=0,X=this._textLines[z],w=this.getLineWidth(z),w<this.width&&(q=this.textLines[z].match(this._reSpacesAndTabs)))){G=q.length,J=(this.width-w)/G;for(let W=0;W<=X.length;W++)Q=this.__charBounds[z][W],this._reSpaceAndTab.test(X[W])?(Q.width+=J,Q.kernedWidth+=J,Q.left+=Y,Y+=J):Q.left+=Y}}isEndOfWrapping(J){return J===this._textLines.length-1}missingNewlineOffset(J){return 1}get2DCursorLocation(J,w){let G=w?this._unwrappedTextLines:this._textLines,Y;for(Y=0;Y<G.length;Y++){if(J<=G[Y].length)return{lineIndex:Y,charIndex:J};J-=G[Y].length+this.missingNewlineOffset(Y,w)}return{lineIndex:Y-1,charIndex:G[Y-1].length<J?G[Y-1].length:J}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let J=super._getCacheCanvasDimensions(),w=this.fontSize;return J.width+=w*J.zoomX,J.height+=w*J.zoomY,J}_render(J){let w=this.path;w&&!w.isNotVisible()&&w._render(J),this._setTextStyles(J),this._renderTextLinesBackground(J),this._renderTextDecoration(J,"underline"),this._renderText(J),this._renderTextDecoration(J,"overline"),this._renderTextDecoration(J,"linethrough")}_renderText(J){this.paintFirst===a1?(this._renderTextStroke(J),this._renderTextFill(J)):(this._renderTextFill(J),this._renderTextStroke(J))}_setTextStyles(J,w,G){if(J.textBaseline="alphabetic",this.path)switch(this.pathAlign){case V0:J.textBaseline="middle";break;case"ascender":J.textBaseline=o1;break;case"descender":J.textBaseline=Uz}J.font=this._getFontDeclaration(w,G)}calcTextWidth(){let J=this.getLineWidth(0);for(let w=1,G=this._textLines.length;w<G;w++){let Y=this.getLineWidth(w);Y>J&&(J=Y)}return J}_renderTextLine(J,w,G,Y,X,Q){this._renderChars(J,w,G,Y,X,Q)}_renderTextLinesBackground(J){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let w=J.fillStyle,G=this._getLeftOffset(),Y=this._getTopOffset();for(let X=0,Q=this._textLines.length;X<Q;X++){let q=this.getHeightOfLine(X);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",X)){Y+=q;continue}let z=this._textLines[X].length,U=this._getLineLeftOffset(X),W,V,j=0,B=0,x=this.getValueOfPropertyAt(X,0,"textBackgroundColor");for(let O=0;O<z;O++){let R=this.__charBounds[X][O];V=this.getValueOfPropertyAt(X,O,"textBackgroundColor"),this.path?(J.save(),J.translate(R.renderLeft,R.renderTop),J.rotate(R.angle),J.fillStyle=V,V&&J.fillRect(-R.width/2,-q/this.lineHeight*(1-this._fontSizeFraction),R.width,q/this.lineHeight),J.restore()):V!==x?(W=G+U+B,this.direction==="rtl"&&(W=this.width-W-j),J.fillStyle=x,x&&J.fillRect(W,Y,j,q/this.lineHeight),B=R.left,j=R.width,x=V):j+=R.kernedWidth}V&&!this.path&&(W=G+U+B,this.direction==="rtl"&&(W=this.width-W-j),J.fillStyle=V,J.fillRect(W,Y,j,q/this.lineHeight)),Y+=q}J.fillStyle=w,this._removeShadow(J)}_measureChar(J,w,G,Y){let X=A3.getFontCache(w),Q=this._getFontDeclaration(w),q=G+J,z=G&&Q===this._getFontDeclaration(Y),U=w.fontSize/this.CACHE_FONT_SIZE,W,V,j,B;if(G&&X[G]!==void 0&&(j=X[G]),X[J]!==void 0&&(B=W=X[J]),z&&X[q]!==void 0&&(V=X[q],B=V-j),W===void 0||j===void 0||V===void 0){let x=function(){if(!Yz)Yz=u2({width:0,height:0}).getContext("2d");return Yz}();this._setTextStyles(x,w,!0),W===void 0&&(B=W=x.measureText(J).width,X[J]=W),j===void 0&&z&&G&&(j=x.measureText(G).width,X[G]=j),z&&V===void 0&&(V=x.measureText(q).width,X[q]=V,B=V-j)}return{width:W*U,kernedWidth:B*U}}getHeightOfChar(J,w){return this.getValueOfPropertyAt(J,w,"fontSize")}measureLine(J){let w=this._measureLine(J);return this.charSpacing!==0&&(w.width-=this._getWidthOfCharSpacing()),w.width<0&&(w.width=0),w}_measureLine(J){let w,G,Y=0,X=this.pathSide===Q1,Q=this.path,q=this._textLines[J],z=q.length,U=new Array(z);this.__charBounds[J]=U;for(let W=0;W<z;W++){let V=q[W];G=this._getGraphemeBox(V,J,W,w),U[W]=G,Y+=G.kernedWidth,w=V}if(U[z]={left:G?G.left+G.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},Q&&Q.segmentsInfo){let W=0,V=Q.segmentsInfo[Q.segmentsInfo.length-1].length;switch(this.textAlign){case N0:W=X?V-Y:0;break;case V0:W=(V-Y)/2;break;case Q1:W=X?0:V-Y}W+=this.pathStartOffset*(X?-1:1);for(let j=X?z-1:0;X?j>=0:j<z;X?j--:j++)G=U[j],W>V?W%=V:W<0&&(W+=V),this._setGraphemeOnPath(W,G),W+=G.kernedWidth}return{width:Y,numOfSpaces:0}}_setGraphemeOnPath(J,w){let G=J+w.kernedWidth/2,Y=this.path,X=rK(Y.path,G,Y.segmentsInfo);w.renderLeft=X.x-Y.pathOffset.x,w.renderTop=X.y-Y.pathOffset.y,w.angle=X.angle+(this.pathSide===Q1?Math.PI:0)}_getGraphemeBox(J,w,G,Y,X){let Q=this.getCompleteStyleDeclaration(w,G),q=Y?this.getCompleteStyleDeclaration(w,G-1):{},z=this._measureChar(J,Q,Y,q),U,W=z.kernedWidth,V=z.width;this.charSpacing!==0&&(U=this._getWidthOfCharSpacing(),V+=U,W+=U);let j={width:V,left:0,height:Q.fontSize,kernedWidth:W,deltaY:Q.deltaY};if(G>0&&!X){let B=this.__charBounds[w][G-1];j.left=B.left+B.width+z.kernedWidth-z.width}return j}getHeightOfLine(J){if(this.__lineHeights[J])return this.__lineHeights[J];let w=this.getHeightOfChar(J,0);for(let G=1,Y=this._textLines[J].length;G<Y;G++)w=Math.max(this.getHeightOfChar(J,G),w);return this.__lineHeights[J]=w*this.lineHeight*this._fontSizeMult}calcTextHeight(){let J,w=0;for(let G=0,Y=this._textLines.length;G<Y;G++)J=this.getHeightOfLine(G),w+=G===Y-1?J/this.lineHeight:J;return w}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(J,w){J.save();let G=0,Y=this._getLeftOffset(),X=this._getTopOffset();for(let Q=0,q=this._textLines.length;Q<q;Q++){let z=this.getHeightOfLine(Q),U=z/this.lineHeight,W=this._getLineLeftOffset(Q);this._renderTextLine(w,J,this._textLines[Q],Y+W,X+G+U,Q),G+=z}J.restore()}_renderTextFill(J){(this.fill||this.styleHas(x1))&&this._renderTextCommon(J,"fillText")}_renderTextStroke(J){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(J),J.save(),this._setLineDash(J,this.strokeDashArray),J.beginPath(),this._renderTextCommon(J,"strokeText"),J.closePath(),J.restore())}_renderChars(J,w,G,Y,X,Q){let q=this.getHeightOfLine(Q),z=this.textAlign.includes(W5),U=this.path,W=!z&&this.charSpacing===0&&this.isEmptyStyles(Q)&&!U,V=this.direction==="ltr",j=this.direction==="ltr"?1:-1,B=w.direction,x,O,R,F,A,M="",L=0;if(w.save(),B!==this.direction&&(w.canvas.setAttribute("dir",V?"ltr":"rtl"),w.direction=V?"ltr":"rtl",w.textAlign=V?N0:Q1),X-=q*this._fontSizeFraction/this.lineHeight,W)return this._renderChar(J,w,Q,0,G.join(""),Y,X),void w.restore();for(let $=0,I=G.length-1;$<=I;$++)F=$===I||this.charSpacing||U,M+=G[$],R=this.__charBounds[Q][$],L===0?(Y+=j*(R.kernedWidth-R.width),L+=R.width):L+=R.kernedWidth,z&&!F&&this._reSpaceAndTab.test(G[$])&&(F=!0),F||(x=x||this.getCompleteStyleDeclaration(Q,$),O=this.getCompleteStyleDeclaration(Q,$+1),F=gG(x,O,!1)),F&&(U?(w.save(),w.translate(R.renderLeft,R.renderTop),w.rotate(R.angle),this._renderChar(J,w,Q,$,M,-L/2,0),w.restore()):(A=Y,this._renderChar(J,w,Q,$,M,A,X)),M="",x=O,Y+=j*L,L=0);w.restore()}_applyPatternGradientTransformText(J){let w=this.width+this.strokeWidth,G=this.height+this.strokeWidth,Y=u2({width:w,height:G}),X=Y.getContext("2d");return Y.width=w,Y.height=G,X.beginPath(),X.moveTo(0,0),X.lineTo(w,0),X.lineTo(w,G),X.lineTo(0,G),X.closePath(),X.translate(w/2,G/2),X.fillStyle=J.toLive(X),this._applyPatternGradientTransform(X,J),X.fill(),X.createPattern(Y,"no-repeat")}handleFiller(J,w,G){let Y,X;return k2(G)?G.gradientUnits==="percentage"||G.gradientTransform||G.patternTransform?(Y=-this.width/2,X=-this.height/2,J.translate(Y,X),J[w]=this._applyPatternGradientTransformText(G),{offsetX:Y,offsetY:X}):(J[w]=G.toLive(J),this._applyPatternGradientTransform(J,G)):(J[w]=G,{offsetX:0,offsetY:0})}_setStrokeStyles(J,w){let{stroke:G,strokeWidth:Y}=w;return J.lineWidth=Y,J.lineCap=this.strokeLineCap,J.lineDashOffset=this.strokeDashOffset,J.lineJoin=this.strokeLineJoin,J.miterLimit=this.strokeMiterLimit,this.handleFiller(J,"strokeStyle",G)}_setFillStyles(J,w){let{fill:G}=w;return this.handleFiller(J,"fillStyle",G)}_renderChar(J,w,G,Y,X,Q,q){let z=this._getStyleDeclaration(G,Y),U=this.getCompleteStyleDeclaration(G,Y),W=J==="fillText"&&U.fill,V=J==="strokeText"&&U.stroke&&U.strokeWidth;if(V||W){if(w.save(),w.font=this._getFontDeclaration(U),z.textBackgroundColor&&this._removeShadow(w),z.deltaY&&(q+=z.deltaY),W){let j=this._setFillStyles(w,U);w.fillText(X,Q-j.offsetX,q-j.offsetY)}if(V){let j=this._setStrokeStyles(w,U);w.strokeText(X,Q-j.offsetX,q-j.offsetY)}w.restore()}}setSuperscript(J,w){this._setScript(J,w,this.superscript)}setSubscript(J,w){this._setScript(J,w,this.subscript)}_setScript(J,w,G){let Y=this.get2DCursorLocation(J,!0),X=this.getValueOfPropertyAt(Y.lineIndex,Y.charIndex,"fontSize"),Q=this.getValueOfPropertyAt(Y.lineIndex,Y.charIndex,"deltaY"),q={fontSize:X*G.size,deltaY:Q+X*G.baseline};this.setSelectionStyles(q,J,w)}_getLineLeftOffset(J){let w=this.getLineWidth(J),G=this.width-w,Y=this.textAlign,X=this.direction,Q=this.isEndOfWrapping(J),q=0;return Y===W5||Y===F3&&!Q||Y===D3&&!Q||Y===LG&&!Q?0:(Y===V0&&(q=G/2),Y===Q1&&(q=G),Y===F3&&(q=G/2),Y===D3&&(q=G),X==="rtl"&&(Y===Q1||Y===W5||Y===D3?q=0:Y===N0||Y===LG?q=-G:Y!==V0&&Y!==F3||(q=-G/2)),q)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(J){if(this.__lineWidths[J]!==void 0)return this.__lineWidths[J];let{width:w}=this.measureLine(J);return this.__lineWidths[J]=w,w}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1000:0}getValueOfPropertyAt(J,w,G){var Y;return(Y=this._getStyleDeclaration(J,w)[G])!==null&&Y!==void 0?Y:this[G]}_renderTextDecoration(J,w){if(!this[w]&&!this.styleHas(w))return;let G=this._getTopOffset(),Y=this._getLeftOffset(),X=this.path,Q=this._getWidthOfCharSpacing(),q=this.offsets[w];for(let z=0,U=this._textLines.length;z<U;z++){let W=this.getHeightOfLine(z);if(!this[w]&&!this.styleHas(w,z)){G+=W;continue}let V=this._textLines[z],j=W/this.lineHeight,B=this._getLineLeftOffset(z),x,O,R=0,F=0,A=this.getValueOfPropertyAt(z,0,w),M=this.getValueOfPropertyAt(z,0,x1),L=G+j*(1-this._fontSizeFraction),$=this.getHeightOfChar(z,0),I=this.getValueOfPropertyAt(z,0,"deltaY");for(let k=0,P=V.length;k<P;k++){let _=this.__charBounds[z][k];x=this.getValueOfPropertyAt(z,k,w),O=this.getValueOfPropertyAt(z,k,x1);let v=this.getHeightOfChar(z,k),h=this.getValueOfPropertyAt(z,k,"deltaY");if(X&&x&&O)J.save(),J.fillStyle=M,J.translate(_.renderLeft,_.renderTop),J.rotate(_.angle),J.fillRect(-_.kernedWidth/2,q*v+h,_.kernedWidth,this.fontSize/15),J.restore();else if((x!==A||O!==M||v!==$||h!==I)&&F>0){let C=Y+B+R;this.direction==="rtl"&&(C=this.width-C-F),A&&M&&(J.fillStyle=M,J.fillRect(C,L+q*$+I,F,this.fontSize/15)),R=_.left,F=_.width,A=x,M=O,$=v,I=h}else F+=_.kernedWidth}let D=Y+B+R;this.direction==="rtl"&&(D=this.width-D-F),J.fillStyle=O,x&&O&&J.fillRect(D,L+q*$+I,F-Q,this.fontSize/15),G+=W}this._removeShadow(J)}_getFontDeclaration(){let{fontFamily:J=this.fontFamily,fontStyle:w=this.fontStyle,fontWeight:G=this.fontWeight,fontSize:Y=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=arguments.length>1?arguments[1]:void 0,Q=J.includes("'")||J.includes('"')||J.includes(",")||E1.genericFonts.includes(J.toLowerCase())?J:'"'.concat(J,'"');return[w,G,"".concat(X?this.CACHE_FONT_SIZE:Y,"px"),Q].join(" ")}render(J){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(J)))}graphemeSplit(J){return SG(J)}_splitTextIntoLines(J){let w=J.split(this._reNewline),G=new Array(w.length),Y=[`
`],X=[];for(let Q=0;Q<w.length;Q++)G[Q]=this.graphemeSplit(w[Q]),X=X.concat(G[Q],Y);return X.pop(),{_unwrappedLines:G,lines:w,graphemeText:X,graphemeLines:G}}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return f(f({},super.toObject([...ZL,...J])),{},{styles:vK(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(J,w){let{textLayoutProperties:G}=this.constructor;super.set(J,w);let Y=!1,X=!1;if(typeof J=="object")for(let Q in J)Q==="path"&&this.setPathInfo(),Y=Y||G.includes(Q),X=X||Q==="path";else Y=G.includes(J),X=J==="path";return X&&this.setPathInfo(),Y&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(J,w,G){let Y=r5(J,E1.ATTRIBUTE_NAMES,G),X=f(f({},w),Y),{textAnchor:Q=N0,textDecoration:q="",dx:z=0,dy:U=0,top:W=0,left:V=0,fontSize:j=Nz,strokeWidth:B=1}=X,x=i0(X,_N),O=new this((J.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),f({left:V+z,top:W+U,underline:q.includes("underline"),overline:q.includes("overline"),linethrough:q.includes("line-through"),strokeWidth:0,fontSize:j},x)),R=O.getScaledHeight()/O.height,F=((O.height+O.strokeWidth)*O.lineHeight-O.height)*R,A=O.getScaledHeight()+F,M=0;return Q===V0&&(M=O.getScaledWidth()/2),Q===Q1&&(M=O.getScaledWidth()),O.set({left:O.left-M,top:O.top-(A-O.fontSize*(0.07+O._fontSizeFraction))/O.lineHeight,strokeWidth:B}),O}static fromObject(J){return this._fromObject(f(f({},J),{},{styles:_K(J.styles||{},J.text)}),{extraParam:"text"})}}E(E1,"textLayoutProperties",VL),E(E1,"cacheProperties",[...n5,...ZL]),E(E1,"ownDefaults",EN),E(E1,"type","Text"),E(E1,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),E(E1,"ATTRIBUTE_NAMES",p6.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),bK(E1,[class extends cz{_toSVG(){let J=this._getSVGLeftTopOffsets(),w=this._getSVGTextAndBg(J.textTop,J.textLeft);return this._wrapSVGTextAndBg(w)}toSVG(J){return this._createBaseSVGMarkup(this._toSVG(),{reviver:J,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(J){let{textBgRects:w,textSpans:G}=J,Y=this.getSvgTextDecoration(this);return[w.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(vN,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",Y?'text-decoration="'.concat(Y,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",G.join(""),`</text>
`]}_getSVGTextAndBg(J,w){let G=[],Y=[],X,Q=J;this.backgroundColor&&Y.push(...Gz(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let q=0,z=this._textLines.length;q<z;q++)X=this._getLineLeftOffset(q),this.direction==="rtl"&&(X+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",q))&&this._setSVGTextLineBg(Y,q,w+X,Q),this._setSVGTextLineText(G,q,w+X,Q),Q+=this.getHeightOfLine(q);return{textSpans:G,textBgRects:Y}}_createTextCharSpan(J,w,G,Y){let X=this.getSvgSpanStyles(w,J!==J.trim()||!!J.match(yN)),Q=X?'style="'.concat(X,'"'):"",q=w.deltaY,z=q?' dy="'.concat(o0(q,D0.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(o0(G,D0.NUM_FRACTION_DIGITS),'" y="').concat(o0(Y,D0.NUM_FRACTION_DIGITS),'" ').concat(z).concat(Q,">").concat(yK(J),"</tspan>")}_setSVGTextLineText(J,w,G,Y){let X=this.getHeightOfLine(w),Q=this.textAlign.includes(W5),q=this._textLines[w],z,U,W,V,j,B="",x=0;Y+=X*(1-this._fontSizeFraction)/this.lineHeight;for(let O=0,R=q.length-1;O<=R;O++)j=O===R||this.charSpacing,B+=q[O],W=this.__charBounds[w][O],x===0?(G+=W.kernedWidth-W.width,x+=W.width):x+=W.kernedWidth,Q&&!j&&this._reSpaceAndTab.test(q[O])&&(j=!0),j||(z=z||this.getCompleteStyleDeclaration(w,O),U=this.getCompleteStyleDeclaration(w,O+1),j=gG(z,U,!0)),j&&(V=this._getStyleDeclaration(w,O),J.push(this._createTextCharSpan(B,V,G,Y)),B="",z=U,this.direction==="rtl"?G-=x:G+=x,x=0)}_setSVGTextLineBg(J,w,G,Y){let X=this._textLines[w],Q=this.getHeightOfLine(w)/this.lineHeight,q,z=0,U=0,W=this.getValueOfPropertyAt(w,0,"textBackgroundColor");for(let V=0;V<X.length;V++){let{left:j,width:B,kernedWidth:x}=this.__charBounds[w][V];q=this.getValueOfPropertyAt(w,V,"textBackgroundColor"),q!==W?(W&&J.push(...Gz(W,G+U,Y,z,Q)),U=j,z=B,W=q):z+=x}q&&J.push(...Gz(W,G+U,Y,z,Q))}_getSVGLineTopOffset(J){let w,G=0;for(w=0;w<J;w++)G+=this.getHeightOfLine(w);let Y=this.getHeightOfLine(w);return{lineTop:G,offset:(this._fontSizeMult-this._fontSizeFraction)*Y/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(J){return"".concat(super.getSvgStyles(J)," white-space: pre;")}getSvgSpanStyles(J,w){let{fontFamily:G,strokeWidth:Y,stroke:X,fill:Q,fontSize:q,fontStyle:z,fontWeight:U,deltaY:W}=J,V=this.getSvgTextDecoration(J);return[X?N3(a1,X):"",Y?"stroke-width: ".concat(Y,"; "):"",G?"font-family: ".concat(G.includes("'")||G.includes('"')?G:"'".concat(G,"'"),"; "):"",q?"font-size: ".concat(q,"px; "):"",z?"font-style: ".concat(z,"; "):"",U?"font-weight: ".concat(U,"; "):"",V?"text-decoration: ".concat(V,"; "):V,Q?N3(x1,Q):"",W?"baseline-shift: ".concat(-W,"; "):"",w?"white-space: pre; ":""].join("")}getSvgTextDecoration(J){return["overline","underline","line-through"].filter((w)=>J[w.replace("-","")]).join(" ")}}]),G0.setClass(E1),G0.setSVGClass(E1);class jL{constructor(J){E(this,"target",void 0),E(this,"__mouseDownInPlace",!1),E(this,"__dragStartFired",!1),E(this,"__isDraggingOver",!1),E(this,"__dragStartSelection",void 0),E(this,"__dragImageDisposer",void 0),E(this,"_dispose",void 0),this.target=J;let w=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{w.forEach((G)=>G()),this._dispose=void 0}}isPointerOverSelection(J){let w=this.target,G=w.getSelectionStartFromPointer(J);return w.isEditing&&G>=w.selectionStart&&G<=w.selectionEnd&&w.selectionStart<w.selectionEnd}start(J){return this.__mouseDownInPlace=this.isPointerOverSelection(J)}isActive(){return this.__mouseDownInPlace}end(J){let w=this.isActive();return w&&!this.__dragStartFired&&(this.target.setCursorByClick(J),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,w}getDragStartSelection(){return this.__dragStartSelection}setDragImage(J,w){var G;let{selectionStart:Y,selectionEnd:X}=w,Q=this.target,q=Q.canvas,z=new d(Q.flipX?-1:1,Q.flipY?-1:1),U=Q._getCursorBoundaries(Y),W=new d(U.left+U.leftOffset,U.top+U.topOffset).multiply(z).transform(Q.calcTransformMatrix()),V=q.getScenePoint(J).subtract(W),j=Q.getCanvasRetinaScaling(),B=Q.getBoundingRect(),x=W.subtract(new d(B.left,B.top)),O=q.viewportTransform,R=x.add(V).transform(O,!0),F=Q.backgroundColor,A=nz(Q.styles);Q.backgroundColor="";let M={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};Q.setSelectionStyles(M,0,Y),Q.setSelectionStyles(M,X,Q.text.length),Q.dirty=!0;let L=Q.toCanvasElement({enableRetinaScaling:q.enableRetinaScaling,viewportTransform:!0});Q.backgroundColor=F,Q.styles=A,Q.dirty=!0,KG(L,{position:"fixed",left:"".concat(-L.width,"px"),border:i1,width:"".concat(L.width/j,"px"),height:"".concat(L.height/j,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{L.remove()},v2(J.target||this.target.hiddenTextarea).body.appendChild(L),(G=J.dataTransfer)===null||G===void 0||G.setDragImage(L,R.x,R.y)}onDragStart(J){this.__dragStartFired=!0;let w=this.target,G=this.isActive();if(G&&J.dataTransfer){let Y=this.__dragStartSelection={selectionStart:w.selectionStart,selectionEnd:w.selectionEnd},X=w._text.slice(Y.selectionStart,Y.selectionEnd).join(""),Q=f({text:w.text,value:X},Y);J.dataTransfer.setData("text/plain",X),J.dataTransfer.setData("application/fabric",JSON.stringify({value:X,styles:w.getSelectionStyles(Y.selectionStart,Y.selectionEnd,!0)})),J.dataTransfer.effectAllowed="copyMove",this.setDragImage(J,Q)}return w.abortCursorAnimation(),G}canDrop(J){if(this.target.editable&&!this.target.getActiveControl()&&!J.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let w=this.target.getSelectionStartFromPointer(J),G=this.__dragStartSelection;return w<G.selectionStart||w>G.selectionEnd}return!0}return!1}targetCanDrop(J){return this.target.canDrop(J)}dragEnterHandler(J){let{e:w}=J,G=this.targetCanDrop(w);!this.__isDraggingOver&&G&&(this.__isDraggingOver=!0)}dragOverHandler(J){let{e:w}=J,G=this.targetCanDrop(w);!this.__isDraggingOver&&G?this.__isDraggingOver=!0:this.__isDraggingOver&&!G&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(w.preventDefault(),J.canDrop=!0,J.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(J){var w;let{e:G}=J,Y=G.defaultPrevented;this.__isDraggingOver=!1,G.preventDefault();let X=(w=G.dataTransfer)===null||w===void 0?void 0:w.getData("text/plain");if(X&&!Y){let Q=this.target,q=Q.canvas,z=Q.getSelectionStartFromPointer(G),{styles:U}=G.dataTransfer.types.includes("application/fabric")?JSON.parse(G.dataTransfer.getData("application/fabric")):{},W=X[Math.max(0,X.length-1)],V=0;if(this.__dragStartSelection){let j=this.__dragStartSelection.selectionStart,B=this.__dragStartSelection.selectionEnd;z>j&&z<=B?z=j:z>B&&(z-=B-j),Q.removeChars(j,B),delete this.__dragStartSelection}Q._reNewline.test(W)&&(Q._reNewline.test(Q._text[z])||z===Q._text.length)&&(X=X.trimEnd()),J.didDrop=!0,J.dropTarget=Q,Q.insertChars(X,U,z),q.setActiveObject(Q),Q.enterEditing(G),Q.selectionStart=Math.min(z+V,Q._text.length),Q.selectionEnd=Math.min(Q.selectionStart+X.length,Q._text.length),Q.hiddenTextarea.value=Q.text,Q._updateTextarea(),Q.hiddenTextarea.focus(),Q.fire(QG,{index:z+V,action:"drop"}),q.fire("text:changed",{target:Q}),q.contextTopDirty=!0,q.requestRenderAll()}}dragEndHandler(J){let{e:w}=J;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var G;let Y=this.target,X=this.target.canvas,{selectionStart:Q,selectionEnd:q}=this.__dragStartSelection,z=((G=w.dataTransfer)===null||G===void 0?void 0:G.dropEffect)||i1;z===i1?(Y.selectionStart=Q,Y.selectionEnd=q,Y._updateTextarea(),Y.hiddenTextarea.focus()):(Y.clearContextTop(),z==="move"&&(Y.removeChars(Q,q),Y.selectionStart=Y.selectionEnd=Q,Y.hiddenTextarea&&(Y.hiddenTextarea.value=Y.text),Y._updateTextarea(),Y.fire(QG,{index:Q,action:"dragend"}),X.fire("text:changed",{target:Y}),X.requestRenderAll()),Y.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}var Ex=/[ \n\.,;!\?\-]/;class BL extends E1{constructor(){super(...arguments),E(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(J){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(J)}_animateCursor(J){let{toValue:w,duration:G,delay:Y,onComplete:X}=J;return pz({startValue:this._currentCursorOpacity,endValue:w,duration:G,delay:Y,onComplete:X,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:(Q)=>{this._currentCursorOpacity=Q,this.renderCursorOrSelection()}})}_tick(J){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(J||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var J;(J=this._currentTickCompleteState)===null||J===void 0||J.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(J){this.abortCursorAnimation(),this._tick(J?0:this.cursorDelay)}abortCursorAnimation(){let J=!1;[this._currentTickState,this._currentTickCompleteState].forEach((w)=>{w&&!w.isDone()&&(J=!0,w.abort())}),this._currentCursorOpacity=1,J&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((J)=>!J||J.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(J){let w=0,G=J-1;if(this._reSpace.test(this._text[G]))for(;this._reSpace.test(this._text[G]);)w++,G--;for(;/\S/.test(this._text[G])&&G>-1;)w++,G--;return J-w}findWordBoundaryRight(J){let w=0,G=J;if(this._reSpace.test(this._text[G]))for(;this._reSpace.test(this._text[G]);)w++,G++;for(;/\S/.test(this._text[G])&&G<this._text.length;)w++,G++;return J+w}findLineBoundaryLeft(J){let w=0,G=J-1;for(;!/\n/.test(this._text[G])&&G>-1;)w++,G--;return J-w}findLineBoundaryRight(J){let w=0,G=J;for(;!/\n/.test(this._text[G])&&G<this._text.length;)w++,G++;return J+w}searchWordBoundary(J,w){let G=this._text,Y=J>0&&this._reSpace.test(G[J])&&(w===-1||!Pz.test(G[J-1]))?J-1:J,X=G[Y];for(;Y>0&&Y<G.length&&!Ex.test(X);)Y+=w,X=G[Y];return w===-1&&Ex.test(X)&&Y++,Y}selectWord(J){J=J||this.selectionStart;let w=this.searchWordBoundary(J,-1),G=Math.max(w,this.searchWordBoundary(J,1));this.selectionStart=w,this.selectionEnd=G,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(J){J=J||this.selectionStart;let w=this.findLineBoundaryLeft(J),G=this.findLineBoundaryRight(J);return this.selectionStart=w,this.selectionEnd=G,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(J){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",J?{e:J}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:J}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(J){if(this.getActiveControl())return;let w=this.hiddenTextarea;v2(w).activeElement!==w&&w.focus();let G=this.getSelectionStartFromPointer(J),Y=this.selectionStart,X=this.selectionEnd;(G===this.__selectionStartOnMouseDown&&Y!==X||Y!==G&&X!==G)&&(G>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=G):(this.selectionStart=G,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===Y&&this.selectionEnd===X||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(J,w,G){let Y=G.slice(0,J),X=this.graphemeSplit(Y).length;if(J===w)return{selectionStart:X,selectionEnd:X};let Q=G.slice(J,w);return{selectionStart:X,selectionEnd:X+this.graphemeSplit(Q).length}}fromGraphemeToStringSelection(J,w,G){let Y=G.slice(0,J).join("").length;if(J===w)return{selectionStart:Y,selectionEnd:Y};return{selectionStart:Y,selectionEnd:Y+G.slice(J,w).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let J=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=J.selectionStart,this.hiddenTextarea.selectionEnd=J.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let J=this.hiddenTextarea;this.text=J.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let w=this.fromStringToGraphemeSelection(J.selectionStart,J.selectionEnd,J.value);this.selectionEnd=this.selectionStart=w.selectionEnd,this.inCompositionMode||(this.selectionStart=w.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let J=this._calcTextareaPosition();this.hiddenTextarea.style.left=J.left,this.hiddenTextarea.style.top=J.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let J=this.inCompositionMode?this.compositionStart:this.selectionStart,w=this._getCursorBoundaries(J),G=this.get2DCursorLocation(J),Y=G.lineIndex,X=G.charIndex,Q=this.getValueOfPropertyAt(Y,X,"fontSize")*this.lineHeight,q=w.leftOffset,z=this.getCanvasRetinaScaling(),U=this.canvas.upperCanvasEl,W=U.width/z,V=U.height/z,j=W-Q,B=V-Q,x=new d(w.left+q,w.top+w.topOffset+Q).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new d(U.clientWidth/W,U.clientHeight/V));return x.x<0&&(x.x=0),x.x>j&&(x.x=j),x.y<0&&(x.y=0),x.y>B&&(x.y=B),x.x+=this.canvas._offset.left,x.y+=this.canvas._offset.top,{left:"".concat(x.x,"px"),top:"".concat(x.y,"px"),fontSize:"".concat(Q,"px"),charHeight:Q}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let J=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,J&&(J.blur&&J.blur(),J.parentNode&&J.parentNode.removeChild(J)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){let J=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),J&&this.fire(qG),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),J&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let J in this.styles)this._textLines[J]||delete this.styles[J]}removeStyleFromTo(J,w){let{lineIndex:G,charIndex:Y}=this.get2DCursorLocation(J,!0),{lineIndex:X,charIndex:Q}=this.get2DCursorLocation(w,!0);if(G!==X){if(this.styles[G])for(let q=Y;q<this._unwrappedTextLines[G].length;q++)delete this.styles[G][q];if(this.styles[X])for(let q=Q;q<this._unwrappedTextLines[X].length;q++){let z=this.styles[X][q];z&&(this.styles[G]||(this.styles[G]={}),this.styles[G][Y+q-Q]=z)}for(let q=G+1;q<=X;q++)delete this.styles[q];this.shiftLineStyles(X,G-X)}else if(this.styles[G]){let q=this.styles[G],z=Q-Y;for(let U=Y;U<Q;U++)delete q[U];for(let U in this.styles[G]){let W=parseInt(U,10);W>=Q&&(q[W-z]=q[U],delete q[U])}}}shiftLineStyles(J,w){let G=Object.assign({},this.styles);for(let Y in this.styles){let X=parseInt(Y,10);X>J&&(this.styles[X+w]=G[X],G[X-w]||delete this.styles[X])}}insertNewlineStyleObject(J,w,G,Y){let X={},Q=this._unwrappedTextLines[J].length,q=Q===w,z=!1;G||(G=1),this.shiftLineStyles(J,G);let U=this.styles[J]?this.styles[J][w===0?w:w-1]:void 0;for(let V in this.styles[J]){let j=parseInt(V,10);j>=w&&(z=!0,X[j-w]=this.styles[J][V],q&&w===0||delete this.styles[J][V])}let W=!1;for(z&&!q&&(this.styles[J+G]=X,W=!0),(W||Q>w)&&G--;G>0;)Y&&Y[G-1]?this.styles[J+G]={0:f({},Y[G-1])}:U?this.styles[J+G]={0:f({},U)}:delete this.styles[J+G],G--;this._forceClearCache=!0}insertCharStyleObject(J,w,G,Y){this.styles||(this.styles={});let X=this.styles[J],Q=X?f({},X):{};G||(G=1);for(let z in Q){let U=parseInt(z,10);U>=w&&(X[U+G]=Q[U],Q[U-G]||delete X[U])}if(this._forceClearCache=!0,Y){for(;G--;)Object.keys(Y[G]).length&&(this.styles[J]||(this.styles[J]={}),this.styles[J][w+G]=f({},Y[G]));return}if(!X)return;let q=X[w?w-1:1];for(;q&&G--;)this.styles[J][w+G]=f({},q)}insertNewStyleBlock(J,w,G){let Y=this.get2DCursorLocation(w,!0),X=[0],Q,q=0;for(let z=0;z<J.length;z++)J[z]===`
`?(q++,X[q]=0):X[q]++;for(X[0]>0&&(this.insertCharStyleObject(Y.lineIndex,Y.charIndex,X[0],G),G=G&&G.slice(X[0]+1)),q&&this.insertNewlineStyleObject(Y.lineIndex,Y.charIndex+X[0],q),Q=1;Q<q;Q++)X[Q]>0?this.insertCharStyleObject(Y.lineIndex+Q,0,X[Q],G):G&&this.styles[Y.lineIndex+Q]&&G[0]&&(this.styles[Y.lineIndex+Q][0]=G[0]),G=G&&G.slice(X[Q]+1);X[Q]>0&&this.insertCharStyleObject(Y.lineIndex+Q,0,X[Q],G)}removeChars(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J+1;this.removeStyleFromTo(J,w),this._text.splice(J,w-J),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(J,w,G){let Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:G;Y>G&&this.removeStyleFromTo(G,Y);let X=this.graphemeSplit(J);this.insertNewStyleBlock(X,G,w),this._text=[...this._text.slice(0,G),...X,...this._text.slice(Y)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(J,w,G){G<=J?(w===J?this._selectionDirection=N0:this._selectionDirection===Q1&&(this._selectionDirection=N0,this.selectionEnd=J),this.selectionStart=G):G>J&&G<w?this._selectionDirection===Q1?this.selectionEnd=G:this.selectionStart=G:(w===J?this._selectionDirection=Q1:this._selectionDirection===N0&&(this._selectionDirection=Q1,this.selectionStart=w),this.selectionEnd=G)}}class ML extends BL{initHiddenTextarea(){let J=this.canvas&&v2(this.canvas.getElement())||k9(),w=J.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map((Q)=>{let[q,z]=Q;return w.setAttribute(q,z)});let{top:G,left:Y,fontSize:X}=this._calcTextareaPosition();w.style.cssText="position: absolute; top: ".concat(G,"; left: ").concat(Y,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(X,";"),(this.hiddenTextareaContainer||J.body).appendChild(w),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((Q)=>{let[q,z]=Q;return w.addEventListener(q,this[z].bind(this))}),this.hiddenTextarea=w}blur(){this.abortCursorAnimation()}onKeyDown(J){if(!this.isEditing)return;let w=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(J.keyCode in w)this[w[J.keyCode]](J);else{if(!(J.keyCode in this.ctrlKeysMapDown)||!J.ctrlKey&&!J.metaKey)return;this[this.ctrlKeysMapDown[J.keyCode]](J)}J.stopImmediatePropagation(),J.preventDefault(),J.keyCode>=33&&J.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(J){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:(J.keyCode in this.ctrlKeysMapUp)&&(J.ctrlKey||J.metaKey)&&(this[this.ctrlKeysMapUp[J.keyCode]](J),J.stopImmediatePropagation(),J.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(J){let w=this.fromPaste;if(this.fromPaste=!1,J&&J.stopPropagation(),!this.isEditing)return;let G=()=>{this.updateFromTextArea(),this.fire(QG),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void G();let Y=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,X=this._text.length,Q=Y.length,q=this.selectionStart,z=this.selectionEnd,U=q!==z,W,V,j,B,x=Q-X,O=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),R=q>O.selectionStart;U?(V=this._text.slice(q,z),x+=z-q):Q<X&&(V=R?this._text.slice(z+x,z):this._text.slice(q,q-x));let F=Y.slice(O.selectionEnd-x,O.selectionEnd);if(V&&V.length&&(F.length&&(W=this.getSelectionStyles(q,q+1,!1),W=F.map(()=>W[0])),U?(j=q,B=z):R?(j=z-V.length,B=z):(j=z,B=z+V.length),this.removeStyleFromTo(j,B)),F.length){let{copyPasteData:A}=H5();w&&F.join("")===A.copiedText&&!D0.disableStyleCopyPaste&&(W=A.copiedTextStyle),this.insertNewStyleBlock(F,q,W)}G()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(J){let{target:w}=J,{selectionStart:G,selectionEnd:Y}=w;this.compositionStart=G,this.compositionEnd=Y,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:J}=H5();J.copiedText=this.getSelectedText(),D0.disableStyleCopyPaste?J.copiedTextStyle=void 0:J.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(J,w){let G,Y=this._getLineLeftOffset(J);return w>0&&(G=this.__charBounds[J][w-1],Y+=G.left+G.width),Y}getDownCursorOffset(J,w){let G=this._getSelectionForOffset(J,w),Y=this.get2DCursorLocation(G),X=Y.lineIndex;if(X===this._textLines.length-1||J.metaKey||J.keyCode===34)return this._text.length-G;let Q=Y.charIndex,q=this._getWidthBeforeCursor(X,Q),z=this._getIndexOnLine(X+1,q);return this._textLines[X].slice(Q).length+z+1+this.missingNewlineOffset(X)}_getSelectionForOffset(J,w){return J.shiftKey&&this.selectionStart!==this.selectionEnd&&w?this.selectionEnd:this.selectionStart}getUpCursorOffset(J,w){let G=this._getSelectionForOffset(J,w),Y=this.get2DCursorLocation(G),X=Y.lineIndex;if(X===0||J.metaKey||J.keyCode===33)return-G;let Q=Y.charIndex,q=this._getWidthBeforeCursor(X,Q),z=this._getIndexOnLine(X-1,q),U=this._textLines[X].slice(0,Q),W=this.missingNewlineOffset(X-1);return-this._textLines[X-1].length+z-U.length+(1-W)}_getIndexOnLine(J,w){let G=this._textLines[J],Y,X,Q=this._getLineLeftOffset(J),q=0;for(let z=0,U=G.length;z<U;z++)if(Y=this.__charBounds[J][z].width,Q+=Y,Q>w){X=!0;let W=Q-Y,V=Q,j=Math.abs(W-w);q=Math.abs(V-w)<j?z:z-1;break}return X||(q=G.length-1),q}moveCursorDown(J){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",J)}moveCursorUp(J){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",J)}_moveCursorUpOrDown(J,w){let G=this["get".concat(J,"CursorOffset")](w,this._selectionDirection===Q1);if(w.shiftKey?this.moveCursorWithShift(G):this.moveCursorWithoutShift(G),G!==0){let Y=this.text.length;this.selectionStart=l8(0,this.selectionStart,Y),this.selectionEnd=l8(0,this.selectionEnd,Y),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(J){let w=this._selectionDirection===N0?this.selectionStart+J:this.selectionEnd+J;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,w),J!==0}moveCursorWithoutShift(J){return J<0?(this.selectionStart+=J,this.selectionEnd=this.selectionStart):(this.selectionEnd+=J,this.selectionStart=this.selectionEnd),J!==0}moveCursorLeft(J){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",J)}_move(J,w,G){let Y;if(J.altKey)Y=this["findWordBoundary".concat(G)](this[w]);else{if(!J.metaKey&&J.keyCode!==35&&J.keyCode!==36)return this[w]+=G==="Left"?-1:1,!0;Y=this["findLineBoundary".concat(G)](this[w])}return Y!==void 0&&this[w]!==Y&&(this[w]=Y,!0)}_moveLeft(J,w){return this._move(J,w,"Left")}_moveRight(J,w){return this._move(J,w,"Right")}moveCursorLeftWithoutShift(J){let w=!0;return this._selectionDirection=N0,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(w=this._moveLeft(J,"selectionStart")),this.selectionEnd=this.selectionStart,w}moveCursorLeftWithShift(J){return this._selectionDirection===Q1&&this.selectionStart!==this.selectionEnd?this._moveLeft(J,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=N0,this._moveLeft(J,"selectionStart")):void 0}moveCursorRight(J){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",J)}_moveCursorLeftOrRight(J,w){let G="moveCursor".concat(J).concat(w.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[G](w)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(J){return this._selectionDirection===N0&&this.selectionStart!==this.selectionEnd?this._moveRight(J,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Q1,this._moveRight(J,"selectionEnd")):void 0}moveCursorRightWithoutShift(J){let w=!0;return this._selectionDirection=Q1,this.selectionStart===this.selectionEnd?(w=this._moveRight(J,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,w}}var Xz=(J)=>!!J.button;class xL extends ML{constructor(){super(...arguments),E(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new jL(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(J){return this.draggableTextDelegate.onDragStart(J)}canDrop(J){return this.draggableTextDelegate.canDrop(J)}onMouseDown(J){if(!this.canvas)return;this.__newClickTime=+new Date;let w=J.pointer;this.isTripleClick(w)&&(this.fire("tripleclick",J),Vz(J.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=w,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(J){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===J.x&&this.__lastPointer.y===J.y}doubleClickHandler(J){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(J.e))}tripleClickHandler(J){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(J.e))}_mouseDownHandler(J){let{e:w}=J;this.canvas&&this.editable&&!Xz(w)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(w)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(w)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(J){let{e:w}=J;this.canvas&&this.editable&&!Xz(w)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(J){let{e:w,transform:G}=J,Y=this.draggableTextDelegate.end(w);if(this.canvas){this.canvas.textEditingManager.unregister(this);let X=this.canvas._activeObject;if(X&&X!==this)return}!this.editable||this.group&&!this.group.interactive||G&&G.actionPerformed||Xz(w)||Y||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(w),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(J){let w=this.getSelectionStartFromPointer(J),G=this.selectionStart,Y=this.selectionEnd;J.shiftKey?this.setSelectionStartEndWithShift(G,Y,w):(this.selectionStart=w,this.selectionEnd=w),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(J){let w=this.canvas.getScenePoint(J).transform(Q2(this.calcTransformMatrix())).add(new d(-this._getLeftOffset(),-this._getTopOffset())),G=0,Y=0,X=0;for(let U=0;U<this._textLines.length&&G<=w.y;U++)G+=this.getHeightOfLine(U),X=U,U>0&&(Y+=this._textLines[U-1].length+this.missingNewlineOffset(U-1));let Q=Math.abs(this._getLineLeftOffset(X)),q=this._textLines[X].length,z=this.__charBounds[X];for(let U=0;U<q;U++){let W=Q+z[U].kernedWidth;if(w.x<=W){Math.abs(w.x-W)<=Math.abs(w.x-Q)&&Y++;break}Q=W,Y++}return Math.min(this.flipX?q-Y:Y,this._text.length)}}var sw="moveCursorUp",ew="moveCursorDown",tw="moveCursorLeft",JG="moveCursorRight",wG="exitEditing",hN=f({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1000,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:wG,27:wG,33:sw,34:ew,35:JG,36:tw,37:tw,38:sw,39:JG,40:ew},keysMapRtl:{9:wG,27:wG,33:sw,34:ew,35:tw,36:JG,37:JG,38:sw,39:tw,40:ew},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class l5 extends xL{static getDefaults(){return f(f({},super.getDefaults()),l5.ownDefaults)}get type(){let J=super.type;return J==="itext"?"i-text":J}constructor(J,w){super(J,f(f({},l5.ownDefaults),w)),this.initBehavior()}_set(J,w){return this.isEditing&&this._savedProps&&J in this._savedProps?(this._savedProps[J]=w,this):(J==="canvas"&&(this.canvas instanceof T3&&this.canvas.textEditingManager.remove(this),w instanceof T3&&w.textEditingManager.add(this)),super._set(J,w))}setSelectionStart(J){J=Math.max(J,0),this._updateAndFire("selectionStart",J)}setSelectionEnd(J){J=Math.min(J,this.text.length),this._updateAndFire("selectionEnd",J)}_updateAndFire(J,w){this[J]!==w&&(this._fireSelectionChanged(),this[J]=w),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,G=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(J,w,G)}setSelectionStyles(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(J,w,G)}get2DCursorLocation(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,w=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(J,w)}render(J){super.render(J),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(J){let w=this.isEditing;this.isEditing=!1;let G=super.toCanvasElement(J);return this.isEditing=w,G}renderCursorOrSelection(){if(!this.isEditing)return;let J=this.clearContextTop(!0);if(!J)return;let w=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(J,w):this.renderCursor(J,w),this.canvas.contextTopDirty=!0,J.restore()}_getCursorBoundaries(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,w=arguments.length>1?arguments[1]:void 0,G=this._getLeftOffset(),Y=this._getTopOffset(),X=this._getCursorBoundariesOffsets(J,w);return{left:G,top:Y,leftOffset:X.left,topOffset:X.top}}_getCursorBoundariesOffsets(J,w){return w?this.__getCursorBoundariesOffsets(J):this.cursorOffsetCache&&("top"in this.cursorOffsetCache)?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(J)}__getCursorBoundariesOffsets(J){let w=0,G=0,{charIndex:Y,lineIndex:X}=this.get2DCursorLocation(J);for(let U=0;U<X;U++)w+=this.getHeightOfLine(U);let Q=this._getLineLeftOffset(X),q=this.__charBounds[X][Y];q&&(G=q.left),this.charSpacing!==0&&Y===this._textLines[X].length&&(G-=this._getWidthOfCharSpacing());let z={top:w,left:Q+(G>0?G:0)};return this.direction==="rtl"&&(this.textAlign===Q1||this.textAlign===W5||this.textAlign===D3?z.left*=-1:this.textAlign===N0||this.textAlign===LG?z.left=Q-(G>0?G:0):this.textAlign!==V0&&this.textAlign!==F3||(z.left=Q-(G>0?G:0))),z}renderCursorAt(J){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(J,!0),J)}renderCursor(J,w){this._renderCursor(J,w,this.selectionStart)}getCursorRenderingData(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(J),G=this.get2DCursorLocation(J),Y=G.lineIndex,X=G.charIndex>0?G.charIndex-1:0,Q=this.getValueOfPropertyAt(Y,X,"fontSize"),q=this.getObjectScaling().x*this.canvas.getZoom(),z=this.cursorWidth/q,U=this.getValueOfPropertyAt(Y,X,"deltaY"),W=w.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(Y)/this.lineHeight-Q*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(Y,X,"fill"),opacity:this._currentCursorOpacity,left:w.left+w.leftOffset-z/2,top:W+w.top+U,width:z,height:Q}}_renderCursor(J,w,G){let{color:Y,opacity:X,left:Q,top:q,width:z,height:U}=this.getCursorRenderingData(G,w);J.fillStyle=Y,J.globalAlpha=X,J.fillRect(Q,q,z,U)}renderSelection(J,w){let G={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(J,G,w)}renderDragSourceEffect(){let J=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,J,this._getCursorBoundaries(J.selectionStart,!0))}renderDropTargetEffect(J){let w=this.getSelectionStartFromPointer(J);this.renderCursorAt(w)}_renderSelection(J,w,G){let{selectionStart:Y,selectionEnd:X}=w,Q=this.textAlign.includes(W5),q=this.get2DCursorLocation(Y),z=this.get2DCursorLocation(X),U=q.lineIndex,W=z.lineIndex,V=q.charIndex<0?0:q.charIndex,j=z.charIndex<0?0:z.charIndex;for(let B=U;B<=W;B++){let x=this._getLineLeftOffset(B)||0,O=this.getHeightOfLine(B),R=0,F=0,A=0;if(B===U&&(F=this.__charBounds[U][V].left),B>=U&&B<W)A=Q&&!this.isEndOfWrapping(B)?this.width:this.getLineWidth(B)||5;else if(B===W)if(j===0)A=this.__charBounds[W][j].left;else{let D=this._getWidthOfCharSpacing();A=this.__charBounds[W][j-1].left+this.__charBounds[W][j-1].width-D}R=O,(this.lineHeight<1||B===W&&this.lineHeight>1)&&(O/=this.lineHeight);let M=G.left+x+F,L=O,$=0,I=A-F;this.inCompositionMode?(J.fillStyle=this.compositionColor||"black",L=1,$=O):J.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Q1||this.textAlign===W5||this.textAlign===D3?M=this.width-M-I:this.textAlign===N0||this.textAlign===LG?M=G.left+x-A:this.textAlign!==V0&&this.textAlign!==F3||(M=G.left+x-A)),J.fillRect(M,G.top+G.topOffset+$,I,L),G.topOffset+=R}}getCurrentCharFontSize(){let J=this._getCurrentCharIndex();return this.getValueOfPropertyAt(J.l,J.c,"fontSize")}getCurrentCharColor(){let J=this._getCurrentCharIndex();return this.getValueOfPropertyAt(J.l,J.c,x1)}_getCurrentCharIndex(){let J=this.get2DCursorLocation(this.selectionStart,!0),w=J.charIndex>0?J.charIndex-1:0;return{l:J.lineIndex,c:w}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}E(l5,"ownDefaults",hN),E(l5,"type","IText"),G0.setClass(l5),G0.setClass(l5,"i-text");class m8 extends l5{static getDefaults(){return f(f({},super.getDefaults()),m8.ownDefaults)}constructor(J,w){super(J,f(f({},m8.ownDefaults),w))}static createControls(){return{controls:gK()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(W5)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(J){let w=0,G=0,Y=0,X={};for(let Q=0;Q<J.graphemeLines.length;Q++)J.graphemeText[Y]===`
`&&Q>0?(G=0,Y++,w++):!this.splitByGrapheme&&this._reSpaceAndTab.test(J.graphemeText[Y])&&Q>0&&(G++,Y++),X[Q]={line:w,offset:G},Y+=J.graphemeLines[Q].length,G+=J.graphemeLines[Q].length;return X}styleHas(J,w){if(this._styleMap&&!this.isWrapping){let G=this._styleMap[w];G&&(w=G.line)}return super.styleHas(J,w)}isEmptyStyles(J){if(!this.styles)return!0;let w,G=0,Y=J+1,X=!1,Q=this._styleMap[J],q=this._styleMap[J+1];Q&&(J=Q.line,G=Q.offset),q&&(Y=q.line,X=Y===J,w=q.offset);let z=J===void 0?this.styles:{line:this.styles[J]};for(let U in z)for(let W in z[U]){let V=parseInt(W,10);if(V>=G&&(!X||V<w))for(let j in z[U][W])return!1}return!0}_getStyleDeclaration(J,w){if(this._styleMap&&!this.isWrapping){let G=this._styleMap[J];if(!G)return{};J=G.line,w=G.offset+w}return super._getStyleDeclaration(J,w)}_setStyleDeclaration(J,w,G){let Y=this._styleMap[J];super._setStyleDeclaration(Y.line,Y.offset+w,G)}_deleteStyleDeclaration(J,w){let G=this._styleMap[J];super._deleteStyleDeclaration(G.line,G.offset+w)}_getLineStyle(J){let w=this._styleMap[J];return!!this.styles[w.line]}_setLineStyle(J){let w=this._styleMap[J];super._setLineStyle(w.line)}_wrapText(J,w){this.isWrapping=!0;let G=this.getGraphemeDataForRender(J),Y=[];for(let X=0;X<G.wordsData.length;X++)Y.push(...this._wrapLine(X,w,G));return this.isWrapping=!1,Y}getGraphemeDataForRender(J){let w=this.splitByGrapheme,G=w?"":" ",Y=0;return{wordsData:J.map((X,Q)=>{let q=0,z=w?this.graphemeSplit(X):this.wordSplit(X);return z.length===0?[{word:[],width:0}]:z.map((U)=>{let W=w?[U]:this.graphemeSplit(U),V=this._measureWord(W,Q,q);return Y=Math.max(V,Y),q+=W.length+G.length,{word:W,width:V}})}),largestWordWidth:Y}}_measureWord(J,w){let G,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,X=0;for(let Q=0,q=J.length;Q<q;Q++)X+=this._getGraphemeBox(J[Q],w,Q+Y,G,!0).kernedWidth,G=J[Q];return X}wordSplit(J){return J.split(this._wordJoiners)}_wrapLine(J,w,G){let{largestWordWidth:Y,wordsData:X}=G,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,q=this._getWidthOfCharSpacing(),z=this.splitByGrapheme,U=[],W=z?"":" ",V=0,j=[],B=0,x=0,O=!0;w-=Q;let R=Math.max(w,Y,this.dynamicMinWidth),F=X[J],A;for(B=0,A=0;A<F.length;A++){let{word:M,width:L}=F[A];B+=M.length,V+=x+L-q,V>R&&!O?(U.push(j),j=[],V=L,O=!0):V+=q,O||z||j.push(W),j=j.concat(M),x=z?0:this._measureWord([W],J,B),B++,O=!1}return A&&U.push(j),Y+Q>this.dynamicMinWidth&&(this.dynamicMinWidth=Y-q+Q),U}isEndOfWrapping(J){return!this._styleMap[J+1]||this._styleMap[J+1].line!==this._styleMap[J].line}missingNewlineOffset(J,w){return this.splitByGrapheme&&!w?this.isEndOfWrapping(J)?1:0:1}_splitTextIntoLines(J){let w=super._splitTextIntoLines(J),G=this._wrapText(w.lines,this.width),Y=new Array(G.length);for(let X=0;X<G.length;X++)Y[X]=G[X].join("");return w.lines=Y,w.graphemeLines=G,w}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let J=new Map;for(let w in this._styleMap){let G=parseInt(w,10);if(this._textLines[G]){let Y=this._styleMap[w].line;J.set("".concat(Y),!0)}}for(let w in this.styles)J.has(w)||delete this.styles[w]}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...J])}}E(m8,"type","Textbox"),E(m8,"textLayoutProperties",[...l5.textLayoutProperties,"width"]),E(m8,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),G0.setClass(m8);class Dz extends E3{shouldPerformLayout(J){return!!J.target.clipPath&&super.shouldPerformLayout(J)}shouldLayoutClipPath(){return!1}calcLayoutResult(J,w){let{target:G}=J,{clipPath:Y,group:X}=G;if(!Y||!this.shouldPerformLayout(J))return;let{width:Q,height:q}=U5(mK(G,Y)),z=new d(Q,q);if(Y.absolutePositioned)return{center:p5(Y.getRelativeCenterPoint(),void 0,X?X.calcTransformMatrix():void 0),size:z};{let U=Y.getRelativeCenterPoint().transform(G.calcOwnMatrix(),!0);if(this.shouldPerformLayout(J)){let{center:W=new d,correction:V=new d}=this.calcBoundingBox(w,J)||{};return{center:W.add(U),correction:V.subtract(U),size:z}}return{center:G.getRelativeCenterPoint().add(U),size:z}}}}E(Dz,"type","clip-path"),G0.setClass(Dz);class Fz extends E3{getInitialSize(J,w){let{target:G}=J,{size:Y}=w;return new d(G.width||Y.x,G.height||Y.y)}}E(Fz,"type","fixed"),G0.setClass(Fz);class KL extends I9{subscribeTargets(J){let w=J.target;J.targets.reduce((G,Y)=>(Y.parent&&G.add(Y.parent),G),new Set).forEach((G)=>{G.layoutManager.subscribeTargets({target:G,targets:[w]})})}unsubscribeTargets(J){let w=J.target,G=w.getObjects();J.targets.reduce((Y,X)=>(X.parent&&Y.add(X.parent),Y),new Set).forEach((Y)=>{!G.some((X)=>X.parent===Y)&&Y.layoutManager.unsubscribeTargets({target:Y,targets:[w]})})}}class d8 extends i5{static getDefaults(){return f(f({},super.getDefaults()),d8.ownDefaults)}constructor(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,d8.ownDefaults),this.setOptions(w);let{left:G,top:Y,layoutManager:X}=w;this.groupInit(J,{left:G,top:Y,layoutManager:X!=null?X:new KL})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var J=arguments.length,w=new Array(J),G=0;G<J;G++)w[G]=arguments[G];this.multiSelectionStacking==="selection-order"?this.add(...w):w.forEach((Y)=>{let X=this._objects.findIndex((q)=>q.isInFrontOf(Y)),Q=X===-1?this.size():X;this.insertAt(Q,Y)})}canEnterGroup(J){return this.getObjects().some((w)=>w.isDescendantOf(J)||J.isDescendantOf(w))?(h6("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(J)}enterGroup(J,w){J.parent&&J.parent===J.group?J.parent._exitGroup(J):J.group&&J.parent!==J.group&&J.group.remove(J),this._enterGroup(J,w)}exitGroup(J,w){this._exitGroup(J,w),J.parent&&J.parent._enterGroup(J,!0)}_onAfterObjectsChange(J,w){super._onAfterObjectsChange(J,w);let G=new Set;w.forEach((Y)=>{let{parent:X}=Y;X&&G.add(X)}),J===sz?G.forEach((Y)=>{Y._onAfterObjectsChange(jG,w)}):G.forEach((Y)=>{Y._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(J,w,G){J.save(),J.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let Y=f(f({hasControls:!1},G),{},{forActiveSelection:!0});for(let X=0;X<this._objects.length;X++)this._objects[X]._renderControls(J,Y);super._renderControls(J,w),J.restore()}}E(d8,"type","ActiveSelection"),E(d8,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),G0.setClass(d8),G0.setClass(d8,"activeSelection");class LL{constructor(){E(this,"resources",{})}applyFilters(J,w,G,Y,X){let Q=X.getContext("2d");if(!Q)return;Q.drawImage(w,0,0,G,Y);let q={sourceWidth:G,sourceHeight:Y,imageData:Q.getImageData(0,0,G,Y),originalEl:w,originalImageData:Q.getImageData(0,0,G,Y),canvasEl:X,ctx:Q,filterBackend:this};J.forEach((U)=>{U.applyTo(q)});let{imageData:z}=q;return z.width===G&&z.height===Y||(X.width=z.width,X.height=z.height),Q.putImageData(z,0,0),q}}class JW{constructor(){let{tileSize:J=D0.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};E(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),E(this,"resources",{}),this.tileSize=J,this.setupGLContext(J,J),this.captureGPUInfo()}setupGLContext(J,w){this.dispose(),this.createWebGLCanvas(J,w)}createWebGLCanvas(J,w){let G=u2({width:J,height:w}),Y=G.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});Y&&(Y.clearColor(0,0,0,0),this.canvas=G,this.gl=Y)}applyFilters(J,w,G,Y,X,Q){let q=this.gl,z=X.getContext("2d");if(!q||!z)return;let U;Q&&(U=this.getCachedTexture(Q,w));let W={originalWidth:w.width||w.naturalWidth||0,originalHeight:w.height||w.naturalHeight||0,sourceWidth:G,sourceHeight:Y,destinationWidth:G,destinationHeight:Y,context:q,sourceTexture:this.createTexture(q,G,Y,U?void 0:w),targetTexture:this.createTexture(q,G,Y),originalTexture:U||this.createTexture(q,G,Y,U?void 0:w),passes:J.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:X},V=q.createFramebuffer();return q.bindFramebuffer(q.FRAMEBUFFER,V),J.forEach((j)=>{j&&j.applyTo(W)}),function(j){let B=j.targetCanvas,x=B.width,O=B.height,R=j.destinationWidth,F=j.destinationHeight;x===R&&O===F||(B.width=R,B.height=F)}(W),this.copyGLTo2D(q,W),q.bindTexture(q.TEXTURE_2D,null),q.deleteTexture(W.sourceTexture),q.deleteTexture(W.targetTexture),q.deleteFramebuffer(V),z.setTransform(1,0,0,1,0,0),W}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(J,w,G,Y,X){let{NEAREST:Q,TEXTURE_2D:q,RGBA:z,UNSIGNED_BYTE:U,CLAMP_TO_EDGE:W,TEXTURE_MAG_FILTER:V,TEXTURE_MIN_FILTER:j,TEXTURE_WRAP_S:B,TEXTURE_WRAP_T:x}=J,O=J.createTexture();return J.bindTexture(q,O),J.texParameteri(q,V,X||Q),J.texParameteri(q,j,X||Q),J.texParameteri(q,B,W),J.texParameteri(q,x,W),Y?J.texImage2D(q,0,z,z,U,Y):J.texImage2D(q,0,z,w,G,0,z,U,null),O}getCachedTexture(J,w,G){let{textureCache:Y}=this;if(Y[J])return Y[J];{let X=this.createTexture(this.gl,w.width,w.height,w,G);return X&&(Y[J]=X),X}}evictCachesForKey(J){this.textureCache[J]&&(this.gl.deleteTexture(this.textureCache[J]),delete this.textureCache[J])}copyGLTo2D(J,w){let G=J.canvas,Y=w.targetCanvas,X=Y.getContext("2d");if(!X)return;X.translate(0,Y.height),X.scale(1,-1);let Q=G.height-Y.height;X.drawImage(G,0,Q,Y.width,Y.height,0,0,Y.width,Y.height)}copyGLTo2DPutImageData(J,w){let G=w.targetCanvas.getContext("2d"),Y=w.destinationWidth,X=w.destinationHeight,Q=Y*X*4;if(!G)return;let q=new Uint8Array(this.imageBuffer,0,Q),z=new Uint8ClampedArray(this.imageBuffer,0,Q);J.readPixels(0,0,Y,X,J.RGBA,J.UNSIGNED_BYTE,q);let U=new ImageData(z,Y,X);G.putImageData(U,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let J=this.gl,w={renderer:"",vendor:""};if(!J)return w;let G=J.getExtension("WEBGL_debug_renderer_info");if(G){let Y=J.getParameter(G.UNMASKED_RENDERER_WEBGL),X=J.getParameter(G.UNMASKED_VENDOR_WEBGL);Y&&(w.renderer=Y.toLowerCase()),X&&(w.vendor=X.toLowerCase())}return this.gpuInfo=w,w}}var Qz;function mN(){let{WebGLProbe:J}=H5();return J.queryWebGL(C2()),D0.enableGLFiltering&&J.isSupported(D0.textureSize)?new JW({tileSize:D0.textureSize}):new LL}function qz(){return!Qz&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(Qz=mN()),Qz}var dN=["filters","resizeFilter","src","crossOrigin","type"],$L=["cropX","cropY"];class I1 extends k1{static getDefaults(){return f(f({},super.getDefaults()),I1.ownDefaults)}constructor(J,w){super(),E(this,"_lastScaleX",1),E(this,"_lastScaleY",1),E(this,"_filterScalingX",1),E(this,"_filterScalingY",1),this.filters=[],Object.assign(this,I1.ownDefaults),this.setOptions(w),this.cacheKey="texture".concat(d6()),this.setElement(typeof J=="string"?(this.canvas&&v2(this.canvas.getElement())||k9()).getElementById(J):J,w)}getElement(){return this._element}setElement(J){var w;let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=J,this._originalElement=J,this._setWidthHeight(G),(w=J.classList)===null||w===void 0||w.add(I1.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(J){let w=qz(!1);w instanceof JW&&w.evictCachesForKey(J)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((J)=>{let w=this[J];w&&H5().dispose(w),this[J]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let J=this.getElement();return J?{width:J.naturalWidth||J.width,height:J.naturalHeight||J.height}:{width:0,height:0}}_stroke(J){if(!this.stroke||this.strokeWidth===0)return;let w=this.width/2,G=this.height/2;J.beginPath(),J.moveTo(-w,-G),J.lineTo(w,-G),J.lineTo(w,G),J.lineTo(-w,G),J.lineTo(-w,-G),J.closePath()}toObject(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=[];return this.filters.forEach((G)=>{G&&w.push(G.toObject())}),f(f({},super.toObject([...$L,...J])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:w},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let J=[],w=this._element,G=-this.width/2,Y=-this.height/2,X=[],Q=[],q="",z="";if(!w)return[];if(this.hasCrop()){let U=d6();X.push('<clipPath id="imageCrop_'+U+`">
`,'\t<rect x="'+G+'" y="'+Y+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),q=' clip-path="url(#imageCrop_'+U+')" '}if(this.imageSmoothing||(z=' image-rendering="optimizeSpeed"'),J.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(G-this.cropX,'" y="').concat(Y-this.cropY,'" width="').concat(w.width||w.naturalWidth,'" height="').concat(w.height||w.naturalHeight,'"').concat(z).concat(q,`></image>
`)),this.stroke||this.strokeDashArray){let U=this.fill;this.fill=null,Q=['\t<rect x="'.concat(G,'" y="').concat(Y,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=U}return X=this.paintFirst!==x1?X.concat(Q,J):X.concat(J,Q),X}getSrc(J){let w=J?this._element:this._originalElement;return w?w.toDataURL?w.toDataURL():this.srcFromAttribute?w.getAttribute("src")||"":w.src:this.src||""}getSvgSrc(J){return this.getSrc(J)}setSrc(J){let{crossOrigin:w,signal:G}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R3(J,{crossOrigin:w,signal:G}).then((Y)=>{w!==void 0&&this.set({crossOrigin:w}),this.setElement(Y)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let J=this.resizeFilter,w=this.minimumScaleTrigger,G=this.getTotalObjectScaling(),Y=G.x,X=G.y,Q=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!J||Y>w&&X>w)return this._element=Q,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=Y,void(this._lastScaleY=X);let q=u2(Q),{width:z,height:U}=Q;this._element=q,this._lastScaleX=J.scaleX=Y,this._lastScaleY=J.scaleY=X,qz().applyFilters([J],Q,z,U,this._element),this._filterScalingX=q.width/this._originalElement.width,this._filterScalingY=q.height/this._originalElement.height}applyFilters(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(J=J.filter((X)=>X&&!X.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),J.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let w=this._originalElement,G=w.naturalWidth||w.width,Y=w.naturalHeight||w.height;if(this._element===this._originalElement){let X=u2({width:G,height:Y});this._element=X,this._filteredEl=X}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,G,Y),this._lastScaleX=1,this._lastScaleY=1);qz().applyFilters(J,this._originalElement,G,Y,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(J){J.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(J),this._renderPaintInOrder(J)}drawCacheOnCanvas(J){J.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(J)}shouldCache(){return this.needsItsOwnCache()}_renderFill(J){let w=this._element;if(!w)return;let G=this._filterScalingX,Y=this._filterScalingY,X=this.width,Q=this.height,q=Math.max(this.cropX,0),z=Math.max(this.cropY,0),U=w.naturalWidth||w.width,W=w.naturalHeight||w.height,V=q*G,j=z*Y,B=Math.min(X*G,U-V),x=Math.min(Q*Y,W-j),O=-X/2,R=-Q/2,F=Math.min(X,U/G-q),A=Math.min(Q,W/Y-z);w&&J.drawImage(w,V,j,B,x,O,R,F,A)}_needsResize(){let J=this.getTotalObjectScaling();return J.x!==this._lastScaleX||J.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:J,height:w}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=this.getOriginalSize();this.width=J||G.width,this.height=w||G.height}parsePreserveAspectRatioAttribute(){let J=tx(this.preserveAspectRatio||""),w=this.width,G=this.height,Y={width:w,height:G},X,Q=this._element.width,q=this._element.height,z=1,U=1,W=0,V=0,j=0,B=0;return!J||J.alignX===i1&&J.alignY===i1?(z=w/Q,U=G/q):(J.meetOrSlice==="meet"&&(z=U=uK(this._element,Y),X=(w-Q*z)/2,J.alignX==="Min"&&(W=-X),J.alignX==="Max"&&(W=X),X=(G-q*U)/2,J.alignY==="Min"&&(V=-X),J.alignY==="Max"&&(V=X)),J.meetOrSlice==="slice"&&(z=U=lK(this._element,Y),X=Q-w/z,J.alignX==="Mid"&&(j=X/2),J.alignX==="Max"&&(j=X),X=q-G/U,J.alignY==="Mid"&&(B=X/2),J.alignY==="Max"&&(B=X),Q=w/z,q=G/U)),{width:Q,height:q,scaleX:z,scaleY:U,offsetLeft:W,offsetTop:V,cropX:j,cropY:B}}static fromObject(J,w){let{filters:G,resizeFilter:Y,src:X,crossOrigin:Q,type:q}=J,z=i0(J,dN);return Promise.all([R3(X,f(f({},w),{},{crossOrigin:Q})),G&&D9(G,w),Y&&D9([Y],w),g3(z,w)]).then((U)=>{let[W,V=[],[j]=[],B={}]=U;return new this(W,f(f({},z),{},{src:X,filters:V,resizeFilter:j},B))})}static fromURL(J){let{crossOrigin:w=null,signal:G}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2?arguments[2]:void 0;return R3(J,{crossOrigin:w,signal:G}).then((X)=>new this(X,Y))}static async fromElement(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=arguments.length>2?arguments[2]:void 0,Y=r5(J,this.ATTRIBUTE_NAMES,G);return this.fromURL(Y["xlink:href"],w,Y).catch((X)=>(h6("log","Unable to parse Image",X),null))}}E(I1,"type","Image"),E(I1,"cacheProperties",[...n5,...$L]),E(I1,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:0.5,cropX:0,cropY:0,imageSmoothing:!0}),E(I1,"CSS_CANVAS","canvas-img"),E(I1,"ATTRIBUTE_NAMES",[...p6,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),G0.setClass(I1),G0.setSVGClass(I1);var sT=CG(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var AL=lx,yx=(J)=>function(w,G,Y){let{points:X,pathOffset:Q}=Y;return new d(X[J]).subtract(Q).transform(G1(Y.getViewportTransform(),Y.calcTransformMatrix()))},OL=(J,w,G,Y)=>{let{target:X,pointIndex:Q}=w,q=X,z=p5(new d(G,Y),void 0,q.calcOwnMatrix());return q.points[Q]=z.add(q.pathOffset),q.setDimensions(),!0},RL=(J,w)=>function(G,Y,X,Q){let q=Y.target,z=new d(q.points[(J>0?J:q.points.length)-1]),U=z.subtract(q.pathOffset).transform(q.calcOwnMatrix()),W=w(G,f(f({},Y),{},{pointIndex:J}),X,Q),V=z.subtract(q.pathOffset).transform(q.calcOwnMatrix()).subtract(U);return q.left-=V.x,q.top-=V.y,W},vx=(J)=>l6(AL,RL(J,OL)),Iz=(J,w,G)=>{let{path:Y,pathOffset:X}=J,Q=Y[w];return new d(Q[G]-X.x,Q[G+1]-X.y).transform(G1(J.getViewportTransform(),J.calcTransformMatrix()))};function cN(J,w,G){let{commandIndex:Y,pointIndex:X}=this;return Iz(G,Y,X)}function uN(J,w,G,Y){let{target:X}=w,{commandIndex:Q,pointIndex:q}=this,z=((U,W,V,j,B)=>{let{path:x,pathOffset:O}=U,R=x[(j>0?j:x.length)-1],F=new d(R[B],R[B+1]),A=F.subtract(O).transform(U.calcOwnMatrix()),M=p5(new d(W,V),void 0,U.calcOwnMatrix());x[j][B]=M.x+O.x,x[j][B+1]=M.y+O.y,U.setDimensions();let L=F.subtract(U.pathOffset).transform(U.calcOwnMatrix()).subtract(A);return U.left-=L.x,U.top-=L.y,U.set("dirty",!0),!0})(X,G,Y,Q,q);return mz(this.actionName,f(f({},dz(J,w,G,Y)),{},{commandIndex:Q,pointIndex:q})),z}class wW extends p1{constructor(J){super(J)}render(J,w,G,Y,X){let Q=f(f({},Y),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(J,w,G,Q,X)}}class DL extends wW{constructor(J){super(J)}render(J,w,G,Y,X){let{path:Q}=X,{commandIndex:q,pointIndex:z,connectToCommandIndex:U,connectToPointIndex:W}=this;J.save(),J.strokeStyle=this.controlStroke,this.connectionDashArray&&J.setLineDash(this.connectionDashArray);let[V]=Q[q],j=Iz(X,U,W);if(V==="Q"){let B=Iz(X,q,z+2);J.moveTo(B.x,B.y),J.lineTo(w,G)}else J.moveTo(w,G);J.lineTo(j.x,j.y),J.stroke(),J.restore(),super.render(J,w,G,Y,X)}}var GG=(J,w,G,Y,X,Q)=>new(G?DL:wW)(f(f({commandIndex:J,pointIndex:w,actionName:"modifyPath",positionHandler:cN,actionHandler:uN,connectToCommandIndex:X,connectToPointIndex:Q},Y),G?Y.controlPointStyle:Y.pointStyle)),eT=Object.freeze({__proto__:null,changeWidth:Mz,createObjectDefaultControls:iz,createPathControls:function(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G={},Y="M";return J.path.forEach((X,Q)=>{let q=X[0];switch(q!=="Z"&&(G["c_".concat(Q,"_").concat(q)]=GG(Q,X.length-2,!1,w)),q){case"C":G["c_".concat(Q,"_C_CP_1")]=GG(Q,1,!0,w,Q-1,((z)=>z==="C"?5:z==="Q"?3:1)(Y)),G["c_".concat(Q,"_C_CP_2")]=GG(Q,3,!0,w,Q,5);break;case"Q":G["c_".concat(Q,"_Q_CP_1")]=GG(Q,1,!0,w,Q,3)}Y=q}),G},createPolyActionHandler:vx,createPolyControls:function(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G={};for(let Y=0;Y<(typeof J=="number"?J:J.points.length);Y++)G["p".concat(Y)]=new p1(f({actionName:AL,positionHandler:yx(Y),actionHandler:vx(Y)},w));return G},createPolyPositionHandler:yx,createResizeControls:SK,createTextboxDefaultControls:gK,dragHandler:UK,factoryPolyActionHandler:RL,getLocalPoint:kG,polyActionHandler:OL,renderCircleControl:$K,renderSquareControl:AK,rotationStyleHandler:OK,rotationWithSnapping:RK,scaleCursorStyleHandler:Y9,scaleOrSkewActionName:K3,scaleSkewCursorStyleHandler:_8,scalingEqually:x3,scalingX:IK,scalingXOrSkewingY:xz,scalingY:kK,scalingYOrSkewingX:Kz,skewCursorStyleHandler:CK,skewHandlerX:PK,skewHandlerY:TK,wrapWithFireEvent:l6,wrapWithFixedAnchor:o8}),fG=(J)=>J.webgl!==void 0;var GW="precision highp float",lN=`
    `.concat(GW,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),pN=["type"],oN=["type"],iN=new RegExp(GW,"g");class q1{get type(){return this.constructor.type}constructor(){let J=i0(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pN);Object.assign(this,this.constructor.defaults,J)}getFragmentSource(){return lN}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(J){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:Y="highp"}}=H5();Y!=="highp"&&(w=w.replace(iN,GW.replace("highp",Y)));let X=J.createShader(J.VERTEX_SHADER),Q=J.createShader(J.FRAGMENT_SHADER),q=J.createProgram();if(!X||!Q||!q)throw new _2("Vertex, fragment shader or program creation error");if(J.shaderSource(X,G),J.compileShader(X),!J.getShaderParameter(X,J.COMPILE_STATUS))throw new _2("Vertex shader compile error for ".concat(this.type,": ").concat(J.getShaderInfoLog(X)));if(J.shaderSource(Q,w),J.compileShader(Q),!J.getShaderParameter(Q,J.COMPILE_STATUS))throw new _2("Fragment shader compile error for ".concat(this.type,": ").concat(J.getShaderInfoLog(Q)));if(J.attachShader(q,X),J.attachShader(q,Q),J.linkProgram(q),!J.getProgramParameter(q,J.LINK_STATUS))throw new _2('Shader link error for "'.concat(this.type,'" ').concat(J.getProgramInfoLog(q)));let z=this.getUniformLocations(J,q)||{};return z.uStepW=J.getUniformLocation(q,"uStepW"),z.uStepH=J.getUniformLocation(q,"uStepH"),{program:q,attributeLocations:this.getAttributeLocations(J,q),uniformLocations:z}}getAttributeLocations(J,w){return{aPosition:J.getAttribLocation(w,"aPosition")}}getUniformLocations(J,w){let G=this.constructor.uniformLocations,Y={};for(let X=0;X<G.length;X++)Y[G[X]]=J.getUniformLocation(w,G[X]);return Y}sendAttributeData(J,w,G){let Y=w.aPosition,X=J.createBuffer();J.bindBuffer(J.ARRAY_BUFFER,X),J.enableVertexAttribArray(Y),J.vertexAttribPointer(Y,2,J.FLOAT,!1,0,0),J.bufferData(J.ARRAY_BUFFER,G,J.STATIC_DRAW)}_setupFrameBuffer(J){let w=J.context;if(J.passes>1){let{destinationWidth:G,destinationHeight:Y}=J;J.sourceWidth===G&&J.sourceHeight===Y||(w.deleteTexture(J.targetTexture),J.targetTexture=J.filterBackend.createTexture(w,G,Y)),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,J.targetTexture,0)}else w.bindFramebuffer(w.FRAMEBUFFER,null),w.finish()}_swapTextures(J){J.passes--,J.pass++;let w=J.targetTexture;J.targetTexture=J.sourceTexture,J.sourceTexture=w}isNeutralState(J){return!1}applyTo(J){fG(J)?(this._setupFrameBuffer(J),this.applyToWebGL(J),this._swapTextures(J)):this.applyTo2d(J)}applyTo2d(J){}getCacheKey(){return this.type}retrieveShader(J){let w=this.getCacheKey();return J.programCache[w]||(J.programCache[w]=this.createProgram(J.context)),J.programCache[w]}applyToWebGL(J){let w=J.context,G=this.retrieveShader(J);J.pass===0&&J.originalTexture?w.bindTexture(w.TEXTURE_2D,J.originalTexture):w.bindTexture(w.TEXTURE_2D,J.sourceTexture),w.useProgram(G.program),this.sendAttributeData(w,G.attributeLocations,J.aPosition),w.uniform1f(G.uniformLocations.uStepW,1/J.sourceWidth),w.uniform1f(G.uniformLocations.uStepH,1/J.sourceHeight),this.sendUniformData(w,G.uniformLocations),w.viewport(0,0,J.destinationWidth,J.destinationHeight),w.drawArrays(w.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(J,w,G){J.activeTexture(G),J.bindTexture(J.TEXTURE_2D,w),J.activeTexture(J.TEXTURE0)}unbindAdditionalTexture(J,w){J.activeTexture(w),J.bindTexture(J.TEXTURE_2D,null),J.activeTexture(J.TEXTURE0)}sendUniformData(J,w){}createHelpLayer(J){if(!J.helpLayer){let{sourceWidth:w,sourceHeight:G}=J,Y=u2({width:w,height:G});J.helpLayer=Y}}toObject(){let J=Object.keys(this.constructor.defaults||{});return f({type:this.type},J.reduce((w,G)=>(w[G]=this[G],w),{}))}toJSON(){return this.toObject()}static async fromObject(J,w){return new this(i0(J,oN))}}E(q1,"type","BaseFilter"),E(q1,"uniformLocations",[]);var aN={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Q9 extends q1{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(aN[this.mode],`
        }
      }
      `)}applyTo2d(J){let{imageData:{data:w}}=J,G=new T0(this.color).getSource(),Y=this.alpha,X=G[0]*Y,Q=G[1]*Y,q=G[2]*Y,z=1-Y;for(let U=0;U<w.length;U+=4){let W=w[U],V=w[U+1],j=w[U+2],B,x,O;switch(this.mode){case"multiply":B=W*X/255,x=V*Q/255,O=j*q/255;break;case"screen":B=255-(255-W)*(255-X)/255,x=255-(255-V)*(255-Q)/255,O=255-(255-j)*(255-q)/255;break;case"add":B=W+X,x=V+Q,O=j+q;break;case"difference":B=Math.abs(W-X),x=Math.abs(V-Q),O=Math.abs(j-q);break;case"subtract":B=W-X,x=V-Q,O=j-q;break;case"darken":B=Math.min(W,X),x=Math.min(V,Q),O=Math.min(j,q);break;case"lighten":B=Math.max(W,X),x=Math.max(V,Q),O=Math.max(j,q);break;case"overlay":B=X<128?2*W*X/255:255-2*(255-W)*(255-X)/255,x=Q<128?2*V*Q/255:255-2*(255-V)*(255-Q)/255,O=q<128?2*j*q/255:255-2*(255-j)*(255-q)/255;break;case"exclusion":B=X+W-2*X*W/255,x=Q+V-2*Q*V/255,O=q+j-2*q*j/255;break;case"tint":B=X+W*z,x=Q+V*z,O=q+j*z}w[U]=B,w[U+1]=x,w[U+2]=O}}sendUniformData(J,w){let G=new T0(this.color).getSource();G[0]=this.alpha*G[0]/255,G[1]=this.alpha*G[1]/255,G[2]=this.alpha*G[2]/255,G[3]=this.alpha,J.uniform4fv(w.uColor,G)}}E(Q9,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),E(Q9,"type","BlendColor"),E(Q9,"uniformLocations",["uColor"]),G0.setClass(Q9);var nN={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},rN=["type","image"];class q9 extends q1{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return nN[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(J){let w=J.context,G=this.createTexture(J.filterBackend,this.image);this.bindAdditionalTexture(w,G,w.TEXTURE1),super.applyToWebGL(J),this.unbindAdditionalTexture(w,w.TEXTURE1)}createTexture(J,w){return J.getCachedTexture(w.cacheKey,w.getElement())}calculateMatrix(){let J=this.image,{width:w,height:G}=J.getElement();return[1/J.scaleX,0,0,0,1/J.scaleY,0,-J.left/w,-J.top/G,1]}applyTo2d(J){let{imageData:{data:w,width:G,height:Y},filterBackend:{resources:X}}=J,Q=this.image;X.blendImage||(X.blendImage=C2());let q=X.blendImage,z=q.getContext("2d");q.width!==G||q.height!==Y?(q.width=G,q.height=Y):z.clearRect(0,0,G,Y),z.setTransform(Q.scaleX,0,0,Q.scaleY,Q.left,Q.top),z.drawImage(Q.getElement(),0,0,G,Y);let U=z.getImageData(0,0,G,Y).data;for(let W=0;W<w.length;W+=4){let V=w[W],j=w[W+1],B=w[W+2],x=w[W+3],O=U[W],R=U[W+1],F=U[W+2],A=U[W+3];switch(this.mode){case"multiply":w[W]=V*O/255,w[W+1]=j*R/255,w[W+2]=B*F/255,w[W+3]=x*A/255;break;case"mask":w[W+3]=A}}}sendUniformData(J,w){let G=this.calculateMatrix();J.uniform1i(w.uImage,1),J.uniformMatrix3fv(w.uTransformMatrix,!1,G)}toObject(){return f(f({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(J,w){let{type:G,image:Y}=J,X=i0(J,rN);return I1.fromObject(Y,w).then((Q)=>new this(f(f({},X),{},{image:Q})))}}E(q9,"type","BlendImage"),E(q9,"defaults",{mode:"multiply",alpha:1}),E(q9,"uniformLocations",["uTransformMatrix","uImage"]),G0.setClass(q9);class z9 extends q1{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(J){fG(J)?(this.aspectRatio=J.sourceWidth/J.sourceHeight,J.passes++,this._setupFrameBuffer(J),this.horizontal=!0,this.applyToWebGL(J),this._swapTextures(J),this._setupFrameBuffer(J),this.horizontal=!1,this.applyToWebGL(J),this._swapTextures(J)):this.applyTo2d(J)}applyTo2d(J){J.imageData=this.simpleBlur(J)}simpleBlur(J){let{ctx:w,imageData:G,filterBackend:{resources:Y}}=J,{width:X,height:Q}=G;Y.blurLayer1||(Y.blurLayer1=C2(),Y.blurLayer2=C2());let{blurLayer1:q,blurLayer2:z}=Y;q.width===X&&q.height===Q||(z.width=q.width=X,z.height=q.height=Q);let U=q.getContext("2d"),W=z.getContext("2d"),V=15,j=0.06*this.blur*0.5,B,x,O,R;for(U.putImageData(G,0,0),W.clearRect(0,0,X,Q),R=-15;R<=V;R++)B=(Math.random()-0.5)/4,x=R/V,O=j*x*X+B,W.globalAlpha=1-Math.abs(x),W.drawImage(q,O,B),U.drawImage(z,0,0),W.globalAlpha=1,W.clearRect(0,0,z.width,z.height);for(R=-15;R<=V;R++)B=(Math.random()-0.5)/4,x=R/V,O=j*x*Q+B,W.globalAlpha=1-Math.abs(x),W.drawImage(q,B,O),U.drawImage(z,0,0),W.globalAlpha=1,W.clearRect(0,0,z.width,z.height);w.drawImage(q,0,0);let F=w.getImageData(0,0,q.width,q.height);return U.globalAlpha=1,U.clearRect(0,0,q.width,q.height),F}sendUniformData(J,w){let G=this.chooseRightDelta();J.uniform2fv(w.uDelta,G)}isNeutralState(){return this.blur===0}chooseRightDelta(){let J=1,w=[0,0];this.horizontal?this.aspectRatio>1&&(J=1/this.aspectRatio):this.aspectRatio<1&&(J=this.aspectRatio);let G=J*this.blur*0.12;return this.horizontal?w[0]=G:w[1]=G,w}}E(z9,"type","Blur"),E(z9,"defaults",{blur:0}),E(z9,"uniformLocations",["uDelta"]),G0.setClass(z9);class W9 extends q1{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(J){let{imageData:{data:w}}=J,G=Math.round(255*this.brightness);for(let Y=0;Y<w.length;Y+=4)w[Y]+=G,w[Y+1]+=G,w[Y+2]+=G}isNeutralState(){return this.brightness===0}sendUniformData(J,w){J.uniform1f(w.uBrightness,this.brightness)}}E(W9,"type","Brightness"),E(W9,"defaults",{brightness:0}),E(W9,"uniformLocations",["uBrightness"]),G0.setClass(W9);var FL={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class _6 extends q1{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(J){let w=J.imageData.data,G=this.matrix,Y=this.colorsOnly;for(let X=0;X<w.length;X+=4){let Q=w[X],q=w[X+1],z=w[X+2];if(w[X]=Q*G[0]+q*G[1]+z*G[2]+255*G[4],w[X+1]=Q*G[5]+q*G[6]+z*G[7]+255*G[9],w[X+2]=Q*G[10]+q*G[11]+z*G[12]+255*G[14],!Y){let U=w[X+3];w[X]+=U*G[3],w[X+1]+=U*G[8],w[X+2]+=U*G[13],w[X+3]=Q*G[15]+q*G[16]+z*G[17]+U*G[18]+255*G[19]}}}sendUniformData(J,w){let G=this.matrix,Y=[G[0],G[1],G[2],G[3],G[5],G[6],G[7],G[8],G[10],G[11],G[12],G[13],G[15],G[16],G[17],G[18]],X=[G[4],G[9],G[14],G[19]];J.uniformMatrix4fv(w.uColorMatrix,!1,Y),J.uniform4fv(w.uConstants,X)}toObject(){return f(f({},super.toObject()),{},{matrix:[...this.matrix]})}}function i8(J,w){var G;let Y=(E(G=class extends _6{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",J),E(G,"defaults",{colorsOnly:!1,matrix:w}),G);return G0.setClass(Y,J),Y}E(_6,"type","ColorMatrix"),E(_6,"defaults",FL),E(_6,"uniformLocations",["uColorMatrix","uConstants"]),G0.setClass(_6);var sN=i8("Brownie",[0.5997,0.34553,-0.27082,0,0.186,-0.0377,0.86095,0.15059,0,-0.1449,0.24113,-0.07441,0.44972,0,-0.02965,0,0,0,1,0]),eN=i8("Vintage",[0.62793,0.32021,-0.03965,0,0.03784,0.02578,0.64411,0.03259,0,0.02926,0.0466,-0.08512,0.52416,0,0.02023,0,0,0,1,0]),tN=i8("Kodachrome",[1.12855,-0.39673,-0.03992,0,0.24991,-0.16404,1.08352,-0.05498,0,0.09698,-0.16786,-0.56034,1.60148,0,0.13972,0,0,0,1,0]),JP=i8("Technicolor",[1.91252,-0.85453,-0.09155,0,0.04624,-0.30878,1.76589,-0.10601,0,-0.27589,-0.2311,-0.75018,1.84759,0,0.12137,0,0,0,1,0]),wP=i8("Polaroid",[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0]),GP=i8("Sepia",[0.393,0.769,0.189,0,0,0.349,0.686,0.168,0,0,0.272,0.534,0.131,0,0,0,0,0,1,0]),YP=i8("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class $G extends q1{constructor(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(J),this.subFilters=J.subFilters||[]}applyTo(J){fG(J)&&(J.passes+=this.subFilters.length-1),this.subFilters.forEach((w)=>{w.applyTo(J)})}toObject(){return{type:this.type,subFilters:this.subFilters.map((J)=>J.toObject())}}isNeutralState(){return!this.subFilters.some((J)=>!J.isNeutralState())}static fromObject(J,w){return Promise.all((J.subFilters||[]).map((G)=>G0.getClass(G.type).fromObject(G,w))).then((G)=>new this({subFilters:G}))}}E($G,"type","Composed"),G0.setClass($G);class U9 extends q1{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(J){let{imageData:{data:w}}=J,G=Math.floor(255*this.contrast),Y=259*(G+255)/(255*(259-G));for(let X=0;X<w.length;X+=4)w[X]=Y*(w[X]-128)+128,w[X+1]=Y*(w[X+1]-128)+128,w[X+2]=Y*(w[X+2]-128)+128}sendUniformData(J,w){J.uniform1f(w.uContrast,this.contrast)}}E(U9,"type","Contrast"),E(U9,"defaults",{contrast:0}),E(U9,"uniformLocations",["uContrast"]),G0.setClass(U9);var XP={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class H9 extends q1{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return XP[this.getCacheKey()]}applyTo2d(J){let w=J.imageData,G=w.data,Y=this.matrix,X=Math.round(Math.sqrt(Y.length)),Q=Math.floor(X/2),q=w.width,z=w.height,U=J.ctx.createImageData(q,z),W=U.data,V=this.opaque?1:0,j,B,x,O,R,F,A,M,L,$,I,D,k;for(I=0;I<z;I++)for($=0;$<q;$++){for(R=4*(I*q+$),j=0,B=0,x=0,O=0,k=0;k<X;k++)for(D=0;D<X;D++)A=I+k-Q,F=$+D-Q,A<0||A>=z||F<0||F>=q||(M=4*(A*q+F),L=Y[k*X+D],j+=G[M]*L,B+=G[M+1]*L,x+=G[M+2]*L,V||(O+=G[M+3]*L));W[R]=j,W[R+1]=B,W[R+2]=x,W[R+3]=V?G[R+3]:O}J.imageData=U}sendUniformData(J,w){J.uniform1fv(w.uMatrix,this.matrix)}toObject(){return f(f({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}E(H9,"type","Convolute"),E(H9,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),E(H9,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),G0.setClass(H9);var IL="Gamma";class V9 extends q1{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(J),this.gamma=J.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(J){let{imageData:{data:w}}=J,G=this.gamma,Y=1/G[0],X=1/G[1],Q=1/G[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let q=this.rgbValues;for(let z=0;z<256;z++)q.r[z]=255*Math.pow(z/255,Y),q.g[z]=255*Math.pow(z/255,X),q.b[z]=255*Math.pow(z/255,Q);for(let z=0;z<w.length;z+=4)w[z]=q.r[w[z]],w[z+1]=q.g[w[z+1]],w[z+2]=q.b[w[z+2]]}sendUniformData(J,w){J.uniform3fv(w.uGamma,this.gamma)}isNeutralState(){let{gamma:J}=this;return J[0]===1&&J[1]===1&&J[2]===1}toObject(){return{type:IL,gamma:this.gamma.concat()}}}E(V9,"type",IL),E(V9,"defaults",{gamma:[1,1,1]}),E(V9,"uniformLocations",["uGamma"]),G0.setClass(V9);var QP={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Z9 extends q1{applyTo2d(J){let{imageData:{data:w}}=J;for(let G,Y=0;Y<w.length;Y+=4){let X=w[Y],Q=w[Y+1],q=w[Y+2];switch(this.mode){case"average":G=(X+Q+q)/3;break;case"lightness":G=(Math.min(X,Q,q)+Math.max(X,Q,q))/2;break;case"luminosity":G=0.21*X+0.72*Q+0.07*q}w[Y+2]=w[Y+1]=w[Y]=G}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return QP[this.mode]}sendUniformData(J,w){J.uniform1i(w.uMode,1)}isNeutralState(){return!1}}E(Z9,"type","Grayscale"),E(Z9,"defaults",{mode:"average"}),E(Z9,"uniformLocations",["uMode"]),G0.setClass(Z9);var qP=f(f({},FL),{},{rotation:0});class I3 extends _6{calculateMatrix(){let J=this.rotation*Math.PI,w=d2(J),G=c2(J),X=Math.sqrt(0.3333333333333333)*G,Q=1-w;this.matrix=[w+Q/3,0.3333333333333333*Q-X,0.3333333333333333*Q+X,0,0,0.3333333333333333*Q+X,w+0.3333333333333333*Q,0.3333333333333333*Q-X,0,0,0.3333333333333333*Q-X,0.3333333333333333*Q+X,w+0.3333333333333333*Q,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(J){this.calculateMatrix(),super.applyTo(J)}toObject(){return{type:this.type,rotation:this.rotation}}}E(I3,"type","HueRotation"),E(I3,"defaults",qP),G0.setClass(I3);class j9 extends q1{applyTo2d(J){let{imageData:{data:w}}=J;for(let G=0;G<w.length;G+=4)w[G]=255-w[G],w[G+1]=255-w[G+1],w[G+2]=255-w[G+2],this.alpha&&(w[G+3]=255-w[G+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(J,w){J.uniform1i(w.uInvert,Number(this.invert)),J.uniform1i(w.uAlpha,Number(this.alpha))}}E(j9,"type","Invert"),E(j9,"defaults",{alpha:!1,invert:!0}),E(j9,"uniformLocations",["uInvert","uAlpha"]),G0.setClass(j9);class B9 extends q1{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(J){let{imageData:{data:w}}=J,G=this.noise;for(let Y=0;Y<w.length;Y+=4){let X=(0.5-Math.random())*G;w[Y]+=X,w[Y+1]+=X,w[Y+2]+=X}}sendUniformData(J,w){J.uniform1f(w.uNoise,this.noise/255),J.uniform1f(w.uSeed,Math.random())}isNeutralState(){return this.noise===0}}E(B9,"type","Noise"),E(B9,"defaults",{noise:0}),E(B9,"uniformLocations",["uNoise","uSeed"]),G0.setClass(B9);class M9 extends q1{applyTo2d(J){let{imageData:{data:w,width:G,height:Y}}=J;for(let X=0;X<Y;X+=this.blocksize)for(let Q=0;Q<G;Q+=this.blocksize){let q=4*X*G+4*Q,z=w[q],U=w[q+1],W=w[q+2],V=w[q+3];for(let j=X;j<Math.min(X+this.blocksize,Y);j++)for(let B=Q;B<Math.min(Q+this.blocksize,G);B++){let x=4*j*G+4*B;w[x]=z,w[x+1]=U,w[x+2]=W,w[x+3]=V}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(J,w){J.uniform1f(w.uBlocksize,this.blocksize)}}E(M9,"type","Pixelate"),E(M9,"defaults",{blocksize:4}),E(M9,"uniformLocations",["uBlocksize"]),G0.setClass(M9);class x9 extends q1{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(J){let{imageData:{data:w}}=J,G=255*this.distance,Y=new T0(this.color).getSource(),X=[Y[0]-G,Y[1]-G,Y[2]-G],Q=[Y[0]+G,Y[1]+G,Y[2]+G];for(let q=0;q<w.length;q+=4){let z=w[q],U=w[q+1],W=w[q+2];z>X[0]&&U>X[1]&&W>X[2]&&z<Q[0]&&U<Q[1]&&W<Q[2]&&(w[q+3]=0)}}sendUniformData(J,w){let G=new T0(this.color).getSource(),Y=this.distance,X=[0+G[0]/255-Y,0+G[1]/255-Y,0+G[2]/255-Y,1],Q=[G[0]/255+Y,G[1]/255+Y,G[2]/255+Y,1];J.uniform4fv(w.uLow,X),J.uniform4fv(w.uHigh,Q)}}E(x9,"type","RemoveColor"),E(x9,"defaults",{color:"#FFFFFF",distance:0.02,useAlpha:!1}),E(x9,"uniformLocations",["uLow","uHigh"]),G0.setClass(x9);class K9 extends q1{sendUniformData(J,w){J.uniform2fv(w.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),J.uniform1fv(w.uTaps,this.taps)}getFilterWindow(){let J=this.tempScale;return Math.ceil(this.lanczosLobes/J)}getCacheKey(){let J=this.getFilterWindow();return"".concat(this.type,"_").concat(J)}getFragmentSource(){let J=this.getFilterWindow();return this.generateShader(J)}getTaps(){let J=this.lanczosCreate(this.lanczosLobes),w=this.tempScale,G=this.getFilterWindow(),Y=new Array(G);for(let X=1;X<=G;X++)Y[X-1]=J(X*w);return Y}generateShader(J){let w=new Array(J);for(let G=1;G<=J;G++)w[G-1]="".concat(G,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(J,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(w.map((G,Y)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(G,") * uTaps[").concat(Y,"] + texture2D(uTexture, vTexCoord - ").concat(G,") * uTaps[").concat(Y,`];
              sum += 2.0 * uTaps[`).concat(Y,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(J){J.passes++,this.width=J.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=J.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),J.destinationWidth=this.dW,super.applyTo(J),J.sourceWidth=J.destinationWidth,this.height=J.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),J.destinationHeight=this.dH,super.applyTo(J),J.sourceHeight=J.destinationHeight}applyTo(J){fG(J)?this.applyToForWebgl(J):this.applyTo2d(J)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(J){return(w)=>{if(w>=J||w<=-J)return 0;if(w<0.00000011920929&&w>-0.00000011920929)return 1;let G=(w*=Math.PI)/J;return Math.sin(w)/w*Math.sin(G)/G}}applyTo2d(J){let w=J.imageData,G=this.scaleX,Y=this.scaleY;this.rcpScaleX=1/G,this.rcpScaleY=1/Y;let{width:X,height:Q}=w,q=Math.round(X*G),z=Math.round(Q*Y),U;U=this.resizeType==="sliceHack"?this.sliceByTwo(J,X,Q,q,z):this.resizeType==="hermite"?this.hermiteFastResize(J,X,Q,q,z):this.resizeType==="bilinear"?this.bilinearFiltering(J,X,Q,q,z):this.resizeType==="lanczos"?this.lanczosResize(J,X,Q,q,z):new ImageData(q,z),J.imageData=U}sliceByTwo(J,w,G,Y,X){let Q=J.imageData,z=!1,U=!1,W=w*0.5,V=G*0.5,j=J.filterBackend.resources,B=0,x=0,O=w,R=0;j.sliceByTwo||(j.sliceByTwo=C2());let F=j.sliceByTwo;(F.width<1.5*w||F.height<G)&&(F.width=1.5*w,F.height=G);let A=F.getContext("2d");for(A.clearRect(0,0,1.5*w,G),A.putImageData(Q,0,0),Y=Math.floor(Y),X=Math.floor(X);!z||!U;)w=W,G=V,Y<Math.floor(W*0.5)?W=Math.floor(W*0.5):(W=Y,z=!0),X<Math.floor(V*0.5)?V=Math.floor(V*0.5):(V=X,U=!0),A.drawImage(F,B,x,w,G,O,R,W,V),B=O,x=R,R+=V;return A.getImageData(B,x,Y,X)}lanczosResize(J,w,G,Y,X){let Q=J.imageData.data,q=J.ctx.createImageData(Y,X),z=q.data,U=this.lanczosCreate(this.lanczosLobes),W=this.rcpScaleX,V=this.rcpScaleY,j=2/this.rcpScaleX,B=2/this.rcpScaleY,x=Math.ceil(W*this.lanczosLobes/2),O=Math.ceil(V*this.lanczosLobes/2),R={},F={x:0,y:0},A={x:0,y:0};return function M(L){let $,I,D,k,P,_,v,h,C,m,s;for(F.x=(L+0.5)*W,A.x=Math.floor(F.x),$=0;$<X;$++){for(F.y=($+0.5)*V,A.y=Math.floor(F.y),P=0,_=0,v=0,h=0,C=0,I=A.x-x;I<=A.x+x;I++)if(!(I<0||I>=w)){m=Math.floor(1000*Math.abs(I-F.x)),R[m]||(R[m]={});for(let g=A.y-O;g<=A.y+O;g++)g<0||g>=G||(s=Math.floor(1000*Math.abs(g-F.y)),R[m][s]||(R[m][s]=U(Math.sqrt(Math.pow(m*j,2)+Math.pow(s*B,2))/1000)),D=R[m][s],D>0&&(k=4*(g*w+I),P+=D,_+=D*Q[k],v+=D*Q[k+1],h+=D*Q[k+2],C+=D*Q[k+3]))}k=4*($*Y+L),z[k]=_/P,z[k+1]=v/P,z[k+2]=h/P,z[k+3]=C/P}return++L<Y?M(L):q}(0)}bilinearFiltering(J,w,G,Y,X){let Q,q,z,U,W,V,j,B,x,O,R,F,A,M=0,L=this.rcpScaleX,$=this.rcpScaleY,I=4*(w-1),D=J.imageData.data,k=J.ctx.createImageData(Y,X),P=k.data;for(j=0;j<X;j++)for(B=0;B<Y;B++)for(W=Math.floor(L*B),V=Math.floor($*j),x=L*B-W,O=$*j-V,A=4*(V*w+W),R=0;R<4;R++)Q=D[A+R],q=D[A+4+R],z=D[A+I+R],U=D[A+I+4+R],F=Q*(1-x)*(1-O)+q*x*(1-O)+z*O*(1-x)+U*x*O,P[M++]=F;return k}hermiteFastResize(J,w,G,Y,X){let Q=this.rcpScaleX,q=this.rcpScaleY,z=Math.ceil(Q/2),U=Math.ceil(q/2),W=J.imageData.data,V=J.ctx.createImageData(Y,X),j=V.data;for(let B=0;B<X;B++)for(let x=0;x<Y;x++){let O=4*(x+B*Y),R=0,F=0,A=0,M=0,L=0,$=0,I=0,D=(B+0.5)*q;for(let k=Math.floor(B*q);k<(B+1)*q;k++){let P=Math.abs(D-(k+0.5))/U,_=(x+0.5)*Q,v=P*P;for(let h=Math.floor(x*Q);h<(x+1)*Q;h++){let C=Math.abs(_-(h+0.5))/z,m=Math.sqrt(v+C*C);m>1&&m<-1||(R=2*m*m*m-3*m*m+1,R>0&&(C=4*(h+k*w),I+=R*W[C+3],A+=R,W[C+3]<255&&(R=R*W[C+3]/250),M+=R*W[C],L+=R*W[C+1],$+=R*W[C+2],F+=R))}}j[O]=M/F,j[O+1]=L/F,j[O+2]=$/F,j[O+3]=I/A}return V}}E(K9,"type","Resize"),E(K9,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),E(K9,"uniformLocations",["uDelta","uTaps"]),G0.setClass(K9);class L9 extends q1{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(J){let{imageData:{data:w}}=J,G=-this.saturation;for(let Y=0;Y<w.length;Y+=4){let X=w[Y],Q=w[Y+1],q=w[Y+2],z=Math.max(X,Q,q);w[Y]+=z!==X?(z-X)*G:0,w[Y+1]+=z!==Q?(z-Q)*G:0,w[Y+2]+=z!==q?(z-q)*G:0}}sendUniformData(J,w){J.uniform1f(w.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}E(L9,"type","Saturation"),E(L9,"defaults",{saturation:0}),E(L9,"uniformLocations",["uSaturation"]),G0.setClass(L9);class $9 extends q1{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(J){let{imageData:{data:w}}=J,G=-this.vibrance;for(let Y=0;Y<w.length;Y+=4){let X=w[Y],Q=w[Y+1],q=w[Y+2],z=Math.max(X,Q,q),U=(X+Q+q)/3,W=2*Math.abs(z-U)/255*G;w[Y]+=z!==X?(z-X)*W:0,w[Y+1]+=z!==Q?(z-Q)*W:0,w[Y+2]+=z!==q?(z-q)*W:0}}sendUniformData(J,w){J.uniform1f(w.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}E($9,"type","Vibrance"),E($9,"defaults",{vibrance:0}),E($9,"uniformLocations",["uVibrance"]),G0.setClass($9);var tT=Object.freeze({__proto__:null,BaseFilter:q1,BlackWhite:YP,BlendColor:Q9,BlendImage:q9,Blur:z9,Brightness:W9,Brownie:sN,ColorMatrix:_6,Composed:$G,Contrast:U9,Convolute:H9,Gamma:V9,Grayscale:Z9,HueRotation:I3,Invert:j9,Kodachrome:tN,Noise:B9,Pixelate:M9,Polaroid:wP,RemoveColor:x9,Resize:K9,Saturation:L9,Sepia:GP,Technicolor:JP,Vibrance:$9,Vintage:eN});i6();var kL="./perkbg-re54prrp.png";var CL="./gradient-tr2q6j2h.png";var NL={clear(){console.log("todo")},drawImage(){console.log("todo")}},PL={clear(J){J.clearRect(0,0,J.canvas.width,J.canvas.height)},drawImage(J,w,G,Y){J.drawImage(w,G,Y)}},YW={clear(J){if(J instanceof CanvasRenderingContext2D)PL.clear(J);else if(J instanceof WebGLRenderingContext)NL.clear(J)},drawImage(J,w,G,Y){if(J instanceof CanvasRenderingContext2D)PL.drawImage(J,w,G,Y);else if(J instanceof WebGLRenderingContext)NL.drawImage(J,w,G,Y)}};class EG{constructor(J){this.canvas=null,this.use(J)}use(J){this.method=J}make(J,w){if(!this.canvas)this.canvas=document.createElement("canvas");let{canvas:G}=this,Y=this.getContext(),X=w.thickness*2,[Q,q]=[J.width,J.height].map((z)=>z+X);if(Q!==G.width||q!==G.height)G.width=Q,G.height=q;return YW.clear(Y),this.method.exec(Y,J,w),YW.drawImage(Y,J,w.thickness,w.thickness),G}getContext(){switch(this.method.context){case"gl":return this.canvas.getContext("gl");case"2d":return this.canvas.getContext("2d")}}}var TL={context:"2d",exec(J,w,G){J.save();for(let Y=0;Y<360;Y++)J.drawImage(w,G.thickness*(1+Math.cos(Y)),G.thickness*(1+Math.sin(Y)));J.globalCompositeOperation="source-in",J.fillStyle=G.color,J.fillRect(0,0,J.canvas.width,J.canvas.height),J.restore()}};function SL({files:J,setCanvasURLs:w}){let G=e5(null),Y=e5(null),[X,Q]=t5(null),[q,z]=t5("");h9(()=>{if(G.current){let V=new T3(G.current);XW(V),Q(V)}},[]),h9(()=>{if(J&&X)X.clear(),XW(X),J.forEach((V)=>{console.log("Adding icon:",V.name),UP(V.data,V.name,X,z,W)})},[J,X]),h9(()=>{if(X)XW(X)},[X]);function U(){if(Y.current&&q)Y.current.href=q,Y.current.download=J?.[0]?.name+".png"}let W=(V,j)=>{w((B)=>[...B,{name:V,data:j,id:B.length+1}])};return b0(L8,{children:b0("canvas",{ref:G,width:256,height:256})})}function UP(J,w,G,Y,X){let Q=new Image,q=new Image,z=!1,U=!1,W=!1;function V(){if(W||!z||!U)return;W=!0,console.log("Processing images for:",w);let j=new I1(q,{clipPath:new I1(Q,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",w);let B=j.toDataURL();console.log("Data URL created for:",w),G.remove(j);let x=new Image;function O(){console.log("htmlImage loaded for:",w);let R=new EG;R.use(TL);let F=R.make(x,{thickness:2,color:"black"}),A=new I1(F,{left:0,top:0,width:256,height:256,selectable:!1});G.add(A),G.renderAll();let M=G.toDataURL();Y(M),console.log("Canvas URL created for",w),X(w,M),G.remove(A)}if(x.onload=O,x.src=B,x.complete)O()}if(Q.onload=()=>{console.log("iconImage loaded for:",w),z=!0,V()},q.onload=()=>{console.log("gradImage loaded for:",w),U=!0,V()},Q.src=J,q.src=CL,Q.complete)console.log("iconImage already loaded for:",w),z=!0;if(q.complete)console.log("gradImage already loaded for:",w),U=!0;V()}function XW(J){let w=new Image;w.src=kL,w.onload=()=>{console.log("background loaded successfully");let G=new I1(w,{left:0,top:0,selectable:!1});J.backgroundImage=G,J.renderAll()}}var gL="./react-c5c0zhye.svg";function bL(){let[J,w]=t5([]),[G,Y]=t5([]),[X,Q]=t5(!1);console.log("fileData from App.tsx"+J);function q(){w([]),Y([]),Q(!1)}return A2("div",{className:"max-w-7xl mx-auto p-8 text-center relative z-10",children:[b0("h1",{className:"text-5xl font-bold my-4 leading-tight",children:"PERK CREATOR"}),A2("div",{className:"flex justify-center items-center gap-8 mb-8",children:[b0("img",{src:UW,alt:"Bun Logo",className:"h-24 p-6 transition-all duration-300 hover:drop-shadow-[0_0_2em_#646cffaa] scale-120"}),b0("img",{src:gL,alt:"React Logo",className:"h-24 p-6 transition-all duration-300 hover:drop-shadow-[0_0_2em_#61dafbaa] animate-[spin_20s_linear_infinite]"})]}),b0(zx,{files:G}),A2("div",{className:"flex justify-center items-center",children:[b0(FZ,{setFileData:w,setIsProcessing:Q,resetStates:q})," ",b0(SL,{files:X?[]:J,setCanvasURLs:Y}),"  "]}),A2("div",{className:"w-full",children:[" ",b0(IZ,{files:G}),"  "]})]})}function fL(){EL.createRoot(document.getElementById("root")).render(b0(bL,{}))}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",fL);else fL();

//# debugId=F97B8B81B996AEDD64756E2164756E21
//# sourceMappingURL=chunk-eb5g4k7a.js.map
