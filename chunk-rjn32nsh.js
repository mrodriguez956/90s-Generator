var _h=Object.create;var{getPrototypeOf:Oh,defineProperty:p7,getOwnPropertyNames:z3,getOwnPropertyDescriptor:lh}=Object,o3=Object.prototype.hasOwnProperty;var Vp=(x,g,_)=>{_=x!=null?_h(Oh(x)):{};let O=g||!x||!x.__esModule?p7(_,"default",{value:x,enumerable:!0}):_;for(let l of z3(x))if(!o3.call(O,l))p7(O,l,{get:()=>x[l],enumerable:!0});return O},p3=new WeakMap,gg=(x)=>{var g=p3.get(x),_;if(g)return g;if(g=p7({},"__esModule",{value:!0}),x&&typeof x==="object"||typeof x==="function")z3(x).map((O)=>!o3.call(g,O)&&p7(g,O,{get:()=>x[O],enumerable:!(_=lh(x,O))||_.enumerable}));return p3.set(x,g),g},k0=(x,g)=>()=>(g||x((g={exports:{}}).exports,g),g.exports);var Lp=(x,g)=>{for(var _ in g)p7(x,_,{get:g[_],enumerable:!0,configurable:!0,set:(O)=>g[_]=()=>O})};var z7=(x,g)=>()=>(x&&(g=x(x=0)),g);function Fp(x,g){var _=x.length;x.push(g);x:for(;0<_;){var O=_-1>>>1,l=x[O];if(0<MG(l,g))x[O]=g,x[_]=l,_=O;else break x}}function O_(x){return x.length===0?null:x[0]}function KG(x){if(x.length===0)return null;var g=x[0],_=x.pop();if(_!==g){x[0]=_;x:for(var O=0,l=x.length,G=l>>>1;O<G;){var w=2*(O+1)-1,W=x[w],z=w+1,p=x[z];if(0>MG(W,_))z<l&&0>MG(p,W)?(x[O]=p,x[z]=_,O=z):(x[O]=W,x[w]=_,O=w);else if(z<l&&0>MG(p,_))x[O]=p,x[z]=_,O=z;else break x}}return g}function MG(x,g){var _=x.sortIndex-g.sortIndex;return _!==0?_:x.id-g.id}function cG(x){for(var g=O_(CO);g!==null;){if(g.callback===null)KG(CO);else if(g.startTime<=x)KG(CO),g.sortIndex=g.expirationTime,Fp(X_,g);else break;g=O_(CO)}}function Ip(x){if(y7=!1,cG(x),!v7)if(O_(X_)!==null)v7=!0,C3();else{var g=O_(CO);g!==null&&Zp(Ip,g.startTime-x)}}function q3(){return l_()-k3<wh?!1:!0}function Xp(){if(bG){var x=l_();k3=x;var g=!0;try{x:{v7=!1,y7&&(y7=!1,N3(N7),N7=-1),Sp=!0;var _=YG;try{g:{cG(x);for(Cg=O_(X_);Cg!==null&&!(Cg.expirationTime>x&&q3());){var O=Cg.callback;if(typeof O==="function"){Cg.callback=null,YG=Cg.priorityLevel;var l=O(Cg.expirationTime<=x);if(x=l_(),typeof l==="function"){Cg.callback=l,cG(x),g=!0;break g}Cg===O_(X_)&&KG(X_),cG(x)}else KG(X_);Cg=O_(X_)}if(Cg!==null)g=!0;else{var G=O_(CO);G!==null&&Zp(Ip,G.startTime-x),g=!1}}break x}finally{Cg=null,YG=_,Sp=!1}g=void 0}}finally{g?o7():bG=!1}}}function C3(){bG||(bG=!0,o7())}function Zp(x,g){N7=y3(function(){x(l_())},g)}var l_=void 0,Ap,fG,up,X_,CO,Gh=1,Cg=null,YG=3,Sp=!1,v7=!1,y7=!1,y3,N3,v3,bG=!1,N7=-1,wh=5,k3=-1,o7,hG,rp,jp=5,Up=1,Qp=4,Y8=3,Dp=2,Ep=function(x){x.callback=null},np=function(){return YG},Bp=function(){},c8=function(x,g,_){var O=l_();switch(typeof _==="object"&&_!==null?(_=_.delay,_=typeof _==="number"&&0<_?O+_:O):_=O,x){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5000}return l=_+l,x={id:Gh++,callback:g,priorityLevel:x,startTime:_,expirationTime:l,sortIndex:-1},_>O?(x.sortIndex=_,Fp(CO,x),O_(X_)===null&&x===O_(CO)&&(y7?(N3(N7),N7=-1):y7=!0,Zp(Ip,_-O))):(x.sortIndex=l,Fp(X_,x),v7||Sp||(v7=!0,C3())),x},$p;var d3=z7(()=>{if(typeof performance==="object"&&typeof performance.now==="function")Ap=performance,l_=function(){return Ap.now()};else fG=Date,up=fG.now(),l_=function(){return fG.now()-up};X_=[],CO=[],y3=typeof setTimeout==="function"?setTimeout:null,N3=typeof clearTimeout==="function"?clearTimeout:null,v3=typeof setImmediate!=="undefined"?setImmediate:null;if(typeof v3==="function")o7=function(){v3(Xp)};else if(typeof MessageChannel!=="undefined")hG=new MessageChannel,rp=hG.port2,hG.port1.onmessage=Xp,o7=function(){rp.postMessage(null)};else o7=function(){y3(Xp,0)};$p=q3});function k7(x,g,_){this.props=x,this.context=g,this.refs=f3,this.updater=_||M3}function Y3(){}function c3(x,g,_){this.props=x,this.context=g,this.refs=f3,this.updater=_||M3}var dr,Mr,fr,Yr,cr,hr,Kr,br,mr,Vr,Lr,M3,ph,f3,ip,mG,q7,G_=function(x,g){return mG.H.useEffect(x,g)},Qg=function(x){return mG.H.useRef(x)},_g=function(x){return mG.H.useState(x)},Hp="19.0.0";var dO=z7(()=>{dr=Symbol.for("react.transitional.element"),Mr=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Yr=Symbol.for("react.strict_mode"),cr=Symbol.for("react.profiler"),hr=Symbol.for("react.consumer"),Kr=Symbol.for("react.context"),br=Symbol.for("react.forward_ref"),mr=Symbol.for("react.suspense"),Vr=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),M3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ph=Object.assign,f3={};k7.prototype.isReactComponent={};k7.prototype.setState=function(x,g){if(typeof x!=="object"&&typeof x!=="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,g,"setState")};k7.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};Y3.prototype=k7.prototype;ip=c3.prototype=new Y3;ip.constructor=c3;ph(ip,k7.prototype);ip.isPureReactComponent=!0;mG={H:null,A:null,T:null,S:null};q7=mG});var b3=k0((vh)=>{dO();function K3(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function MO(){}var Ix={d:{f:MO,r:function(){throw Error(K3(522))},D:MO,C:MO,L:MO,m:MO,X:MO,S:MO,M:MO},p:0,findDOMNode:null},zh=Symbol.for("react.portal");function oh(x,g,_){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zh,key:O==null?null:""+O,children:x,containerInfo:g,implementation:_}}var C7=q7;function VG(x,g){if(x==="font")return"";if(typeof g==="string")return g==="use-credentials"?g:""}vh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ix;vh.createPortal=function(x,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(K3(299));return oh(x,g,null,_)};vh.flushSync=function(x){var g=C7.T,_=Ix.p;try{if(C7.T=null,Ix.p=2,x)return x()}finally{C7.T=g,Ix.p=_,Ix.d.f()}};vh.preconnect=function(x,g){typeof x==="string"&&(g?(g=g.crossOrigin,g=typeof g==="string"?g==="use-credentials"?g:"":void 0):g=null,Ix.d.C(x,g))};vh.prefetchDNS=function(x){typeof x==="string"&&Ix.d.D(x)};vh.preinit=function(x,g){if(typeof x==="string"&&g&&typeof g.as==="string"){var _=g.as,O=VG(_,g.crossOrigin),l=typeof g.integrity==="string"?g.integrity:void 0,G=typeof g.fetchPriority==="string"?g.fetchPriority:void 0;_==="style"?Ix.d.S(x,typeof g.precedence==="string"?g.precedence:void 0,{crossOrigin:O,integrity:l,fetchPriority:G}):_==="script"&&Ix.d.X(x,{crossOrigin:O,integrity:l,fetchPriority:G,nonce:typeof g.nonce==="string"?g.nonce:void 0})}};vh.preinitModule=function(x,g){if(typeof x==="string")if(typeof g==="object"&&g!==null){if(g.as==null||g.as==="script"){var _=VG(g.as,g.crossOrigin);Ix.d.M(x,{crossOrigin:_,integrity:typeof g.integrity==="string"?g.integrity:void 0,nonce:typeof g.nonce==="string"?g.nonce:void 0})}}else g==null&&Ix.d.M(x)};vh.preload=function(x,g){if(typeof x==="string"&&typeof g==="object"&&g!==null&&typeof g.as==="string"){var _=g.as,O=VG(_,g.crossOrigin);Ix.d.L(x,_,{crossOrigin:O,integrity:typeof g.integrity==="string"?g.integrity:void 0,nonce:typeof g.nonce==="string"?g.nonce:void 0,type:typeof g.type==="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority==="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy==="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet==="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes==="string"?g.imageSizes:void 0,media:typeof g.media==="string"?g.media:void 0})}};vh.preloadModule=function(x,g){if(typeof x==="string")if(g){var _=VG(g.as,g.crossOrigin);Ix.d.m(x,{as:typeof g.as==="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity==="string"?g.integrity:void 0})}else Ix.d.m(x)};vh.requestFormReset=function(x){Ix.d.r(x)};vh.unstable_batchedUpdates=function(x,g){return x(g)};vh.useFormState=function(x,g,_){return C7.H.useFormState(x,g,_)};vh.useFormStatus=function(){return C7.H.useHostTransitionStatus()};vh.version="19.0.0"});var L3=k0((Fr,V3)=>{function m3(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m3)}catch(x){console.error(x)}}m3(),V3.exports=b3()});var Yq=k0((sK)=>{d3();dO();var i1=Vp(L3(),1);function P(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function H1(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}var Vh=Symbol.for("react.element"),LG=Symbol.for("react.transitional.element"),b7=Symbol.for("react.portal"),X8=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),hz=Symbol.for("react.profiler"),Lh=Symbol.for("react.provider"),a1=Symbol.for("react.consumer"),j_=Symbol.for("react.context"),Mo=Symbol.for("react.forward_ref"),Kz=Symbol.for("react.suspense"),bz=Symbol.for("react.suspense_list"),fo=Symbol.for("react.memo"),cO=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var P1=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var Xh=Symbol.for("react.memo_cache_sentinel"),X3=Symbol.iterator;function d7(x){if(x===null||typeof x!=="object")return null;return x=X3&&x[X3]||x["@@iterator"],typeof x==="function"?x:null}var Fh=Symbol.for("react.client.reference");function mz(x){if(x==null)return null;if(typeof x==="function")return x.$$typeof===Fh?null:x.displayName||x.name||null;if(typeof x==="string")return x;switch(x){case X8:return"Fragment";case b7:return"Portal";case hz:return"Profiler";case J1:return"StrictMode";case Kz:return"Suspense";case bz:return"SuspenseList"}if(typeof x==="object")switch(x.$$typeof){case j_:return(x.displayName||"Context")+".Provider";case a1:return(x._context.displayName||"Context")+".Consumer";case Mo:var g=x.render;return x=x.displayName,x||(x=g.displayName||g.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case fo:return g=x.displayName||null,g!==null?g:mz(x.type)||"Memo";case cO:g=x._payload,x=x._init;try{return mz(x(g))}catch(_){}}return null}var Y0=q7,B0=Object.assign,Jp,F3;function m7(x){if(Jp===void 0)try{throw Error()}catch(_){var g=_.stack.trim().match(/\n( *(at )?)/);Jp=g&&g[1]||"",F3=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jp+x+F3}var ap=!1;function Pp(x,g){if(!x||ap)return"";ap=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(g){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(k){var v=k}Reflect.construct(x,[],y)}else{try{y.call()}catch(k){v=k}x.call(y.prototype)}}else{try{throw Error()}catch(k){v=k}(y=x())&&typeof y.catch==="function"&&y.catch(function(){})}}catch(k){if(k&&v&&typeof k.stack==="string")return[k.stack,v.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=O.DetermineComponentFrameRoot(),w=G[0],W=G[1];if(w&&W){var z=w.split(`
`),p=W.split(`
`);for(l=O=0;O<z.length&&!z[O].includes("DetermineComponentFrameRoot");)O++;for(;l<p.length&&!p[l].includes("DetermineComponentFrameRoot");)l++;if(O===z.length||l===p.length)for(O=z.length-1,l=p.length-1;1<=O&&0<=l&&z[O]!==p[l];)l--;for(;1<=O&&0<=l;O--,l--)if(z[O]!==p[l]){if(O!==1||l!==1)do if(O--,l--,0>l||z[O]!==p[l]){var o=`
`+z[O].replace(" at new "," at ");return x.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",x.displayName)),o}while(1<=O&&0<=l);break}}}finally{ap=!1,Error.prepareStackTrace=_}return(_=x?x.displayName||x.name:"")?m7(_):""}function Ah(x){switch(x.tag){case 26:case 27:case 5:return m7(x.type);case 16:return m7("Lazy");case 13:return m7("Suspense");case 19:return m7("SuspenseList");case 0:case 15:return x=Pp(x.type,!1),x;case 11:return x=Pp(x.type.render,!1),x;case 1:return x=Pp(x.type,!0),x;default:return""}}function A3(x){try{var g="";do g+=Ah(x),x=x.return;while(x);return g}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function _l(x){var g=x,_=x;if(x.alternate)for(;g.return;)g=g.return;else{x=g;do g=x,(g.flags&4098)!==0&&(_=g.return),x=g.return;while(x)}return g.tag===3?_:null}function R1(x){if(x.tag===13){var g=x.memoizedState;if(g===null&&(x=x.alternate,x!==null&&(g=x.memoizedState)),g!==null)return g.dehydrated}return null}function u3(x){if(_l(x)!==x)throw Error(P(188))}function uh(x){var g=x.alternate;if(!g){if(g=_l(x),g===null)throw Error(P(188));return g!==x?null:x}for(var _=x,O=g;;){var l=_.return;if(l===null)break;var G=l.alternate;if(G===null){if(O=l.return,O!==null){_=O;continue}break}if(l.child===G.child){for(G=l.child;G;){if(G===_)return u3(l),x;if(G===O)return u3(l),g;G=G.sibling}throw Error(P(188))}if(_.return!==O.return)_=l,O=G;else{for(var w=!1,W=l.child;W;){if(W===_){w=!0,_=l,O=G;break}if(W===O){w=!0,O=l,_=G;break}W=W.sibling}if(!w){for(W=G.child;W;){if(W===_){w=!0,_=G,O=l;break}if(W===O){w=!0,O=G,_=l;break}W=W.sibling}if(!w)throw Error(P(189))}}if(_.alternate!==O)throw Error(P(190))}if(_.tag!==3)throw Error(P(188));return _.stateNode.current===_?x:g}function T1(x){var g=x.tag;if(g===5||g===26||g===27||g===6)return x;for(x=x.child;x!==null;){if(g=T1(x),g!==null)return g;x=x.sibling}return null}var V7=Array.isArray,n0=i1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,h6={pending:!1,data:null,method:null,action:null},Vz=[],F8=-1;function y_(x){return{current:x}}function cx(x){0>F8||(x.current=Vz[F8],Vz[F8]=null,F8--)}function i0(x,g){F8++,Vz[F8]=x.current,x.current=g}var p_=y_(null),P7=y_(null),FO=y_(null),xw=y_(null);function gw(x,g){switch(i0(FO,g),i0(P7,x),i0(p_,null),x=g.nodeType,x){case 9:case 11:g=(g=g.documentElement)?(g=g.namespaceURI)?u1(g):0:0;break;default:if(x=x===8?g.parentNode:g,g=x.tagName,x=x.namespaceURI)x=u1(x),g=pq(x,g);else switch(g){case"svg":g=1;break;case"math":g=2;break;default:g=0}}cx(p_),i0(p_,g)}function a8(){cx(p_),cx(P7),cx(FO)}function Lz(x){x.memoizedState!==null&&i0(xw,x);var g=p_.current,_=pq(g,x.type);g!==_&&(i0(P7,x),i0(p_,_))}function _w(x){P7.current===x&&(cx(p_),cx(P7)),xw.current===x&&(cx(xw),G9._currentValue=h6)}var Xz=Object.prototype.hasOwnProperty,Yo=c8,Rp=Ep,Sh=$p,rh=Bp,z_=l_,Ih=np,s1=Up,t1=Dp,Ow=Y8,Zh=Qp,e1=jp,jh=void 0,Uh=void 0,z9=null,wg=null;function Qh(x){if(wg&&typeof wg.onCommitFiberRoot==="function")try{wg.onCommitFiberRoot(z9,x,void 0,(x.current.flags&128)===128)}catch(g){}}function LO(x){if(typeof jh==="function"&&Uh(x),wg&&typeof wg.setStrictMode==="function")try{wg.setStrictMode(z9,x)}catch(g){}}var Wg=Math.clz32?Math.clz32:nh,Dh=Math.log,Eh=Math.LN2;function nh(x){return x>>>=0,x===0?32:31-(Dh(x)/Eh|0)|0}var XG=128,FG=4194304;function C6(x){var g=x&42;if(g!==0)return g;switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return x&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return x}}function Xw(x,g){var _=x.pendingLanes;if(_===0)return 0;var O=0,l=x.suspendedLanes,G=x.pingedLanes,w=x.warmLanes;x=x.finishedLanes!==0;var W=_&134217727;return W!==0?(_=W&~l,_!==0?O=C6(_):(G&=W,G!==0?O=C6(G):x||(w=W&~w,w!==0&&(O=C6(w))))):(W=_&~l,W!==0?O=C6(W):G!==0?O=C6(G):x||(w=_&~w,w!==0&&(O=C6(w)))),O===0?0:g!==0&&g!==O&&(g&l)===0&&(l=O&-O,w=g&-g,l>=w||l===32&&(w&4194176)!==0)?g:O}function o9(x,g){return(x.pendingLanes&~(x.suspendedLanes&~x.pingedLanes)&g)===0}function Bh(x,g){switch(x){case 1:case 2:case 4:case 8:return g+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xN(){var x=XG;return XG<<=1,(XG&4194176)===0&&(XG=128),x}function gN(){var x=FG;return FG<<=1,(FG&62914560)===0&&(FG=4194304),x}function Tp(x){for(var g=[],_=0;31>_;_++)g.push(x);return g}function v9(x,g){x.pendingLanes|=g,g!==268435456&&(x.suspendedLanes=0,x.pingedLanes=0,x.warmLanes=0)}function $h(x,g,_,O,l,G){var w=x.pendingLanes;x.pendingLanes=_,x.suspendedLanes=0,x.pingedLanes=0,x.warmLanes=0,x.expiredLanes&=_,x.entangledLanes&=_,x.errorRecoveryDisabledLanes&=_,x.shellSuspendCounter=0;var{entanglements:W,expirationTimes:z,hiddenUpdates:p}=x;for(_=w&~_;0<_;){var o=31-Wg(_),y=1<<o;W[o]=0,z[o]=-1;var v=p[o];if(v!==null)for(p[o]=null,o=0;o<v.length;o++){var k=v[o];k!==null&&(k.lane&=-536870913)}_&=~y}O!==0&&_N(x,O,0),G!==0&&l===0&&x.tag!==0&&(x.suspendedLanes|=G&~(w&~g))}function _N(x,g,_){x.pendingLanes|=g,x.suspendedLanes&=~g;var O=31-Wg(g);x.entangledLanes|=g,x.entanglements[O]=x.entanglements[O]|1073741824|_&4194218}function ON(x,g){var _=x.entangledLanes|=g;for(x=x.entanglements;_;){var O=31-Wg(_),l=1<<O;l&g|x[O]&g&&(x[O]|=g),_&=~l}}function lN(x){return x&=-x,2<x?8<x?(x&134217727)!==0?32:268435456:8:2}function GN(){var x=n0.p;if(x!==0)return x;return x=window.event,x===void 0?32:Mq(x.type)}function ih(x,g){var _=n0.p;try{return n0.p=x,g()}finally{n0.p=_}}var nO=Math.random().toString(36).slice(2),Ax="__reactFiber$"+nO,Hx="__reactProps$"+nO,Ol="__reactContainer$"+nO,Fz="__reactEvents$"+nO,Hh="__reactListeners$"+nO,Jh="__reactHandles$"+nO,S3="__reactResources$"+nO,R7="__reactMarker$"+nO;function co(x){delete x[Ax],delete x[Hx],delete x[Fz],delete x[Hh],delete x[Jh]}function Y6(x){var g=x[Ax];if(g)return g;for(var _=x.parentNode;_;){if(g=_[Ol]||_[Ax]){if(_=g.alternate,g.child!==null||_!==null&&_.child!==null)for(x=r1(x);x!==null;){if(_=x[Ax])return _;x=r1(x)}return g}x=_,_=x.parentNode}return null}function ll(x){if(x=x[Ax]||x[Ol]){var g=x.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return x}return null}function L7(x){var g=x.tag;if(g===5||g===26||g===27||g===6)return x.stateNode;throw Error(P(33))}function D8(x){var g=x[S3];return g||(g=x[S3]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function fx(x){x[R7]=!0}var wN=new Set,WN={};function r6(x,g){P8(x,g),P8(x+"Capture",g)}function P8(x,g){WN[x]=g;for(x=0;x<g.length;x++)wN.add(g[x])}var B_=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),ah=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),r3={},I3={};function Ph(x){if(Xz.call(I3,x))return!0;if(Xz.call(r3,x))return!1;if(ah.test(x))return I3[x]=!0;return r3[x]=!0,!1}function nG(x,g,_){if(Ph(g))if(_===null)x.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":x.removeAttribute(g);return;case"boolean":var O=g.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){x.removeAttribute(g);return}}x.setAttribute(g,""+_)}}function AG(x,g,_){if(_===null)x.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":x.removeAttribute(g);return}x.setAttribute(g,""+_)}}function F_(x,g,_,O){if(O===null)x.removeAttribute(_);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":x.removeAttribute(_);return}x.setAttributeNS(g,_,""+O)}}function Yg(x){switch(typeof x){case"bigint":case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function pN(x){var g=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function Rh(x){var g=pN(x)?"checked":"value",_=Object.getOwnPropertyDescriptor(x.constructor.prototype,g),O=""+x[g];if(!x.hasOwnProperty(g)&&typeof _!=="undefined"&&typeof _.get==="function"&&typeof _.set==="function"){var{get:l,set:G}=_;return Object.defineProperty(x,g,{configurable:!0,get:function(){return l.call(this)},set:function(w){O=""+w,G.call(this,w)}}),Object.defineProperty(x,g,{enumerable:_.enumerable}),{getValue:function(){return O},setValue:function(w){O=""+w},stopTracking:function(){x._valueTracker=null,delete x[g]}}}}function lw(x){x._valueTracker||(x._valueTracker=Rh(x))}function zN(x){if(!x)return!1;var g=x._valueTracker;if(!g)return!0;var _=g.getValue(),O="";return x&&(O=pN(x)?x.checked?"true":"false":x.value),x=O,x!==_?(g.setValue(x),!0):!1}function Gw(x){if(x=x||(typeof document!=="undefined"?document:void 0),typeof x==="undefined")return null;try{return x.activeElement||x.body}catch(g){return x.body}}var Th=/[\n"\\]/g;function Kg(x){return x.replace(Th,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function Az(x,g,_,O,l,G,w,W){if(x.name="",w!=null&&typeof w!=="function"&&typeof w!=="symbol"&&typeof w!=="boolean"?x.type=w:x.removeAttribute("type"),g!=null)if(w==="number"){if(g===0&&x.value===""||x.value!=g)x.value=""+Yg(g)}else x.value!==""+Yg(g)&&(x.value=""+Yg(g));else w!=="submit"&&w!=="reset"||x.removeAttribute("value");g!=null?uz(x,w,Yg(g)):_!=null?uz(x,w,Yg(_)):O!=null&&x.removeAttribute("value"),l==null&&G!=null&&(x.defaultChecked=!!G),l!=null&&(x.checked=l&&typeof l!=="function"&&typeof l!=="symbol"),W!=null&&typeof W!=="function"&&typeof W!=="symbol"&&typeof W!=="boolean"?x.name=""+Yg(W):x.removeAttribute("name")}function oN(x,g,_,O,l,G,w,W){if(G!=null&&typeof G!=="function"&&typeof G!=="symbol"&&typeof G!=="boolean"&&(x.type=G),g!=null||_!=null){if(!(G!=="submit"&&G!=="reset"||g!==void 0&&g!==null))return;_=_!=null?""+Yg(_):"",g=g!=null?""+Yg(g):_,W||g===x.value||(x.value=g),x.defaultValue=g}O=O!=null?O:l,O=typeof O!=="function"&&typeof O!=="symbol"&&!!O,x.checked=W?x.checked:!!O,x.defaultChecked=!!O,w!=null&&typeof w!=="function"&&typeof w!=="symbol"&&typeof w!=="boolean"&&(x.name=w)}function uz(x,g,_){g==="number"&&Gw(x.ownerDocument)===x||x.defaultValue===""+_||(x.defaultValue=""+_)}function E8(x,g,_,O){if(x=x.options,g){g={};for(var l=0;l<_.length;l++)g["$"+_[l]]=!0;for(_=0;_<x.length;_++)l=g.hasOwnProperty("$"+x[_].value),x[_].selected!==l&&(x[_].selected=l),l&&O&&(x[_].defaultSelected=!0)}else{_=""+Yg(_),g=null;for(l=0;l<x.length;l++){if(x[l].value===_){x[l].selected=!0,O&&(x[l].defaultSelected=!0);return}g!==null||x[l].disabled||(g=x[l])}g!==null&&(g.selected=!0)}}function vN(x,g,_){if(g!=null&&(g=""+Yg(g),g!==x.value&&(x.value=g),_==null)){x.defaultValue!==g&&(x.defaultValue=g);return}x.defaultValue=_!=null?""+Yg(_):""}function yN(x,g,_,O){if(g==null){if(O!=null){if(_!=null)throw Error(P(92));if(V7(O)){if(1<O.length)throw Error(P(93));O=O[0]}_=O}_==null&&(_=""),g=_}_=Yg(g),x.defaultValue=_,O=x.textContent,O===_&&O!==""&&O!==null&&(x.value=O)}function R8(x,g){if(g){var _=x.firstChild;if(_&&_===x.lastChild&&_.nodeType===3){_.nodeValue=g;return}}x.textContent=g}var sh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Z3(x,g,_){var O=g.indexOf("--")===0;_==null||typeof _==="boolean"||_===""?O?x.setProperty(g,""):g==="float"?x.cssFloat="":x[g]="":O?x.setProperty(g,_):typeof _!=="number"||_===0||sh.has(g)?g==="float"?x.cssFloat=_:x[g]=(""+_).trim():x[g]=_+"px"}function NN(x,g,_){if(g!=null&&typeof g!=="object")throw Error(P(62));if(x=x.style,_!=null){for(var O in _)!_.hasOwnProperty(O)||g!=null&&g.hasOwnProperty(O)||(O.indexOf("--")===0?x.setProperty(O,""):O==="float"?x.cssFloat="":x[O]="");for(var l in g)O=g[l],g.hasOwnProperty(l)&&_[l]!==O&&Z3(x,l,O)}else for(var G in g)g.hasOwnProperty(G)&&Z3(x,G,g[G])}function ho(x){if(x.indexOf("-")===-1)return!1;switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function BG(x){return eh.test(""+x)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":x}var Sz=null;function Ko(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var A8=null,n8=null;function j3(x){var g=ll(x);if(g&&(x=g.stateNode)){var _=x[Hx]||null;x:switch(x=g.stateNode,g.type){case"input":if(Az(x,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),g=_.name,_.type==="radio"&&g!=null){for(_=x;_.parentNode;)_=_.parentNode;_=_.querySelectorAll('input[name="'+Kg(""+g)+'"][type="radio"]');for(g=0;g<_.length;g++){var O=_[g];if(O!==x&&O.form===x.form){var l=O[Hx]||null;if(!l)throw Error(P(90));Az(O,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(g=0;g<_.length;g++)O=_[g],O.form===x.form&&zN(O)}break x;case"textarea":vN(x,_.value,_.defaultValue);break x;case"select":g=_.value,g!=null&&E8(x,!!_.multiple,g,!1)}}}var sp=!1;function kN(x,g,_){if(sp)return x(g,_);sp=!0;try{var O=x(g);return O}finally{if(sp=!1,A8!==null||n8!==null){if(Qw(),A8&&(g=A8,x=n8,n8=A8=null,j3(g),x))for(g=0;g<x.length;g++)j3(x[g])}}}function T7(x,g){var _=x.stateNode;if(_===null)return null;var O=_[Hx]||null;if(O===null)return null;_=O[g];x:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(x=x.type,O=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!O;break x;default:x=!1}if(x)return null;if(_&&typeof _!=="function")throw Error(P(231,g,typeof _));return _}var rz=!1;if(B_)try{d6={},Object.defineProperty(d6,"passive",{get:function(){rz=!0}}),window.addEventListener("test",d6,d6),window.removeEventListener("test",d6,d6)}catch(x){rz=!1}var d6,XO=null,bo=null,$G=null;function qN(){if($G)return $G;var x,g=bo,_=g.length,O,l="value"in XO?XO.value:XO.textContent,G=l.length;for(x=0;x<_&&g[x]===l[x];x++);var w=_-x;for(O=1;O<=w&&g[_-O]===l[G-O];O++);return $G=l.slice(x,1<O?1-O:void 0)}function iG(x){var g=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&g===13&&(x=13)):x=g,x===10&&(x=13),32<=x||x===13?x:0}function uG(){return!0}function U3(){return!1}function Jx(x){function g(_,O,l,G,w){this._reactName=_,this._targetInst=l,this.type=O,this.nativeEvent=G,this.target=w,this.currentTarget=null;for(var W in x)x.hasOwnProperty(W)&&(_=x[W],this[W]=_?_(G):G[W]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?uG:U3,this.isPropagationStopped=U3,this}return B0(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!=="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=uG)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!=="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=uG)},persist:function(){},isPersistent:uG}),g}var I6={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fw=Jx(I6),y9=B0({},I6,{view:0,detail:0}),x4=Jx(y9),tp,ep,M7,Aw=B0({},y9,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){if("movementX"in x)return x.movementX;return x!==M7&&(M7&&x.type==="mousemove"?(tp=x.screenX-M7.screenX,ep=x.screenY-M7.screenY):ep=tp=0,M7=x),tp},movementY:function(x){return"movementY"in x?x.movementY:ep}}),Q3=Jx(Aw),g4=B0({},Aw,{dataTransfer:0}),_4=Jx(g4),O4=B0({},y9,{relatedTarget:0}),xz=Jx(O4),l4=B0({},I6,{animationName:0,elapsedTime:0,pseudoElement:0}),G4=Jx(l4),w4=B0({},I6,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),W4=Jx(w4),p4=B0({},I6,{data:0}),D3=Jx(p4),z4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y4(x){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(x):(x=v4[x])?!!g[x]:!1}function mo(){return y4}var N4=B0({},y9,{key:function(x){if(x.key){var g=z4[x.key]||x.key;if(g!=="Unidentified")return g}return x.type==="keypress"?(x=iG(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?o4[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(x){return x.type==="keypress"?iG(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?iG(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),k4=Jx(N4),q4=B0({},Aw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E3=Jx(q4),C4=B0({},y9,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),d4=Jx(C4),M4=B0({},I6,{propertyName:0,elapsedTime:0,pseudoElement:0}),f4=Jx(M4),Y4=B0({},Aw,{deltaX:function(x){return"deltaX"in x?x.deltaX:("wheelDeltaX"in x)?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:("wheelDeltaY"in x)?-x.wheelDeltaY:("wheelDelta"in x)?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),c4=Jx(Y4),h4=B0({},I6,{newState:0,oldState:0}),K4=Jx(h4),b4=[9,13,27,32],Vo=B_&&"CompositionEvent"in window,r7=null;B_&&"documentMode"in document&&(r7=document.documentMode);var m4=B_&&"TextEvent"in window&&!r7,CN=B_&&(!Vo||r7&&8<r7&&11>=r7),n3=String.fromCharCode(32),B3=!1;function dN(x,g){switch(x){case"keyup":return b4.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MN(x){return x=x.detail,typeof x==="object"&&"data"in x?x.data:null}var u8=!1;function V4(x,g){switch(x){case"compositionend":return MN(g);case"keypress":if(g.which!==32)return null;return B3=!0,n3;case"textInput":return x=g.data,x===n3&&B3?null:x;default:return null}}function L4(x,g){if(u8)return x==="compositionend"||!Vo&&dN(x,g)?(x=qN(),$G=bo=XO=null,u8=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return CN&&g.locale!=="ko"?null:g.data;default:return null}}var X4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $3(x){var g=x&&x.nodeName&&x.nodeName.toLowerCase();return g==="input"?!!X4[x.type]:g==="textarea"?!0:!1}function fN(x,g,_,O){A8?n8?n8.push(O):n8=[O]:A8=O,g=cw(g,"onChange"),0<g.length&&(_=new Fw("onChange","change",null,_,O),x.push({event:_,listeners:g}))}var I7=null,s7=null;function F4(x){Gq(x,0)}function uw(x){var g=L7(x);if(zN(g))return x}function i3(x,g){if(x==="change")return g}var YN=!1;if(B_){if(B_){if(F7="oninput"in document,!F7)HG=document.createElement("div"),HG.setAttribute("oninput","return;"),F7=typeof HG.oninput==="function";X7=F7}else X7=!1;YN=X7&&(!document.documentMode||9<document.documentMode)}var X7,F7,HG;function H3(){I7&&(I7.detachEvent("onpropertychange",cN),s7=I7=null)}function cN(x){if(x.propertyName==="value"&&uw(s7)){var g=[];fN(g,s7,x,Ko(x)),kN(F4,g)}}function A4(x,g,_){x==="focusin"?(H3(),I7=g,s7=_,I7.attachEvent("onpropertychange",cN)):x==="focusout"&&H3()}function u4(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return uw(s7)}function S4(x,g){if(x==="click")return uw(g)}function r4(x,g){if(x==="input"||x==="change")return uw(g)}function I4(x,g){return x===g&&(x!==0||1/x===1/g)||x!==x&&g!==g}var zg=typeof Object.is==="function"?Object.is:I4;function t7(x,g){if(zg(x,g))return!0;if(typeof x!=="object"||x===null||typeof g!=="object"||g===null)return!1;var _=Object.keys(x),O=Object.keys(g);if(_.length!==O.length)return!1;for(O=0;O<_.length;O++){var l=_[O];if(!Xz.call(g,l)||!zg(x[l],g[l]))return!1}return!0}function J3(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function a3(x,g){var _=J3(x);x=0;for(var O;_;){if(_.nodeType===3){if(O=x+_.textContent.length,x<=g&&O>=g)return{node:_,offset:g-x};x=O}x:{for(;_;){if(_.nextSibling){_=_.nextSibling;break x}_=_.parentNode}_=void 0}_=J3(_)}}function hN(x,g){return x&&g?x===g?!0:x&&x.nodeType===3?!1:g&&g.nodeType===3?hN(x,g.parentNode):("contains"in x)?x.contains(g):x.compareDocumentPosition?!!(x.compareDocumentPosition(g)&16):!1:!1}function KN(x){x=x!=null&&x.ownerDocument!=null&&x.ownerDocument.defaultView!=null?x.ownerDocument.defaultView:window;for(var g=Gw(x.document);g instanceof x.HTMLIFrameElement;){try{var _=typeof g.contentWindow.location.href==="string"}catch(O){_=!1}if(_)x=g.contentWindow;else break;g=Gw(x.document)}return g}function Lo(x){var g=x&&x.nodeName&&x.nodeName.toLowerCase();return g&&(g==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||g==="textarea"||x.contentEditable==="true")}function Z4(x,g){var _=KN(g);g=x.focusedElem;var O=x.selectionRange;if(_!==g&&g&&g.ownerDocument&&hN(g.ownerDocument.documentElement,g)){if(O!==null&&Lo(g)){if(x=O.start,_=O.end,_===void 0&&(_=x),"selectionStart"in g)g.selectionStart=x,g.selectionEnd=Math.min(_,g.value.length);else if(_=(x=g.ownerDocument||document)&&x.defaultView||window,_.getSelection){_=_.getSelection();var l=g.textContent.length,G=Math.min(O.start,l);O=O.end===void 0?G:Math.min(O.end,l),!_.extend&&G>O&&(l=O,O=G,G=l),l=a3(g,G);var w=a3(g,O);l&&w&&(_.rangeCount!==1||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==w.node||_.focusOffset!==w.offset)&&(x=x.createRange(),x.setStart(l.node,l.offset),_.removeAllRanges(),G>O?(_.addRange(x),_.extend(w.node,w.offset)):(x.setEnd(w.node,w.offset),_.addRange(x)))}}x=[];for(_=g;_=_.parentNode;)_.nodeType===1&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});typeof g.focus==="function"&&g.focus();for(g=0;g<x.length;g++)_=x[g],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}var j4=B_&&"documentMode"in document&&11>=document.documentMode,S8=null,Iz=null,Z7=null,Zz=!1;function P3(x,g,_){var O=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;Zz||S8==null||S8!==Gw(O)||(O=S8,("selectionStart"in O)&&Lo(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),Z7&&t7(Z7,O)||(Z7=O,O=cw(Iz,"onSelect"),0<O.length&&(g=new Fw("onSelect","select",null,g,_),x.push({event:g,listeners:O}),g.target=S8)))}function q6(x,g){var _={};return _[x.toLowerCase()]=g.toLowerCase(),_["Webkit"+x]="webkit"+g,_["Moz"+x]="moz"+g,_}var r8={animationend:q6("Animation","AnimationEnd"),animationiteration:q6("Animation","AnimationIteration"),animationstart:q6("Animation","AnimationStart"),transitionrun:q6("Transition","TransitionRun"),transitionstart:q6("Transition","TransitionStart"),transitioncancel:q6("Transition","TransitionCancel"),transitionend:q6("Transition","TransitionEnd")},gz={},bN={};B_&&(bN=document.createElement("div").style,("AnimationEvent"in window)||(delete r8.animationend.animation,delete r8.animationiteration.animation,delete r8.animationstart.animation),("TransitionEvent"in window)||delete r8.transitionend.transition);function Z6(x){if(gz[x])return gz[x];if(!r8[x])return x;var g=r8[x],_;for(_ in g)if(g.hasOwnProperty(_)&&_ in bN)return gz[x]=g[_];return x}var mN=Z6("animationend"),VN=Z6("animationiteration"),LN=Z6("animationstart"),U4=Z6("transitionrun"),Q4=Z6("transitionstart"),D4=Z6("transitioncancel"),XN=Z6("transitionend"),FN=new Map,R3="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bg(x,g){FN.set(x,g),r6(g,[x])}var fg=[],I8=0,Xo=0;function Sw(){for(var x=I8,g=Xo=I8=0;g<x;){var _=fg[g];fg[g++]=null;var O=fg[g];fg[g++]=null;var l=fg[g];fg[g++]=null;var G=fg[g];if(fg[g++]=null,O!==null&&l!==null){var w=O.pending;w===null?l.next=l:(l.next=w.next,w.next=l),O.pending=l}G!==0&&AN(_,l,G)}}function rw(x,g,_,O){fg[I8++]=x,fg[I8++]=g,fg[I8++]=_,fg[I8++]=O,Xo|=O,x.lanes|=O,x=x.alternate,x!==null&&(x.lanes|=O)}function Fo(x,g,_,O){return rw(x,g,_,O),ww(x)}function UO(x,g){return rw(x,null,null,g),ww(x)}function AN(x,g,_){x.lanes|=_;var O=x.alternate;O!==null&&(O.lanes|=_);for(var l=!1,G=x.return;G!==null;)G.childLanes|=_,O=G.alternate,O!==null&&(O.childLanes|=_),G.tag===22&&(x=G.stateNode,x===null||x._visibility&1||(l=!0)),x=G,G=G.return;l&&g!==null&&x.tag===3&&(G=x.stateNode,l=31-Wg(_),G=G.hiddenUpdates,x=G[l],x===null?G[l]=[g]:x.push(g),g.lane=_|536870912)}function ww(x){if(50<a7)throw a7=0,Oo=null,Error(P(185));for(var g=x.return;g!==null;)x=g,g=x.return;return x.tag===3?x.stateNode:null}var Z8={},T3=new WeakMap;function bg(x,g){if(typeof x==="object"&&x!==null){var _=T3.get(x);if(_!==void 0)return _;return g={value:x,source:g,stack:A3(g)},T3.set(x,g),g}return{value:x,source:g,stack:A3(g)}}var j8=[],U8=0,Ww=null,pw=0,cg=[],hg=0,K6=null,U_=1,Q_="";function M6(x,g){j8[U8++]=pw,j8[U8++]=Ww,Ww=x,pw=g}function uN(x,g,_){cg[hg++]=U_,cg[hg++]=Q_,cg[hg++]=K6,K6=x;var O=U_;x=Q_;var l=32-Wg(O)-1;O&=~(1<<l),_+=1;var G=32-Wg(g)+l;if(30<G){var w=l-l%5;G=(O&(1<<w)-1).toString(32),O>>=w,l-=w,U_=1<<32-Wg(g)+l|_<<l|O,Q_=G+x}else U_=1<<G|_<<l|O,Q_=x}function Ao(x){x.return!==null&&(M6(x,1),uN(x,1,0))}function uo(x){for(;x===Ww;)Ww=j8[--U8],j8[U8]=null,pw=j8[--U8],j8[U8]=null;for(;x===K6;)K6=cg[--hg],cg[hg]=null,Q_=cg[--hg],cg[hg]=null,U_=cg[--hg],cg[hg]=null}var Zx=null,bx=null,F0=!1,Eg=null,w_=!1,jz=Error(P(519));function X6(x){var g=Error(P(418,""));throw e7(bg(g,x)),jz}function s3(x){var{stateNode:g,type:_,memoizedProps:O}=x;switch(g[Ax]=x,g[Hx]=O,_){case"dialog":m0("cancel",g),m0("close",g);break;case"iframe":case"object":case"embed":m0("load",g);break;case"video":case"audio":for(_=0;_<_9.length;_++)m0(_9[_],g);break;case"source":m0("error",g);break;case"img":case"image":case"link":m0("error",g),m0("load",g);break;case"details":m0("toggle",g);break;case"input":m0("invalid",g),oN(g,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0),lw(g);break;case"select":m0("invalid",g);break;case"textarea":m0("invalid",g),yN(g,O.value,O.defaultValue,O.children),lw(g)}_=O.children,typeof _!=="string"&&typeof _!=="number"&&typeof _!=="bigint"||g.textContent===""+_||O.suppressHydrationWarning===!0||Wq(g.textContent,_)?(O.popover!=null&&(m0("beforetoggle",g),m0("toggle",g)),O.onScroll!=null&&m0("scroll",g),O.onScrollEnd!=null&&m0("scrollend",g),O.onClick!=null&&(g.onclick=Ew),g=!0):g=!1,g||X6(x)}function t3(x){for(Zx=x.return;Zx;)switch(Zx.tag){case 3:case 27:w_=!0;return;case 5:case 13:w_=!1;return;default:Zx=Zx.return}}function f7(x){if(x!==Zx)return!1;if(!F0)return t3(x),F0=!0,!1;var g=!1,_;if(_=x.tag!==3&&x.tag!==27){if(_=x.tag===5)_=x.type,_=!(_!=="form"&&_!=="button")||yo(x.type,x.memoizedProps);_=!_}if(_&&(g=!0),g&&bx&&X6(x),t3(x),x.tag===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(P(317));x:{x=x.nextSibling;for(g=0;x;){if(x.nodeType===8)if(_=x.data,_==="/$"){if(g===0){bx=ng(x.nextSibling);break x}g--}else _!=="$"&&_!=="$!"&&_!=="$?"||g++;x=x.nextSibling}bx=null}}else bx=Zx?ng(x.stateNode.nextSibling):null;return!0}function N9(){bx=Zx=null,F0=!1}function e7(x){Eg===null?Eg=[x]:Eg.push(x)}var j7=Error(P(460)),SN=Error(P(474)),Uz={then:function(){}};function e3(x){return x=x.status,x==="fulfilled"||x==="rejected"}function SG(){}function rN(x,g,_){switch(_=x[_],_===void 0?x.push(g):_!==g&&(g.then(SG,SG),g=_),g.status){case"fulfilled":return g.value;case"rejected":if(x=g.reason,x===j7)throw Error(P(483));throw x;default:if(typeof g.status==="string")g.then(SG,SG);else{if(x=D0,x!==null&&100<x.shellSuspendCounter)throw Error(P(482));x=g,x.status="pending",x.then(function(O){if(g.status==="pending"){var l=g;l.status="fulfilled",l.value=O}},function(O){if(g.status==="pending"){var l=g;l.status="rejected",l.reason=O}})}switch(g.status){case"fulfilled":return g.value;case"rejected":if(x=g.reason,x===j7)throw Error(P(483));throw x}throw U7=g,j7}}var U7=null;function x1(){if(U7===null)throw Error(P(459));var x=U7;return U7=null,x}var B8=null,x9=0;function rG(x){var g=x9;return x9+=1,B8===null&&(B8=[]),rN(B8,x,g)}function Y7(x,g){g=g.props.ref,x.ref=g!==void 0?g:null}function IG(x,g){if(g.$$typeof===Vh)throw Error(P(525));throw x=Object.prototype.toString.call(g),Error(P(31,x==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":x))}function g1(x){var g=x._init;return g(x._payload)}function IN(x){function g(q,N){if(x){var C=q.deletions;C===null?(q.deletions=[N],q.flags|=16):C.push(N)}}function _(q,N){if(!x)return null;for(;N!==null;)g(q,N),N=N.sibling;return null}function O(q){for(var N=new Map;q!==null;)q.key!==null?N.set(q.key,q):N.set(q.index,q),q=q.sibling;return N}function l(q,N){return q=SO(q,N),q.index=0,q.sibling=null,q}function G(q,N,C){if(q.index=C,!x)return q.flags|=1048576,N;if(C=q.alternate,C!==null)return C=C.index,C<N?(q.flags|=33554434,N):C;return q.flags|=33554434,N}function w(q){return x&&q.alternate===null&&(q.flags|=33554434),q}function W(q,N,C,d){if(N===null||N.tag!==6)return N=Nz(C,q.mode,d),N.return=q,N;return N=l(N,C),N.return=q,N}function z(q,N,C,d){var c=C.type;if(c===X8)return o(q,N,C.props.children,d,C.key);if(N!==null&&(N.elementType===c||typeof c==="object"&&c!==null&&c.$$typeof===cO&&g1(c)===N.type))return N=l(N,C.props),Y7(N,C),N.return=q,N;return N=TG(C.type,C.key,C.props,null,q.mode,d),Y7(N,C),N.return=q,N}function p(q,N,C,d){if(N===null||N.tag!==4||N.stateNode.containerInfo!==C.containerInfo||N.stateNode.implementation!==C.implementation)return N=kz(C,q.mode,d),N.return=q,N;return N=l(N,C.children||[]),N.return=q,N}function o(q,N,C,d,c){if(N===null||N.tag!==7)return N=m6(C,q.mode,d,c),N.return=q,N;return N=l(N,C),N.return=q,N}function y(q,N,C){if(typeof N==="string"&&N!==""||typeof N==="number"||typeof N==="bigint")return N=Nz(""+N,q.mode,C),N.return=q,N;if(typeof N==="object"&&N!==null){switch(N.$$typeof){case LG:return C=TG(N.type,N.key,N.props,null,q.mode,C),Y7(C,N),C.return=q,C;case b7:return N=kz(N,q.mode,C),N.return=q,N;case cO:var d=N._init;return N=d(N._payload),y(q,N,C)}if(V7(N)||d7(N))return N=m6(N,q.mode,C,null),N.return=q,N;if(typeof N.then==="function")return y(q,rG(N),C);if(N.$$typeof===j_)return y(q,ZG(q,N),C);IG(q,N)}return null}function v(q,N,C,d){var c=N!==null?N.key:null;if(typeof C==="string"&&C!==""||typeof C==="number"||typeof C==="bigint")return c!==null?null:W(q,N,""+C,d);if(typeof C==="object"&&C!==null){switch(C.$$typeof){case LG:return C.key===c?z(q,N,C,d):null;case b7:return C.key===c?p(q,N,C,d):null;case cO:return c=C._init,C=c(C._payload),v(q,N,C,d)}if(V7(C)||d7(C))return c!==null?null:o(q,N,C,d,null);if(typeof C.then==="function")return v(q,N,rG(C),d);if(C.$$typeof===j_)return v(q,N,ZG(q,C),d);IG(q,C)}return null}function k(q,N,C,d,c){if(typeof d==="string"&&d!==""||typeof d==="number"||typeof d==="bigint")return q=q.get(C)||null,W(N,q,""+d,c);if(typeof d==="object"&&d!==null){switch(d.$$typeof){case LG:return q=q.get(d.key===null?C:d.key)||null,z(N,q,d,c);case b7:return q=q.get(d.key===null?C:d.key)||null,p(N,q,d,c);case cO:var A=d._init;return d=A(d._payload),k(q,N,C,d,c)}if(V7(d)||d7(d))return q=q.get(C)||null,o(N,q,d,c,null);if(typeof d.then==="function")return k(q,N,C,rG(d),c);if(d.$$typeof===j_)return k(q,N,C,ZG(N,d),c);IG(N,d)}return null}function M(q,N,C,d){for(var c=null,A=null,b=N,j=N=0,Q=null;b!==null&&j<C.length;j++){b.index>j?(Q=b,b=null):Q=b.sibling;var V=v(q,b,C[j],d);if(V===null){b===null&&(b=Q);break}x&&b&&V.alternate===null&&g(q,b),N=G(V,N,j),A===null?c=V:A.sibling=V,A=V,b=Q}if(j===C.length)return _(q,b),F0&&M6(q,j),c;if(b===null){for(;j<C.length;j++)b=y(q,C[j],d),b!==null&&(N=G(b,N,j),A===null?c=b:A.sibling=b,A=b);return F0&&M6(q,j),c}for(b=O(b);j<C.length;j++)Q=k(b,q,j,C[j],d),Q!==null&&(x&&Q.alternate!==null&&b.delete(Q.key===null?j:Q.key),N=G(Q,N,j),A===null?c=Q:A.sibling=Q,A=Q);return x&&b.forEach(function(u){return g(q,u)}),F0&&M6(q,j),c}function f(q,N,C,d){if(C==null)throw Error(P(151));for(var c=null,A=null,b=N,j=N=0,Q=null,V=C.next();b!==null&&!V.done;j++,V=C.next()){b.index>j?(Q=b,b=null):Q=b.sibling;var u=v(q,b,V.value,d);if(u===null){b===null&&(b=Q);break}x&&b&&u.alternate===null&&g(q,b),N=G(u,N,j),A===null?c=u:A.sibling=u,A=u,b=Q}if(V.done)return _(q,b),F0&&M6(q,j),c;if(b===null){for(;!V.done;j++,V=C.next())V=y(q,V.value,d),V!==null&&(N=G(V,N,j),A===null?c=V:A.sibling=V,A=V);return F0&&M6(q,j),c}for(b=O(b);!V.done;j++,V=C.next())V=k(b,q,j,V.value,d),V!==null&&(x&&V.alternate!==null&&b.delete(V.key===null?j:V.key),N=G(V,N,j),A===null?c=V:A.sibling=V,A=V);return x&&b.forEach(function(r){return g(q,r)}),F0&&M6(q,j),c}function Y(q,N,C,d){if(typeof C==="object"&&C!==null&&C.type===X8&&C.key===null&&(C=C.props.children),typeof C==="object"&&C!==null){switch(C.$$typeof){case LG:x:{for(var c=C.key;N!==null;){if(N.key===c){if(c=C.type,c===X8){if(N.tag===7){_(q,N.sibling),d=l(N,C.props.children),d.return=q,q=d;break x}}else if(N.elementType===c||typeof c==="object"&&c!==null&&c.$$typeof===cO&&g1(c)===N.type){_(q,N.sibling),d=l(N,C.props),Y7(d,C),d.return=q,q=d;break x}_(q,N);break}else g(q,N);N=N.sibling}C.type===X8?(d=m6(C.props.children,q.mode,d,C.key),d.return=q,q=d):(d=TG(C.type,C.key,C.props,null,q.mode,d),Y7(d,C),d.return=q,q=d)}return w(q);case b7:x:{for(c=C.key;N!==null;){if(N.key===c)if(N.tag===4&&N.stateNode.containerInfo===C.containerInfo&&N.stateNode.implementation===C.implementation){_(q,N.sibling),d=l(N,C.children||[]),d.return=q,q=d;break x}else{_(q,N);break}else g(q,N);N=N.sibling}d=kz(C,q.mode,d),d.return=q,q=d}return w(q);case cO:return c=C._init,C=c(C._payload),Y(q,N,C,d)}if(V7(C))return M(q,N,C,d);if(d7(C)){if(c=d7(C),typeof c!=="function")throw Error(P(150));return C=c.call(C),f(q,N,C,d)}if(typeof C.then==="function")return Y(q,N,rG(C),d);if(C.$$typeof===j_)return Y(q,N,ZG(q,C),d);IG(q,C)}return typeof C==="string"&&C!==""||typeof C==="number"||typeof C==="bigint"?(C=""+C,N!==null&&N.tag===6?(_(q,N.sibling),d=l(N,C),d.return=q,q=d):(_(q,N),d=Nz(C,q.mode,d),d.return=q,q=d),w(q)):_(q,N)}return function(q,N,C,d){try{x9=0;var c=Y(q,N,C,d);return B8=null,c}catch(b){if(b===j7)throw b;var A=mg(29,b,null,q.mode);return A.lanes=d,A.return=q,A}finally{}}}var F6=IN(!0),ZN=IN(!1),T8=y_(null),zw=y_(0);function _1(x,g){x=H_,i0(zw,x),i0(T8,g),H_=x|g.baseLanes}function Qz(){i0(zw,H_),i0(T8,T8.current)}function So(){H_=zw.current,cx(T8),cx(zw)}var Lg=y_(null),o_=null;function KO(x){var g=x.alternate;i0(qx,qx.current&1),i0(Lg,x),o_===null&&(g===null||T8.current!==null?o_=x:g.memoizedState!==null&&(o_=x))}function jN(x){if(x.tag===22){if(i0(qx,qx.current),i0(Lg,x),o_===null){var g=x.alternate;g!==null&&g.memoizedState!==null&&(o_=x)}}else bO(x)}function bO(){i0(qx,qx.current),i0(Lg,Lg.current)}function D_(x){cx(Lg),o_===x&&(o_=null),cx(qx)}var qx=y_(0);function ow(x){for(var g=x;g!==null;){if(g.tag===13){var _=g.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===x)break;for(;g.sibling===null;){if(g.return===null||g.return===x)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var E4=typeof AbortController!=="undefined"?AbortController:function(){var x=[],g=this.signal={aborted:!1,addEventListener:function(_,O){x.push(O)}};this.abort=function(){g.aborted=!0,x.forEach(function(_){return _()})}},n4=c8,B4=Y8,kx={$$typeof:j_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ro(){return{controller:new E4,data:new Map,refCount:0}}function k9(x){x.refCount--,x.refCount===0&&n4(B4,function(){x.controller.abort()})}var Q7=null,Dz=0,s8=0,$8=null;function $4(x,g){if(Q7===null){var _=Q7=[];Dz=0,s8=_v(),$8={status:"pending",value:void 0,then:function(O){_.push(O)}}}return Dz++,g.then(O1,O1),g}function O1(){if(--Dz===0&&Q7!==null){$8!==null&&($8.status="fulfilled");var x=Q7;Q7=null,s8=0,$8=null;for(var g=0;g<x.length;g++)x[g]()}}function i4(x,g){var _=[],O={status:"pending",value:null,reason:null,then:function(l){_.push(l)}};return x.then(function(){O.status="fulfilled",O.value=g;for(var l=0;l<_.length;l++)_[l](g)},function(l){O.status="rejected",O.reason=l;for(l=0;l<_.length;l++)_[l](void 0)}),O}var l1=Y0.S;Y0.S=function(x,g){typeof g==="object"&&g!==null&&typeof g.then==="function"&&$4(x,g),l1!==null&&l1(x,g)};var b6=y_(null);function Io(){var x=b6.current;return x!==null?x:D0.pooledCache}function JG(x,g){g===null?i0(b6,b6.current):i0(b6,g.pool)}function UN(){var x=Io();return x===null?null:{parent:kx._currentValue,pool:x}}var QO=0,h0=null,j0=null,ox=null,vw=!1,i8=!1,A6=!1,yw=0,g9=0,H8=null,H4=0;function Gx(){throw Error(P(321))}function Zo(x,g){if(g===null)return!1;for(var _=0;_<g.length&&_<x.length;_++)if(!zg(x[_],g[_]))return!1;return!0}function jo(x,g,_,O,l,G){return QO=G,h0=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Y0.H=x===null||x.memoizedState===null?j6:BO,A6=!1,G=_(O,l),A6=!1,i8&&(G=DN(g,_,O,l)),QN(x),G}function QN(x){Y0.H=v_;var g=j0!==null&&j0.next!==null;if(QO=0,ox=j0=h0=null,vw=!1,g9=0,H8=null,g)throw Error(P(300));x===null||Yx||(x=x.dependencies,x!==null&&qw(x)&&(Yx=!0))}function DN(x,g,_,O){h0=x;var l=0;do{if(i8&&(H8=null),g9=0,i8=!1,25<=l)throw Error(P(301));if(l+=1,ox=j0=null,x.updateQueue!=null){var G=x.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}Y0.H=U6,G=g(_,O)}while(i8);return G}function J4(){var x=Y0.H,g=x.useState()[0];return g=typeof g.then==="function"?q9(g):g,x=x.useState()[0],(j0!==null?j0.memoizedState:null)!==x&&(h0.flags|=1024),g}function Uo(){var x=yw!==0;return yw=0,x}function Qo(x,g,_){g.updateQueue=x.updateQueue,g.flags&=-2053,x.lanes&=~_}function Do(x){if(vw){for(x=x.memoizedState;x!==null;){var g=x.queue;g!==null&&(g.pending=null),x=x.next}vw=!1}QO=0,ox=j0=h0=null,i8=!1,g9=yw=0,H8=null}function ix(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ox===null?h0.memoizedState=ox=x:ox=ox.next=x,ox}function vx(){if(j0===null){var x=h0.alternate;x=x!==null?x.memoizedState:null}else x=j0.next;var g=ox===null?h0.memoizedState:ox.next;if(g!==null)ox=g,j0=x;else{if(x===null){if(h0.alternate===null)throw Error(P(467));throw Error(P(310))}j0=x,x={memoizedState:j0.memoizedState,baseState:j0.baseState,baseQueue:j0.baseQueue,queue:j0.queue,next:null},ox===null?h0.memoizedState=ox=x:ox=ox.next=x}return ox}var Iw;Iw=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function q9(x){var g=g9;return g9+=1,H8===null&&(H8=[]),x=rN(H8,x,g),g=h0,(ox===null?g.memoizedState:ox.next)===null&&(g=g.alternate,Y0.H=g===null||g.memoizedState===null?j6:BO),x}function Zw(x){if(x!==null&&typeof x==="object"){if(typeof x.then==="function")return q9(x);if(x.$$typeof===j_)return ux(x)}throw Error(P(438,String(x)))}function Eo(x){var g=null,_=h0.updateQueue;if(_!==null&&(g=_.memoCache),g==null){var O=h0.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(g={data:O.data.map(function(l){return l.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),_===null&&(_=Iw(),h0.updateQueue=_),_.memoCache=g,_=g.data[g.index],_===void 0)for(_=g.data[g.index]=Array(x),O=0;O<x;O++)_[O]=Xh;return g.index++,_}function $_(x,g){return typeof g==="function"?g(x):g}function aG(x){var g=vx();return no(g,j0,x)}function no(x,g,_){var O=x.queue;if(O===null)throw Error(P(311));O.lastRenderedReducer=_;var l=x.baseQueue,G=O.pending;if(G!==null){if(l!==null){var w=l.next;l.next=G.next,G.next=w}g.baseQueue=l=G,O.pending=null}if(G=x.baseState,l===null)x.memoizedState=G;else{g=l.next;var W=w=null,z=null,p=g,o=!1;do{var y=p.lane&-536870913;if(y!==p.lane?(L0&y)===y:(QO&y)===y){var v=p.revertLane;if(v===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),y===s8&&(o=!0);else if((QO&v)===v){p=p.next,v===s8&&(o=!0);continue}else y={lane:0,revertLane:p.revertLane,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},z===null?(W=z=y,w=G):z=z.next=y,h0.lanes|=v,EO|=v;y=p.action,A6&&_(G,y),G=p.hasEagerState?p.eagerState:_(G,y)}else v={lane:y,revertLane:p.revertLane,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null},z===null?(W=z=v,w=G):z=z.next=v,h0.lanes|=y,EO|=y;p=p.next}while(p!==null&&p!==g);if(z===null?w=G:z.next=W,!zg(G,x.memoizedState)&&(Yx=!0,o&&(_=$8,_!==null)))throw _;x.memoizedState=G,x.baseState=w,x.baseQueue=z,O.lastRenderedState=G}return l===null&&(O.lanes=0),[x.memoizedState,O.dispatch]}function _z(x){var g=vx(),_=g.queue;if(_===null)throw Error(P(311));_.lastRenderedReducer=x;var{dispatch:O,pending:l}=_,G=g.memoizedState;if(l!==null){_.pending=null;var w=l=l.next;do G=x(G,w.action),w=w.next;while(w!==l);zg(G,g.memoizedState)||(Yx=!0),g.memoizedState=G,g.baseQueue===null&&(g.baseState=G),_.lastRenderedState=G}return[G,O]}function EN(x,g,_){var O=h0,l=vx(),G=F0;if(G){if(_===void 0)throw Error(P(407));_=_()}else _=g();var w=!zg((j0||l).memoizedState,_);if(w&&(l.memoizedState=_,Yx=!0),l=l.queue,Bo($N.bind(null,O,l,x),[x]),l.getSnapshot!==g||w||ox!==null&&ox.memoizedState.tag&1){if(O.flags|=2048,t8(9,BN.bind(null,O,l,_,g),{destroy:void 0},null),D0===null)throw Error(P(349));G||(QO&60)!==0||nN(O,g,_)}return _}function nN(x,g,_){x.flags|=16384,x={getSnapshot:g,value:_},g=h0.updateQueue,g===null?(g=Iw(),h0.updateQueue=g,g.stores=[x]):(_=g.stores,_===null?g.stores=[x]:_.push(x))}function BN(x,g,_,O){g.value=_,g.getSnapshot=O,iN(g)&&HN(x)}function $N(x,g,_){return _(function(){iN(g)&&HN(x)})}function iN(x){var g=x.getSnapshot;x=x.value;try{var _=g();return!zg(x,_)}catch(O){return!0}}function HN(x){var g=UO(x,2);g!==null&&jx(g,x,2)}function Ez(x){var g=ix();if(typeof x==="function"){var _=x;if(x=_(),A6){LO(!0);try{_()}finally{LO(!1)}}}return g.memoizedState=g.baseState=x,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:x},g}function JN(x,g,_,O){return x.baseState=_,no(x,j0,typeof O==="function"?O:$_)}function a4(x,g,_,O,l){if(Uw(x))throw Error(P(485));if(x=g.action,x!==null){var G={payload:l,action:x,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){G.listeners.push(w)}};Y0.T!==null?_(!0):G.isTransition=!1,O(G),_=g.pending,_===null?(G.next=g.pending=G,aN(g,G)):(G.next=_.next,g.pending=_.next=G)}}function aN(x,g){var{action:_,payload:O}=g,l=x.state;if(g.isTransition){var G=Y0.T,w={};Y0.T=w;try{var W=_(l,O),z=Y0.S;z!==null&&z(w,W),G1(x,g,W)}catch(p){nz(x,g,p)}finally{Y0.T=G}}else try{G=_(l,O),G1(x,g,G)}catch(p){nz(x,g,p)}}function G1(x,g,_){_!==null&&typeof _==="object"&&typeof _.then==="function"?_.then(function(O){w1(x,g,O)},function(O){return nz(x,g,O)}):w1(x,g,_)}function w1(x,g,_){g.status="fulfilled",g.value=_,PN(g),x.state=_,g=x.pending,g!==null&&(_=g.next,_===g?x.pending=null:(_=_.next,g.next=_,aN(x,_)))}function nz(x,g,_){var O=x.pending;if(x.pending=null,O!==null){O=O.next;do g.status="rejected",g.reason=_,PN(g),g=g.next;while(g!==O)}x.action=null}function PN(x){x=x.listeners;for(var g=0;g<x.length;g++)x[g]()}function RN(x,g){return g}function TN(x,g){if(F0){var _=D0.formState;if(_!==null){x:{var O=h0;if(F0){if(bx){g:{var l=bx;for(var G=w_;l.nodeType!==8;){if(!G){l=null;break g}if(l=ng(l.nextSibling),l===null){l=null;break g}}G=l.data,l=G==="F!"||G==="F"?l:null}if(l){bx=ng(l.nextSibling),O=l.data==="F!";break x}}X6(O)}O=!1}O&&(g=_[0])}}return _=ix(),_.memoizedState=_.baseState=g,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RN,lastRenderedState:g},_.queue=O,_=Nk.bind(null,h0,O),O.dispatch=_,O=Ez(!1),G=Jo.bind(null,h0,!1,O.queue),O=ix(),l={state:g,dispatch:null,action:x,pending:null},O.queue=l,_=a4.bind(null,h0,l,G,_),l.dispatch=_,O.memoizedState=x,[g,_,!1]}function sN(x){var g=vx();return tN(g,j0,x)}function tN(x,g,_){g=no(x,g,RN)[0],x=aG($_)[0],g=typeof g==="object"&&g!==null&&typeof g.then==="function"?q9(g):g;var O=vx(),l=O.queue,G=l.dispatch;return _!==O.memoizedState&&(h0.flags|=2048,t8(9,P4.bind(null,l,_),{destroy:void 0},null)),[g,G,x]}function P4(x,g){x.action=g}function eN(x){var g=vx(),_=j0;if(_!==null)return tN(g,_,x);vx(),g=g.memoizedState,_=vx();var O=_.queue.dispatch;return _.memoizedState=x,[g,O,!1]}function t8(x,g,_,O){return x={tag:x,create:g,inst:_,deps:O,next:null},g=h0.updateQueue,g===null&&(g=Iw(),h0.updateQueue=g),_=g.lastEffect,_===null?g.lastEffect=x.next=x:(O=_.next,_.next=x,x.next=O,g.lastEffect=x),x}function xk(){return vx().memoizedState}function PG(x,g,_,O){var l=ix();h0.flags|=x,l.memoizedState=t8(1|g,_,{destroy:void 0},O===void 0?null:O)}function jw(x,g,_,O){var l=vx();O=O===void 0?null:O;var G=l.memoizedState.inst;j0!==null&&O!==null&&Zo(O,j0.memoizedState.deps)?l.memoizedState=t8(g,_,G,O):(h0.flags|=x,l.memoizedState=t8(1|g,_,G,O))}function W1(x,g){PG(8390656,8,x,g)}function Bo(x,g){jw(2048,8,x,g)}function gk(x,g){return jw(4,2,x,g)}function _k(x,g){return jw(4,4,x,g)}function Ok(x,g){if(typeof g==="function"){x=x();var _=g(x);return function(){typeof _==="function"?_():g(null)}}if(g!==null&&g!==void 0)return x=x(),g.current=x,function(){g.current=null}}function lk(x,g,_){_=_!==null&&_!==void 0?_.concat([x]):null,jw(4,4,Ok.bind(null,g,x),_)}function $o(){}function Gk(x,g){var _=vx();g=g===void 0?null:g;var O=_.memoizedState;if(g!==null&&Zo(g,O[1]))return O[0];return _.memoizedState=[x,g],x}function wk(x,g){var _=vx();g=g===void 0?null:g;var O=_.memoizedState;if(g!==null&&Zo(g,O[1]))return O[0];if(O=x(),A6){LO(!0);try{x()}finally{LO(!1)}}return _.memoizedState=[O,g],O}function io(x,g,_){if(_===void 0||(QO&1073741824)!==0)return x.memoizedState=g;return x.memoizedState=_,x=Pk(),h0.lanes|=x,EO|=x,_}function Wk(x,g,_,O){if(zg(_,g))return _;if(T8.current!==null)return x=io(x,_,O),zg(x,g)||(Yx=!0),x;if((QO&42)===0)return Yx=!0,x.memoizedState=_;return x=Pk(),h0.lanes|=x,EO|=x,g}function pk(x,g,_,O,l){var G=n0.p;n0.p=G!==0&&8>G?G:8;var w=Y0.T,W={};Y0.T=W,Jo(x,!1,g,_);try{var z=l(),p=Y0.S;if(p!==null&&p(W,z),z!==null&&typeof z==="object"&&typeof z.then==="function"){var o=i4(z,O);D7(x,g,o,pg(x))}else D7(x,g,O,pg(x))}catch(y){D7(x,g,{then:function(){},status:"rejected",reason:y},pg())}finally{n0.p=G,Y0.T=w}}function R4(){}function Bz(x,g,_,O){if(x.tag!==5)throw Error(P(476));var l=zk(x).queue;pk(x,l,g,h6,_===null?R4:function(){return ok(x),_(O)})}function zk(x){var g=x.memoizedState;if(g!==null)return g;g={memoizedState:h6,baseState:h6,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:h6},next:null};var _={};return g.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:_},next:null},x.memoizedState=g,x=x.alternate,x!==null&&(x.memoizedState=g),g}function ok(x){var g=zk(x).next.queue;D7(x,g,{},pg())}function Ho(){return ux(G9)}function vk(){return vx().memoizedState}function yk(){return vx().memoizedState}function T4(x){for(var g=x.return;g!==null;){switch(g.tag){case 24:case 3:var _=pg();x=AO(_);var O=uO(g,x,_);O!==null&&(jx(O,g,_),n7(O,g,_)),g={cache:ro()},x.payload=g;return}g=g.return}}function s4(x,g,_){var O=pg();_={lane:O,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},Uw(x)?kk(g,_):(_=Fo(x,g,_,O),_!==null&&(jx(_,x,O),qk(_,g,O)))}function Nk(x,g,_){var O=pg();D7(x,g,_,O)}function D7(x,g,_,O){var l={lane:O,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(Uw(x))kk(g,l);else{var G=x.alternate;if(x.lanes===0&&(G===null||G.lanes===0)&&(G=g.lastRenderedReducer,G!==null))try{var w=g.lastRenderedState,W=G(w,_);if(l.hasEagerState=!0,l.eagerState=W,zg(W,w))return rw(x,g,l,0),D0===null&&Sw(),!1}catch(z){}finally{}if(_=Fo(x,g,l,O),_!==null)return jx(_,x,O),qk(_,g,O),!0}return!1}function Jo(x,g,_,O){if(O={lane:2,revertLane:_v(),action:O,hasEagerState:!1,eagerState:null,next:null},Uw(x)){if(g)throw Error(P(479))}else g=Fo(x,_,O,2),g!==null&&jx(g,x,2)}function Uw(x){var g=x.alternate;return x===h0||g!==null&&g===h0}function kk(x,g){i8=vw=!0;var _=x.pending;_===null?g.next=g:(g.next=_.next,_.next=g),x.pending=g}function qk(x,g,_){if((_&4194176)!==0){var O=g.lanes;O&=x.pendingLanes,_|=O,g.lanes=_,ON(x,_)}}var v_={readContext:ux,use:Zw,useCallback:Gx,useContext:Gx,useEffect:Gx,useImperativeHandle:Gx,useLayoutEffect:Gx,useInsertionEffect:Gx,useMemo:Gx,useReducer:Gx,useRef:Gx,useState:Gx,useDebugValue:Gx,useDeferredValue:Gx,useTransition:Gx,useSyncExternalStore:Gx,useId:Gx};v_.useCacheRefresh=Gx;v_.useMemoCache=Gx;v_.useHostTransitionStatus=Gx;v_.useFormState=Gx;v_.useActionState=Gx;v_.useOptimistic=Gx;var j6={readContext:ux,use:Zw,useCallback:function(x,g){return ix().memoizedState=[x,g===void 0?null:g],x},useContext:ux,useEffect:W1,useImperativeHandle:function(x,g,_){_=_!==null&&_!==void 0?_.concat([x]):null,PG(4194308,4,Ok.bind(null,g,x),_)},useLayoutEffect:function(x,g){return PG(4194308,4,x,g)},useInsertionEffect:function(x,g){PG(4,2,x,g)},useMemo:function(x,g){var _=ix();g=g===void 0?null:g;var O=x();if(A6){LO(!0);try{x()}finally{LO(!1)}}return _.memoizedState=[O,g],O},useReducer:function(x,g,_){var O=ix();if(_!==void 0){var l=_(g);if(A6){LO(!0);try{_(g)}finally{LO(!1)}}}else l=g;return O.memoizedState=O.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:l},O.queue=x,x=x.dispatch=s4.bind(null,h0,x),[O.memoizedState,x]},useRef:function(x){var g=ix();return x={current:x},g.memoizedState=x},useState:function(x){x=Ez(x);var g=x.queue,_=Nk.bind(null,h0,g);return g.dispatch=_,[x.memoizedState,_]},useDebugValue:$o,useDeferredValue:function(x,g){var _=ix();return io(_,x,g)},useTransition:function(){var x=Ez(!1);return x=pk.bind(null,h0,x.queue,!0,!1),ix().memoizedState=x,[!1,x]},useSyncExternalStore:function(x,g,_){var O=h0,l=ix();if(F0){if(_===void 0)throw Error(P(407));_=_()}else{if(_=g(),D0===null)throw Error(P(349));(L0&60)!==0||nN(O,g,_)}l.memoizedState=_;var G={value:_,getSnapshot:g};return l.queue=G,W1($N.bind(null,O,G,x),[x]),O.flags|=2048,t8(9,BN.bind(null,O,G,_,g),{destroy:void 0},null),_},useId:function(){var x=ix(),g=D0.identifierPrefix;if(F0){var _=Q_,O=U_;_=(O&~(1<<32-Wg(O)-1)).toString(32)+_,g=":"+g+"R"+_,_=yw++,0<_&&(g+="H"+_.toString(32)),g+=":"}else _=H4++,g=":"+g+"r"+_.toString(32)+":";return x.memoizedState=g},useCacheRefresh:function(){return ix().memoizedState=T4.bind(null,h0)}};j6.useMemoCache=Eo;j6.useHostTransitionStatus=Ho;j6.useFormState=TN;j6.useActionState=TN;j6.useOptimistic=function(x){var g=ix();g.memoizedState=g.baseState=x;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=_,g=Jo.bind(null,h0,!0,_),_.dispatch=g,[x,g]};var BO={readContext:ux,use:Zw,useCallback:Gk,useContext:ux,useEffect:Bo,useImperativeHandle:lk,useInsertionEffect:gk,useLayoutEffect:_k,useMemo:wk,useReducer:aG,useRef:xk,useState:function(){return aG($_)},useDebugValue:$o,useDeferredValue:function(x,g){var _=vx();return Wk(_,j0.memoizedState,x,g)},useTransition:function(){var x=aG($_)[0],g=vx().memoizedState;return[typeof x==="boolean"?x:q9(x),g]},useSyncExternalStore:EN,useId:vk};BO.useCacheRefresh=yk;BO.useMemoCache=Eo;BO.useHostTransitionStatus=Ho;BO.useFormState=sN;BO.useActionState=sN;BO.useOptimistic=function(x,g){var _=vx();return JN(_,j0,x,g)};var U6={readContext:ux,use:Zw,useCallback:Gk,useContext:ux,useEffect:Bo,useImperativeHandle:lk,useInsertionEffect:gk,useLayoutEffect:_k,useMemo:wk,useReducer:_z,useRef:xk,useState:function(){return _z($_)},useDebugValue:$o,useDeferredValue:function(x,g){var _=vx();return j0===null?io(_,x,g):Wk(_,j0.memoizedState,x,g)},useTransition:function(){var x=_z($_)[0],g=vx().memoizedState;return[typeof x==="boolean"?x:q9(x),g]},useSyncExternalStore:EN,useId:vk};U6.useCacheRefresh=yk;U6.useMemoCache=Eo;U6.useHostTransitionStatus=Ho;U6.useFormState=eN;U6.useActionState=eN;U6.useOptimistic=function(x,g){var _=vx();if(j0!==null)return JN(_,j0,x,g);return _.baseState=x,[x,_.queue.dispatch]};function Oz(x,g,_,O){g=x.memoizedState,_=_(O,g),_=_===null||_===void 0?g:B0({},g,_),x.memoizedState=_,x.lanes===0&&(x.updateQueue.baseState=_)}var $z={isMounted:function(x){return(x=x._reactInternals)?_l(x)===x:!1},enqueueSetState:function(x,g,_){x=x._reactInternals;var O=pg(),l=AO(O);l.payload=g,_!==void 0&&_!==null&&(l.callback=_),g=uO(x,l,O),g!==null&&(jx(g,x,O),n7(g,x,O))},enqueueReplaceState:function(x,g,_){x=x._reactInternals;var O=pg(),l=AO(O);l.tag=1,l.payload=g,_!==void 0&&_!==null&&(l.callback=_),g=uO(x,l,O),g!==null&&(jx(g,x,O),n7(g,x,O))},enqueueForceUpdate:function(x,g){x=x._reactInternals;var _=pg(),O=AO(_);O.tag=2,g!==void 0&&g!==null&&(O.callback=g),g=uO(x,O,_),g!==null&&(jx(g,x,_),n7(g,x,_))}};function p1(x,g,_,O,l,G,w){return x=x.stateNode,typeof x.shouldComponentUpdate==="function"?x.shouldComponentUpdate(O,G,w):g.prototype&&g.prototype.isPureReactComponent?!t7(_,O)||!t7(l,G):!0}function z1(x,g,_,O){x=g.state,typeof g.componentWillReceiveProps==="function"&&g.componentWillReceiveProps(_,O),typeof g.UNSAFE_componentWillReceiveProps==="function"&&g.UNSAFE_componentWillReceiveProps(_,O),g.state!==x&&$z.enqueueReplaceState(g,g.state,null)}function u6(x,g){var _=g;if("ref"in g){_={};for(var O in g)O!=="ref"&&(_[O]=g[O])}if(x=x.defaultProps){_===g&&(_=B0({},_));for(var l in x)_[l]===void 0&&(_[l]=x[l])}return _}var Nw=typeof reportError==="function"?reportError:function(x){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x==="object"&&x!==null&&typeof x.message==="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(g))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ck(x){Nw(x)}function dk(x){console.error(x)}function Mk(x){Nw(x)}function kw(x,g){try{var _=x.onUncaughtError;_(g.value,{componentStack:g.stack})}catch(O){setTimeout(function(){throw O})}}function o1(x,g,_){try{var O=x.onCaughtError;O(_.value,{componentStack:_.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function iz(x,g,_){return _=AO(_),_.tag=3,_.payload={element:null},_.callback=function(){kw(x,g)},_}function fk(x){return x=AO(x),x.tag=3,x}function Yk(x,g,_,O){var l=_.type.getDerivedStateFromError;if(typeof l==="function"){var G=O.value;x.payload=function(){return l(G)},x.callback=function(){o1(g,_,O)}}var w=_.stateNode;w!==null&&typeof w.componentDidCatch==="function"&&(x.callback=function(){o1(g,_,O),typeof l!=="function"&&(rO===null?rO=new Set([this]):rO.add(this));var W=O.stack;this.componentDidCatch(O.value,{componentStack:W!==null?W:""})})}function t4(x,g,_,O,l){if(_.flags|=32768,O!==null&&typeof O==="object"&&typeof O.then==="function"){if(g=_.alternate,g!==null&&C9(g,_,l,!0),_=Lg.current,_!==null){switch(_.tag){case 13:return o_===null?Go():_.alternate===null&&gx===0&&(gx=3),_.flags&=-257,_.flags|=65536,_.lanes=l,O===Uz?_.flags|=16384:(g=_.updateQueue,g===null?_.updateQueue=new Set([O]):g.add(O),Cz(x,O,l)),!1;case 22:return _.flags|=65536,O===Uz?_.flags|=16384:(g=_.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([O])},_.updateQueue=g):(_=g.retryQueue,_===null?g.retryQueue=new Set([O]):_.add(O)),Cz(x,O,l)),!1}throw Error(P(435,_.tag))}return Cz(x,O,l),Go(),!1}if(F0)return g=Lg.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=l,O!==jz&&(x=Error(P(422),{cause:O}),e7(bg(x,_)))):(O!==jz&&(g=Error(P(423),{cause:O}),e7(bg(g,_))),x=x.current.alternate,x.flags|=65536,l&=-l,x.lanes|=l,O=bg(O,_),l=iz(x.stateNode,O,l),zz(x,l),gx!==4&&(gx=2)),!1;var G=Error(P(520),{cause:O});if(G=bg(G,_),H7===null?H7=[G]:H7.push(G),gx!==4&&(gx=2),g===null)return!0;O=bg(O,_),_=g;do{switch(_.tag){case 3:return _.flags|=65536,x=l&-l,_.lanes|=x,x=iz(_.stateNode,O,x),zz(_,x),!1;case 1:if(g=_.type,G=_.stateNode,(_.flags&128)===0&&(typeof g.getDerivedStateFromError==="function"||G!==null&&typeof G.componentDidCatch==="function"&&(rO===null||!rO.has(G))))return _.flags|=65536,l&=-l,_.lanes|=l,l=fk(l),Yk(l,x,_,O),zz(_,l),!1}_=_.return}while(_!==null);return!1}var ck=Error(P(461)),Yx=!1;function Kx(x,g,_,O){g.child=x===null?ZN(g,null,_,O):F6(g,x.child,_,O)}function v1(x,g,_,O,l){_=_.render;var G=g.ref;if("ref"in O){var w={};for(var W in O)W!=="ref"&&(w[W]=O[W])}else w=O;if(S6(g),O=jo(x,g,_,w,G,l),W=Uo(),x!==null&&!Yx)return Qo(x,g,l),i_(x,g,l);return F0&&W&&Ao(g),g.flags|=1,Kx(x,g,O,l),g.child}function y1(x,g,_,O,l){if(x===null){var G=_.type;if(typeof G==="function"&&!so(G)&&G.defaultProps===void 0&&_.compare===null)return g.tag=15,g.type=G,hk(x,g,G,O,l);return x=TG(_.type,null,O,g,g.mode,l),x.ref=g.ref,x.return=g,g.child=x}if(G=x.child,!ao(x,l)){var w=G.memoizedProps;if(_=_.compare,_=_!==null?_:t7,_(w,O)&&x.ref===g.ref)return i_(x,g,l)}return g.flags|=1,x=SO(G,O),x.ref=g.ref,x.return=g,g.child=x}function hk(x,g,_,O,l){if(x!==null){var G=x.memoizedProps;if(t7(G,O)&&x.ref===g.ref)if(Yx=!1,g.pendingProps=O=G,ao(x,l))(x.flags&131072)!==0&&(Yx=!0);else return g.lanes=x.lanes,i_(x,g,l)}return Hz(x,g,_,O,l)}function Kk(x,g,_){var O=g.pendingProps,l=O.children,G=(g.stateNode._pendingVisibility&2)!==0,w=x!==null?x.memoizedState:null;if(E7(x,g),O.mode==="hidden"||G){if((g.flags&128)!==0){if(O=w!==null?w.baseLanes|_:_,x!==null){l=g.child=x.child;for(G=0;l!==null;)G=G|l.lanes|l.childLanes,l=l.sibling;g.childLanes=G&~O}else g.childLanes=0,g.child=null;return N1(x,g,O,_)}if((_&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},x!==null&&JG(g,w!==null?w.cachePool:null),w!==null?_1(g,w):Qz(),jN(g);else return g.lanes=g.childLanes=536870912,N1(x,g,w!==null?w.baseLanes|_:_,_)}else w!==null?(JG(g,w.cachePool),_1(g,w),bO(g),g.memoizedState=null):(x!==null&&JG(g,null),Qz(),bO(g));return Kx(x,g,l,_),g.child}function N1(x,g,_,O){var l=Io();return l=l===null?null:{parent:kx._currentValue,pool:l},g.memoizedState={baseLanes:_,cachePool:l},x!==null&&JG(g,null),Qz(),jN(g),x!==null&&C9(x,g,O,!0),null}function E7(x,g){var _=g.ref;if(_===null)x!==null&&x.ref!==null&&(g.flags|=2097664);else{if(typeof _!=="function"&&typeof _!=="object")throw Error(P(284));if(x===null||x.ref!==_)g.flags|=2097664}}function Hz(x,g,_,O,l){if(S6(g),_=jo(x,g,_,O,void 0,l),O=Uo(),x!==null&&!Yx)return Qo(x,g,l),i_(x,g,l);return F0&&O&&Ao(g),g.flags|=1,Kx(x,g,_,l),g.child}function k1(x,g,_,O,l,G){if(S6(g),g.updateQueue=null,_=DN(g,O,_,l),QN(x),O=Uo(),x!==null&&!Yx)return Qo(x,g,G),i_(x,g,G);return F0&&O&&Ao(g),g.flags|=1,Kx(x,g,_,G),g.child}function q1(x,g,_,O,l){if(S6(g),g.stateNode===null){var G=Z8,w=_.contextType;typeof w==="object"&&w!==null&&(G=ux(w)),G=new _(O,G),g.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=$z,g.stateNode=G,G._reactInternals=g,G=g.stateNode,G.props=O,G.state=g.memoizedState,G.refs={},Po(g),w=_.contextType,G.context=typeof w==="object"&&w!==null?ux(w):Z8,G.state=g.memoizedState,w=_.getDerivedStateFromProps,typeof w==="function"&&(Oz(g,_,w,O),G.state=g.memoizedState),typeof _.getDerivedStateFromProps==="function"||typeof G.getSnapshotBeforeUpdate==="function"||typeof G.UNSAFE_componentWillMount!=="function"&&typeof G.componentWillMount!=="function"||(w=G.state,typeof G.componentWillMount==="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount==="function"&&G.UNSAFE_componentWillMount(),w!==G.state&&$z.enqueueReplaceState(G,G.state,null),$7(g,O,G,l),B7(),G.state=g.memoizedState),typeof G.componentDidMount==="function"&&(g.flags|=4194308),O=!0}else if(x===null){G=g.stateNode;var W=g.memoizedProps,z=u6(_,W);G.props=z;var p=G.context,o=_.contextType;w=Z8,typeof o==="object"&&o!==null&&(w=ux(o));var y=_.getDerivedStateFromProps;o=typeof y==="function"||typeof G.getSnapshotBeforeUpdate==="function",W=g.pendingProps!==W,o||typeof G.UNSAFE_componentWillReceiveProps!=="function"&&typeof G.componentWillReceiveProps!=="function"||(W||p!==w)&&z1(g,G,O,w),hO=!1;var v=g.memoizedState;G.state=v,$7(g,O,G,l),B7(),p=g.memoizedState,W||v!==p||hO?(typeof y==="function"&&(Oz(g,_,y,O),p=g.memoizedState),(z=hO||p1(g,_,z,O,v,p,w))?(o||typeof G.UNSAFE_componentWillMount!=="function"&&typeof G.componentWillMount!=="function"||(typeof G.componentWillMount==="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount==="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount==="function"&&(g.flags|=4194308)):(typeof G.componentDidMount==="function"&&(g.flags|=4194308),g.memoizedProps=O,g.memoizedState=p),G.props=O,G.state=p,G.context=w,O=z):(typeof G.componentDidMount==="function"&&(g.flags|=4194308),O=!1)}else{G=g.stateNode,sz(x,g),w=g.memoizedProps,o=u6(_,w),G.props=o,y=g.pendingProps,v=G.context,p=_.contextType,z=Z8,typeof p==="object"&&p!==null&&(z=ux(p)),W=_.getDerivedStateFromProps,(p=typeof W==="function"||typeof G.getSnapshotBeforeUpdate==="function")||typeof G.UNSAFE_componentWillReceiveProps!=="function"&&typeof G.componentWillReceiveProps!=="function"||(w!==y||v!==z)&&z1(g,G,O,z),hO=!1,v=g.memoizedState,G.state=v,$7(g,O,G,l),B7();var k=g.memoizedState;w!==y||v!==k||hO||x!==null&&x.dependencies!==null&&qw(x.dependencies)?(typeof W==="function"&&(Oz(g,_,W,O),k=g.memoizedState),(o=hO||p1(g,_,o,O,v,k,z)||x!==null&&x.dependencies!==null&&qw(x.dependencies))?(p||typeof G.UNSAFE_componentWillUpdate!=="function"&&typeof G.componentWillUpdate!=="function"||(typeof G.componentWillUpdate==="function"&&G.componentWillUpdate(O,k,z),typeof G.UNSAFE_componentWillUpdate==="function"&&G.UNSAFE_componentWillUpdate(O,k,z)),typeof G.componentDidUpdate==="function"&&(g.flags|=4),typeof G.getSnapshotBeforeUpdate==="function"&&(g.flags|=1024)):(typeof G.componentDidUpdate!=="function"||w===x.memoizedProps&&v===x.memoizedState||(g.flags|=4),typeof G.getSnapshotBeforeUpdate!=="function"||w===x.memoizedProps&&v===x.memoizedState||(g.flags|=1024),g.memoizedProps=O,g.memoizedState=k),G.props=O,G.state=k,G.context=z,O=o):(typeof G.componentDidUpdate!=="function"||w===x.memoizedProps&&v===x.memoizedState||(g.flags|=4),typeof G.getSnapshotBeforeUpdate!=="function"||w===x.memoizedProps&&v===x.memoizedState||(g.flags|=1024),O=!1)}return G=O,E7(x,g),O=(g.flags&128)!==0,G||O?(G=g.stateNode,_=O&&typeof _.getDerivedStateFromError!=="function"?null:G.render(),g.flags|=1,x!==null&&O?(g.child=F6(g,x.child,null,l),g.child=F6(g,null,_,l)):Kx(x,g,_,l),g.memoizedState=G.state,x=g.child):x=i_(x,g,l),x}function C1(x,g,_,O){return N9(),g.flags|=256,Kx(x,g,_,O),g.child}var lz={dehydrated:null,treeContext:null,retryLane:0};function Gz(x){return{baseLanes:x,cachePool:UN()}}function wz(x,g,_){return x=x!==null?x.childLanes&~_:0,g&&(x|=Vg),x}function bk(x,g,_){var O=g.pendingProps,l=!1,G=(g.flags&128)!==0,w;if((w=G)||(w=x!==null&&x.memoizedState===null?!1:(qx.current&2)!==0),w&&(l=!0,g.flags&=-129),w=(g.flags&32)!==0,g.flags&=-33,x===null){if(F0){if(l?KO(g):bO(g),F0){var W=bx,z;if(z=W){x:{z=W;for(W=w_;z.nodeType!==8;){if(!W){W=null;break x}if(z=ng(z.nextSibling),z===null){W=null;break x}}W=z}W!==null?(g.memoizedState={dehydrated:W,treeContext:K6!==null?{id:U_,overflow:Q_}:null,retryLane:536870912},z=mg(18,null,null,0),z.stateNode=W,z.return=g,g.child=z,Zx=g,bx=null,z=!0):z=!1}z||X6(g)}if(W=g.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return W.data==="$!"?g.lanes=16:g.lanes=536870912,null;D_(g)}if(W=O.children,O=O.fallback,l)return bO(g),l=g.mode,W=az({mode:"hidden",children:W},l),O=m6(O,l,_,null),W.return=g,O.return=g,W.sibling=O,g.child=W,l=g.child,l.memoizedState=Gz(_),l.childLanes=wz(x,w,_),g.memoizedState=lz,O;return KO(g),Jz(g,W)}if(z=x.memoizedState,z!==null&&(W=z.dehydrated,W!==null)){if(G)g.flags&256?(KO(g),g.flags&=-257,g=Wz(x,g,_)):g.memoizedState!==null?(bO(g),g.child=x.child,g.flags|=128,g=null):(bO(g),l=O.fallback,W=g.mode,O=az({mode:"visible",children:O.children},W),l=m6(l,W,_,null),l.flags|=2,O.return=g,l.return=g,O.sibling=l,g.child=O,F6(g,x.child,null,_),O=g.child,O.memoizedState=Gz(_),O.childLanes=wz(x,w,_),g.memoizedState=lz,g=l);else if(KO(g),W.data==="$!"){if(w=W.nextSibling&&W.nextSibling.dataset,w)var p=w.dgst;w=p,O=Error(P(419)),O.stack="",O.digest=w,e7({value:O,source:null,stack:null}),g=Wz(x,g,_)}else if(Yx||C9(x,g,_,!1),w=(_&x.childLanes)!==0,Yx||w){if(w=D0,w!==null){if(O=_&-_,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(w.suspendedLanes|_))!==0?0:O,O!==0&&O!==z.retryLane)throw z.retryLane=O,UO(x,O),jx(w,x,O),ck}W.data==="$?"||Go(),g=Wz(x,g,_)}else W.data==="$?"?(g.flags|=128,g.child=x.child,g=NK.bind(null,x),W._reactRetry=g,g=null):(x=z.treeContext,bx=ng(W.nextSibling),Zx=g,F0=!0,Eg=null,w_=!1,x!==null&&(cg[hg++]=U_,cg[hg++]=Q_,cg[hg++]=K6,U_=x.id,Q_=x.overflow,K6=g),g=Jz(g,O.children),g.flags|=4096);return g}if(l)return bO(g),l=O.fallback,W=g.mode,z=x.child,p=z.sibling,O=SO(z,{mode:"hidden",children:O.children}),O.subtreeFlags=z.subtreeFlags&31457280,p!==null?l=SO(p,l):(l=m6(l,W,_,null),l.flags|=2),l.return=g,O.return=g,O.sibling=l,g.child=O,O=l,l=g.child,W=x.child.memoizedState,W===null?W=Gz(_):(z=W.cachePool,z!==null?(p=kx._currentValue,z=z.parent!==p?{parent:p,pool:p}:z):z=UN(),W={baseLanes:W.baseLanes|_,cachePool:z}),l.memoizedState=W,l.childLanes=wz(x,w,_),g.memoizedState=lz,O;return KO(g),_=x.child,x=_.sibling,_=SO(_,{mode:"visible",children:O.children}),_.return=g,_.sibling=null,x!==null&&(w=g.deletions,w===null?(g.deletions=[x],g.flags|=16):w.push(x)),g.child=_,g.memoizedState=null,_}function Jz(x,g){return g=az({mode:"visible",children:g},x.mode),g.return=x,x.child=g}function az(x,g){return Jk(x,g,0,null)}function Wz(x,g,_){return F6(g,x.child,null,_),x=Jz(g,g.pendingProps.children),x.flags|=2,g.memoizedState=null,x}function d1(x,g,_){x.lanes|=g;var O=x.alternate;O!==null&&(O.lanes|=g),Rz(x.return,g,_)}function pz(x,g,_,O,l){var G=x.memoizedState;G===null?x.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:O,tail:_,tailMode:l}:(G.isBackwards=g,G.rendering=null,G.renderingStartTime=0,G.last=O,G.tail=_,G.tailMode=l)}function mk(x,g,_){var O=g.pendingProps,l=O.revealOrder,G=O.tail;if(Kx(x,g,O.children,_),O=qx.current,(O&2)!==0)O=O&1|2,g.flags|=128;else{if(x!==null&&(x.flags&128)!==0)x:for(x=g.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&d1(x,_,g);else if(x.tag===19)d1(x,_,g);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===g)break x;for(;x.sibling===null;){if(x.return===null||x.return===g)break x;x=x.return}x.sibling.return=x.return,x=x.sibling}O&=1}switch(i0(qx,O),l){case"forwards":_=g.child;for(l=null;_!==null;)x=_.alternate,x!==null&&ow(x)===null&&(l=_),_=_.sibling;_=l,_===null?(l=g.child,g.child=null):(l=_.sibling,_.sibling=null),pz(g,!1,l,_,G);break;case"backwards":_=null,l=g.child;for(g.child=null;l!==null;){if(x=l.alternate,x!==null&&ow(x)===null){g.child=l;break}x=l.sibling,l.sibling=_,_=l,l=x}pz(g,!0,_,null,G);break;case"together":pz(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function i_(x,g,_){if(x!==null&&(g.dependencies=x.dependencies),EO|=g.lanes,(_&g.childLanes)===0)if(x!==null){if(C9(x,g,_,!1),(_&g.childLanes)===0)return null}else return null;if(x!==null&&g.child!==x.child)throw Error(P(153));if(g.child!==null){x=g.child,_=SO(x,x.pendingProps),g.child=_;for(_.return=g;x.sibling!==null;)x=x.sibling,_=_.sibling=SO(x,x.pendingProps),_.return=g;_.sibling=null}return g.child}function ao(x,g){if((x.lanes&g)!==0)return!0;return x=x.dependencies,x!==null&&qw(x)?!0:!1}function e4(x,g,_){switch(g.tag){case 3:gw(g,g.stateNode.containerInfo),mO(g,kx,x.memoizedState.cache),N9();break;case 27:case 5:Lz(g);break;case 4:gw(g,g.stateNode.containerInfo);break;case 10:mO(g,g.type,g.memoizedProps.value);break;case 13:var O=g.memoizedState;if(O!==null){if(O.dehydrated!==null)return KO(g),g.flags|=128,null;if((_&g.child.childLanes)!==0)return bk(x,g,_);return KO(g),x=i_(x,g,_),x!==null?x.sibling:null}KO(g);break;case 19:var l=(x.flags&128)!==0;if(O=(_&g.childLanes)!==0,O||(C9(x,g,_,!1),O=(_&g.childLanes)!==0),l){if(O)return mk(x,g,_);g.flags|=128}if(l=g.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),i0(qx,qx.current),O)break;else return null;case 22:case 23:return g.lanes=0,Kk(x,g,_);case 24:mO(g,kx,x.memoizedState.cache)}return i_(x,g,_)}function Vk(x,g,_){if(x!==null)if(x.memoizedProps!==g.pendingProps)Yx=!0;else{if(!ao(x,_)&&(g.flags&128)===0)return Yx=!1,e4(x,g,_);Yx=(x.flags&131072)!==0?!0:!1}else Yx=!1,F0&&(g.flags&1048576)!==0&&uN(g,pw,g.index);switch(g.lanes=0,g.tag){case 16:x:{x=g.pendingProps;var O=g.elementType,l=O._init;if(O=l(O._payload),g.type=O,typeof O==="function")so(O)?(x=u6(O,x),g.tag=1,g=q1(null,g,O,x,_)):(g.tag=0,g=Hz(null,g,O,x,_));else{if(O!==void 0&&O!==null){if(l=O.$$typeof,l===Mo){g.tag=11,g=v1(null,g,O,x,_);break x}else if(l===fo){g.tag=14,g=y1(null,g,O,x,_);break x}}throw g=mz(O)||O,Error(P(306,g,""))}}return g;case 0:return Hz(x,g,g.type,g.pendingProps,_);case 1:return O=g.type,l=u6(O,g.pendingProps),q1(x,g,O,l,_);case 3:x:{if(gw(g,g.stateNode.containerInfo),x===null)throw Error(P(387));var G=g.pendingProps;l=g.memoizedState,O=l.element,sz(x,g),$7(g,G,null,_);var w=g.memoizedState;if(G=w.cache,mO(g,kx,G),G!==l.cache&&Tz(g,[kx],_,!0),B7(),G=w.element,l.isDehydrated)if(l={element:G,isDehydrated:!1,cache:w.cache},g.updateQueue.baseState=l,g.memoizedState=l,g.flags&256){g=C1(x,g,G,_);break x}else if(G!==O){O=bg(Error(P(424)),g),e7(O),g=C1(x,g,G,_);break x}else for(bx=ng(g.stateNode.containerInfo.firstChild),Zx=g,F0=!0,Eg=null,w_=!0,_=ZN(g,null,G,_),g.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(N9(),G===O){g=i_(x,g,_);break x}Kx(x,g,G,_)}g=g.child}return g;case 26:return E7(x,g),x===null?(_=Z1(g.type,null,g.pendingProps,null))?g.memoizedState=_:F0||(_=g.type,x=g.pendingProps,O=hw(FO.current).createElement(_),O[Ax]=g,O[Hx]=x,mx(O,_,x),fx(O),g.stateNode=O):g.memoizedState=Z1(g.type,x.memoizedProps,g.pendingProps,x.memoizedState),null;case 27:return Lz(g),x===null&&F0&&(O=g.stateNode=oq(g.type,g.pendingProps,FO.current),Zx=g,w_=!0,bx=ng(O.firstChild)),O=g.pendingProps.children,x!==null||F0?Kx(x,g,O,_):g.child=F6(g,null,O,_),E7(x,g),g.child;case 5:if(x===null&&F0){if(l=O=bx)O=LK(O,g.type,g.pendingProps,w_),O!==null?(g.stateNode=O,Zx=g,bx=ng(O.firstChild),w_=!1,l=!0):l=!1;l||X6(g)}return Lz(g),l=g.type,G=g.pendingProps,w=x!==null?x.memoizedProps:null,O=G.children,yo(l,G)?O=null:w!==null&&yo(l,w)&&(g.flags|=32),g.memoizedState!==null&&(l=jo(x,g,J4,null,null,_),G9._currentValue=l),E7(x,g),Kx(x,g,O,_),g.child;case 6:if(x===null&&F0){if(x=_=bx)_=XK(_,g.pendingProps,w_),_!==null?(g.stateNode=_,Zx=g,bx=null,x=!0):x=!1;x||X6(g)}return null;case 13:return bk(x,g,_);case 4:return gw(g,g.stateNode.containerInfo),O=g.pendingProps,x===null?g.child=F6(g,null,O,_):Kx(x,g,O,_),g.child;case 11:return v1(x,g,g.type,g.pendingProps,_);case 7:return Kx(x,g,g.pendingProps,_),g.child;case 8:return Kx(x,g,g.pendingProps.children,_),g.child;case 12:return Kx(x,g,g.pendingProps.children,_),g.child;case 10:return O=g.pendingProps,mO(g,g.type,O.value),Kx(x,g,O.children,_),g.child;case 9:return l=g.type._context,O=g.pendingProps.children,S6(g),l=ux(l),O=O(l),g.flags|=1,Kx(x,g,O,_),g.child;case 14:return y1(x,g,g.type,g.pendingProps,_);case 15:return hk(x,g,g.type,g.pendingProps,_);case 19:return mk(x,g,_);case 22:return Kk(x,g,_);case 24:return S6(g),O=ux(kx),x===null?(l=Io(),l===null&&(l=D0,G=ro(),l.pooledCache=G,G.refCount++,G!==null&&(l.pooledCacheLanes|=_),l=G),g.memoizedState={parent:O,cache:l},Po(g),mO(g,kx,l)):((x.lanes&_)!==0&&(sz(x,g),$7(g,null,null,_),B7()),l=x.memoizedState,G=g.memoizedState,l.parent!==O?(l={parent:O,cache:O},g.memoizedState=l,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=l),mO(g,kx,O)):(O=G.cache,mO(g,kx,O),O!==l.cache&&Tz(g,[kx],_,!0))),Kx(x,g,g.pendingProps.children,_),g.child;case 29:throw g.pendingProps}throw Error(P(156,g.tag))}var Pz=y_(null),Q6=null,E_=null;function mO(x,g,_){i0(Pz,g._currentValue),g._currentValue=_}function n_(x){x._currentValue=Pz.current,cx(Pz)}function Rz(x,g,_){for(;x!==null;){var O=x.alternate;if((x.childLanes&g)!==g?(x.childLanes|=g,O!==null&&(O.childLanes|=g)):O!==null&&(O.childLanes&g)!==g&&(O.childLanes|=g),x===_)break;x=x.return}}function Tz(x,g,_,O){var l=x.child;l!==null&&(l.return=x);for(;l!==null;){var G=l.dependencies;if(G!==null){var w=l.child;G=G.firstContext;x:for(;G!==null;){var W=G;G=l;for(var z=0;z<g.length;z++)if(W.context===g[z]){G.lanes|=_,W=G.alternate,W!==null&&(W.lanes|=_),Rz(G.return,_,x),O||(w=null);break x}G=W.next}}else if(l.tag===18){if(w=l.return,w===null)throw Error(P(341));w.lanes|=_,G=w.alternate,G!==null&&(G.lanes|=_),Rz(w,_,x),w=null}else w=l.child;if(w!==null)w.return=l;else for(w=l;w!==null;){if(w===x){w=null;break}if(l=w.sibling,l!==null){l.return=w.return,w=l;break}w=w.return}l=w}}function C9(x,g,_,O){x=null;for(var l=g,G=!1;l!==null;){if(!G){if((l.flags&524288)!==0)G=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var w=l.alternate;if(w===null)throw Error(P(387));if(w=w.memoizedProps,w!==null){var W=l.type;zg(l.pendingProps.value,w.value)||(x!==null?x.push(W):x=[W])}}else if(l===xw.current){if(w=l.alternate,w===null)throw Error(P(387));w.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(x!==null?x.push(G9):x=[G9])}l=l.return}x!==null&&Tz(g,x,_,O),g.flags|=262144}function qw(x){for(x=x.firstContext;x!==null;){if(!zg(x.context._currentValue,x.memoizedValue))return!0;x=x.next}return!1}function S6(x){Q6=x,E_=null,x=x.dependencies,x!==null&&(x.firstContext=null)}function ux(x){return Lk(Q6,x)}function ZG(x,g){return Q6===null&&S6(x),Lk(x,g)}function Lk(x,g){var _=g._currentValue;if(g={context:g,memoizedValue:_,next:null},E_===null){if(x===null)throw Error(P(308));E_=g,x.dependencies={lanes:0,firstContext:g},x.flags|=524288}else E_=E_.next=g;return _}var hO=!1;function Po(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sz(x,g){x=x.updateQueue,g.updateQueue===x&&(g.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,callbacks:null})}function AO(x){return{lane:x,tag:0,payload:null,callback:null,next:null}}function uO(x,g,_){var O=x.updateQueue;if(O===null)return null;if(O=O.shared,(R0&2)!==0){var l=O.pending;return l===null?g.next=g:(g.next=l.next,l.next=g),O.pending=g,g=ww(x),AN(x,null,_),g}return rw(x,O,g,_),ww(x)}function n7(x,g,_){if(g=g.updateQueue,g!==null&&(g=g.shared,(_&4194176)!==0)){var O=g.lanes;O&=x.pendingLanes,_|=O,g.lanes=_,ON(x,_)}}function zz(x,g){var{updateQueue:_,alternate:O}=x;if(O!==null&&(O=O.updateQueue,_===O)){var l=null,G=null;if(_=_.firstBaseUpdate,_!==null){do{var w={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};G===null?l=G=w:G=G.next=w,_=_.next}while(_!==null);G===null?l=G=g:G=G.next=g}else l=G=g;_={baseState:O.baseState,firstBaseUpdate:l,lastBaseUpdate:G,shared:O.shared,callbacks:O.callbacks},x.updateQueue=_;return}x=_.lastBaseUpdate,x===null?_.firstBaseUpdate=g:x.next=g,_.lastBaseUpdate=g}var tz=!1;function B7(){if(tz){var x=$8;if(x!==null)throw x}}function $7(x,g,_,O){tz=!1;var l=x.updateQueue;hO=!1;var{firstBaseUpdate:G,lastBaseUpdate:w}=l,W=l.shared.pending;if(W!==null){l.shared.pending=null;var z=W,p=z.next;z.next=null,w===null?G=p:w.next=p,w=z;var o=x.alternate;o!==null&&(o=o.updateQueue,W=o.lastBaseUpdate,W!==w&&(W===null?o.firstBaseUpdate=p:W.next=p,o.lastBaseUpdate=z))}if(G!==null){var y=l.baseState;w=0,o=p=z=null,W=G;do{var v=W.lane&-536870913,k=v!==W.lane;if(k?(L0&v)===v:(O&v)===v){v!==0&&v===s8&&(tz=!0),o!==null&&(o=o.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});x:{var M=x,f=W;v=g;var Y=_;switch(f.tag){case 1:if(M=f.payload,typeof M==="function"){y=M.call(Y,y,v);break x}y=M;break x;case 3:M.flags=M.flags&-65537|128;case 0:if(M=f.payload,v=typeof M==="function"?M.call(Y,y,v):M,v===null||v===void 0)break x;y=B0({},y,v);break x;case 2:hO=!0}}v=W.callback,v!==null&&(x.flags|=64,k&&(x.flags|=8192),k=l.callbacks,k===null?l.callbacks=[v]:k.push(v))}else k={lane:v,tag:W.tag,payload:W.payload,callback:W.callback,next:null},o===null?(p=o=k,z=y):o=o.next=k,w|=v;if(W=W.next,W===null)if(W=l.shared.pending,W===null)break;else k=W,W=k.next,k.next=null,l.lastBaseUpdate=k,l.shared.pending=null}while(1);o===null&&(z=y),l.baseState=z,l.firstBaseUpdate=p,l.lastBaseUpdate=o,G===null&&(l.shared.lanes=0),EO|=w,x.lanes=w,x.memoizedState=y}}function Xk(x,g){if(typeof x!=="function")throw Error(P(191,x));x.call(g)}function Fk(x,g){var _=x.callbacks;if(_!==null)for(x.callbacks=null,x=0;x<_.length;x++)Xk(_[x],g)}function d9(x,g){try{var _=g.updateQueue,O=_!==null?_.lastEffect:null;if(O!==null){var l=O.next;_=l;do{if((_.tag&x)===x){O=void 0;var{create:G,inst:w}=_;O=G(),w.destroy=O}_=_.next}while(_!==l)}}catch(W){U0(g,g.return,W)}}function DO(x,g,_){try{var O=g.updateQueue,l=O!==null?O.lastEffect:null;if(l!==null){var G=l.next;O=G;do{if((O.tag&x)===x){var w=O.inst,W=w.destroy;if(W!==void 0){w.destroy=void 0,l=g;var z=_;try{W()}catch(p){U0(l,z,p)}}}O=O.next}while(O!==G)}}catch(p){U0(g,g.return,p)}}function Ak(x){var g=x.updateQueue;if(g!==null){var _=x.stateNode;try{Fk(g,_)}catch(O){U0(x,x.return,O)}}}function uk(x,g,_){_.props=u6(x.type,x.memoizedProps),_.state=x.memoizedState;try{_.componentWillUnmount()}catch(O){U0(x,g,O)}}function c6(x,g){try{var _=x.ref;if(_!==null){var O=x.stateNode;switch(x.tag){case 26:case 27:case 5:var l=O;break;default:l=O}typeof _==="function"?x.refCleanup=_(l):_.current=l}}catch(G){U0(x,g,G)}}function Gg(x,g){var{ref:_,refCleanup:O}=x;if(_!==null)if(typeof O==="function")try{O()}catch(l){U0(x,g,l)}finally{x.refCleanup=null,x=x.alternate,x!=null&&(x.refCleanup=null)}else if(typeof _==="function")try{_(null)}catch(l){U0(x,g,l)}else _.current=null}function Sk(x){var{type:g,memoizedProps:_,stateNode:O}=x;try{x:switch(g){case"button":case"input":case"select":case"textarea":_.autoFocus&&O.focus();break x;case"img":_.src?O.src=_.src:_.srcSet&&(O.srcset=_.srcSet)}}catch(l){U0(x,x.return,l)}}function M1(x,g,_){try{var O=x.stateNode;hK(O,x.type,_,g),O[Hx]=g}catch(l){U0(x,x.return,l)}}function rk(x){return x.tag===5||x.tag===3||x.tag===26||x.tag===27||x.tag===4}function oz(x){x:for(;;){for(;x.sibling===null;){if(x.return===null||rk(x.return))return null;x=x.return}x.sibling.return=x.return;for(x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==27&&x.tag!==18;){if(x.flags&2)continue x;if(x.child===null||x.tag===4)continue x;else x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function ez(x,g,_){var O=x.tag;if(O===5||O===6)x=x.stateNode,g?_.nodeType===8?_.parentNode.insertBefore(x,g):_.insertBefore(x,g):(_.nodeType===8?(g=_.parentNode,g.insertBefore(x,_)):(g=_,g.appendChild(x)),_=_._reactRootContainer,_!==null&&_!==void 0||g.onclick!==null||(g.onclick=Ew));else if(O!==4&&O!==27&&(x=x.child,x!==null))for(ez(x,g,_),x=x.sibling;x!==null;)ez(x,g,_),x=x.sibling}function Cw(x,g,_){var O=x.tag;if(O===5||O===6)x=x.stateNode,g?_.insertBefore(x,g):_.appendChild(x);else if(O!==4&&O!==27&&(x=x.child,x!==null))for(Cw(x,g,_),x=x.sibling;x!==null;)Cw(x,g,_),x=x.sibling}var r_=!1,xx=!1,vz=!1,f1=typeof WeakSet==="function"?WeakSet:Set,Mx=null,Y1=!1;function xK(x,g){if(x=x.containerInfo,oo=Vw,x=KN(x),Lo(x)){if("selectionStart"in x)var _={start:x.selectionStart,end:x.selectionEnd};else x:{_=(_=x.ownerDocument)&&_.defaultView||window;var O=_.getSelection&&_.getSelection();if(O&&O.rangeCount!==0){_=O.anchorNode;var{anchorOffset:l,focusNode:G}=O;O=O.focusOffset;try{_.nodeType,G.nodeType}catch(f){_=null;break x}var w=0,W=-1,z=-1,p=0,o=0,y=x,v=null;g:for(;;){for(var k;;){if(y!==_||l!==0&&y.nodeType!==3||(W=w+l),y!==G||O!==0&&y.nodeType!==3||(z=w+O),y.nodeType===3&&(w+=y.nodeValue.length),(k=y.firstChild)===null)break;v=y,y=k}for(;;){if(y===x)break g;if(v===_&&++p===l&&(W=w),v===G&&++o===O&&(z=w),(k=y.nextSibling)!==null)break;y=v,v=y.parentNode}y=k}_=W===-1||z===-1?null:{start:W,end:z}}else _=null}_=_||{start:0,end:0}}else _=null;vo={focusedElem:x,selectionRange:_},Vw=!1;for(Mx=g;Mx!==null;)if(g=Mx,x=g.child,(g.subtreeFlags&1028)!==0&&x!==null)x.return=g,Mx=x;else for(;Mx!==null;){switch(g=Mx,G=g.alternate,x=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((x&1024)!==0&&G!==null){x=void 0,_=g,l=G.memoizedProps,G=G.memoizedState,O=_.stateNode;try{var M=u6(_.type,l,_.elementType===_.type);x=O.getSnapshotBeforeUpdate(M,G),O.__reactInternalSnapshotBeforeUpdate=x}catch(f){U0(_,_.return,f)}}break;case 3:if((x&1024)!==0){if(x=g.stateNode.containerInfo,_=x.nodeType,_===9)No(x);else if(_===1)switch(x.nodeName){case"HEAD":case"HTML":case"BODY":No(x);break;default:x.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((x&1024)!==0)throw Error(P(163))}if(x=g.sibling,x!==null){x.return=g.return,Mx=x;break}Mx=g.return}return M=Y1,Y1=!1,M}function Ik(x,g,_){var O=_.flags;switch(_.tag){case 0:case 11:case 15:u_(x,_),O&4&&d9(5,_);break;case 1:if(u_(x,_),O&4)if(x=_.stateNode,g===null)try{x.componentDidMount()}catch(W){U0(_,_.return,W)}else{var l=u6(_.type,g.memoizedProps);g=g.memoizedState;try{x.componentDidUpdate(l,g,x.__reactInternalSnapshotBeforeUpdate)}catch(W){U0(_,_.return,W)}}O&64&&Ak(_),O&512&&c6(_,_.return);break;case 3:if(u_(x,_),O&64&&(O=_.updateQueue,O!==null)){if(x=null,_.child!==null)switch(_.child.tag){case 27:case 5:x=_.child.stateNode;break;case 1:x=_.child.stateNode}try{Fk(O,x)}catch(W){U0(_,_.return,W)}}break;case 26:u_(x,_),O&512&&c6(_,_.return);break;case 27:case 5:u_(x,_),g===null&&O&4&&Sk(_),O&512&&c6(_,_.return);break;case 12:u_(x,_);break;case 13:u_(x,_),O&4&&Uk(x,_);break;case 22:if(l=_.memoizedState!==null||r_,!l){g=g!==null&&g.memoizedState!==null||xx;var G=r_,w=xx;r_=l,(xx=g)&&!w?YO(x,_,(_.subtreeFlags&8772)!==0):u_(x,_),r_=G,xx=w}O&512&&(_.memoizedProps.mode==="manual"?c6(_,_.return):Gg(_,_.return));break;default:u_(x,_)}}function Zk(x){var g=x.alternate;g!==null&&(x.alternate=null,Zk(g)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(g=x.stateNode,g!==null&&co(g)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}var zx=null,Og=!1;function A_(x,g,_){for(_=_.child;_!==null;)jk(x,g,_),_=_.sibling}function jk(x,g,_){if(wg&&typeof wg.onCommitFiberUnmount==="function")try{wg.onCommitFiberUnmount(z9,_)}catch(w){}switch(_.tag){case 26:xx||Gg(_,g),A_(x,g,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:xx||Gg(_,g);var O=zx,l=Og;zx=_.stateNode,A_(x,g,_),_=_.stateNode;for(g=_.attributes;g.length;)_.removeAttributeNode(g[0]);co(_),zx=O,Og=l;break;case 5:xx||Gg(_,g);case 6:l=zx;var G=Og;if(zx=null,A_(x,g,_),zx=l,Og=G,zx!==null)if(Og)try{x=zx,O=_.stateNode,x.nodeType===8?x.parentNode.removeChild(O):x.removeChild(O)}catch(w){U0(_,g,w)}else try{zx.removeChild(_.stateNode)}catch(w){U0(_,g,w)}break;case 18:zx!==null&&(Og?(g=zx,_=_.stateNode,g.nodeType===8?cz(g.parentNode,_):g.nodeType===1&&cz(g,_),p9(g)):cz(zx,_.stateNode));break;case 4:O=zx,l=Og,zx=_.stateNode.containerInfo,Og=!0,A_(x,g,_),zx=O,Og=l;break;case 0:case 11:case 14:case 15:xx||DO(2,_,g),xx||DO(4,_,g),A_(x,g,_);break;case 1:xx||(Gg(_,g),O=_.stateNode,typeof O.componentWillUnmount==="function"&&uk(_,g,O)),A_(x,g,_);break;case 21:A_(x,g,_);break;case 22:xx||Gg(_,g),xx=(O=xx)||_.memoizedState!==null,A_(x,g,_),xx=O;break;default:A_(x,g,_)}}function Uk(x,g){if(g.memoizedState===null&&(x=g.alternate,x!==null&&(x=x.memoizedState,x!==null&&(x=x.dehydrated,x!==null))))try{p9(x)}catch(_){U0(g,g.return,_)}}function gK(x){switch(x.tag){case 13:case 19:var g=x.stateNode;return g===null&&(g=x.stateNode=new f1),g;case 22:return x=x.stateNode,g=x._retryCache,g===null&&(g=x._retryCache=new f1),g;default:throw Error(P(435,x.tag))}}function yz(x,g){var _=gK(x);g.forEach(function(O){var l=kK.bind(null,x,O);_.has(O)||(_.add(O),O.then(l,l))})}function dg(x,g){var _=g.deletions;if(_!==null)for(var O=0;O<_.length;O++){var l=_[O],G=x,w=g,W=w;x:for(;W!==null;){switch(W.tag){case 27:case 5:zx=W.stateNode,Og=!1;break x;case 3:zx=W.stateNode.containerInfo,Og=!0;break x;case 4:zx=W.stateNode.containerInfo,Og=!0;break x}W=W.return}if(zx===null)throw Error(P(160));jk(G,w,l),zx=null,Og=!1,G=l.alternate,G!==null&&(G.return=null),l.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)Qk(g,x),g=g.sibling}var Dg=null;function Qk(x,g){var{alternate:_,flags:O}=x;switch(x.tag){case 0:case 11:case 14:case 15:dg(g,x),Mg(x),O&4&&(DO(3,x,x.return),d9(3,x),DO(5,x,x.return));break;case 1:dg(g,x),Mg(x),O&512&&(xx||_===null||Gg(_,_.return)),O&64&&r_&&(x=x.updateQueue,x!==null&&(O=x.callbacks,O!==null&&(_=x.shared.hiddenCallbacks,x.shared.hiddenCallbacks=_===null?O:_.concat(O))));break;case 26:var l=Dg;if(dg(g,x),Mg(x),O&512&&(xx||_===null||Gg(_,_.return)),O&4){var G=_!==null?_.memoizedState:null;if(O=x.memoizedState,_===null)if(O===null)if(x.stateNode===null){x:{O=x.type,_=x.memoizedProps,l=l.ownerDocument||l;g:switch(O){case"title":if(G=l.getElementsByTagName("title")[0],!G||G[R7]||G[Ax]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))G=l.createElement(O),l.head.insertBefore(G,l.querySelector("head > title"));mx(G,O,_),G[Ax]=x,fx(G),O=G;break x;case"link":var w=U1("link","href",l).get(O+(_.href||""));if(w){for(var W=0;W<w.length;W++)if(G=w[W],G.getAttribute("href")===(_.href==null?null:_.href)&&G.getAttribute("rel")===(_.rel==null?null:_.rel)&&G.getAttribute("title")===(_.title==null?null:_.title)&&G.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){w.splice(W,1);break g}}G=l.createElement(O),mx(G,O,_),l.head.appendChild(G);break;case"meta":if(w=U1("meta","content",l).get(O+(_.content||""))){for(W=0;W<w.length;W++)if(G=w[W],G.getAttribute("content")===(_.content==null?null:""+_.content)&&G.getAttribute("name")===(_.name==null?null:_.name)&&G.getAttribute("property")===(_.property==null?null:_.property)&&G.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&G.getAttribute("charset")===(_.charSet==null?null:_.charSet)){w.splice(W,1);break g}}G=l.createElement(O),mx(G,O,_),l.head.appendChild(G);break;default:throw Error(P(468,O))}G[Ax]=x,fx(G),O=G}x.stateNode=O}else Q1(l,x.type,x.stateNode);else x.stateNode=j1(l,O,x.memoizedProps);else G!==O?(G===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):G.count--,O===null?Q1(l,x.type,x.stateNode):j1(l,O,x.memoizedProps)):O===null&&x.stateNode!==null&&M1(x,x.memoizedProps,_.memoizedProps)}break;case 27:if(O&4&&x.alternate===null){l=x.stateNode,G=x.memoizedProps;try{for(var z=l.firstChild;z;){var{nextSibling:p,nodeName:o}=z;z[R7]||o==="HEAD"||o==="BODY"||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&z.rel.toLowerCase()==="stylesheet"||l.removeChild(z),z=p}for(var y=x.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);mx(l,y,G),l[Ax]=x,l[Hx]=G}catch(M){U0(x,x.return,M)}}case 5:if(dg(g,x),Mg(x),O&512&&(xx||_===null||Gg(_,_.return)),x.flags&32){l=x.stateNode;try{R8(l,"")}catch(M){U0(x,x.return,M)}}O&4&&x.stateNode!=null&&(l=x.memoizedProps,M1(x,l,_!==null?_.memoizedProps:l)),O&1024&&(vz=!0);break;case 6:if(dg(g,x),Mg(x),O&4){if(x.stateNode===null)throw Error(P(162));O=x.memoizedProps,_=x.stateNode;try{_.nodeValue=O}catch(M){U0(x,x.return,M)}}break;case 3:if(tG=null,l=Dg,Dg=Kw(g.containerInfo),dg(g,x),Dg=l,Mg(x),O&4&&_!==null&&_.memoizedState.isDehydrated)try{p9(g.containerInfo)}catch(M){U0(x,x.return,M)}vz&&(vz=!1,Dk(x));break;case 4:O=Dg,Dg=Kw(x.stateNode.containerInfo),dg(g,x),Mg(x),Dg=O;break;case 12:dg(g,x),Mg(x);break;case 13:dg(g,x),Mg(x),x.child.flags&8192&&x.memoizedState!==null!==(_!==null&&_.memoizedState!==null)&&(xv=z_()),O&4&&(O=x.updateQueue,O!==null&&(x.updateQueue=null,yz(x,O)));break;case 22:if(O&512&&(xx||_===null||Gg(_,_.return)),z=x.memoizedState!==null,p=_!==null&&_.memoizedState!==null,o=r_,y=xx,r_=o||z,xx=y||p,dg(g,x),xx=y,r_=o,Mg(x),g=x.stateNode,g._current=x,g._visibility&=-3,g._visibility|=g._pendingVisibility&2,O&8192&&(g._visibility=z?g._visibility&-2:g._visibility|1,z&&(g=r_||xx,_===null||p||g||b8(x)),x.memoizedProps===null||x.memoizedProps.mode!=="manual"))x:for(_=null,g=x;;){if(g.tag===5||g.tag===26||g.tag===27){if(_===null){p=_=g;try{if(l=p.stateNode,z)G=l.style,typeof G.setProperty==="function"?G.setProperty("display","none","important"):G.display="none";else{w=p.stateNode,W=p.memoizedProps.style;var k=W!==void 0&&W!==null&&W.hasOwnProperty("display")?W.display:null;w.style.display=k==null||typeof k==="boolean"?"":(""+k).trim()}}catch(M){U0(p,p.return,M)}}}else if(g.tag===6){if(_===null){p=g;try{p.stateNode.nodeValue=z?"":p.memoizedProps}catch(M){U0(p,p.return,M)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===x)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===x)break x;for(;g.sibling===null;){if(g.return===null||g.return===x)break x;_===g&&(_=null),g=g.return}_===g&&(_=null),g.sibling.return=g.return,g=g.sibling}O&4&&(O=x.updateQueue,O!==null&&(_=O.retryQueue,_!==null&&(O.retryQueue=null,yz(x,_))));break;case 19:dg(g,x),Mg(x),O&4&&(O=x.updateQueue,O!==null&&(x.updateQueue=null,yz(x,O)));break;case 21:break;default:dg(g,x),Mg(x)}}function Mg(x){var g=x.flags;if(g&2){try{if(x.tag!==27){x:{for(var _=x.return;_!==null;){if(rk(_)){var O=_;break x}_=_.return}throw Error(P(160))}switch(O.tag){case 27:var l=O.stateNode,G=oz(x);Cw(x,G,l);break;case 5:var w=O.stateNode;O.flags&32&&(R8(w,""),O.flags&=-33);var W=oz(x);Cw(x,W,w);break;case 3:case 4:var z=O.stateNode.containerInfo,p=oz(x);ez(x,p,z);break;default:throw Error(P(161))}}}catch(o){U0(x,x.return,o)}x.flags&=-3}g&4096&&(x.flags&=-4097)}function Dk(x){if(x.subtreeFlags&1024)for(x=x.child;x!==null;){var g=x;Dk(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),x=x.sibling}}function u_(x,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)Ik(x,g.alternate,g),g=g.sibling}function b8(x){for(x=x.child;x!==null;){var g=x;switch(g.tag){case 0:case 11:case 14:case 15:DO(4,g,g.return),b8(g);break;case 1:Gg(g,g.return);var _=g.stateNode;typeof _.componentWillUnmount==="function"&&uk(g,g.return,_),b8(g);break;case 26:case 27:case 5:Gg(g,g.return),b8(g);break;case 22:Gg(g,g.return),g.memoizedState===null&&b8(g);break;default:b8(g)}x=x.sibling}}function YO(x,g,_){_=_&&(g.subtreeFlags&8772)!==0;for(g=g.child;g!==null;){var O=g.alternate,l=x,G=g,w=G.flags;switch(G.tag){case 0:case 11:case 15:YO(l,G,_),d9(4,G);break;case 1:if(YO(l,G,_),O=G,l=O.stateNode,typeof l.componentDidMount==="function")try{l.componentDidMount()}catch(p){U0(O,O.return,p)}if(O=G,l=O.updateQueue,l!==null){var W=O.stateNode;try{var z=l.shared.hiddenCallbacks;if(z!==null)for(l.shared.hiddenCallbacks=null,l=0;l<z.length;l++)Xk(z[l],W)}catch(p){U0(O,O.return,p)}}_&&w&64&&Ak(G),c6(G,G.return);break;case 26:case 27:case 5:YO(l,G,_),_&&O===null&&w&4&&Sk(G),c6(G,G.return);break;case 12:YO(l,G,_);break;case 13:YO(l,G,_),_&&w&4&&Uk(l,G);break;case 22:G.memoizedState===null&&YO(l,G,_),c6(G,G.return);break;default:YO(l,G,_)}g=g.sibling}}function Ro(x,g){var _=null;x!==null&&x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(_=x.memoizedState.cachePool.pool),x=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(x=g.memoizedState.cachePool.pool),x!==_&&(x!=null&&x.refCount++,_!=null&&k9(_))}function To(x,g){x=null,g.alternate!==null&&(x=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==x&&(g.refCount++,x!=null&&k9(x))}function fO(x,g,_,O){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)Ek(x,g,_,O),g=g.sibling}function Ek(x,g,_,O){var l=g.flags;switch(g.tag){case 0:case 11:case 15:fO(x,g,_,O),l&2048&&d9(9,g);break;case 3:fO(x,g,_,O),l&2048&&(x=null,g.alternate!==null&&(x=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==x&&(g.refCount++,x!=null&&k9(x)));break;case 12:if(l&2048){fO(x,g,_,O),x=g.stateNode;try{var G=g.memoizedProps,w=G.id,W=G.onPostCommit;typeof W==="function"&&W(w,g.alternate===null?"mount":"update",x.passiveEffectDuration,-0)}catch(z){U0(g,g.return,z)}}else fO(x,g,_,O);break;case 23:break;case 22:G=g.stateNode,g.memoizedState!==null?G._visibility&4?fO(x,g,_,O):i7(x,g):G._visibility&4?fO(x,g,_,O):(G._visibility|=4,m8(x,g,_,O,(g.subtreeFlags&10256)!==0)),l&2048&&Ro(g.alternate,g);break;case 24:fO(x,g,_,O),l&2048&&To(g.alternate,g);break;default:fO(x,g,_,O)}}function m8(x,g,_,O,l){l=l&&(g.subtreeFlags&10256)!==0;for(g=g.child;g!==null;){var G=x,w=g,W=_,z=O,p=w.flags;switch(w.tag){case 0:case 11:case 15:m8(G,w,W,z,l),d9(8,w);break;case 23:break;case 22:var o=w.stateNode;w.memoizedState!==null?o._visibility&4?m8(G,w,W,z,l):i7(G,w):(o._visibility|=4,m8(G,w,W,z,l)),l&&p&2048&&Ro(w.alternate,w);break;case 24:m8(G,w,W,z,l),l&&p&2048&&To(w.alternate,w);break;default:m8(G,w,W,z,l)}g=g.sibling}}function i7(x,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var _=x,O=g,l=O.flags;switch(O.tag){case 22:i7(_,O),l&2048&&Ro(O.alternate,O);break;case 24:i7(_,O),l&2048&&To(O.alternate,O);break;default:i7(_,O)}g=g.sibling}}var A7=8192;function h8(x){if(x.subtreeFlags&A7)for(x=x.child;x!==null;)nk(x),x=x.sibling}function nk(x){switch(x.tag){case 26:h8(x),x.flags&A7&&x.memoizedState!==null&&nK(Dg,x.memoizedState,x.memoizedProps);break;case 5:h8(x);break;case 3:case 4:var g=Dg;Dg=Kw(x.stateNode.containerInfo),h8(x),Dg=g;break;case 22:x.memoizedState===null&&(g=x.alternate,g!==null&&g.memoizedState!==null?(g=A7,A7=16777216,h8(x),A7=g):h8(x));break;default:h8(x)}}function Bk(x){var g=x.alternate;if(g!==null&&(x=g.child,x!==null)){g.child=null;do g=x.sibling,x.sibling=null,x=g;while(x!==null)}}function c7(x){var g=x.deletions;if((x.flags&16)!==0){if(g!==null)for(var _=0;_<g.length;_++){var O=g[_];Mx=O,ik(O,x)}Bk(x)}if(x.subtreeFlags&10256)for(x=x.child;x!==null;)$k(x),x=x.sibling}function $k(x){switch(x.tag){case 0:case 11:case 15:c7(x),x.flags&2048&&DO(9,x,x.return);break;case 3:c7(x);break;case 12:c7(x);break;case 22:var g=x.stateNode;x.memoizedState!==null&&g._visibility&4&&(x.return===null||x.return.tag!==13)?(g._visibility&=-5,RG(x)):c7(x);break;default:c7(x)}}function RG(x){var g=x.deletions;if((x.flags&16)!==0){if(g!==null)for(var _=0;_<g.length;_++){var O=g[_];Mx=O,ik(O,x)}Bk(x)}for(x=x.child;x!==null;){switch(g=x,g.tag){case 0:case 11:case 15:DO(8,g,g.return),RG(g);break;case 22:_=g.stateNode,_._visibility&4&&(_._visibility&=-5,RG(g));break;default:RG(g)}x=x.sibling}}function ik(x,g){for(;Mx!==null;){var _=Mx;switch(_.tag){case 0:case 11:case 15:DO(8,_,g);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var O=_.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:k9(_.memoizedState.cache)}if(O=_.child,O!==null)O.return=_,Mx=O;else x:for(_=x;Mx!==null;){O=Mx;var{sibling:l,return:G}=O;if(Zk(O),O===_){Mx=null;break x}if(l!==null){l.return=G,Mx=l;break x}Mx=G}}}function _K(x,g,_,O){this.tag=x,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mg(x,g,_,O){return new _K(x,g,_,O)}function so(x){return x=x.prototype,!(!x||!x.isReactComponent)}function SO(x,g){var _=x.alternate;return _===null?(_=mg(x.tag,g,x.key,x.mode),_.elementType=x.elementType,_.type=x.type,_.stateNode=x.stateNode,_.alternate=x,x.alternate=_):(_.pendingProps=g,_.type=x.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=x.flags&31457280,_.childLanes=x.childLanes,_.lanes=x.lanes,_.child=x.child,_.memoizedProps=x.memoizedProps,_.memoizedState=x.memoizedState,_.updateQueue=x.updateQueue,g=x.dependencies,_.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},_.sibling=x.sibling,_.index=x.index,_.ref=x.ref,_.refCleanup=x.refCleanup,_}function Hk(x,g){x.flags&=31457282;var _=x.alternate;return _===null?(x.childLanes=0,x.lanes=g,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=_.childLanes,x.lanes=_.lanes,x.child=_.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=_.memoizedProps,x.memoizedState=_.memoizedState,x.updateQueue=_.updateQueue,x.type=_.type,g=_.dependencies,x.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),x}function TG(x,g,_,O,l,G){var w=0;if(O=x,typeof x==="function")so(x)&&(w=1);else if(typeof x==="string")w=DK(x,_,p_.current)?26:x==="html"||x==="head"||x==="body"?27:5;else x:switch(x){case X8:return m6(_.children,l,G,g);case J1:w=8,l|=24;break;case hz:return x=mg(12,_,g,l|2),x.elementType=hz,x.lanes=G,x;case Kz:return x=mg(13,_,g,l),x.elementType=Kz,x.lanes=G,x;case bz:return x=mg(19,_,g,l),x.elementType=bz,x.lanes=G,x;case P1:return Jk(_,l,G,g);default:if(typeof x==="object"&&x!==null)switch(x.$$typeof){case Lh:case j_:w=10;break x;case a1:w=9;break x;case Mo:w=11;break x;case fo:w=14;break x;case cO:w=16,O=null;break x}w=29,_=Error(P(130,x===null?"null":typeof x,"")),O=null}return g=mg(w,_,g,l),g.elementType=x,g.type=O,g.lanes=G,g}function m6(x,g,_,O){return x=mg(7,x,O,g),x.lanes=_,x}function Jk(x,g,_,O){x=mg(22,x,O,g),x.elementType=P1,x.lanes=_;var l={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=l._current;if(G===null)throw Error(P(456));if((l._pendingVisibility&2)===0){var w=UO(G,2);w!==null&&(l._pendingVisibility|=2,jx(w,G,2))}},attach:function(){var G=l._current;if(G===null)throw Error(P(456));if((l._pendingVisibility&2)!==0){var w=UO(G,2);w!==null&&(l._pendingVisibility&=-3,jx(w,G,2))}}};return x.stateNode=l,x}function Nz(x,g,_){return x=mg(6,x,null,g),x.lanes=_,x}function kz(x,g,_){return g=mg(4,x.children!==null?x.children:[],x.key,g),g.lanes=_,g.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},g}function S_(x){x.flags|=4}function c1(x,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)x.flags&=-16777217;else if(x.flags|=16777216,!Nq(g)){if(g=Lg.current,g!==null&&((L0&4194176)===L0?o_!==null:(L0&62914560)!==L0&&(L0&536870912)===0||g!==o_))throw U7=Uz,SN;x.flags|=8192}}function jG(x,g){g!==null&&(x.flags|=4),x.flags&16384&&(g=x.tag!==22?gN():536870912,x.lanes|=g,e8|=g)}function h7(x,g){if(!F0)switch(x.tailMode){case"hidden":g=x.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?x.tail=null:_.sibling=null;break;case"collapsed":_=x.tail;for(var O=null;_!==null;)_.alternate!==null&&(O=_),_=_.sibling;O===null?g||x.tail===null?x.tail=null:x.tail.sibling=null:O.sibling=null}}function P0(x){var g=x.alternate!==null&&x.alternate.child===x.child,_=0,O=0;if(g)for(var l=x.child;l!==null;)_|=l.lanes|l.childLanes,O|=l.subtreeFlags&31457280,O|=l.flags&31457280,l.return=x,l=l.sibling;else for(l=x.child;l!==null;)_|=l.lanes|l.childLanes,O|=l.subtreeFlags,O|=l.flags,l.return=x,l=l.sibling;return x.subtreeFlags|=O,x.childLanes=_,g}function OK(x,g,_){var O=g.pendingProps;switch(uo(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return P0(g),null;case 1:return P0(g),null;case 3:if(_=g.stateNode,O=null,x!==null&&(O=x.memoizedState.cache),g.memoizedState.cache!==O&&(g.flags|=2048),n_(kx),a8(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),x===null||x.child===null)f7(g)?S_(g):x===null||x.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Eg!==null&&(lo(Eg),Eg=null));return P0(g),null;case 26:return _=g.memoizedState,x===null?(S_(g),_!==null?(P0(g),c1(g,_)):(P0(g),g.flags&=-16777217)):_?_!==x.memoizedState?(S_(g),P0(g),c1(g,_)):(P0(g),g.flags&=-16777217):(x.memoizedProps!==O&&S_(g),P0(g),g.flags&=-16777217),null;case 27:_w(g),_=FO.current;var l=g.type;if(x!==null&&g.stateNode!=null)x.memoizedProps!==O&&S_(g);else{if(!O){if(g.stateNode===null)throw Error(P(166));return P0(g),null}x=p_.current,f7(g)?s3(g,x):(x=oq(l,O,_),g.stateNode=x,S_(g))}return P0(g),null;case 5:if(_w(g),_=g.type,x!==null&&g.stateNode!=null)x.memoizedProps!==O&&S_(g);else{if(!O){if(g.stateNode===null)throw Error(P(166));return P0(g),null}if(x=p_.current,f7(g))s3(g,x);else{switch(l=hw(FO.current),x){case 1:x=l.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:x=l.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":x=l.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":x=l.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":x=l.createElement("div"),x.innerHTML="<script></script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof O.is==="string"?l.createElement("select",{is:O.is}):l.createElement("select"),O.multiple?x.multiple=!0:O.size&&(x.size=O.size);break;default:x=typeof O.is==="string"?l.createElement(_,{is:O.is}):l.createElement(_)}}x[Ax]=g,x[Hx]=O;x:for(l=g.child;l!==null;){if(l.tag===5||l.tag===6)x.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===g)break x;for(;l.sibling===null;){if(l.return===null||l.return===g)break x;l=l.return}l.sibling.return=l.return,l=l.sibling}g.stateNode=x;x:switch(mx(x,_,O),_){case"button":case"input":case"select":case"textarea":x=!!O.autoFocus;break x;case"img":x=!0;break x;default:x=!1}x&&S_(g)}}return P0(g),g.flags&=-16777217,null;case 6:if(x&&g.stateNode!=null)x.memoizedProps!==O&&S_(g);else{if(typeof O!=="string"&&g.stateNode===null)throw Error(P(166));if(x=FO.current,f7(g)){if(x=g.stateNode,_=g.memoizedProps,O=null,l=Zx,l!==null)switch(l.tag){case 27:case 5:O=l.memoizedProps}x[Ax]=g,x=x.nodeValue===_||O!==null&&O.suppressHydrationWarning===!0||Wq(x.nodeValue,_)?!0:!1,x||X6(g)}else x=hw(x).createTextNode(O),x[Ax]=g,g.stateNode=x}return P0(g),null;case 13:if(O=g.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(l=f7(g),O!==null&&O.dehydrated!==null){if(x===null){if(!l)throw Error(P(318));if(l=g.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(P(317));l[Ax]=g}else N9(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;P0(g),l=!1}else Eg!==null&&(lo(Eg),Eg=null),l=!0;if(!l){if(g.flags&256)return D_(g),g;return D_(g),null}}if(D_(g),(g.flags&128)!==0)return g.lanes=_,g;if(_=O!==null,x=x!==null&&x.memoizedState!==null,_){O=g.child,l=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(l=O.alternate.memoizedState.cachePool.pool);var G=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(G=O.memoizedState.cachePool.pool),G!==l&&(O.flags|=2048)}return _!==x&&_&&(g.child.flags|=8192),jG(g,g.updateQueue),P0(g),null;case 4:return a8(),x===null&&Ov(g.stateNode.containerInfo),P0(g),null;case 10:return n_(g.type),P0(g),null;case 19:if(cx(qx),l=g.memoizedState,l===null)return P0(g),null;if(O=(g.flags&128)!==0,G=l.rendering,G===null)if(O)h7(l,!1);else{if(gx!==0||x!==null&&(x.flags&128)!==0)for(x=g.child;x!==null;){if(G=ow(x),G!==null){g.flags|=128,h7(l,!1),x=G.updateQueue,g.updateQueue=x,jG(g,x),g.subtreeFlags=0,x=_;for(_=g.child;_!==null;)Hk(_,x),_=_.sibling;return i0(qx,qx.current&1|2),g.child}x=x.sibling}l.tail!==null&&z_()>dw&&(g.flags|=128,O=!0,h7(l,!1),g.lanes=4194304)}else{if(!O)if(x=ow(G),x!==null){if(g.flags|=128,O=!0,x=x.updateQueue,g.updateQueue=x,jG(g,x),h7(l,!0),l.tail===null&&l.tailMode==="hidden"&&!G.alternate&&!F0)return P0(g),null}else 2*z_()-l.renderingStartTime>dw&&_!==536870912&&(g.flags|=128,O=!0,h7(l,!1),g.lanes=4194304);l.isBackwards?(G.sibling=g.child,g.child=G):(x=l.last,x!==null?x.sibling=G:g.child=G,l.last=G)}if(l.tail!==null)return g=l.tail,l.rendering=g,l.tail=g.sibling,l.renderingStartTime=z_(),g.sibling=null,x=qx.current,i0(qx,O?x&1|2:x&1),g;return P0(g),null;case 22:case 23:return D_(g),So(),O=g.memoizedState!==null,x!==null?x.memoizedState!==null!==O&&(g.flags|=8192):O&&(g.flags|=8192),O?(_&536870912)!==0&&(g.flags&128)===0&&(P0(g),g.subtreeFlags&6&&(g.flags|=8192)):P0(g),_=g.updateQueue,_!==null&&jG(g,_.retryQueue),_=null,x!==null&&x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(_=x.memoizedState.cachePool.pool),O=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(O=g.memoizedState.cachePool.pool),O!==_&&(g.flags|=2048),x!==null&&cx(b6),null;case 24:return _=null,x!==null&&(_=x.memoizedState.cache),g.memoizedState.cache!==_&&(g.flags|=2048),n_(kx),P0(g),null;case 25:return null}throw Error(P(156,g.tag))}function lK(x,g){switch(uo(g),g.tag){case 1:return x=g.flags,x&65536?(g.flags=x&-65537|128,g):null;case 3:return n_(kx),a8(),x=g.flags,(x&65536)!==0&&(x&128)===0?(g.flags=x&-65537|128,g):null;case 26:case 27:case 5:return _w(g),null;case 13:if(D_(g),x=g.memoizedState,x!==null&&x.dehydrated!==null){if(g.alternate===null)throw Error(P(340));N9()}return x=g.flags,x&65536?(g.flags=x&-65537|128,g):null;case 19:return cx(qx),null;case 4:return a8(),null;case 10:return n_(g.type),null;case 22:case 23:return D_(g),So(),x!==null&&cx(b6),x=g.flags,x&65536?(g.flags=x&-65537|128,g):null;case 24:return n_(kx),null;case 25:return null;default:return null}}function ak(x,g){switch(uo(g),g.tag){case 3:n_(kx),a8();break;case 26:case 27:case 5:_w(g);break;case 4:a8();break;case 13:D_(g);break;case 19:cx(qx);break;case 10:n_(g.type);break;case 22:case 23:D_(g),So(),x!==null&&cx(b6);break;case 24:n_(kx)}}var GK={getCacheForType:function(x){var g=ux(kx),_=g.data.get(x);return _===void 0&&(_=x(),g.data.set(x,_)),_}},wK=typeof WeakMap==="function"?WeakMap:Map,R0=0,D0=null,b0=null,L0=0,Q0=0,lg=null,I_=!1,Gl=!1,to=!1,H_=0,gx=0,EO=0,V6=0,eo=0,Vg=0,e8=0,H7=null,W_=null,xo=!1,xv=0,dw=1/0,Mw=null,rO=null,UG=!1,f6=null,J7=0,go=0,_o=null,a7=0,Oo=null;function pg(){if((R0&2)!==0&&L0!==0)return L0&-L0;if(Y0.T!==null){var x=s8;return x!==0?x:_v()}return GN()}function Pk(){Vg===0&&(Vg=(L0&536870912)===0||F0?xN():536870912);var x=Lg.current;return x!==null&&(x.flags|=32),Vg}function jx(x,g,_){if(x===D0&&Q0===2||x.cancelPendingCommit!==null)xl(x,0),Z_(x,L0,Vg,!1);if(v9(x,_),(R0&2)===0||x!==D0)x===D0&&((R0&2)===0&&(V6|=_),gx===4&&Z_(x,L0,Vg,!1)),N_(x)}function Rk(x,g,_){if((R0&6)!==0)throw Error(P(327));var O=!_&&(g&60)===0&&(g&x.expiredLanes)===0||o9(x,g),l=O?zK(x,g):qz(x,g,!0),G=O;do{if(l===0){Gl&&!O&&Z_(x,g,0,!1);break}else if(l===6)Z_(x,g,0,!I_);else{if(_=x.current.alternate,G&&!WK(_)){l=qz(x,g,!1),G=!1;continue}if(l===2){if(G=g,x.errorRecoveryDisabledLanes&G)var w=0;else w=x.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){g=w;x:{var W=x;l=H7;var z=W.current.memoizedState.isDehydrated;if(z&&(xl(W,w).flags|=256),w=qz(W,w,!1),w!==2){if(to&&!z){W.errorRecoveryDisabledLanes|=G,V6|=G,l=4;break x}G=W_,W_=l,G!==null&&lo(G)}l=w}if(G=!1,l!==2)continue}}if(l===1){xl(x,0),Z_(x,g,0,!0);break}x:{switch(O=x,l){case 0:case 1:throw Error(P(345));case 4:if((g&4194176)===g){Z_(O,g,Vg,!I_);break x}break;case 2:W_=null;break;case 3:case 5:break;default:throw Error(P(329))}if(O.finishedWork=_,O.finishedLanes=g,(g&62914560)===g&&(G=xv+300-z_(),10<G)){if(Z_(O,g,Vg,!I_),Xw(O,0)!==0)break x;O.timeoutHandle=zq(h1.bind(null,O,_,W_,Mw,xo,g,Vg,V6,e8,I_,2,-0,0),G);break x}h1(O,_,W_,Mw,xo,g,Vg,V6,e8,I_,0,-0,0)}}break}while(1);N_(x)}function lo(x){W_===null?W_=x:W_.push.apply(W_,x)}function h1(x,g,_,O,l,G,w,W,z,p,o,y,v){var k=g.subtreeFlags;if(k&8192||(k&16785408)===16785408){if(l9={stylesheets:null,count:0,unsuspend:EK},nk(g),g=BK(),g!==null){x.cancelPendingCommit=g(b1.bind(null,x,_,O,l,w,W,z,1,y,v)),Z_(x,G,w,!p);return}}b1(x,_,O,l,w,W,z,o,y,v)}function WK(x){for(var g=x;;){var _=g.tag;if((_===0||_===11||_===15)&&g.flags&16384&&(_=g.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var O=0;O<_.length;O++){var l=_[O],G=l.getSnapshot;l=l.value;try{if(!zg(G(),l))return!1}catch(w){return!1}}if(_=g.child,g.subtreeFlags&16384&&_!==null)_.return=g,g=_;else{if(g===x)break;for(;g.sibling===null;){if(g.return===null||g.return===x)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Z_(x,g,_,O){g&=~eo,g&=~V6,x.suspendedLanes|=g,x.pingedLanes&=~g,O&&(x.warmLanes|=g),O=x.expirationTimes;for(var l=g;0<l;){var G=31-Wg(l),w=1<<G;O[G]=-1,l&=~w}_!==0&&_N(x,_,g)}function Qw(){return(R0&6)===0?(M9(0,!1),!1):!0}function gv(){if(b0!==null){if(Q0===0)var x=b0.return;else x=b0,E_=Q6=null,Do(x),B8=null,x9=0,x=b0;for(;x!==null;)ak(x.alternate,x),x=x.return;b0=null}}function xl(x,g){x.finishedWork=null,x.finishedLanes=0;var _=x.timeoutHandle;_!==-1&&(x.timeoutHandle=-1,bK(_)),_=x.cancelPendingCommit,_!==null&&(x.cancelPendingCommit=null,_()),gv(),D0=x,b0=_=SO(x.current,null),L0=g,Q0=0,lg=null,I_=!1,Gl=o9(x,g),to=!1,e8=Vg=eo=V6=EO=gx=0,W_=H7=null,xo=!1,(g&8)!==0&&(g|=g&32);var O=x.entangledLanes;if(O!==0)for(x=x.entanglements,O&=g;0<O;){var l=31-Wg(O),G=1<<l;g|=x[l],O&=~G}return H_=g,Sw(),_}function Tk(x,g){h0=null,Y0.H=v_,g===j7?(g=x1(),Q0=3):g===SN?(g=x1(),Q0=4):Q0=g===ck?8:g!==null&&typeof g==="object"&&typeof g.then==="function"?6:1,lg=g,b0===null&&(gx=1,kw(x,bg(g,x.current)))}function sk(){var x=Y0.H;return Y0.H=v_,x===null?v_:x}function tk(){var x=Y0.A;return Y0.A=GK,x}function Go(){gx=4,I_||(L0&4194176)!==L0&&Lg.current!==null||(Gl=!0),(EO&134217727)===0&&(V6&134217727)===0||D0===null||Z_(D0,L0,Vg,!1)}function qz(x,g,_){var O=R0;R0|=2;var l=sk(),G=tk();if(D0!==x||L0!==g)Mw=null,xl(x,g);g=!1;var w=gx;x:do try{if(Q0!==0&&b0!==null){var W=b0,z=lg;switch(Q0){case 8:gv(),w=6;break x;case 3:case 2:case 6:Lg.current===null&&(g=!0);var p=Q0;if(Q0=0,lg=null,Q8(x,W,z,p),_&&Gl){w=0;break x}break;default:p=Q0,Q0=0,lg=null,Q8(x,W,z,p)}}pK(),w=gx;break}catch(o){Tk(x,o)}while(1);return g&&x.shellSuspendCounter++,E_=Q6=null,R0=O,Y0.H=l,Y0.A=G,b0===null&&(D0=null,L0=0,Sw()),w}function pK(){for(;b0!==null;)ek(b0)}function zK(x,g){var _=R0;R0|=2;var O=sk(),l=tk();D0!==x||L0!==g?(Mw=null,dw=z_()+500,xl(x,g)):Gl=o9(x,g);x:do try{if(Q0!==0&&b0!==null){g=b0;var G=lg;g:switch(Q0){case 1:Q0=0,lg=null,Q8(x,g,G,1);break;case 2:if(e3(G)){Q0=0,lg=null,K1(g);break}g=function(){Q0===2&&D0===x&&(Q0=7),N_(x)},G.then(g,g);break x;case 3:Q0=7;break x;case 4:Q0=5;break x;case 7:e3(G)?(Q0=0,lg=null,K1(g)):(Q0=0,lg=null,Q8(x,g,G,7));break;case 5:var w=null;switch(b0.tag){case 26:w=b0.memoizedState;case 5:case 27:var W=b0;if(w?Nq(w):1){Q0=0,lg=null;var z=W.sibling;if(z!==null)b0=z;else{var p=W.return;p!==null?(b0=p,Dw(p)):b0=null}break g}}Q0=0,lg=null,Q8(x,g,G,5);break;case 6:Q0=0,lg=null,Q8(x,g,G,6);break;case 8:gv(),gx=6;break x;default:throw Error(P(462))}}oK();break}catch(o){Tk(x,o)}while(1);if(E_=Q6=null,Y0.H=O,Y0.A=l,R0=_,b0!==null)return 0;return D0=null,L0=0,Sw(),gx}function oK(){for(;b0!==null&&!Sh();)ek(b0)}function ek(x){var g=Vk(x.alternate,x,H_);x.memoizedProps=x.pendingProps,g===null?Dw(x):b0=g}function K1(x){var g=x,_=g.alternate;switch(g.tag){case 15:case 0:g=k1(_,g,g.pendingProps,g.type,void 0,L0);break;case 11:g=k1(_,g,g.pendingProps,g.type.render,g.ref,L0);break;case 5:Do(g);default:ak(_,g),g=b0=Hk(g,H_),g=Vk(_,g,H_)}x.memoizedProps=x.pendingProps,g===null?Dw(x):b0=g}function Q8(x,g,_,O){E_=Q6=null,Do(g),B8=null,x9=0;var l=g.return;try{if(t4(x,l,g,_,L0)){gx=1,kw(x,bg(_,x.current)),b0=null;return}}catch(G){if(l!==null)throw b0=l,G;gx=1,kw(x,bg(_,x.current)),b0=null;return}if(g.flags&32768){if(F0||O===1)x=!0;else if(Gl||(L0&536870912)!==0)x=!1;else if(I_=x=!0,O===2||O===3||O===6)O=Lg.current,O!==null&&O.tag===13&&(O.flags|=16384);xq(g,x)}else Dw(g)}function Dw(x){var g=x;do{if((g.flags&32768)!==0){xq(g,I_);return}x=g.return;var _=OK(g.alternate,g,H_);if(_!==null){b0=_;return}if(g=g.sibling,g!==null){b0=g;return}b0=g=x}while(g!==null);gx===0&&(gx=5)}function xq(x,g){do{var _=lK(x.alternate,x);if(_!==null){_.flags&=32767,b0=_;return}if(_=x.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!g&&(x=x.sibling,x!==null)){b0=x;return}b0=x=_}while(x!==null);gx=6,b0=null}function b1(x,g,_,O,l,G,w,W,z,p){var o=Y0.T,y=n0.p;try{n0.p=2,Y0.T=null,vK(x,g,_,O,y,l,G,w,W,z,p)}finally{Y0.T=o,n0.p=y}}function vK(x,g,_,O,l,G,w,W){do J8();while(f6!==null);if((R0&6)!==0)throw Error(P(327));var z=x.finishedWork;if(O=x.finishedLanes,z===null)return null;if(x.finishedWork=null,x.finishedLanes=0,z===x.current)throw Error(P(177));x.callbackNode=null,x.callbackPriority=0,x.cancelPendingCommit=null;var p=z.lanes|z.childLanes;if(p|=Xo,$h(x,O,p,G,w,W),x===D0&&(b0=D0=null,L0=0),(z.subtreeFlags&10256)===0&&(z.flags&10256)===0||UG||(UG=!0,go=p,_o=_,qK(Ow,function(){return J8(!0),null})),_=(z.flags&15990)!==0,(z.subtreeFlags&15990)!==0||_?(_=Y0.T,Y0.T=null,G=n0.p,n0.p=2,w=R0,R0|=4,xK(x,z),Qk(z,x),Z4(vo,x.containerInfo),Vw=!!oo,vo=oo=null,x.current=z,Ik(x,z.alternate,z),rh(),R0=w,n0.p=G,Y0.T=_):x.current=z,UG?(UG=!1,f6=x,J7=O):gq(x,p),p=x.pendingLanes,p===0&&(rO=null),Qh(z.stateNode,l),N_(x),g!==null)for(l=x.onRecoverableError,z=0;z<g.length;z++)p=g[z],l(p.value,{componentStack:p.stack});return(J7&3)!==0&&J8(),p=x.pendingLanes,(O&4194218)!==0&&(p&42)!==0?x===Oo?a7++:(a7=0,Oo=x):a7=0,M9(0,!1),null}function gq(x,g){(x.pooledCacheLanes&=g)===0&&(g=x.pooledCache,g!=null&&(x.pooledCache=null,k9(g)))}function J8(){if(f6!==null){var x=f6,g=go;go=0;var _=lN(J7),O=Y0.T,l=n0.p;try{if(n0.p=32>_?32:_,Y0.T=null,f6===null)var G=!1;else{_=_o,_o=null;var w=f6,W=J7;if(f6=null,J7=0,(R0&6)!==0)throw Error(P(331));var z=R0;if(R0|=4,$k(w.current),Ek(w,w.current,W,_),R0=z,M9(0,!1),wg&&typeof wg.onPostCommitFiberRoot==="function")try{wg.onPostCommitFiberRoot(z9,w)}catch(p){}G=!0}return G}finally{n0.p=l,Y0.T=O,gq(x,g)}}return!1}function m1(x,g,_){g=bg(_,g),g=iz(x.stateNode,g,2),x=uO(x,g,2),x!==null&&(v9(x,2),N_(x))}function U0(x,g,_){if(x.tag===3)m1(x,x,_);else for(;g!==null;){if(g.tag===3){m1(g,x,_);break}else if(g.tag===1){var O=g.stateNode;if(typeof g.type.getDerivedStateFromError==="function"||typeof O.componentDidCatch==="function"&&(rO===null||!rO.has(O))){x=bg(_,x),_=fk(2),O=uO(g,_,2),O!==null&&(Yk(_,O,g,x),v9(O,2),N_(O));break}}g=g.return}}function Cz(x,g,_){var O=x.pingCache;if(O===null){O=x.pingCache=new wK;var l=new Set;O.set(g,l)}else l=O.get(g),l===void 0&&(l=new Set,O.set(g,l));l.has(_)||(to=!0,l.add(_),x=yK.bind(null,x,g,_),g.then(x,x))}function yK(x,g,_){var O=x.pingCache;O!==null&&O.delete(g),x.pingedLanes|=x.suspendedLanes&_,x.warmLanes&=~_,D0===x&&(L0&_)===_&&(gx===4||gx===3&&(L0&62914560)===L0&&300>z_()-xv?(R0&2)===0&&xl(x,0):eo|=_,e8===L0&&(e8=0)),N_(x)}function _q(x,g){g===0&&(g=gN()),x=UO(x,g),x!==null&&(v9(x,g),N_(x))}function NK(x){var g=x.memoizedState,_=0;g!==null&&(_=g.retryLane),_q(x,_)}function kK(x,g){var _=0;switch(x.tag){case 13:var{stateNode:O,memoizedState:l}=x;l!==null&&(_=l.retryLane);break;case 19:O=x.stateNode;break;case 22:O=x.stateNode._retryCache;break;default:throw Error(P(314))}O!==null&&O.delete(g),_q(x,_)}function qK(x,g){return Yo(x,g)}var fw=null,V8=null,wo=!1,Yw=!1,dz=!1,L6=0;function N_(x){x!==V8&&x.next===null&&(V8===null?fw=V8=x:V8=V8.next=x),Yw=!0,wo||(wo=!0,dK(CK))}function M9(x,g){if(!dz&&Yw){dz=!0;do{var _=!1;for(var O=fw;O!==null;){if(!g)if(x!==0){var l=O.pendingLanes;if(l===0)var G=0;else{var{suspendedLanes:w,pingedLanes:W}=O;G=(1<<31-Wg(42|x)+1)-1,G&=l&~(w&~W),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(_=!0,V1(O,G))}else G=L0,G=Xw(O,O===D0?G:0),(G&3)===0||o9(O,G)||(_=!0,V1(O,G));O=O.next}}while(_);dz=!1}}function CK(){Yw=wo=!1;var x=0;L6!==0&&(KK()&&(x=L6),L6=0);for(var g=z_(),_=null,O=fw;O!==null;){var l=O.next,G=Oq(O,g);if(G===0)O.next=null,_===null?fw=l:_.next=l,l===null&&(V8=_);else if(_=O,x!==0||(G&3)!==0)Yw=!0;O=l}M9(x,!1)}function Oq(x,g){for(var{suspendedLanes:_,pingedLanes:O,expirationTimes:l}=x,G=x.pendingLanes&-62914561;0<G;){var w=31-Wg(G),W=1<<w,z=l[w];if(z===-1){if((W&_)===0||(W&O)!==0)l[w]=Bh(W,g)}else z<=g&&(x.expiredLanes|=W);G&=~W}if(g=D0,_=L0,_=Xw(x,x===g?_:0),O=x.callbackNode,_===0||x===g&&Q0===2||x.cancelPendingCommit!==null)return O!==null&&O!==null&&Rp(O),x.callbackNode=null,x.callbackPriority=0;if((_&3)===0||o9(x,_)){if(g=_&-_,g===x.callbackPriority)return g;switch(O!==null&&Rp(O),lN(_)){case 2:case 8:_=t1;break;case 32:_=Ow;break;case 268435456:_=e1;break;default:_=Ow}return O=lq.bind(null,x),_=Yo(_,O),x.callbackPriority=g,x.callbackNode=_,g}return O!==null&&O!==null&&Rp(O),x.callbackPriority=2,x.callbackNode=null,2}function lq(x,g){var _=x.callbackNode;if(J8()&&x.callbackNode!==_)return null;var O=L0;if(O=Xw(x,x===D0?O:0),O===0)return null;return Rk(x,O,g),Oq(x,z_()),x.callbackNode!=null&&x.callbackNode===_?lq.bind(null,x):null}function V1(x,g){if(J8())return null;Rk(x,g,!0)}function dK(x){mK(function(){(R0&6)!==0?Yo(s1,x):x()})}function _v(){return L6===0&&(L6=xN()),L6}function L1(x){return x==null||typeof x==="symbol"||typeof x==="boolean"?null:typeof x==="function"?x:BG(""+x)}function X1(x,g){var _=g.ownerDocument.createElement("input");return _.name=g.name,_.value=g.value,x.id&&_.setAttribute("form",x.id),g.parentNode.insertBefore(_,g),x=new FormData(x),_.parentNode.removeChild(_),x}function MK(x,g,_,O,l){if(g==="submit"&&_&&_.stateNode===l){var G=L1((l[Hx]||null).action),w=O.submitter;w&&(g=(g=w[Hx]||null)?L1(g.formAction):w.getAttribute("formAction"),g!==null&&(G=g,w=null));var W=new Fw("action","action",null,O,l);x.push({event:W,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(L6!==0){var z=w?X1(l,w):new FormData(l);Bz(_,{pending:!0,data:z,method:l.method,action:G},null,z)}}else typeof G==="function"&&(W.preventDefault(),z=w?X1(l,w):new FormData(l),Bz(_,{pending:!0,data:z,method:l.method,action:G},G,z))},currentTarget:l}]})}}for(u7=0;u7<R3.length;u7++)S7=R3[u7],Wo=S7.toLowerCase(),po=S7[0].toUpperCase()+S7.slice(1),Bg(Wo,"on"+po);var S7,Wo,po,u7;Bg(mN,"onAnimationEnd");Bg(VN,"onAnimationIteration");Bg(LN,"onAnimationStart");Bg("dblclick","onDoubleClick");Bg("focusin","onFocus");Bg("focusout","onBlur");Bg(U4,"onTransitionRun");Bg(Q4,"onTransitionStart");Bg(D4,"onTransitionCancel");Bg(XN,"onTransitionEnd");P8("onMouseEnter",["mouseout","mouseover"]);P8("onMouseLeave",["mouseout","mouseover"]);P8("onPointerEnter",["pointerout","pointerover"]);P8("onPointerLeave",["pointerout","pointerover"]);r6("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));r6("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));r6("onBeforeInput",["compositionend","keypress","textInput","paste"]);r6("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));r6("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));r6("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _9="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_9));function Gq(x,g){g=(g&4)!==0;for(var _=0;_<x.length;_++){var O=x[_],l=O.event;O=O.listeners;x:{var G=void 0;if(g)for(var w=O.length-1;0<=w;w--){var W=O[w],z=W.instance,p=W.currentTarget;if(W=W.listener,z!==G&&l.isPropagationStopped())break x;G=W,l.currentTarget=p;try{G(l)}catch(o){Nw(o)}l.currentTarget=null,G=z}else for(w=0;w<O.length;w++){if(W=O[w],z=W.instance,p=W.currentTarget,W=W.listener,z!==G&&l.isPropagationStopped())break x;G=W,l.currentTarget=p;try{G(l)}catch(o){Nw(o)}l.currentTarget=null,G=z}}}}function m0(x,g){var _=g[Fz];_===void 0&&(_=g[Fz]=new Set);var O=x+"__bubble";_.has(O)||(wq(g,x,2,!1),_.add(O))}function Mz(x,g,_){var O=0;g&&(O|=4),wq(_,x,O,g)}var QG="_reactListening"+Math.random().toString(36).slice(2);function Ov(x){if(!x[QG]){x[QG]=!0,wN.forEach(function(_){_!=="selectionchange"&&(fK.has(_)||Mz(_,!1,x),Mz(_,!0,x))});var g=x.nodeType===9?x:x.ownerDocument;g===null||g[QG]||(g[QG]=!0,Mz("selectionchange",!1,g))}}function wq(x,g,_,O){switch(Mq(g)){case 2:var l=HK;break;case 8:l=JK;break;default:l=Wv}_=l.bind(null,g,_,x),l=void 0,!rz||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(l=!0),O?l!==void 0?x.addEventListener(g,_,{capture:!0,passive:l}):x.addEventListener(g,_,!0):l!==void 0?x.addEventListener(g,_,{passive:l}):x.addEventListener(g,_,!1)}function fz(x,g,_,O,l){var G=O;if((g&1)===0&&(g&2)===0&&O!==null)x:for(;;){if(O===null)return;var w=O.tag;if(w===3||w===4){var W=O.stateNode.containerInfo;if(W===l||W.nodeType===8&&W.parentNode===l)break;if(w===4)for(w=O.return;w!==null;){var z=w.tag;if(z===3||z===4){if(z=w.stateNode.containerInfo,z===l||z.nodeType===8&&z.parentNode===l)return}w=w.return}for(;W!==null;){if(w=Y6(W),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){O=G=w;continue x}W=W.parentNode}}O=O.return}kN(function(){var p=G,o=Ko(_),y=[];x:{var v=FN.get(x);if(v!==void 0){var k=Fw,M=x;switch(x){case"keypress":if(iG(_)===0)break x;case"keydown":case"keyup":k=k4;break;case"focusin":M="focus",k=xz;break;case"focusout":M="blur",k=xz;break;case"beforeblur":case"afterblur":k=xz;break;case"click":if(_.button===2)break x;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Q3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=_4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=d4;break;case mN:case VN:case LN:k=G4;break;case XN:k=f4;break;case"scroll":case"scrollend":k=x4;break;case"wheel":k=c4;break;case"copy":case"cut":case"paste":k=W4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=E3;break;case"toggle":case"beforetoggle":k=K4}var f=(g&4)!==0,Y=!f&&(x==="scroll"||x==="scrollend"),q=f?v!==null?v+"Capture":null:v;f=[];for(var N=p,C;N!==null;){var d=N;if(C=d.stateNode,d=d.tag,d!==5&&d!==26&&d!==27||C===null||q===null||(d=T7(N,q),d!=null&&f.push(O9(N,d,C))),Y)break;N=N.return}0<f.length&&(v=new k(v,M,null,_,o),y.push({event:v,listeners:f}))}}if((g&7)===0){x:{if(v=x==="mouseover"||x==="pointerover",k=x==="mouseout"||x==="pointerout",v&&_!==Sz&&(M=_.relatedTarget||_.fromElement)&&(Y6(M)||M[Ol]))break x;if(k||v){if(v=o.window===o?o:(v=o.ownerDocument)?v.defaultView||v.parentWindow:window,k){if(M=_.relatedTarget||_.toElement,k=p,M=M?Y6(M):null,M!==null&&(Y=_l(M),f=M.tag,M!==Y||f!==5&&f!==27&&f!==6))M=null}else k=null,M=p;if(k!==M){if(f=Q3,d="onMouseLeave",q="onMouseEnter",N="mouse",x==="pointerout"||x==="pointerover")f=E3,d="onPointerLeave",q="onPointerEnter",N="pointer";if(Y=k==null?v:L7(k),C=M==null?v:L7(M),v=new f(d,N+"leave",k,_,o),v.target=Y,v.relatedTarget=C,d=null,Y6(o)===p&&(f=new f(q,N+"enter",M,_,o),f.target=C,f.relatedTarget=Y,d=f),Y=d,k&&M)g:{f=k,q=M,N=0;for(C=f;C;C=K8(C))N++;C=0;for(d=q;d;d=K8(d))C++;for(;0<N-C;)f=K8(f),N--;for(;0<C-N;)q=K8(q),C--;for(;N--;){if(f===q||q!==null&&f===q.alternate)break g;f=K8(f),q=K8(q)}f=null}else f=null;k!==null&&F1(y,v,k,f,!1),M!==null&&Y!==null&&F1(y,Y,M,f,!0)}}}x:{if(v=p?L7(p):window,k=v.nodeName&&v.nodeName.toLowerCase(),k==="select"||k==="input"&&v.type==="file")var c=i3;else if($3(v))if(YN)c=r4;else{c=u4;var A=A4}else k=v.nodeName,!k||k.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?p&&ho(p.elementType)&&(c=i3):c=S4;if(c&&(c=c(x,p))){fN(y,c,_,o);break x}A&&A(x,v,p),x==="focusout"&&p&&v.type==="number"&&p.memoizedProps.value!=null&&uz(v,"number",v.value)}switch(A=p?L7(p):window,x){case"focusin":if($3(A)||A.contentEditable==="true")S8=A,Iz=p,Z7=null;break;case"focusout":Z7=Iz=S8=null;break;case"mousedown":Zz=!0;break;case"contextmenu":case"mouseup":case"dragend":Zz=!1,P3(y,_,o);break;case"selectionchange":if(j4)break;case"keydown":case"keyup":P3(y,_,o)}var b;if(Vo)x:{switch(x){case"compositionstart":var j="onCompositionStart";break x;case"compositionend":j="onCompositionEnd";break x;case"compositionupdate":j="onCompositionUpdate";break x}j=void 0}else u8?dN(x,_)&&(j="onCompositionEnd"):x==="keydown"&&_.keyCode===229&&(j="onCompositionStart");if(j&&(CN&&_.locale!=="ko"&&(u8||j!=="onCompositionStart"?j==="onCompositionEnd"&&u8&&(b=qN()):(XO=o,bo=("value"in XO)?XO.value:XO.textContent,u8=!0)),A=cw(p,j),0<A.length&&(j=new D3(j,x,null,_,o),y.push({event:j,listeners:A}),b?j.data=b:(b=MN(_),b!==null&&(j.data=b)))),b=m4?V4(x,_):L4(x,_))j=cw(p,"onBeforeInput"),0<j.length&&(A=new D3("onBeforeInput","beforeinput",null,_,o),y.push({event:A,listeners:j}),A.data=b);MK(y,x,p,_,o)}Gq(y,g)})}function O9(x,g,_){return{instance:x,listener:g,currentTarget:_}}function cw(x,g){for(var _=g+"Capture",O=[];x!==null;){var l=x,G=l.stateNode;l=l.tag,l!==5&&l!==26&&l!==27||G===null||(l=T7(x,_),l!=null&&O.unshift(O9(x,l,G)),l=T7(x,g),l!=null&&O.push(O9(x,l,G))),x=x.return}return O}function K8(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5&&x.tag!==27);return x?x:null}function F1(x,g,_,O,l){for(var G=g._reactName,w=[];_!==null&&_!==O;){var W=_,z=W.alternate,p=W.stateNode;if(W=W.tag,z!==null&&z===O)break;W!==5&&W!==26&&W!==27||p===null||(z=p,l?(p=T7(_,G),p!=null&&w.unshift(O9(_,p,z))):l||(p=T7(_,G),p!=null&&w.push(O9(_,p,z)))),_=_.return}w.length!==0&&x.push({event:g,listeners:w})}var YK=/\r\n?/g,cK=/\u0000|\uFFFD/g;function A1(x){return(typeof x==="string"?x:""+x).replace(YK,`
`).replace(cK,"")}function Wq(x,g){return g=A1(g),A1(x)===g?!0:!1}function Ew(){}function Z0(x,g,_,O,l,G){switch(_){case"children":typeof O==="string"?g==="body"||g==="textarea"&&O===""||R8(x,O):(typeof O==="number"||typeof O==="bigint")&&g!=="body"&&R8(x,""+O);break;case"className":AG(x,"class",O);break;case"tabIndex":AG(x,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":AG(x,_,O);break;case"style":NN(x,O,G);break;case"data":if(g!=="object"){AG(x,"data",O);break}case"src":case"href":if(O===""&&(g!=="a"||_!=="href")){x.removeAttribute(_);break}if(O==null||typeof O==="function"||typeof O==="symbol"||typeof O==="boolean"){x.removeAttribute(_);break}O=BG(""+O),x.setAttribute(_,O);break;case"action":case"formAction":if(typeof O==="function"){x.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G==="function"&&(_==="formAction"?(g!=="input"&&Z0(x,g,"name",l.name,l,null),Z0(x,g,"formEncType",l.formEncType,l,null),Z0(x,g,"formMethod",l.formMethod,l,null),Z0(x,g,"formTarget",l.formTarget,l,null)):(Z0(x,g,"encType",l.encType,l,null),Z0(x,g,"method",l.method,l,null),Z0(x,g,"target",l.target,l,null)));if(O==null||typeof O==="symbol"||typeof O==="boolean"){x.removeAttribute(_);break}O=BG(""+O),x.setAttribute(_,O);break;case"onClick":O!=null&&(x.onclick=Ew);break;case"onScroll":O!=null&&m0("scroll",x);break;case"onScrollEnd":O!=null&&m0("scrollend",x);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!=="object"||!("__html"in O))throw Error(P(61));if(_=O.__html,_!=null){if(l.children!=null)throw Error(P(60));x.innerHTML=_}}break;case"multiple":x.multiple=O&&typeof O!=="function"&&typeof O!=="symbol";break;case"muted":x.muted=O&&typeof O!=="function"&&typeof O!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O==="function"||typeof O==="boolean"||typeof O==="symbol"){x.removeAttribute("xlink:href");break}_=BG(""+O),x.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!=="function"&&typeof O!=="symbol"?x.setAttribute(_,""+O):x.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!=="function"&&typeof O!=="symbol"?x.setAttribute(_,""):x.removeAttribute(_);break;case"capture":case"download":O===!0?x.setAttribute(_,""):O!==!1&&O!=null&&typeof O!=="function"&&typeof O!=="symbol"?x.setAttribute(_,O):x.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!=="function"&&typeof O!=="symbol"&&!isNaN(O)&&1<=O?x.setAttribute(_,O):x.removeAttribute(_);break;case"rowSpan":case"start":O==null||typeof O==="function"||typeof O==="symbol"||isNaN(O)?x.removeAttribute(_):x.setAttribute(_,O);break;case"popover":m0("beforetoggle",x),m0("toggle",x),nG(x,"popover",O);break;case"xlinkActuate":F_(x,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":F_(x,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":F_(x,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":F_(x,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":F_(x,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":F_(x,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":F_(x,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":F_(x,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":F_(x,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":nG(x,"is",O);break;case"innerText":case"textContent":break;default:if(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")_=th.get(_)||_,nG(x,_,O)}}function zo(x,g,_,O,l,G){switch(_){case"style":NN(x,O,G);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!=="object"||!("__html"in O))throw Error(P(61));if(_=O.__html,_!=null){if(l.children!=null)throw Error(P(60));x.innerHTML=_}}break;case"children":typeof O==="string"?R8(x,O):(typeof O==="number"||typeof O==="bigint")&&R8(x,""+O);break;case"onScroll":O!=null&&m0("scroll",x);break;case"onScrollEnd":O!=null&&m0("scrollend",x);break;case"onClick":O!=null&&(x.onclick=Ew);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!WN.hasOwnProperty(_))x:{if(_[0]==="o"&&_[1]==="n"&&(l=_.endsWith("Capture"),g=_.slice(2,l?_.length-7:void 0),G=x[Hx]||null,G=G!=null?G[_]:null,typeof G==="function"&&x.removeEventListener(g,G,l),typeof O==="function")){typeof G!=="function"&&G!==null&&(_ in x?x[_]=null:x.hasAttribute(_)&&x.removeAttribute(_)),x.addEventListener(g,O,l);break x}_ in x?x[_]=O:O===!0?x.setAttribute(_,""):nG(x,_,O)}}}function mx(x,g,_){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":m0("error",x),m0("load",x);var O=!1,l=!1,G;for(G in _)if(_.hasOwnProperty(G)){var w=_[G];if(w!=null)switch(G){case"src":O=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,g));default:Z0(x,g,G,w,_,null)}}l&&Z0(x,g,"srcSet",_.srcSet,_,null),O&&Z0(x,g,"src",_.src,_,null);return;case"input":m0("invalid",x);var W=G=w=l=null,z=null,p=null;for(O in _)if(_.hasOwnProperty(O)){var o=_[O];if(o!=null)switch(O){case"name":l=o;break;case"type":w=o;break;case"checked":z=o;break;case"defaultChecked":p=o;break;case"value":G=o;break;case"defaultValue":W=o;break;case"children":case"dangerouslySetInnerHTML":if(o!=null)throw Error(P(137,g));break;default:Z0(x,g,O,o,_,null)}}oN(x,G,W,z,p,w,l,!1),lw(x);return;case"select":m0("invalid",x),O=w=G=null;for(l in _)if(_.hasOwnProperty(l)&&(W=_[l],W!=null))switch(l){case"value":G=W;break;case"defaultValue":w=W;break;case"multiple":O=W;default:Z0(x,g,l,W,_,null)}g=G,_=w,x.multiple=!!O,g!=null?E8(x,!!O,g,!1):_!=null&&E8(x,!!O,_,!0);return;case"textarea":m0("invalid",x),G=l=O=null;for(w in _)if(_.hasOwnProperty(w)&&(W=_[w],W!=null))switch(w){case"value":O=W;break;case"defaultValue":l=W;break;case"children":G=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(P(91));break;default:Z0(x,g,w,W,_,null)}yN(x,O,l,G),lw(x);return;case"option":for(z in _)if(_.hasOwnProperty(z)&&(O=_[z],O!=null))switch(z){case"selected":x.selected=O&&typeof O!=="function"&&typeof O!=="symbol";break;default:Z0(x,g,z,O,_,null)}return;case"dialog":m0("cancel",x),m0("close",x);break;case"iframe":case"object":m0("load",x);break;case"video":case"audio":for(O=0;O<_9.length;O++)m0(_9[O],x);break;case"image":m0("error",x),m0("load",x);break;case"details":m0("toggle",x);break;case"embed":case"source":case"link":m0("error",x),m0("load",x);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(p in _)if(_.hasOwnProperty(p)&&(O=_[p],O!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,g));default:Z0(x,g,p,O,_,null)}return;default:if(ho(g)){for(o in _)_.hasOwnProperty(o)&&(O=_[o],O!==void 0&&zo(x,g,o,O,_,void 0));return}}for(W in _)_.hasOwnProperty(W)&&(O=_[W],O!=null&&Z0(x,g,W,O,_,null))}function hK(x,g,_,O){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,G=null,w=null,W=null,z=null,p=null,o=null;for(k in _){var y=_[k];if(_.hasOwnProperty(k)&&y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":z=y;default:O.hasOwnProperty(k)||Z0(x,g,k,null,O,y)}}for(var v in O){var k=O[v];if(y=_[v],O.hasOwnProperty(v)&&(k!=null||y!=null))switch(v){case"type":G=k;break;case"name":l=k;break;case"checked":p=k;break;case"defaultChecked":o=k;break;case"value":w=k;break;case"defaultValue":W=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(P(137,g));break;default:k!==y&&Z0(x,g,v,k,O,y)}}Az(x,w,W,z,p,o,G,l);return;case"select":k=w=W=v=null;for(G in _)if(z=_[G],_.hasOwnProperty(G)&&z!=null)switch(G){case"value":break;case"multiple":k=z;default:O.hasOwnProperty(G)||Z0(x,g,G,null,O,z)}for(l in O)if(G=O[l],z=_[l],O.hasOwnProperty(l)&&(G!=null||z!=null))switch(l){case"value":v=G;break;case"defaultValue":W=G;break;case"multiple":w=G;default:G!==z&&Z0(x,g,l,G,O,z)}g=W,_=w,O=k,v!=null?E8(x,!!_,v,!1):!!O!==!!_&&(g!=null?E8(x,!!_,g,!0):E8(x,!!_,_?[]:"",!1));return;case"textarea":k=v=null;for(W in _)if(l=_[W],_.hasOwnProperty(W)&&l!=null&&!O.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Z0(x,g,W,null,O,l)}for(w in O)if(l=O[w],G=_[w],O.hasOwnProperty(w)&&(l!=null||G!=null))switch(w){case"value":v=l;break;case"defaultValue":k=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:l!==G&&Z0(x,g,w,l,O,G)}vN(x,v,k);return;case"option":for(var M in _)if(v=_[M],_.hasOwnProperty(M)&&v!=null&&!O.hasOwnProperty(M))switch(M){case"selected":x.selected=!1;break;default:Z0(x,g,M,null,O,v)}for(z in O)if(v=O[z],k=_[z],O.hasOwnProperty(z)&&v!==k&&(v!=null||k!=null))switch(z){case"selected":x.selected=v&&typeof v!=="function"&&typeof v!=="symbol";break;default:Z0(x,g,z,v,O,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var f in _)v=_[f],_.hasOwnProperty(f)&&v!=null&&!O.hasOwnProperty(f)&&Z0(x,g,f,null,O,v);for(p in O)if(v=O[p],k=_[p],O.hasOwnProperty(p)&&v!==k&&(v!=null||k!=null))switch(p){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(P(137,g));break;default:Z0(x,g,p,v,O,k)}return;default:if(ho(g)){for(var Y in _)v=_[Y],_.hasOwnProperty(Y)&&v!==void 0&&!O.hasOwnProperty(Y)&&zo(x,g,Y,void 0,O,v);for(o in O)v=O[o],k=_[o],!O.hasOwnProperty(o)||v===k||v===void 0&&k===void 0||zo(x,g,o,v,O,k);return}}for(var q in _)v=_[q],_.hasOwnProperty(q)&&v!=null&&!O.hasOwnProperty(q)&&Z0(x,g,q,null,O,v);for(y in O)v=O[y],k=_[y],!O.hasOwnProperty(y)||v===k||v==null&&k==null||Z0(x,g,y,v,O,k)}var oo=null,vo=null;function hw(x){return x.nodeType===9?x:x.ownerDocument}function u1(x){switch(x){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pq(x,g){if(x===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return x===1&&g==="foreignObject"?0:x}function yo(x,g){return x==="textarea"||x==="noscript"||typeof g.children==="string"||typeof g.children==="number"||typeof g.children==="bigint"||typeof g.dangerouslySetInnerHTML==="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Yz=null;function KK(){var x=window.event;if(x&&x.type==="popstate"){if(x===Yz)return!1;return Yz=x,!0}return Yz=null,!1}var zq=typeof setTimeout==="function"?setTimeout:void 0,bK=typeof clearTimeout==="function"?clearTimeout:void 0,S1=typeof Promise==="function"?Promise:void 0,mK=typeof queueMicrotask==="function"?queueMicrotask:typeof S1!=="undefined"?function(x){return S1.resolve(null).then(x).catch(VK)}:zq;function VK(x){setTimeout(function(){throw x})}function cz(x,g){var _=g,O=0;do{var l=_.nextSibling;if(x.removeChild(_),l&&l.nodeType===8)if(_=l.data,_==="/$"){if(O===0){x.removeChild(l),p9(g);return}O--}else _!=="$"&&_!=="$?"&&_!=="$!"||O++;_=l}while(_);p9(g)}function No(x){var g=x.firstChild;g&&g.nodeType===10&&(g=g.nextSibling);for(;g;){var _=g;switch(g=g.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":No(_),co(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}x.removeChild(_)}}function LK(x,g,_,O){for(;x.nodeType===1;){var l=_;if(x.nodeName.toLowerCase()!==g.toLowerCase()){if(!O&&(x.nodeName!=="INPUT"||x.type!=="hidden"))break}else if(!O)if(g==="input"&&x.type==="hidden"){var G=l.name==null?null:""+l.name;if(l.type==="hidden"&&x.getAttribute("name")===G)return x}else return x;else if(!x[R7])switch(g){case"meta":if(!x.hasAttribute("itemprop"))break;return x;case"link":if(G=x.getAttribute("rel"),G==="stylesheet"&&x.hasAttribute("data-precedence"))break;else if(G!==l.rel||x.getAttribute("href")!==(l.href==null?null:l.href)||x.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||x.getAttribute("title")!==(l.title==null?null:l.title))break;return x;case"style":if(x.hasAttribute("data-precedence"))break;return x;case"script":if(G=x.getAttribute("src"),(G!==(l.src==null?null:l.src)||x.getAttribute("type")!==(l.type==null?null:l.type)||x.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&G&&x.hasAttribute("async")&&!x.hasAttribute("itemprop"))break;return x;default:return x}if(x=ng(x.nextSibling),x===null)break}return null}function XK(x,g,_){if(g==="")return null;for(;x.nodeType!==3;){if((x.nodeType!==1||x.nodeName!=="INPUT"||x.type!=="hidden")&&!_)return null;if(x=ng(x.nextSibling),x===null)return null}return x}function ng(x){for(;x!=null;x=x.nextSibling){var g=x.nodeType;if(g===1||g===3)break;if(g===8){if(g=x.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return x}function r1(x){x=x.previousSibling;for(var g=0;x;){if(x.nodeType===8){var _=x.data;if(_==="$"||_==="$!"||_==="$?"){if(g===0)return x;g--}else _==="/$"&&g++}x=x.previousSibling}return null}function oq(x,g,_){switch(g=hw(_),x){case"html":if(x=g.documentElement,!x)throw Error(P(452));return x;case"head":if(x=g.head,!x)throw Error(P(453));return x;case"body":if(x=g.body,!x)throw Error(P(454));return x;default:throw Error(P(451))}}var Xg=new Map,I1=new Set;function Kw(x){return typeof x.getRootNode==="function"?x.getRootNode():x.ownerDocument}var J_=n0.d;n0.d={f:FK,r:AK,D:uK,C:SK,L:rK,m:IK,X:jK,S:ZK,M:UK};function FK(){var x=J_.f(),g=Qw();return x||g}function AK(x){var g=ll(x);g!==null&&g.tag===5&&g.type==="form"?ok(g):J_.r(x)}var wl=typeof document==="undefined"?null:document;function vq(x,g,_){var O=wl;if(O&&typeof g==="string"&&g){var l=Kg(g);l='link[rel="'+x+'"][href="'+l+'"]',typeof _==="string"&&(l+='[crossorigin="'+_+'"]'),I1.has(l)||(I1.add(l),x={rel:x,crossOrigin:_,href:g},O.querySelector(l)===null&&(g=O.createElement("link"),mx(g,"link",x),fx(g),O.head.appendChild(g)))}}function uK(x){J_.D(x),vq("dns-prefetch",x,null)}function SK(x,g){J_.C(x,g),vq("preconnect",x,g)}function rK(x,g,_){J_.L(x,g,_);var O=wl;if(O&&x&&g){var l='link[rel="preload"][as="'+Kg(g)+'"]';g==="image"?_&&_.imageSrcSet?(l+='[imagesrcset="'+Kg(_.imageSrcSet)+'"]',typeof _.imageSizes==="string"&&(l+='[imagesizes="'+Kg(_.imageSizes)+'"]')):l+='[href="'+Kg(x)+'"]':l+='[href="'+Kg(x)+'"]';var G=l;switch(g){case"style":G=gl(x);break;case"script":G=Wl(x)}Xg.has(G)||(x=B0({rel:"preload",href:g==="image"&&_&&_.imageSrcSet?void 0:x,as:g},_),Xg.set(G,x),O.querySelector(l)!==null||g==="style"&&O.querySelector(f9(G))||g==="script"&&O.querySelector(Y9(G))||(g=O.createElement("link"),mx(g,"link",x),fx(g),O.head.appendChild(g)))}}function IK(x,g){J_.m(x,g);var _=wl;if(_&&x){var O=g&&typeof g.as==="string"?g.as:"script",l='link[rel="modulepreload"][as="'+Kg(O)+'"][href="'+Kg(x)+'"]',G=l;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=Wl(x)}if(!Xg.has(G)&&(x=B0({rel:"modulepreload",href:x},g),Xg.set(G,x),_.querySelector(l)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(Y9(G)))return}O=_.createElement("link"),mx(O,"link",x),fx(O),_.head.appendChild(O)}}}function ZK(x,g,_){J_.S(x,g,_);var O=wl;if(O&&x){var l=D8(O).hoistableStyles,G=gl(x);g=g||"default";var w=l.get(G);if(!w){var W={loading:0,preload:null};if(w=O.querySelector(f9(G)))W.loading=5;else{x=B0({rel:"stylesheet",href:x,"data-precedence":g},_),(_=Xg.get(G))&&lv(x,_);var z=w=O.createElement("link");fx(z),mx(z,"link",x),z._p=new Promise(function(p,o){z.onload=p,z.onerror=o}),z.addEventListener("load",function(){W.loading|=1}),z.addEventListener("error",function(){W.loading|=2}),W.loading|=4,sG(w,g,O)}w={type:"stylesheet",instance:w,count:1,state:W},l.set(G,w)}}}function jK(x,g){J_.X(x,g);var _=wl;if(_&&x){var O=D8(_).hoistableScripts,l=Wl(x),G=O.get(l);G||(G=_.querySelector(Y9(l)),G||(x=B0({src:x,async:!0},g),(g=Xg.get(l))&&Gv(x,g),G=_.createElement("script"),fx(G),mx(G,"link",x),_.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},O.set(l,G))}}function UK(x,g){J_.M(x,g);var _=wl;if(_&&x){var O=D8(_).hoistableScripts,l=Wl(x),G=O.get(l);G||(G=_.querySelector(Y9(l)),G||(x=B0({src:x,async:!0,type:"module"},g),(g=Xg.get(l))&&Gv(x,g),G=_.createElement("script"),fx(G),mx(G,"link",x),_.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},O.set(l,G))}}function Z1(x,g,_,O){var l=(l=FO.current)?Kw(l):null;if(!l)throw Error(P(446));switch(x){case"meta":case"title":return null;case"style":return typeof _.precedence==="string"&&typeof _.href==="string"?(g=gl(_.href),_=D8(l).hoistableStyles,O=_.get(g),O||(O={type:"style",instance:null,count:0,state:null},_.set(g,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href==="string"&&typeof _.precedence==="string"){x=gl(_.href);var G=D8(l).hoistableStyles,w=G.get(x);if(w||(l=l.ownerDocument||l,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(x,w),(G=l.querySelector(f9(x)))&&!G._p&&(w.instance=G,w.state.loading=5),Xg.has(x)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},Xg.set(x,_),G||QK(l,x,_,w.state))),g&&O===null)throw Error(P(528,""));return w}if(g&&O!==null)throw Error(P(529,""));return null;case"script":return g=_.async,_=_.src,typeof _==="string"&&g&&typeof g!=="function"&&typeof g!=="symbol"?(g=Wl(_),_=D8(l).hoistableScripts,O=_.get(g),O||(O={type:"script",instance:null,count:0,state:null},_.set(g,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,x))}}function gl(x){return'href="'+Kg(x)+'"'}function f9(x){return'link[rel="stylesheet"]['+x+"]"}function yq(x){return B0({},x,{"data-precedence":x.precedence,precedence:null})}function QK(x,g,_,O){x.querySelector('link[rel="preload"][as="style"]['+g+"]")?O.loading=1:(g=x.createElement("link"),O.preload=g,g.addEventListener("load",function(){return O.loading|=1}),g.addEventListener("error",function(){return O.loading|=2}),mx(g,"link",_),fx(g),x.head.appendChild(g))}function Wl(x){return'[src="'+Kg(x)+'"]'}function Y9(x){return"script[async]"+x}function j1(x,g,_){if(g.count++,g.instance===null)switch(g.type){case"style":var O=x.querySelector('style[data-href~="'+Kg(_.href)+'"]');if(O)return g.instance=O,fx(O),O;var l=B0({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return O=(x.ownerDocument||x).createElement("style"),fx(O),mx(O,"style",l),sG(O,_.precedence,x),g.instance=O;case"stylesheet":l=gl(_.href);var G=x.querySelector(f9(l));if(G)return g.state.loading|=4,g.instance=G,fx(G),G;O=yq(_),(l=Xg.get(l))&&lv(O,l),G=(x.ownerDocument||x).createElement("link"),fx(G);var w=G;return w._p=new Promise(function(W,z){w.onload=W,w.onerror=z}),mx(G,"link",O),g.state.loading|=4,sG(G,_.precedence,x),g.instance=G;case"script":if(G=Wl(_.src),l=x.querySelector(Y9(G)))return g.instance=l,fx(l),l;if(O=_,l=Xg.get(G))O=B0({},_),Gv(O,l);return x=x.ownerDocument||x,l=x.createElement("script"),fx(l),mx(l,"link",O),x.head.appendChild(l),g.instance=l;case"void":return null;default:throw Error(P(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(O=g.instance,g.state.loading|=4,sG(O,_.precedence,x));return g.instance}function sG(x,g,_){for(var O=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=O.length?O[O.length-1]:null,G=l,w=0;w<O.length;w++){var W=O[w];if(W.dataset.precedence===g)G=W;else if(G!==l)break}G?G.parentNode.insertBefore(x,G.nextSibling):(g=_.nodeType===9?_.head:_,g.insertBefore(x,g.firstChild))}function lv(x,g){x.crossOrigin==null&&(x.crossOrigin=g.crossOrigin),x.referrerPolicy==null&&(x.referrerPolicy=g.referrerPolicy),x.title==null&&(x.title=g.title)}function Gv(x,g){x.crossOrigin==null&&(x.crossOrigin=g.crossOrigin),x.referrerPolicy==null&&(x.referrerPolicy=g.referrerPolicy),x.integrity==null&&(x.integrity=g.integrity)}var tG=null;function U1(x,g,_){if(tG===null){var O=new Map,l=tG=new Map;l.set(_,O)}else l=tG,O=l.get(_),O||(O=new Map,l.set(_,O));if(O.has(x))return O;O.set(x,null),_=_.getElementsByTagName(x);for(l=0;l<_.length;l++){var G=_[l];if(!(G[R7]||G[Ax]||x==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var w=G.getAttribute(g)||"";w=x+w;var W=O.get(w);W?W.push(G):O.set(w,[G])}}return O}function Q1(x,g,_){x=x.ownerDocument||x,x.head.insertBefore(_,g==="title"?x.querySelector("head > title"):null)}function DK(x,g,_){if(_===1||g.itemProp!=null)return!1;switch(x){case"meta":case"title":return!0;case"style":if(typeof g.precedence!=="string"||typeof g.href!=="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!=="string"||typeof g.href!=="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return x=g.disabled,typeof g.precedence==="string"&&x==null;default:return!0}case"script":if(g.async&&typeof g.async!=="function"&&typeof g.async!=="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src==="string")return!0}return!1}function Nq(x){return x.type==="stylesheet"&&(x.state.loading&3)===0?!1:!0}var l9=null;function EK(){}function nK(x,g,_){if(l9===null)throw Error(P(475));var O=l9;if(g.type==="stylesheet"&&(typeof _.media!=="string"||matchMedia(_.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var l=gl(_.href),G=x.querySelector(f9(l));if(G){x=G._p,x!==null&&typeof x==="object"&&typeof x.then==="function"&&(O.count++,O=bw.bind(O),x.then(O,O)),g.state.loading|=4,g.instance=G,fx(G);return}G=x.ownerDocument||x,_=yq(_),(l=Xg.get(l))&&lv(_,l),G=G.createElement("link"),fx(G);var w=G;w._p=new Promise(function(W,z){w.onload=W,w.onerror=z}),mx(G,"link",_),g.instance=G}O.stylesheets===null&&(O.stylesheets=new Map),O.stylesheets.set(g,x),(x=g.state.preload)&&(g.state.loading&3)===0&&(O.count++,g=bw.bind(O),x.addEventListener("load",g),x.addEventListener("error",g))}}function BK(){if(l9===null)throw Error(P(475));var x=l9;return x.stylesheets&&x.count===0&&ko(x,x.stylesheets),0<x.count?function(g){var _=setTimeout(function(){if(x.stylesheets&&ko(x,x.stylesheets),x.unsuspend){var O=x.unsuspend;x.unsuspend=null,O()}},60000);return x.unsuspend=g,function(){x.unsuspend=null,clearTimeout(_)}}:null}function bw(){if(this.count--,this.count===0){if(this.stylesheets)ko(this,this.stylesheets);else if(this.unsuspend){var x=this.unsuspend;this.unsuspend=null,x()}}}var mw=null;function ko(x,g){x.stylesheets=null,x.unsuspend!==null&&(x.count++,mw=new Map,g.forEach($K,x),mw=null,bw.call(x))}function $K(x,g){if(!(g.state.loading&4)){var _=mw.get(x);if(_)var O=_.get(null);else{_=new Map,mw.set(x,_);for(var l=x.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<l.length;G++){var w=l[G];if(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")_.set(w.dataset.precedence,w),O=w}O&&_.set(null,O)}l=g.instance,w=l.getAttribute("data-precedence"),G=_.get(w)||O,G===O&&_.set(null,l),_.set(w,l),this.count++,O=bw.bind(this),l.addEventListener("load",O),l.addEventListener("error",O),G?G.parentNode.insertBefore(l,G.nextSibling):(x=x.nodeType===9?x.head:x,x.insertBefore(l,x.firstChild)),g.state.loading|=4}}var G9={$$typeof:j_,Provider:null,Consumer:null,_currentValue:h6,_currentValue2:h6,_threadCount:0};function iK(x,g,_,O,l,G,w,W){this.tag=1,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tp(0),this.hiddenUpdates=Tp(null),this.identifierPrefix=O,this.onUncaughtError=l,this.onCaughtError=G,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function kq(x,g,_,O,l,G,w,W,z,p,o,y){return x=new iK(x,g,_,w,W,z,p,y),g=1,G===!0&&(g|=24),G=mg(3,null,null,g),x.current=G,G.stateNode=x,g=ro(),g.refCount++,x.pooledCache=g,g.refCount++,G.memoizedState={element:O,isDehydrated:_,cache:g},Po(G),x}function qq(x){if(!x)return Z8;return x=Z8,x}function Cq(x,g,_,O,l,G){l=qq(l),O.context===null?O.context=l:O.pendingContext=l,O=AO(g),O.payload={element:_},G=G===void 0?null:G,G!==null&&(O.callback=G),_=uO(x,O,g),_!==null&&(jx(_,x,g),n7(_,x,g))}function D1(x,g){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var _=x.retryLane;x.retryLane=_!==0&&_<g?_:g}}function wv(x,g){D1(x,g),(x=x.alternate)&&D1(x,g)}function dq(x){if(x.tag===13){var g=UO(x,67108864);g!==null&&jx(g,x,67108864),wv(x,67108864)}}var Vw=!0;function HK(x,g,_,O){var l=Y0.T;Y0.T=null;var G=n0.p;try{n0.p=2,Wv(x,g,_,O)}finally{n0.p=G,Y0.T=l}}function JK(x,g,_,O){var l=Y0.T;Y0.T=null;var G=n0.p;try{n0.p=8,Wv(x,g,_,O)}finally{n0.p=G,Y0.T=l}}function Wv(x,g,_,O){if(Vw){var l=qo(O);if(l===null)fz(x,g,O,Lw,_),E1(x,O);else if(PK(l,x,g,_,O))O.stopPropagation();else if(E1(x,O),g&4&&-1<aK.indexOf(x)){for(;l!==null;){var G=ll(l);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var w=C6(G.pendingLanes);if(w!==0){var W=G;W.pendingLanes|=2;for(W.entangledLanes|=2;w;){var z=1<<31-Wg(w);W.entanglements[1]|=z,w&=~z}N_(G),(R0&6)===0&&(dw=z_()+500,M9(0,!1))}}break;case 13:W=UO(G,2),W!==null&&jx(W,G,2),Qw(),wv(G,2)}if(G=qo(O),G===null&&fz(x,g,O,Lw,_),G===l)break;l=G}l!==null&&O.stopPropagation()}else fz(x,g,O,null,_)}}function qo(x){return x=Ko(x),pv(x)}var Lw=null;function pv(x){if(Lw=null,x=Y6(x),x!==null){var g=_l(x);if(g===null)x=null;else{var _=g.tag;if(_===13){if(x=R1(g),x!==null)return x;x=null}else if(_===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;x=null}else g!==x&&(x=null)}}return Lw=x,null}function Mq(x){switch(x){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ih()){case s1:return 2;case t1:return 8;case Ow:case Zh:return 32;case e1:return 268435456;default:return 32}default:return 32}}var Co=!1,IO=null,ZO=null,jO=null,w9=new Map,W9=new Map,VO=[],aK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E1(x,g){switch(x){case"focusin":case"focusout":IO=null;break;case"dragenter":case"dragleave":ZO=null;break;case"mouseover":case"mouseout":jO=null;break;case"pointerover":case"pointerout":w9.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":W9.delete(g.pointerId)}}function K7(x,g,_,O,l,G){if(x===null||x.nativeEvent!==G)return x={blockedOn:g,domEventName:_,eventSystemFlags:O,nativeEvent:G,targetContainers:[l]},g!==null&&(g=ll(g),g!==null&&dq(g)),x;return x.eventSystemFlags|=O,g=x.targetContainers,l!==null&&g.indexOf(l)===-1&&g.push(l),x}function PK(x,g,_,O,l){switch(g){case"focusin":return IO=K7(IO,x,g,_,O,l),!0;case"dragenter":return ZO=K7(ZO,x,g,_,O,l),!0;case"mouseover":return jO=K7(jO,x,g,_,O,l),!0;case"pointerover":var G=l.pointerId;return w9.set(G,K7(w9.get(G)||null,x,g,_,O,l)),!0;case"gotpointercapture":return G=l.pointerId,W9.set(G,K7(W9.get(G)||null,x,g,_,O,l)),!0}return!1}function fq(x){var g=Y6(x.target);if(g!==null){var _=_l(g);if(_!==null){if(g=_.tag,g===13){if(g=R1(_),g!==null){x.blockedOn=g,ih(x.priority,function(){if(_.tag===13){var O=pg(),l=UO(_,O);l!==null&&jx(l,_,O),wv(_,O)}});return}}else if(g===3&&_.stateNode.current.memoizedState.isDehydrated){x.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}x.blockedOn=null}function eG(x){if(x.blockedOn!==null)return!1;for(var g=x.targetContainers;0<g.length;){var _=qo(x.nativeEvent);if(_===null){_=x.nativeEvent;var O=new _.constructor(_.type,_);Sz=O,_.target.dispatchEvent(O),Sz=null}else return g=ll(_),g!==null&&dq(g),x.blockedOn=_,!1;g.shift()}return!0}function n1(x,g,_){eG(x)&&_.delete(g)}function RK(){Co=!1,IO!==null&&eG(IO)&&(IO=null),ZO!==null&&eG(ZO)&&(ZO=null),jO!==null&&eG(jO)&&(jO=null),w9.forEach(n1),W9.forEach(n1)}function DG(x,g){x.blockedOn===g&&(x.blockedOn=null,Co||(Co=!0,c8(Y8,RK)))}var EG=null;function B1(x){EG!==x&&(EG=x,c8(Y8,function(){EG===x&&(EG=null);for(var g=0;g<x.length;g+=3){var _=x[g],O=x[g+1],l=x[g+2];if(typeof O!=="function")if(pv(O||_)===null)continue;else break;var G=ll(_);G!==null&&(x.splice(g,3),g-=3,Bz(G,{pending:!0,data:l,method:_.method,action:O},O,l))}}))}function p9(x){function g(z){return DG(z,x)}IO!==null&&DG(IO,x),ZO!==null&&DG(ZO,x),jO!==null&&DG(jO,x),w9.forEach(g),W9.forEach(g);for(var _=0;_<VO.length;_++){var O=VO[_];O.blockedOn===x&&(O.blockedOn=null)}for(;0<VO.length&&(_=VO[0],_.blockedOn===null);)fq(_),_.blockedOn===null&&VO.shift();if(_=(x.ownerDocument||x).$$reactFormReplay,_!=null)for(O=0;O<_.length;O+=3){var l=_[O],G=_[O+1],w=l[Hx]||null;if(typeof G==="function")w||B1(_);else if(w){var W=null;if(G&&G.hasAttribute("formAction")){if(l=G,w=G[Hx]||null)W=w.formAction;else if(pv(l)!==null)continue}else W=w.action;typeof W==="function"?_[O+1]=W:(_.splice(O,3),O-=3),B1(_)}}}function zv(x){this._internalRoot=x}nw.prototype.render=zv.prototype.render=function(x){var g=this._internalRoot;if(g===null)throw Error(P(409));var _=g.current,O=pg();Cq(_,O,x,g,null,null)};nw.prototype.unmount=zv.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var g=x.containerInfo;x.tag===0&&J8(),Cq(x.current,2,null,x,null,null),Qw(),g[Ol]=null}};function nw(x){this._internalRoot=x}nw.prototype.unstable_scheduleHydration=function(x){if(x){var g=GN();x={blockedOn:null,target:x,priority:g};for(var _=0;_<VO.length&&g!==0&&g<VO[_].priority;_++);VO.splice(_,0,x),_===0&&fq(x)}};var $1=Hp;if($1!=="19.0.0")throw Error(P(527,$1,"19.0.0"));n0.findDOMNode=function(x){var g=x._reactInternals;if(g===void 0){if(typeof x.render==="function")throw Error(P(188));throw x=Object.keys(x).join(","),Error(P(268,x))}return x=uh(g),x=x!==null?T1(x):null,x=x===null?null:x.stateNode,x};var TK={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Y0,findFiberByHostInstance:Y6,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"){if(L8=__REACT_DEVTOOLS_GLOBAL_HOOK__,!L8.isDisabled&&L8.supportsFiber)try{z9=L8.inject(TK),wg=L8}catch(x){}}var L8;sK.createRoot=function(x,g){if(!H1(x))throw Error(P(299));var _=!1,O="",l=Ck,G=dk,w=Mk,W=null;return g!==null&&g!==void 0&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onUncaughtError!==void 0&&(l=g.onUncaughtError),g.onCaughtError!==void 0&&(G=g.onCaughtError),g.onRecoverableError!==void 0&&(w=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(W=g.unstable_transitionCallbacks)),g=kq(x,1,!1,null,null,_,O,l,G,w,W,null),x[Ol]=g.current,Ov(x.nodeType===8?x.parentNode:x),new zv(g)};sK.hydrateRoot=function(x,g,_){if(!H1(x))throw Error(P(299));var O=!1,l="",G=Ck,w=dk,W=Mk,z=null,p=null;return _!==null&&_!==void 0&&(_.unstable_strictMode===!0&&(O=!0),_.identifierPrefix!==void 0&&(l=_.identifierPrefix),_.onUncaughtError!==void 0&&(G=_.onUncaughtError),_.onCaughtError!==void 0&&(w=_.onCaughtError),_.onRecoverableError!==void 0&&(W=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(z=_.unstable_transitionCallbacks),_.formState!==void 0&&(p=_.formState)),g=kq(x,1,!0,g,_!=null?_:null,O,l,G,w,W,z,p),g.context=qq(null),_=g.current,O=pg(),l=AO(O),l.callback=null,uO(_,l,O),g.current.lanes=O,v9(g,O),N_(g),x[Ol]=g.current,Ov(x),new nw(g)};sK.version="19.0.0"});var Kq=k0((ur,hq)=>{function cq(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cq)}catch(x){console.error(x)}}cq(),hq.exports=Yq()});var P_={};Lp(P_,{transcode:()=>ib,resolveObjectURL:()=>nb,kStringMaxLength:()=>rq,kMaxLength:()=>c9,isUtf8:()=>Bb,isAscii:()=>$b,default:()=>Hb,constants:()=>qb,btoa:()=>vb,atob:()=>yb,INSPECT_MAX_BYTES:()=>ob,File:()=>Nb,Buffer:()=>$,Blob:()=>kb});function Gb(x){var g=x.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=x.indexOf("=");if(_===-1)_=g;var O=_===g?0:4-_%4;return[_,O]}function wb(x,g){return(x+g)*3/4-g}function Wb(x){var g,_=Gb(x),O=_[0],l=_[1],G=new Uint8Array(wb(O,l)),w=0,W=l>0?O-4:O,z;for(z=0;z<W;z+=4)g=Fg[x.charCodeAt(z)]<<18|Fg[x.charCodeAt(z+1)]<<12|Fg[x.charCodeAt(z+2)]<<6|Fg[x.charCodeAt(z+3)],G[w++]=g>>16&255,G[w++]=g>>8&255,G[w++]=g&255;if(l===2)g=Fg[x.charCodeAt(z)]<<2|Fg[x.charCodeAt(z+1)]>>4,G[w++]=g&255;if(l===1)g=Fg[x.charCodeAt(z)]<<10|Fg[x.charCodeAt(z+1)]<<4|Fg[x.charCodeAt(z+2)]>>2,G[w++]=g>>8&255,G[w++]=g&255;return G}function pb(x){return k_[x>>18&63]+k_[x>>12&63]+k_[x>>6&63]+k_[x&63]}function zb(x,g,_){var O,l=[];for(var G=g;G<_;G+=3)O=(x[G]<<16&16711680)+(x[G+1]<<8&65280)+(x[G+2]&255),l.push(pb(O));return l.join("")}function Lq(x){var g,_=x.length,O=_%3,l=[],G=16383;for(var w=0,W=_-O;w<W;w+=G)l.push(zb(x,w,w+G>W?W:w+G));if(O===1)g=x[_-1],l.push(k_[g>>2]+k_[g<<4&63]+"==");else if(O===2)g=(x[_-2]<<8)+x[_-1],l.push(k_[g>>10]+k_[g>>4&63]+k_[g<<2&63]+"=");return l.join("")}function Bw(x,g,_,O,l){var G,w,W=l*8-O-1,z=(1<<W)-1,p=z>>1,o=-7,y=_?l-1:0,v=_?-1:1,k=x[g+y];y+=v,G=k&(1<<-o)-1,k>>=-o,o+=W;for(;o>0;G=G*256+x[g+y],y+=v,o-=8);w=G&(1<<-o)-1,G>>=-o,o+=O;for(;o>0;w=w*256+x[g+y],y+=v,o-=8);if(G===0)G=1-p;else if(G===z)return w?NaN:(k?-1:1)*(1/0);else w=w+Math.pow(2,O),G=G-p;return(k?-1:1)*w*Math.pow(2,G-O)}function Sq(x,g,_,O,l,G){var w,W,z,p=G*8-l-1,o=(1<<p)-1,y=o>>1,v=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=O?0:G-1,M=O?1:-1,f=g<0||g===0&&1/g<0?1:0;if(g=Math.abs(g),isNaN(g)||g===1/0)W=isNaN(g)?1:0,w=o;else{if(w=Math.floor(Math.log(g)/Math.LN2),g*(z=Math.pow(2,-w))<1)w--,z*=2;if(w+y>=1)g+=v/z;else g+=v*Math.pow(2,1-y);if(g*z>=2)w++,z/=2;if(w+y>=o)W=0,w=o;else if(w+y>=1)W=(g*z-1)*Math.pow(2,l),w=w+y;else W=g*Math.pow(2,y-1)*Math.pow(2,l),w=0}for(;l>=8;x[_+k]=W&255,k+=M,W/=256,l-=8);w=w<<l|W,p+=l;for(;p>0;x[_+k]=w&255,k+=M,w/=256,p-=8);x[_+k-M]|=f*128}function a_(x){if(x>c9)throw new RangeError('The value "'+x+'" is invalid for option "size"');let g=new Uint8Array(x);return Object.setPrototypeOf(g,$.prototype),g}function qv(x,g,_){return class O extends _{constructor(){super();Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${x}]`,this.stack,delete this.name}get code(){return x}set code(l){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:l,writable:!0})}toString(){return`${this.name} [${x}]: ${this.message}`}}}function $(x,g,_){if(typeof x==="number"){if(typeof g==="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Cv(x)}return Iq(x,g,_)}function Iq(x,g,_){if(typeof x==="string")return fb(x,g);if(ArrayBuffer.isView(x))return Yb(x);if(x==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x);if(q_(x,ArrayBuffer)||x&&q_(x.buffer,ArrayBuffer))return Nv(x,g,_);if(typeof SharedArrayBuffer!=="undefined"&&(q_(x,SharedArrayBuffer)||x&&q_(x.buffer,SharedArrayBuffer)))return Nv(x,g,_);if(typeof x==="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let O=x.valueOf&&x.valueOf();if(O!=null&&O!==x)return $.from(O,g,_);let l=cb(x);if(l)return l;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof x[Symbol.toPrimitive]==="function")return $.from(x[Symbol.toPrimitive]("string"),g,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof x)}function Zq(x){if(typeof x!=="number")throw new TypeError('"size" argument must be of type number');else if(x<0)throw new RangeError('The value "'+x+'" is invalid for option "size"')}function Mb(x,g,_){if(Zq(x),x<=0)return a_(x);if(g!==void 0)return typeof _==="string"?a_(x).fill(g,_):a_(x).fill(g);return a_(x)}function Cv(x){return Zq(x),a_(x<0?0:dv(x)|0)}function fb(x,g){if(typeof g!=="string"||g==="")g="utf8";if(!$.isEncoding(g))throw new TypeError("Unknown encoding: "+g);let _=jq(x,g)|0,O=a_(_),l=O.write(x,g);if(l!==_)O=O.slice(0,l);return O}function yv(x){let g=x.length<0?0:dv(x.length)|0,_=a_(g);for(let O=0;O<g;O+=1)_[O]=x[O]&255;return _}function Yb(x){if(q_(x,Uint8Array)){let g=new Uint8Array(x);return Nv(g.buffer,g.byteOffset,g.byteLength)}return yv(x)}function Nv(x,g,_){if(g<0||x.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(x.byteLength<g+(_||0))throw new RangeError('"length" is outside of buffer bounds');let O;if(g===void 0&&_===void 0)O=new Uint8Array(x);else if(_===void 0)O=new Uint8Array(x,g);else O=new Uint8Array(x,g,_);return Object.setPrototypeOf(O,$.prototype),O}function cb(x){if($.isBuffer(x)){let g=dv(x.length)|0,_=a_(g);if(_.length===0)return _;return x.copy(_,0,0,g),_}if(x.length!==void 0){if(typeof x.length!=="number"||numberIsNaN(x.length))return a_(0);return yv(x)}if(x.type==="Buffer"&&Array.isArray(x.data))return yv(x.data)}function dv(x){if(x>=c9)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c9.toString(16)+" bytes");return x|0}function jq(x,g){if($.isBuffer(x))return x.length;if(ArrayBuffer.isView(x)||q_(x,ArrayBuffer))return x.byteLength;if(typeof x!=="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof x);let _=x.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&_===0)return 0;let l=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return kv(x).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return Hq(x).length;default:if(l)return O?-1:kv(x).length;g=(""+g).toLowerCase(),l=!0}}function hb(x,g,_){let O=!1;if(g===void 0||g<0)g=0;if(g>this.length)return"";if(_===void 0||_>this.length)_=this.length;if(_<=0)return"";if(_>>>=0,g>>>=0,_<=g)return"";if(!x)x="utf8";while(!0)switch(x){case"hex":return Sb(this,g,_);case"utf8":case"utf-8":return Qq(this,g,_);case"ascii":return Ab(this,g,_);case"latin1":case"binary":return ub(this,g,_);case"base64":return Xb(this,g,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return rb(this,g,_);default:if(O)throw new TypeError("Unknown encoding: "+x);x=(x+"").toLowerCase(),O=!0}}function E6(x,g,_){let O=x[g];x[g]=x[_],x[_]=O}function Uq(x,g,_,O,l){if(x.length===0)return-1;if(typeof _==="string")O=_,_=0;else if(_>2147483647)_=2147483647;else if(_<-2147483648)_=-2147483648;if(_=+_,Number.isNaN(_))_=l?0:x.length-1;if(_<0)_=x.length+_;if(_>=x.length)if(l)return-1;else _=x.length-1;else if(_<0)if(l)_=0;else return-1;if(typeof g==="string")g=$.from(g,O);if($.isBuffer(g)){if(g.length===0)return-1;return Fq(x,g,_,O,l)}else if(typeof g==="number"){if(g=g&255,typeof Uint8Array.prototype.indexOf==="function")if(l)return Uint8Array.prototype.indexOf.call(x,g,_);else return Uint8Array.prototype.lastIndexOf.call(x,g,_);return Fq(x,[g],_,O,l)}throw new TypeError("val must be string, number or Buffer")}function Fq(x,g,_,O,l){let G=1,w=x.length,W=g.length;if(O!==void 0){if(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le"){if(x.length<2||g.length<2)return-1;G=2,w/=2,W/=2,_/=2}}function z(o,y){if(G===1)return o[y];else return o.readUInt16BE(y*G)}let p;if(l){let o=-1;for(p=_;p<w;p++)if(z(x,p)===z(g,o===-1?0:p-o)){if(o===-1)o=p;if(p-o+1===W)return o*G}else{if(o!==-1)p-=p-o;o=-1}}else{if(_+W>w)_=w-W;for(p=_;p>=0;p--){let o=!0;for(let y=0;y<W;y++)if(z(x,p+y)!==z(g,y)){o=!1;break}if(o)return p}}return-1}function Kb(x,g,_,O){_=Number(_)||0;let l=x.length-_;if(!O)O=l;else if(O=Number(O),O>l)O=l;let G=g.length;if(O>G/2)O=G/2;let w;for(w=0;w<O;++w){let W=parseInt(g.substr(w*2,2),16);if(numberIsNaN(W))return w;x[_+w]=W}return w}function bb(x,g,_,O){return $w(kv(g,x.length-_),x,_,O)}function mb(x,g,_,O){return $w(Ub(g),x,_,O)}function Vb(x,g,_,O){return $w(Hq(g),x,_,O)}function Lb(x,g,_,O){return $w(Qb(g,x.length-_),x,_,O)}function Xb(x,g,_){if(g===0&&_===x.length)return Lq(x);else return Lq(x.slice(g,_))}function Qq(x,g,_){_=Math.min(x.length,_);let O=[],l=g;while(l<_){let G=x[l],w=null,W=G>239?4:G>223?3:G>191?2:1;if(l+W<=_){let z,p,o,y;switch(W){case 1:if(G<128)w=G;break;case 2:if(z=x[l+1],(z&192)===128){if(y=(G&31)<<6|z&63,y>127)w=y}break;case 3:if(z=x[l+1],p=x[l+2],(z&192)===128&&(p&192)===128){if(y=(G&15)<<12|(z&63)<<6|p&63,y>2047&&(y<55296||y>57343))w=y}break;case 4:if(z=x[l+1],p=x[l+2],o=x[l+3],(z&192)===128&&(p&192)===128&&(o&192)===128){if(y=(G&15)<<18|(z&63)<<12|(p&63)<<6|o&63,y>65535&&y<1114112)w=y}}}if(w===null)w=65533,W=1;else if(w>65535)w-=65536,O.push(w>>>10&1023|55296),w=56320|w&1023;O.push(w),l+=W}return Fb(O)}function Fb(x){let g=x.length;if(g<=Aq)return String.fromCharCode.apply(String,x);let _="",O=0;while(O<g)_+=String.fromCharCode.apply(String,x.slice(O,O+=Aq));return _}function Ab(x,g,_){let O="";_=Math.min(x.length,_);for(let l=g;l<_;++l)O+=String.fromCharCode(x[l]&127);return O}function ub(x,g,_){let O="";_=Math.min(x.length,_);for(let l=g;l<_;++l)O+=String.fromCharCode(x[l]);return O}function Sb(x,g,_){let O=x.length;if(!g||g<0)g=0;if(!_||_<0||_>O)_=O;let l="";for(let G=g;G<_;++G)l+=Db[x[G]];return l}function rb(x,g,_){let O=x.slice(g,_),l="";for(let G=0;G<O.length-1;G+=2)l+=String.fromCharCode(O[G]+O[G+1]*256);return l}function hx(x,g,_){if(x%1!==0||x<0)throw new RangeError("offset is not uint");if(x+g>_)throw new RangeError("Trying to access beyond buffer length")}function ax(x,g,_,O,l,G){if(!$.isBuffer(x))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>l||g<G)throw new RangeError('"value" argument is out of bounds');if(_+O>x.length)throw new RangeError("Index out of range")}function Dq(x,g,_,O,l){iq(g,O,l,x,_,7);let G=Number(g&BigInt(4294967295));x[_++]=G,G=G>>8,x[_++]=G,G=G>>8,x[_++]=G,G=G>>8,x[_++]=G;let w=Number(g>>BigInt(32)&BigInt(4294967295));return x[_++]=w,w=w>>8,x[_++]=w,w=w>>8,x[_++]=w,w=w>>8,x[_++]=w,_}function Eq(x,g,_,O,l){iq(g,O,l,x,_,7);let G=Number(g&BigInt(4294967295));x[_+7]=G,G=G>>8,x[_+6]=G,G=G>>8,x[_+5]=G,G=G>>8,x[_+4]=G;let w=Number(g>>BigInt(32)&BigInt(4294967295));return x[_+3]=w,w=w>>8,x[_+2]=w,w=w>>8,x[_+1]=w,w=w>>8,x[_]=w,_+8}function nq(x,g,_,O,l,G){if(_+O>x.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function Bq(x,g,_,O,l){if(g=+g,_=_>>>0,!l)nq(x,g,_,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000);return Sq(x,g,_,O,23,4),_+4}function $q(x,g,_,O,l){if(g=+g,_=_>>>0,!l)nq(x,g,_,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);return Sq(x,g,_,O,52,8),_+8}function uq(x){let g="",_=x.length,O=x[0]==="-"?1:0;for(;_>=O+4;_-=3)g=`_${x.slice(_-3,_)}${g}`;return`${x.slice(0,_)}${g}`}function Ib(x,g,_){if(pl(g,"offset"),x[g]===void 0||x[g+_]===void 0)h9(g,x.length-(_+1))}function iq(x,g,_,O,l,G){if(x>_||x<g){let w=typeof g==="bigint"?"n":"",W;if(G>3)if(g===0||g===BigInt(0))W=`>= 0${w} and < 2${w} ** ${(G+1)*8}${w}`;else W=`>= -(2${w} ** ${(G+1)*8-1}${w}) and < 2 ** ${(G+1)*8-1}${w}`;else W=`>= ${g}${w} and <= ${_}${w}`;throw new vv("value",W,x)}Ib(O,l,G)}function pl(x,g){if(typeof x!=="number")throw new db(g,"number",x)}function h9(x,g,_){if(Math.floor(x)!==x)throw pl(x,_),new vv(_||"offset","an integer",x);if(g<0)throw new Cb;throw new vv(_||"offset",`>= ${_?1:0} and <= ${g}`,x)}function jb(x){if(x=x.split("=")[0],x=x.trim().replace(Zb,""),x.length<2)return"";while(x.length%4!==0)x=x+"=";return x}function kv(x,g){g=g||1/0;let _,O=x.length,l=null,G=[];for(let w=0;w<O;++w){if(_=x.charCodeAt(w),_>55295&&_<57344){if(!l){if(_>56319){if((g-=3)>-1)G.push(239,191,189);continue}else if(w+1===O){if((g-=3)>-1)G.push(239,191,189);continue}l=_;continue}if(_<56320){if((g-=3)>-1)G.push(239,191,189);l=_;continue}_=(l-55296<<10|_-56320)+65536}else if(l){if((g-=3)>-1)G.push(239,191,189)}if(l=null,_<128){if((g-=1)<0)break;G.push(_)}else if(_<2048){if((g-=2)<0)break;G.push(_>>6|192,_&63|128)}else if(_<65536){if((g-=3)<0)break;G.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((g-=4)<0)break;G.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return G}function Ub(x){let g=[];for(let _=0;_<x.length;++_)g.push(x.charCodeAt(_)&255);return g}function Qb(x,g){let _,O,l,G=[];for(let w=0;w<x.length;++w){if((g-=2)<0)break;_=x.charCodeAt(w),O=_>>8,l=_%256,G.push(l),G.push(O)}return G}function Hq(x){return Wb(jb(x))}function $w(x,g,_,O){let l;for(l=0;l<O;++l){if(l+_>=g.length||l>=x.length)break;g[l+_]=x[l]}return l}function q_(x,g){return x instanceof g||x!=null&&x.constructor!=null&&x.constructor.name!=null&&x.constructor.name===g.name}function $O(x){return typeof BigInt==="undefined"?Eb:x}function Eb(){throw new Error("BigInt not supported")}function Mv(x){return()=>{throw new Error(x+" is not implemented for node:buffer browser polyfill")}}var k_,Fg,ov="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D6,Vq,Xq,ob=50,c9=2147483647,rq=536870888,vb,yb,Nb,kb,qb,Cb,db,vv,Aq=4096,Zb,Db,nb,Bb,$b=(x)=>{for(let g of x)if(g.charCodeAt(0)>127)return!1;return!0},ib,Hb;var R_=z7(()=>{k_=[],Fg=[];for(D6=0,Vq=ov.length;D6<Vq;++D6)k_[D6]=ov[D6],Fg[ov.charCodeAt(D6)]=D6;Fg[45]=62;Fg[95]=63;Xq=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null,vb=globalThis.btoa,yb=globalThis.atob,Nb=globalThis.File,kb=globalThis.Blob,qb={MAX_LENGTH:c9,MAX_STRING_LENGTH:rq};Cb=qv("ERR_BUFFER_OUT_OF_BOUNDS",function(x){if(x)return`${x} is outside of buffer bounds`;return"Attempt to access memory outside buffer bounds"},RangeError),db=qv("ERR_INVALID_ARG_TYPE",function(x,g){return`The "${x}" argument must be of type number. Received type ${typeof g}`},TypeError),vv=qv("ERR_OUT_OF_RANGE",function(x,g,_){let O=`The value of "${x}" is out of range.`,l=_;if(Number.isInteger(_)&&Math.abs(_)>4294967296)l=uq(String(_));else if(typeof _==="bigint"){if(l=String(_),_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))l=uq(l);l+="n"}return O+=` It must be ${g}. Received ${l}`,O},RangeError);Object.defineProperty($.prototype,"parent",{enumerable:!0,get:function(){if(!$.isBuffer(this))return;return this.buffer}});Object.defineProperty($.prototype,"offset",{enumerable:!0,get:function(){if(!$.isBuffer(this))return;return this.byteOffset}});$.poolSize=8192;$.from=function(x,g,_){return Iq(x,g,_)};Object.setPrototypeOf($.prototype,Uint8Array.prototype);Object.setPrototypeOf($,Uint8Array);$.alloc=function(x,g,_){return Mb(x,g,_)};$.allocUnsafe=function(x){return Cv(x)};$.allocUnsafeSlow=function(x){return Cv(x)};$.isBuffer=function x(g){return g!=null&&g._isBuffer===!0&&g!==$.prototype};$.compare=function x(g,_){if(q_(g,Uint8Array))g=$.from(g,g.offset,g.byteLength);if(q_(_,Uint8Array))_=$.from(_,_.offset,_.byteLength);if(!$.isBuffer(g)||!$.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===_)return 0;let O=g.length,l=_.length;for(let G=0,w=Math.min(O,l);G<w;++G)if(g[G]!==_[G]){O=g[G],l=_[G];break}if(O<l)return-1;if(l<O)return 1;return 0};$.isEncoding=function x(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};$.concat=function x(g,_){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return $.alloc(0);let O;if(_===void 0){_=0;for(O=0;O<g.length;++O)_+=g[O].length}let l=$.allocUnsafe(_),G=0;for(O=0;O<g.length;++O){let w=g[O];if(q_(w,Uint8Array))if(G+w.length>l.length){if(!$.isBuffer(w))w=$.from(w);w.copy(l,G)}else Uint8Array.prototype.set.call(l,w,G);else if(!$.isBuffer(w))throw new TypeError('"list" argument must be an Array of Buffers');else w.copy(l,G);G+=w.length}return l};$.byteLength=jq;$.prototype._isBuffer=!0;$.prototype.swap16=function x(){let g=this.length;if(g%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<g;_+=2)E6(this,_,_+1);return this};$.prototype.swap32=function x(){let g=this.length;if(g%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<g;_+=4)E6(this,_,_+3),E6(this,_+1,_+2);return this};$.prototype.swap64=function x(){let g=this.length;if(g%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<g;_+=8)E6(this,_,_+7),E6(this,_+1,_+6),E6(this,_+2,_+5),E6(this,_+3,_+4);return this};$.prototype.toString=function x(){let g=this.length;if(g===0)return"";if(arguments.length===0)return Qq(this,0,g);return hb.apply(this,arguments)};$.prototype.toLocaleString=$.prototype.toString;$.prototype.equals=function x(g){if(!$.isBuffer(g))throw new TypeError("Argument must be a Buffer");if(this===g)return!0;return $.compare(this,g)===0};$.prototype.inspect=function x(){let g="",_=exports_buffer.INSPECT_MAX_BYTES;if(g=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_)g+=" ... ";return"<Buffer "+g+">"};if(Xq)$.prototype[Xq]=$.prototype.inspect;$.prototype.compare=function x(g,_,O,l,G){if(q_(g,Uint8Array))g=$.from(g,g.offset,g.byteLength);if(!$.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(_===void 0)_=0;if(O===void 0)O=g?g.length:0;if(l===void 0)l=0;if(G===void 0)G=this.length;if(_<0||O>g.length||l<0||G>this.length)throw new RangeError("out of range index");if(l>=G&&_>=O)return 0;if(l>=G)return-1;if(_>=O)return 1;if(_>>>=0,O>>>=0,l>>>=0,G>>>=0,this===g)return 0;let w=G-l,W=O-_,z=Math.min(w,W),p=this.slice(l,G),o=g.slice(_,O);for(let y=0;y<z;++y)if(p[y]!==o[y]){w=p[y],W=o[y];break}if(w<W)return-1;if(W<w)return 1;return 0};$.prototype.includes=function x(g,_,O){return this.indexOf(g,_,O)!==-1};$.prototype.indexOf=function x(g,_,O){return Uq(this,g,_,O,!0)};$.prototype.lastIndexOf=function x(g,_,O){return Uq(this,g,_,O,!1)};$.prototype.write=function x(g,_,O,l){if(_===void 0)l="utf8",O=this.length,_=0;else if(O===void 0&&typeof _==="string")l=_,O=this.length,_=0;else if(isFinite(_))if(_=_>>>0,isFinite(O)){if(O=O>>>0,l===void 0)l="utf8"}else l=O,O=void 0;else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let G=this.length-_;if(O===void 0||O>G)O=G;if(g.length>0&&(O<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");if(!l)l="utf8";let w=!1;for(;;)switch(l){case"hex":return Kb(this,g,_,O);case"utf8":case"utf-8":return bb(this,g,_,O);case"ascii":case"latin1":case"binary":return mb(this,g,_,O);case"base64":return Vb(this,g,_,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lb(this,g,_,O);default:if(w)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),w=!0}};$.prototype.toJSON=function x(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};$.prototype.slice=function x(g,_){let O=this.length;if(g=~~g,_=_===void 0?O:~~_,g<0){if(g+=O,g<0)g=0}else if(g>O)g=O;if(_<0){if(_+=O,_<0)_=0}else if(_>O)_=O;if(_<g)_=g;let l=this.subarray(g,_);return Object.setPrototypeOf(l,$.prototype),l};$.prototype.readUintLE=$.prototype.readUIntLE=function x(g,_,O){if(g=g>>>0,_=_>>>0,!O)hx(g,_,this.length);let l=this[g],G=1,w=0;while(++w<_&&(G*=256))l+=this[g+w]*G;return l};$.prototype.readUintBE=$.prototype.readUIntBE=function x(g,_,O){if(g=g>>>0,_=_>>>0,!O)hx(g,_,this.length);let l=this[g+--_],G=1;while(_>0&&(G*=256))l+=this[g+--_]*G;return l};$.prototype.readUint8=$.prototype.readUInt8=function x(g,_){if(g=g>>>0,!_)hx(g,1,this.length);return this[g]};$.prototype.readUint16LE=$.prototype.readUInt16LE=function x(g,_){if(g=g>>>0,!_)hx(g,2,this.length);return this[g]|this[g+1]<<8};$.prototype.readUint16BE=$.prototype.readUInt16BE=function x(g,_){if(g=g>>>0,!_)hx(g,2,this.length);return this[g]<<8|this[g+1]};$.prototype.readUint32LE=$.prototype.readUInt32LE=function x(g,_){if(g=g>>>0,!_)hx(g,4,this.length);return(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216};$.prototype.readUint32BE=$.prototype.readUInt32BE=function x(g,_){if(g=g>>>0,!_)hx(g,4,this.length);return this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])};$.prototype.readBigUInt64LE=$O(function x(g){g=g>>>0,pl(g,"offset");let _=this[g],O=this[g+7];if(_===void 0||O===void 0)h9(g,this.length-8);let l=_+this[++g]*256+this[++g]*65536+this[++g]*16777216,G=this[++g]+this[++g]*256+this[++g]*65536+O*16777216;return BigInt(l)+(BigInt(G)<<BigInt(32))});$.prototype.readBigUInt64BE=$O(function x(g){g=g>>>0,pl(g,"offset");let _=this[g],O=this[g+7];if(_===void 0||O===void 0)h9(g,this.length-8);let l=_*16777216+this[++g]*65536+this[++g]*256+this[++g],G=this[++g]*16777216+this[++g]*65536+this[++g]*256+O;return(BigInt(l)<<BigInt(32))+BigInt(G)});$.prototype.readIntLE=function x(g,_,O){if(g=g>>>0,_=_>>>0,!O)hx(g,_,this.length);let l=this[g],G=1,w=0;while(++w<_&&(G*=256))l+=this[g+w]*G;if(G*=128,l>=G)l-=Math.pow(2,8*_);return l};$.prototype.readIntBE=function x(g,_,O){if(g=g>>>0,_=_>>>0,!O)hx(g,_,this.length);let l=_,G=1,w=this[g+--l];while(l>0&&(G*=256))w+=this[g+--l]*G;if(G*=128,w>=G)w-=Math.pow(2,8*_);return w};$.prototype.readInt8=function x(g,_){if(g=g>>>0,!_)hx(g,1,this.length);if(!(this[g]&128))return this[g];return(255-this[g]+1)*-1};$.prototype.readInt16LE=function x(g,_){if(g=g>>>0,!_)hx(g,2,this.length);let O=this[g]|this[g+1]<<8;return O&32768?O|4294901760:O};$.prototype.readInt16BE=function x(g,_){if(g=g>>>0,!_)hx(g,2,this.length);let O=this[g+1]|this[g]<<8;return O&32768?O|4294901760:O};$.prototype.readInt32LE=function x(g,_){if(g=g>>>0,!_)hx(g,4,this.length);return this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24};$.prototype.readInt32BE=function x(g,_){if(g=g>>>0,!_)hx(g,4,this.length);return this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]};$.prototype.readBigInt64LE=$O(function x(g){g=g>>>0,pl(g,"offset");let _=this[g],O=this[g+7];if(_===void 0||O===void 0)h9(g,this.length-8);let l=this[g+4]+this[g+5]*256+this[g+6]*65536+(O<<24);return(BigInt(l)<<BigInt(32))+BigInt(_+this[++g]*256+this[++g]*65536+this[++g]*16777216)});$.prototype.readBigInt64BE=$O(function x(g){g=g>>>0,pl(g,"offset");let _=this[g],O=this[g+7];if(_===void 0||O===void 0)h9(g,this.length-8);let l=(_<<24)+this[++g]*65536+this[++g]*256+this[++g];return(BigInt(l)<<BigInt(32))+BigInt(this[++g]*16777216+this[++g]*65536+this[++g]*256+O)});$.prototype.readFloatLE=function x(g,_){if(g=g>>>0,!_)hx(g,4,this.length);return Bw(this,g,!0,23,4)};$.prototype.readFloatBE=function x(g,_){if(g=g>>>0,!_)hx(g,4,this.length);return Bw(this,g,!1,23,4)};$.prototype.readDoubleLE=function x(g,_){if(g=g>>>0,!_)hx(g,8,this.length);return Bw(this,g,!0,52,8)};$.prototype.readDoubleBE=function x(g,_){if(g=g>>>0,!_)hx(g,8,this.length);return Bw(this,g,!1,52,8)};$.prototype.writeUintLE=$.prototype.writeUIntLE=function x(g,_,O,l){if(g=+g,_=_>>>0,O=O>>>0,!l){let W=Math.pow(2,8*O)-1;ax(this,g,_,O,W,0)}let G=1,w=0;this[_]=g&255;while(++w<O&&(G*=256))this[_+w]=g/G&255;return _+O};$.prototype.writeUintBE=$.prototype.writeUIntBE=function x(g,_,O,l){if(g=+g,_=_>>>0,O=O>>>0,!l){let W=Math.pow(2,8*O)-1;ax(this,g,_,O,W,0)}let G=O-1,w=1;this[_+G]=g&255;while(--G>=0&&(w*=256))this[_+G]=g/w&255;return _+O};$.prototype.writeUint8=$.prototype.writeUInt8=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,1,255,0);return this[_]=g&255,_+1};$.prototype.writeUint16LE=$.prototype.writeUInt16LE=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,2,65535,0);return this[_]=g&255,this[_+1]=g>>>8,_+2};$.prototype.writeUint16BE=$.prototype.writeUInt16BE=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,2,65535,0);return this[_]=g>>>8,this[_+1]=g&255,_+2};$.prototype.writeUint32LE=$.prototype.writeUInt32LE=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,4,4294967295,0);return this[_+3]=g>>>24,this[_+2]=g>>>16,this[_+1]=g>>>8,this[_]=g&255,_+4};$.prototype.writeUint32BE=$.prototype.writeUInt32BE=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,4,4294967295,0);return this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255,_+4};$.prototype.writeBigUInt64LE=$O(function x(g,_=0){return Dq(this,g,_,BigInt(0),BigInt("0xffffffffffffffff"))});$.prototype.writeBigUInt64BE=$O(function x(g,_=0){return Eq(this,g,_,BigInt(0),BigInt("0xffffffffffffffff"))});$.prototype.writeIntLE=function x(g,_,O,l){if(g=+g,_=_>>>0,!l){let z=Math.pow(2,8*O-1);ax(this,g,_,O,z-1,-z)}let G=0,w=1,W=0;this[_]=g&255;while(++G<O&&(w*=256)){if(g<0&&W===0&&this[_+G-1]!==0)W=1;this[_+G]=(g/w>>0)-W&255}return _+O};$.prototype.writeIntBE=function x(g,_,O,l){if(g=+g,_=_>>>0,!l){let z=Math.pow(2,8*O-1);ax(this,g,_,O,z-1,-z)}let G=O-1,w=1,W=0;this[_+G]=g&255;while(--G>=0&&(w*=256)){if(g<0&&W===0&&this[_+G+1]!==0)W=1;this[_+G]=(g/w>>0)-W&255}return _+O};$.prototype.writeInt8=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,1,127,-128);if(g<0)g=255+g+1;return this[_]=g&255,_+1};$.prototype.writeInt16LE=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,2,32767,-32768);return this[_]=g&255,this[_+1]=g>>>8,_+2};$.prototype.writeInt16BE=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,2,32767,-32768);return this[_]=g>>>8,this[_+1]=g&255,_+2};$.prototype.writeInt32LE=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,4,2147483647,-2147483648);return this[_]=g&255,this[_+1]=g>>>8,this[_+2]=g>>>16,this[_+3]=g>>>24,_+4};$.prototype.writeInt32BE=function x(g,_,O){if(g=+g,_=_>>>0,!O)ax(this,g,_,4,2147483647,-2147483648);if(g<0)g=4294967295+g+1;return this[_]=g>>>24,this[_+1]=g>>>16,this[_+2]=g>>>8,this[_+3]=g&255,_+4};$.prototype.writeBigInt64LE=$O(function x(g,_=0){return Dq(this,g,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});$.prototype.writeBigInt64BE=$O(function x(g,_=0){return Eq(this,g,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});$.prototype.writeFloatLE=function x(g,_,O){return Bq(this,g,_,!0,O)};$.prototype.writeFloatBE=function x(g,_,O){return Bq(this,g,_,!1,O)};$.prototype.writeDoubleLE=function x(g,_,O){return $q(this,g,_,!0,O)};$.prototype.writeDoubleBE=function x(g,_,O){return $q(this,g,_,!1,O)};$.prototype.copy=function x(g,_,O,l){if(!$.isBuffer(g))throw new TypeError("argument should be a Buffer");if(!O)O=0;if(!l&&l!==0)l=this.length;if(_>=g.length)_=g.length;if(!_)_=0;if(l>0&&l<O)l=O;if(l===O)return 0;if(g.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");if(l>this.length)l=this.length;if(g.length-_<l-O)l=g.length-_+O;let G=l-O;if(this===g&&typeof Uint8Array.prototype.copyWithin==="function")this.copyWithin(_,O,l);else Uint8Array.prototype.set.call(g,this.subarray(O,l),_);return G};$.prototype.fill=function x(g,_,O,l){if(typeof g==="string"){if(typeof _==="string")l=_,_=0,O=this.length;else if(typeof O==="string")l=O,O=this.length;if(l!==void 0&&typeof l!=="string")throw new TypeError("encoding must be a string");if(typeof l==="string"&&!$.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(g.length===1){let w=g.charCodeAt(0);if(l==="utf8"&&w<128||l==="latin1")g=w}}else if(typeof g==="number")g=g&255;else if(typeof g==="boolean")g=Number(g);if(_<0||this.length<_||this.length<O)throw new RangeError("Out of range index");if(O<=_)return this;if(_=_>>>0,O=O===void 0?this.length:O>>>0,!g)g=0;let G;if(typeof g==="number")for(G=_;G<O;++G)this[G]=g;else{let w=$.isBuffer(g)?g:$.from(g,l),W=w.length;if(W===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(G=0;G<O-_;++G)this[G+_]=w[G%W]}return this};Zb=/[^+/0-9A-Za-z-_]/g;Db=function(){let x=new Array(256);for(let g=0;g<16;++g){let _=g*16;for(let O=0;O<16;++O)x[_+O]="0123456789abcdef"[g]+"0123456789abcdef"[O]}return x}();nb=Mv("resolveObjectURL"),Bb=Mv("isUtf8"),ib=Mv("transcode"),Hb=$});var b9={};Lp(b9,{setMaxListeners:()=>_C,once:()=>xC,listenerCount:()=>OC,init:()=>iO,getMaxListeners:()=>GC,getEventListeners:()=>gC,default:()=>xm,captureRejectionSymbol:()=>Tq,addAbortListener:()=>wC,EventEmitter:()=>iO});function sq(x,g){var{_events:_}=x;if(g[0]??=new Error("Unhandled error."),!_)throw g[0];var O=_[Rq];if(O)for(var l of aq.call(O))l.apply(x,g);var G=_.error;if(!G)throw g[0];for(var l of aq.call(G))l.apply(x,g);return!0}function Pb(x,g,_,O){g.then(void 0,function(l){queueMicrotask(()=>Rb(x,l,_,O))})}function Rb(x,g,_,O){if(typeof x[Jq]==="function")x[Jq](g,_,...O);else try{x[n6]=!1,x.emit("error",g)}finally{x[n6]=!0}}function tq(x,g,_){_.warned=!0;let O=new Error(`Possible EventEmitter memory leak detected. ${_.length} ${String(g)} listeners added to [${x.constructor.name}]. Use emitter.setMaxListeners() to increase limit`);O.name="MaxListenersExceededWarning",O.emitter=x,O.type=g,O.count=_.length,console.warn(O)}function eq(x,g,..._){this.removeListener(x,g),g.apply(this,_)}function xC(x,g,_){var O=_?.signal;if(lC(O,"options.signal"),O?.aborted)throw new fv(void 0,{cause:O?.reason});let{resolve:l,reject:G,promise:w}=$newPromiseCapability(Promise),W=(o)=>{if(x.removeListener(g,z),O!=null)iw(O,"abort",p);G(o)},z=(...o)=>{if(typeof x.removeListener==="function")x.removeListener("error",W);if(O!=null)iw(O,"abort",p);l(o)};if(Pq(x,g,z,{once:!0}),g!=="error"&&typeof x.once==="function")x.once("error",W);function p(){iw(x,g,z),iw(x,"error",W),G(new fv(void 0,{cause:O?.reason}))}if(O!=null)Pq(O,"abort",p,{once:!0});return w}function gC(x,g){return x.listeners(g)}function _C(x,...g){cv(x,"setMaxListeners",0);var _;if(g&&(_=g.length))for(let O=0;O<_;O++)g[O].setMaxListeners(x);else B6=x}function OC(x,g){return x.listenerCount(g)}function iw(x,g,_,O){if(typeof x.removeListener==="function")x.removeListener(g,_);else x.removeEventListener(g,_,O)}function Pq(x,g,_,O){if(typeof x.on==="function")if(O.once)x.once(g,_);else x.on(g,_);else x.addEventListener(g,_,O)}function zl(x,g,_){let O=new TypeError(`The "${x}" argument must be of type ${g}. Received ${_}`);return O.code="ERR_INVALID_ARG_TYPE",O}function tb(x,g,_){let O=new RangeError(`The "${x}" argument is out of range. It must be ${g}. Received ${_}`);return O.code="ERR_OUT_OF_RANGE",O}function lC(x,g){if(x!==void 0&&(x===null||typeof x!=="object"||!("aborted"in x)))throw zl(g,"AbortSignal",x)}function cv(x,g,_,O){if(typeof x!=="number")throw zl(g,"number",x);if(_!=null&&x<_||O!=null&&x>O||(_!=null||O!=null)&&Number.isNaN(x))throw tb(g,`${_!=null?`>= ${_}`:""}${_!=null&&O!=null?" && ":""}${O!=null?`<= ${O}`:""}`,x)}function K9(x){if(typeof x!=="function")throw new TypeError("The listener must be a function")}function eb(x,g){if(typeof x!=="boolean")throw zl(g,"boolean",x)}function GC(x){return x?._maxListeners??B6}function wC(x,g){if(x===void 0)throw zl("signal","AbortSignal",x);if(lC(x,"signal"),typeof g!=="function")throw zl("listener","function",g);let _;if(x.aborted)queueMicrotask(()=>g());else x.addEventListener("abort",g,{__proto__:null,once:!0}),_=()=>{x.removeEventListener("abort",g)};return{__proto__:null,[Symbol.dispose](){_?.()}}}var Yv,n6,Rq,Jb,ab,Jq,Tq,aq,B6=10,iO=function x(g){if(this._events===void 0||this._events===this.__proto__._events)this._events={__proto__:null},this._eventsCount=0;if(this._maxListeners??=void 0,this[n6]=g?.captureRejections?Boolean(g?.captureRejections):$0[n6])this.emit=sb},$0,Tb=function x(g,..._){if(g==="error")return sq(this,_);var{_events:O}=this;if(O===void 0)return!1;var l=O[g];if(l===void 0)return!1;let G=l.length>1?l.slice():l;for(let w=0,{length:W}=G;w<W;w++){let z=G[w];switch(_.length){case 0:z.call(this);break;case 1:z.call(this,_[0]);break;case 2:z.call(this,_[0],_[1]);break;case 3:z.call(this,_[0],_[1],_[2]);break;default:z.apply(this,_);break}}return!0},sb=function x(g,..._){if(g==="error")return sq(this,_);var{_events:O}=this;if(O===void 0)return!1;var l=O[g];if(l===void 0)return!1;let G=l.length>1?l.slice():l;for(let w=0,{length:W}=G;w<W;w++){let z=G[w],p;switch(_.length){case 0:p=z.call(this);break;case 1:p=z.call(this,_[0]);break;case 2:p=z.call(this,_[0],_[1]);break;case 3:p=z.call(this,_[0],_[1],_[2]);break;default:p=z.apply(this,_);break}if(p!==void 0&&typeof p?.then==="function"&&p.then===Promise.prototype.then)Pb(this,p,g,_)}return!0},fv,xm;var m9=z7(()=>{Yv=Symbol.for,n6=Symbol("kCapture"),Rq=Yv("events.errorMonitor"),Jb=Symbol("events.maxEventTargetListeners"),ab=Symbol("events.maxEventTargetListenersWarned"),Jq=Yv("nodejs.rejection"),Tq=Yv("nodejs.rejection"),aq=Array.prototype.slice,$0=iO.prototype={};$0._events=void 0;$0._eventsCount=0;$0._maxListeners=void 0;$0.setMaxListeners=function x(g){return cv(g,"setMaxListeners",0),this._maxListeners=g,this};$0.constructor=iO;$0.getMaxListeners=function x(){return this?._maxListeners??B6};$0.emit=Tb;$0.addListener=function x(g,_){K9(_);var O=this._events;if(!O)O=this._events={__proto__:null},this._eventsCount=0;else if(O.newListener)this.emit("newListener",g,_.listener??_);var l=O[g];if(!l)O[g]=[_],this._eventsCount++;else{l.push(_);var G=this._maxListeners??B6;if(G>0&&l.length>G&&!l.warned)tq(this,g,l)}return this};$0.on=$0.addListener;$0.prependListener=function x(g,_){K9(_);var O=this._events;if(!O)O=this._events={__proto__:null},this._eventsCount=0;else if(O.newListener)this.emit("newListener",g,_.listener??_);var l=O[g];if(!l)O[g]=[_],this._eventsCount++;else{l.unshift(_);var G=this._maxListeners??B6;if(G>0&&l.length>G&&!l.warned)tq(this,g,l)}return this};$0.once=function x(g,_){K9(_);let O=eq.bind(this,g,_);return O.listener=_,this.addListener(g,O),this};$0.prependOnceListener=function x(g,_){K9(_);let O=eq.bind(this,g,_);return O.listener=_,this.prependListener(g,O),this};$0.removeListener=function x(g,_){K9(_);var{_events:O}=this;if(!O)return this;var l=O[g];if(!l)return this;var G=l.length;let w=-1;for(let W=G-1;W>=0;W--)if(l[W]===_||l[W].listener===_){w=W;break}if(w<0)return this;if(w===0)l.shift();else l.splice(w,1);if(l.length===0)delete O[g],this._eventsCount--;return this};$0.off=$0.removeListener;$0.removeAllListeners=function x(g){var{_events:_}=this;if(g&&_){if(_[g])delete _[g],this._eventsCount--}else this._events={__proto__:null};return this};$0.listeners=function x(g){var{_events:_}=this;if(!_)return[];var O=_[g];if(!O)return[];return O.map((l)=>l.listener??l)};$0.rawListeners=function x(g){var{_events:_}=this;if(!_)return[];var O=_[g];if(!O)return[];return O.slice()};$0.listenerCount=function x(g){var{_events:_}=this;if(!_)return 0;return _[g]?.length??0};$0.eventNames=function x(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};$0[n6]=!1;fv=class fv extends Error{constructor(x="The operation was aborted",g=void 0){if(g!==void 0&&typeof g!=="object")throw zl("options","Object",g);super(x,g);this.code="ABORT_ERR",this.name="AbortError"}};Object.defineProperties(iO,{captureRejections:{get(){return $0[n6]},set(x){eb(x,"EventEmitter.captureRejections"),$0[n6]=x},enumerable:!0},defaultMaxListeners:{enumerable:!0,get:()=>{return B6},set:(x)=>{cv(x,"defaultMaxListeners",0),B6=x}},kMaxEventTargetListeners:{value:Jb,enumerable:!1,configurable:!1,writable:!1},kMaxEventTargetListenersWarned:{value:ab,enumerable:!1,configurable:!1,writable:!1}});Object.assign(iO,{once:xC,getEventListeners:gC,getMaxListeners:GC,setMaxListeners:_C,EventEmitter:iO,usingDomains:!1,captureRejectionSymbol:Tq,errorMonitor:Rq,addAbortListener:wC,init:iO,listenerCount:OC});xm=iO});var pC={};Lp(pC,{versions:()=>pm,version:()=>Wm,umask:()=>hm,title:()=>Om,removeListener:()=>Nm,removeAllListeners:()=>km,prependOnceListener:()=>dm,prependListener:()=>Cm,once:()=>vm,on:()=>zm,off:()=>ym,nextTick:()=>_m,listeners:()=>Mm,env:()=>Gm,emit:()=>qm,cwd:()=>Ym,chdir:()=>cm,browser:()=>lm,binding:()=>fm,argv:()=>wm,addListener:()=>om});function gm(){if(!ol||!$6)return;if(ol=!1,$6.length)T_=$6.concat(T_);else Hw=-1;if(T_.length)WC()}function WC(){if(ol)return;var x=setTimeout(gm,0);ol=!0;var g=T_.length;while(g){$6=T_,T_=[];while(++Hw<g)if($6){var _=$6[Hw];_.fun.apply(null,_.array)}Hw=-1,g=T_.length}$6=null,ol=!1,clearTimeout(x,0)}function _m(x){var g=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)g[_-1]=arguments[_];if(T_.push({fun:x,args:g}),T_.length===1&&!ol)setTimeout(WC,0)}function s_(){}var T_,ol=!1,$6,Hw=-1,Om="browser",lm=!0,Gm,wm,Wm="",pm,zm,om,vm,ym,Nm,km,qm,Cm,dm,Mm=function(x){return[]},fm=function(x){throw new Error("process.binding is not supported in browser polyfill")},Ym=function(){return"/"},cm=function(x){throw new Error("process.chdir is not supported in browser polyfill")},hm=function(){return 0};var zC=z7(()=>{T_=[];Gm={},wm=[],pm={};zm=s_,om=s_,vm=s_,ym=s_,Nm=s_,km=s_,qm=s_,Cm=s_,dm=s_});var Rw=k0((Br,dC)=>{var S0=(x,g)=>()=>(g||x((g={exports:{}}).exports,g),g.exports),T0=S0((x,g)=>{class _ extends Error{constructor(O){if(!Array.isArray(O))throw new TypeError(`Expected input to be an Array, got ${typeof O}`);let l="";for(let G=0;G<O.length;G++)l+=`    ${O[G].stack}
`;super(l);this.name="AggregateError",this.errors=O}}g.exports={AggregateError:_,ArrayIsArray(O){return Array.isArray(O)},ArrayPrototypeIncludes(O,l){return O.includes(l)},ArrayPrototypeIndexOf(O,l){return O.indexOf(l)},ArrayPrototypeJoin(O,l){return O.join(l)},ArrayPrototypeMap(O,l){return O.map(l)},ArrayPrototypePop(O,l){return O.pop(l)},ArrayPrototypePush(O,l){return O.push(l)},ArrayPrototypeSlice(O,l,G){return O.slice(l,G)},Error,FunctionPrototypeCall(O,l,...G){return O.call(l,...G)},FunctionPrototypeSymbolHasInstance(O,l){return Function.prototype[Symbol.hasInstance].call(O,l)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(O,l){return Object.defineProperties(O,l)},ObjectDefineProperty(O,l,G){return Object.defineProperty(O,l,G)},ObjectGetOwnPropertyDescriptor(O,l){return Object.getOwnPropertyDescriptor(O,l)},ObjectKeys(O){return Object.keys(O)},ObjectSetPrototypeOf(O,l){return Object.setPrototypeOf(O,l)},Promise,PromisePrototypeCatch(O,l){return O.catch(l)},PromisePrototypeThen(O,l,G){return O.then(l,G)},PromiseReject(O){return Promise.reject(O)},PromiseResolve(O){return Promise.resolve(O)},ReflectApply:Reflect.apply,RegExpPrototypeTest(O,l){return O.test(l)},SafeSet:Set,String,StringPrototypeSlice(O,l,G){return O.slice(l,G)},StringPrototypeToLowerCase(O){return O.toLowerCase()},StringPrototypeToUpperCase(O){return O.toUpperCase()},StringPrototypeTrim(O){return O.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(O,l,G){return O.set(l,G)},Boolean,Uint8Array}}),oC=S0((x,g)=>{g.exports={format(_,...O){return _.replace(/%([sdifj])/g,function(...[l,G]){let w=O.shift();if(G==="f")return w.toFixed(6);else if(G==="j")return JSON.stringify(w);else if(G==="s"&&typeof w==="object")return`${w.constructor!==Object?w.constructor.name:""} {}`.trim();else return w.toString()})},inspect(_){switch(typeof _){case"string":if(_.includes("'")){if(!_.includes('"'))return`"${_}"`;else if(!_.includes("`")&&!_.includes("${"))return`\`${_}\``}return`'${_}'`;case"number":if(isNaN(_))return"NaN";else if(Object.is(_,-0))return String(_);return _;case"bigint":return`${String(_)}n`;case"boolean":case"undefined":return String(_);case"object":return"{}"}}}}),Ux=S0((x,g)=>{var{format:_,inspect:O}=oC(),{AggregateError:l}=T0(),G=globalThis.AggregateError||l,w=Symbol("kIsNodeError"),W=["string","function","number","object","Function","Object","boolean","bigint","symbol"],z=/^([A-Z][a-z0-9]*)+$/,p={};function o(q,N){if(!q)throw new p.ERR_INTERNAL_ASSERTION(N)}function y(q){let N="",C=q.length,d=q[0]==="-"?1:0;for(;C>=d+4;C-=3)N=`_${q.slice(C-3,C)}${N}`;return`${q.slice(0,C)}${N}`}function v(q,N,C){if(typeof N==="function")return o(N.length<=C.length,`Code: ${q}; The provided arguments length (${C.length}) does not match the required ones (${N.length}).`),N(...C);let d=(N.match(/%[dfijoOs]/g)||[]).length;if(o(d===C.length,`Code: ${q}; The provided arguments length (${C.length}) does not match the required ones (${d}).`),C.length===0)return N;return _(N,...C)}function k(q,N,C){if(!C)C=Error;class d extends C{constructor(...c){super(v(q,N,c))}toString(){return`${this.name} [${q}]: ${this.message}`}}Object.defineProperties(d.prototype,{name:{value:C.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),d.prototype.code=q,d.prototype[w]=!0,p[q]=d}function M(q){let N="__node_internal_"+q.name;return Object.defineProperty(q,"name",{value:N}),q}function f(q,N){if(q&&N&&q!==N){if(Array.isArray(N.errors))return N.errors.push(q),N;let C=new G([N,q],N.message);return C.code=N.code,C}return q||N}class Y extends Error{constructor(q="The operation was aborted",N=void 0){if(N!==void 0&&typeof N!=="object")throw new p.ERR_INVALID_ARG_TYPE("options","Object",N);super(q,N);this.code="ABORT_ERR",this.name="AbortError"}}k("ERR_ASSERTION","%s",Error),k("ERR_INVALID_ARG_TYPE",(q,N,C)=>{if(o(typeof q==="string","'name' must be a string"),!Array.isArray(N))N=[N];let d="The ";if(q.endsWith(" argument"))d+=`${q} `;else d+=`"${q}" ${q.includes(".")?"property":"argument"} `;d+="must be ";let c=[],A=[],b=[];for(let Q of N)if(o(typeof Q==="string","All expected entries have to be of type string"),W.includes(Q))c.push(Q.toLowerCase());else if(z.test(Q))A.push(Q);else o(Q!=="object",'The value "object" should be written as "Object"'),b.push(Q);if(A.length>0){let Q=c.indexOf("object");if(Q!==-1)c.splice(c,Q,1),A.push("Object")}if(c.length>0){switch(c.length){case 1:d+=`of type ${c[0]}`;break;case 2:d+=`one of type ${c[0]} or ${c[1]}`;break;default:{let Q=c.pop();d+=`one of type ${c.join(", ")}, or ${Q}`}}if(A.length>0||b.length>0)d+=" or "}if(A.length>0){switch(A.length){case 1:d+=`an instance of ${A[0]}`;break;case 2:d+=`an instance of ${A[0]} or ${A[1]}`;break;default:{let Q=A.pop();d+=`an instance of ${A.join(", ")}, or ${Q}`}}if(b.length>0)d+=" or "}switch(b.length){case 0:break;case 1:if(b[0].toLowerCase()!==b[0])d+="an ";d+=`${b[0]}`;break;case 2:d+=`one of ${b[0]} or ${b[1]}`;break;default:{let Q=b.pop();d+=`one of ${b.join(", ")}, or ${Q}`}}if(C==null)d+=`. Received ${C}`;else if(typeof C==="function"&&C.name)d+=`. Received function ${C.name}`;else if(typeof C==="object"){var j;if((j=C.constructor)!==null&&j!==void 0&&j.name)d+=`. Received an instance of ${C.constructor.name}`;else{let Q=O(C,{depth:-1});d+=`. Received ${Q}`}}else{let Q=O(C,{colors:!1});if(Q.length>25)Q=`${Q.slice(0,25)}...`;d+=`. Received type ${typeof C} (${Q})`}return d},TypeError),k("ERR_INVALID_ARG_VALUE",(q,N,C="is invalid")=>{let d=O(N);if(d.length>128)d=d.slice(0,128)+"...";return`The ${q.includes(".")?"property":"argument"} '${q}' ${C}. Received ${d}`},TypeError),k("ERR_INVALID_RETURN_VALUE",(q,N,C)=>{var d;let c=C!==null&&C!==void 0&&(d=C.constructor)!==null&&d!==void 0&&d.name?`instance of ${C.constructor.name}`:`type ${typeof C}`;return`Expected ${q} to be returned from the "${N}" function but got ${c}.`},TypeError),k("ERR_MISSING_ARGS",(...q)=>{o(q.length>0,"At least one arg needs to be specified");let N,C=q.length;switch(q=(Array.isArray(q)?q:[q]).map((d)=>`"${d}"`).join(" or "),C){case 1:N+=`The ${q[0]} argument`;break;case 2:N+=`The ${q[0]} and ${q[1]} arguments`;break;default:{let d=q.pop();N+=`The ${q.join(", ")}, and ${d} arguments`}break}return`${N} must be specified`},TypeError),k("ERR_OUT_OF_RANGE",(q,N,C)=>{o(N,'Missing "range" argument');let d;if(Number.isInteger(C)&&Math.abs(C)>4294967296)d=y(String(C));else if(typeof C==="bigint"){d=String(C);let c=BigInt(2)**BigInt(32);if(C>c||C<-c)d=y(d);d+="n"}else d=O(C);return`The value of "${q}" is out of range. It must be ${N}. Received ${d}`},RangeError),k("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),k("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),k("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),k("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),k("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),k("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),k("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),k("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),k("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),k("ERR_STREAM_WRITE_AFTER_END","write after end",Error),k("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),g.exports={AbortError:Y,aggregateTwoErrors:M(f),hideStackFrames:M,codes:p}}),Km=S0((x,g)=>{Object.defineProperty(x,"__esModule",{value:!0});var _=new WeakMap,O=new WeakMap;function l(V){let u=_.get(V);return console.assert(u!=null,"'this' is expected an Event object, but got",V),u}function G(V){if(V.passiveListener!=null){if(typeof console!=="undefined"&&typeof console.error==="function")console.error("Unable to preventDefault inside passive event listener invocation.",V.passiveListener);return}if(!V.event.cancelable)return;if(V.canceled=!0,typeof V.event.preventDefault==="function")V.event.preventDefault()}function w(V,u){_.set(this,{eventTarget:V,event:u,eventPhase:2,currentTarget:V,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:u.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let r=Object.keys(u);for(let L=0;L<r.length;++L){let D=r[L];if(!(D in this))Object.defineProperty(this,D,W(D))}}if(w.prototype={get type(){return l(this).event.type},get target(){return l(this).eventTarget},get currentTarget(){return l(this).currentTarget},composedPath(){let V=l(this).currentTarget;if(V==null)return[];return[V]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return l(this).eventPhase},stopPropagation(){let V=l(this);if(V.stopped=!0,typeof V.event.stopPropagation==="function")V.event.stopPropagation()},stopImmediatePropagation(){let V=l(this);if(V.stopped=!0,V.immediateStopped=!0,typeof V.event.stopImmediatePropagation==="function")V.event.stopImmediatePropagation()},get bubbles(){return Boolean(l(this).event.bubbles)},get cancelable(){return Boolean(l(this).event.cancelable)},preventDefault(){G(l(this))},get defaultPrevented(){return l(this).canceled},get composed(){return Boolean(l(this).event.composed)},get timeStamp(){return l(this).timeStamp},get srcElement(){return l(this).eventTarget},get cancelBubble(){return l(this).stopped},set cancelBubble(V){if(!V)return;let u=l(this);if(u.stopped=!0,typeof u.event.cancelBubble==="boolean")u.event.cancelBubble=!0},get returnValue(){return!l(this).canceled},set returnValue(V){if(!V)G(l(this))},initEvent(){}},Object.defineProperty(w.prototype,"constructor",{value:w,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.Event!=="undefined")Object.setPrototypeOf(w.prototype,window.Event.prototype),O.set(window.Event.prototype,w);function W(V){return{get(){return l(this).event[V]},set(u){l(this).event[V]=u},configurable:!0,enumerable:!0}}function z(V){return{value(){let u=l(this).event;return u[V].apply(u,arguments)},configurable:!0,enumerable:!0}}function p(V,u){let r=Object.keys(u);if(r.length===0)return V;function L(D,S){V.call(this,D,S)}L.prototype=Object.create(V.prototype,{constructor:{value:L,configurable:!0,writable:!0}});for(let D=0;D<r.length;++D){let S=r[D];if(!(S in V.prototype)){let T=typeof Object.getOwnPropertyDescriptor(u,S).value==="function";Object.defineProperty(L.prototype,S,T?z(S):W(S))}}return L}function o(V){if(V==null||V===Object.prototype)return w;let u=O.get(V);if(u==null)u=p(o(Object.getPrototypeOf(V)),V),O.set(V,u);return u}function y(V,u){return new(o(Object.getPrototypeOf(u)))(V,u)}function v(V){return l(V).immediateStopped}function k(V,u){l(V).eventPhase=u}function M(V,u){l(V).currentTarget=u}function f(V,u){l(V).passiveListener=u}var Y=new WeakMap,q=1,N=2,C=3;function d(V){return V!==null&&typeof V==="object"}function c(V){let u=Y.get(V);if(u==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return u}function A(V){return{get(){let u=c(this).get(V);while(u!=null){if(u.listenerType===C)return u.listener;u=u.next}return null},set(u){if(typeof u!=="function"&&!d(u))u=null;let r=c(this),L=null,D=r.get(V);while(D!=null){if(D.listenerType===C)if(L!==null)L.next=D.next;else if(D.next!==null)r.set(V,D.next);else r.delete(V);else L=D;D=D.next}if(u!==null){let S={listener:u,listenerType:C,passive:!1,once:!1,next:null};if(L===null)r.set(V,S);else L.next=S}},configurable:!0,enumerable:!0}}function b(V,u){Object.defineProperty(V,`on${u}`,A(u))}function j(V){function u(){Q.call(this)}u.prototype=Object.create(Q.prototype,{constructor:{value:u,configurable:!0,writable:!0}});for(let r=0;r<V.length;++r)b(u.prototype,V[r]);return u}function Q(){if(this instanceof Q){Y.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return j(arguments[0]);if(arguments.length>0){let V=new Array(arguments.length);for(let u=0;u<arguments.length;++u)V[u]=arguments[u];return j(V)}throw new TypeError("Cannot call a class as a function")}if(Q.prototype={addEventListener(V,u,r){if(u==null)return;if(typeof u!=="function"&&!d(u))throw new TypeError("'listener' should be a function or an object.");let L=c(this),D=d(r),S=(D?Boolean(r.capture):Boolean(r))?q:N,T={listener:u,listenerType:S,passive:D&&Boolean(r.passive),once:D&&Boolean(r.once),next:null},t=L.get(V);if(t===void 0){L.set(V,T);return}let e=null;while(t!=null){if(t.listener===u&&t.listenerType===S)return;e=t,t=t.next}e.next=T},removeEventListener(V,u,r){if(u==null)return;let L=c(this),D=(d(r)?Boolean(r.capture):Boolean(r))?q:N,S=null,T=L.get(V);while(T!=null){if(T.listener===u&&T.listenerType===D){if(S!==null)S.next=T.next;else if(T.next!==null)L.set(V,T.next);else L.delete(V);return}S=T,T=T.next}},dispatchEvent(V){if(V==null||typeof V.type!=="string")throw new TypeError('"event.type" should be a string.');let u=c(this),r=V.type,L=u.get(r);if(L==null)return!0;let D=y(this,V),S=null;while(L!=null){if(L.once)if(S!==null)S.next=L.next;else if(L.next!==null)u.set(r,L.next);else u.delete(r);else S=L;if(f(D,L.passive?L.listener:null),typeof L.listener==="function")try{L.listener.call(this,D)}catch(T){if(typeof console!=="undefined"&&typeof console.error==="function")console.error(T)}else if(L.listenerType!==C&&typeof L.listener.handleEvent==="function")L.listener.handleEvent(D);if(v(D))break;L=L.next}return f(D,null),k(D,0),M(D,null),!D.defaultPrevented}},Object.defineProperty(Q.prototype,"constructor",{value:Q,configurable:!0,writable:!0}),typeof window!=="undefined"&&typeof window.EventTarget!=="undefined")Object.setPrototypeOf(Q.prototype,window.EventTarget.prototype);x.defineEventAttribute=b,x.EventTarget=Q,x.default=Q,g.exports=Q,g.exports.EventTarget=g.exports.default=Q,g.exports.defineEventAttribute=b}),V9=S0((x,g)=>{Object.defineProperty(x,"__esModule",{value:!0});var _=Km();class O extends _.EventTarget{constructor(){super();throw new TypeError("AbortSignal cannot be constructed directly")}get aborted(){let o=w.get(this);if(typeof o!=="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return o}}_.defineEventAttribute(O.prototype,"abort");function l(){let o=Object.create(O.prototype);return _.EventTarget.call(o),w.set(o,!1),o}function G(o){if(w.get(o)!==!1)return;w.set(o,!0),o.dispatchEvent({type:"abort"})}var w=new WeakMap;if(Object.defineProperties(O.prototype,{aborted:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(O.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class W{constructor(){z.set(this,l())}get signal(){return p(this)}abort(){G(p(this))}}var z=new WeakMap;function p(o){let y=z.get(o);if(y==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${o===null?"null":typeof o}`);return y}if(Object.defineProperties(W.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol==="function"&&typeof Symbol.toStringTag==="symbol")Object.defineProperty(W.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});x.AbortController=W,x.AbortSignal=O,x.default=W,g.exports=W,g.exports.AbortController=g.exports.default=W,g.exports.AbortSignal=O}),Px=S0((x,g)=>{var _=(R_(),gg(P_)),{format:O,inspect:l}=oC(),{codes:{ERR_INVALID_ARG_TYPE:G}}=Ux(),{kResistStopPropagation:w,AggregateError:W,SymbolDispose:z}=T0(),p=globalThis.AbortSignal||V9().AbortSignal,o=globalThis.AbortController||V9().AbortController,y=Object.getPrototypeOf(async function(){}).constructor,v=globalThis.Blob||_.Blob,k=typeof v!=="undefined"?function Y(q){return q instanceof v}:function Y(q){return!1},M=(Y,q)=>{if(Y!==void 0&&(Y===null||typeof Y!=="object"||!("aborted"in Y)))throw new G(q,"AbortSignal",Y)},f=(Y,q)=>{if(typeof Y!=="function")throw new G(q,"Function",Y)};g.exports={AggregateError:W,kEmptyObject:Object.freeze({}),once(Y){let q=!1;return function(...N){if(q)return;q=!0,Y.apply(this,N)}},createDeferredPromise:function(){let Y,q;return{promise:new Promise((N,C)=>{Y=N,q=C}),resolve:Y,reject:q}},promisify(Y){return new Promise((q,N)=>{Y((C,...d)=>{if(C)return N(C);return q(...d)})})},debuglog(){return function(){}},format:O,inspect:l,types:{isAsyncFunction(Y){return Y instanceof y},isArrayBufferView(Y){return ArrayBuffer.isView(Y)}},isBlob:k,deprecate(Y,q){return Y},addAbortListener:(m9(),gg(b9)).addAbortListener||function Y(q,N){if(q===void 0)throw new G("signal","AbortSignal",q);M(q,"signal"),f(N,"listener");let C;if(q.aborted)queueMicrotask(()=>N());else q.addEventListener("abort",N,{__proto__:null,once:!0,[w]:!0}),C=()=>{q.removeEventListener("abort",N)};return{__proto__:null,[z](){var d;(d=C)===null||d===void 0||d()}}},AbortSignalAny:p.any||function Y(q){if(q.length===1)return q[0];let N=new o,C=()=>N.abort();return q.forEach((d)=>{M(d,"signals"),d.addEventListener("abort",C,{once:!0})}),N.signal.addEventListener("abort",()=>{q.forEach((d)=>d.removeEventListener("abort",C))},{once:!0}),N.signal}},g.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),L9=S0((x,g)=>{var{ArrayIsArray:_,ArrayPrototypeIncludes:O,ArrayPrototypeJoin:l,ArrayPrototypeMap:G,NumberIsInteger:w,NumberIsNaN:W,NumberMAX_SAFE_INTEGER:z,NumberMIN_SAFE_INTEGER:p,NumberParseInt:o,ObjectPrototypeHasOwnProperty:y,RegExpPrototypeExec:v,String:k,StringPrototypeToUpperCase:M,StringPrototypeTrim:f}=T0(),{hideStackFrames:Y,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:N,ERR_INVALID_ARG_VALUE:C,ERR_OUT_OF_RANGE:d,ERR_UNKNOWN_SIGNAL:c}}=Ux(),{normalizeEncoding:A}=Px(),{isAsyncFunction:b,isArrayBufferView:j}=Px().types,Q={};function V(Z){return Z===(Z|0)}function u(Z){return Z===Z>>>0}var r=/^[0-7]+$/,L="must be a 32-bit unsigned integer or an octal string";function D(Z,R,W0){if(typeof Z==="undefined")Z=W0;if(typeof Z==="string"){if(v(r,Z)===null)throw new C(R,Z,L);Z=o(Z,8)}return t(Z,R),Z}var S=Y((Z,R,W0=p,s=z)=>{if(typeof Z!=="number")throw new N(R,"number",Z);if(!w(Z))throw new d(R,"an integer",Z);if(Z<W0||Z>s)throw new d(R,`>= ${W0} && <= ${s}`,Z)}),T=Y((Z,R,W0=-2147483648,s=2147483647)=>{if(typeof Z!=="number")throw new N(R,"number",Z);if(!w(Z))throw new d(R,"an integer",Z);if(Z<W0||Z>s)throw new d(R,`>= ${W0} && <= ${s}`,Z)}),t=Y((Z,R,W0=!1)=>{if(typeof Z!=="number")throw new N(R,"number",Z);if(!w(Z))throw new d(R,"an integer",Z);let s=W0?1:0,q0=4294967295;if(Z<s||Z>q0)throw new d(R,`>= ${s} && <= ${q0}`,Z)});function e(Z,R){if(typeof Z!=="string")throw new N(R,"string",Z)}function C0(Z,R,W0=void 0,s){if(typeof Z!=="number")throw new N(R,"number",Z);if(W0!=null&&Z<W0||s!=null&&Z>s||(W0!=null||s!=null)&&W(Z))throw new d(R,`${W0!=null?`>= ${W0}`:""}${W0!=null&&s!=null?" && ":""}${s!=null?`<= ${s}`:""}`,Z)}var B=Y((Z,R,W0)=>{if(!O(W0,Z)){let s="must be one of: "+l(G(W0,(q0)=>typeof q0==="string"?`'${q0}'`:k(q0)),", ");throw new C(R,Z,s)}});function o0(Z,R){if(typeof Z!=="boolean")throw new N(R,"boolean",Z)}function m(Z,R,W0){return Z==null||!y(Z,R)?W0:Z[R]}var J=Y((Z,R,W0=null)=>{let s=m(W0,"allowArray",!1),q0=m(W0,"allowFunction",!1);if(!m(W0,"nullable",!1)&&Z===null||!s&&_(Z)||typeof Z!=="object"&&(!q0||typeof Z!=="function"))throw new N(R,"Object",Z)}),O0=Y((Z,R)=>{if(Z!=null&&typeof Z!=="object"&&typeof Z!=="function")throw new N(R,"a dictionary",Z)}),i=Y((Z,R,W0=0)=>{if(!_(Z))throw new N(R,"Array",Z);if(Z.length<W0){let s=`must be longer than ${W0}`;throw new C(R,Z,s)}});function p0(Z,R){i(Z,R);for(let W0=0;W0<Z.length;W0++)e(Z[W0],`${R}[${W0}]`)}function N0(Z,R){i(Z,R);for(let W0=0;W0<Z.length;W0++)o0(Z[W0],`${R}[${W0}]`)}function K0(Z,R){i(Z,R);for(let W0=0;W0<Z.length;W0++){let s=Z[W0],q0=`${R}[${W0}]`;if(s==null)throw new N(q0,"AbortSignal",s);M0(s,q0)}}function f0(Z,R="signal"){if(e(Z,R),Q[Z]===void 0){if(Q[M(Z)]!==void 0)throw new c(Z+" (signals must use all capital letters)");throw new c(Z)}}var H=Y((Z,R="buffer")=>{if(!j(Z))throw new N(R,["Buffer","TypedArray","DataView"],Z)});function a(Z,R){let W0=A(R),s=Z.length;if(W0==="hex"&&s%2!==0)throw new C("encoding",R,`is invalid for data of length ${s}`)}function w0(Z,R="Port",W0=!0){if(typeof Z!=="number"&&typeof Z!=="string"||typeof Z==="string"&&f(Z).length===0||+Z!==+Z>>>0||Z>65535||Z===0&&!W0)throw new q(R,Z,W0);return Z|0}var M0=Y((Z,R)=>{if(Z!==void 0&&(Z===null||typeof Z!=="object"||!("aborted"in Z)))throw new N(R,"AbortSignal",Z)}),d0=Y((Z,R)=>{if(typeof Z!=="function")throw new N(R,"Function",Z)}),I=Y((Z,R)=>{if(typeof Z!=="function"||b(Z))throw new N(R,"Function",Z)}),U=Y((Z,R)=>{if(Z!==void 0)throw new N(R,"undefined",Z)});function n(Z,R,W0){if(!O(W0,Z))throw new N(R,`('${l(W0,"|")}')`,Z)}var g0=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function l0(Z,R){if(typeof Z==="undefined"||!v(g0,Z))throw new C(R,Z,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function x0(Z){if(typeof Z==="string")return l0(Z,"hints"),Z;else if(_(Z)){let R=Z.length,W0="";if(R===0)return W0;for(let s=0;s<R;s++){let q0=Z[s];if(l0(q0,"hints"),W0+=q0,s!==R-1)W0+=", "}return W0}throw new C("hints",Z,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}g.exports={isInt32:V,isUint32:u,parseFileMode:D,validateArray:i,validateStringArray:p0,validateBooleanArray:N0,validateAbortSignalArray:K0,validateBoolean:o0,validateBuffer:H,validateDictionary:O0,validateEncoding:a,validateFunction:d0,validateInt32:T,validateInteger:S,validateNumber:C0,validateObject:J,validateOneOf:B,validatePlainFunction:I,validatePort:w0,validateSignalName:f0,validateString:e,validateUint32:t,validateUndefined:U,validateUnion:n,validateAbortSignal:M0,validateLinkHeaderValue:x0}}),i6=S0((x,g)=>{g.exports=(zC(),gg(pC))}),e_=S0((x,g)=>{var{SymbolAsyncIterator:_,SymbolIterator:O,SymbolFor:l}=T0(),G=l("nodejs.stream.destroyed"),w=l("nodejs.stream.errored"),W=l("nodejs.stream.readable"),z=l("nodejs.stream.writable"),p=l("nodejs.stream.disturbed"),o=l("nodejs.webstream.isClosedPromise"),y=l("nodejs.webstream.controllerErrorFunction");function v(m,J=!1){var O0;return!!(m&&typeof m.pipe==="function"&&typeof m.on==="function"&&(!J||typeof m.pause==="function"&&typeof m.resume==="function")&&(!m._writableState||((O0=m._readableState)===null||O0===void 0?void 0:O0.readable)!==!1)&&(!m._writableState||m._readableState))}function k(m){var J;return!!(m&&typeof m.write==="function"&&typeof m.on==="function"&&(!m._readableState||((J=m._writableState)===null||J===void 0?void 0:J.writable)!==!1))}function M(m){return!!(m&&typeof m.pipe==="function"&&m._readableState&&typeof m.on==="function"&&typeof m.write==="function")}function f(m){return m&&(m._readableState||m._writableState||typeof m.write==="function"&&typeof m.on==="function"||typeof m.pipe==="function"&&typeof m.on==="function")}function Y(m){return!!(m&&!f(m)&&typeof m.pipeThrough==="function"&&typeof m.getReader==="function"&&typeof m.cancel==="function")}function q(m){return!!(m&&!f(m)&&typeof m.getWriter==="function"&&typeof m.abort==="function")}function N(m){return!!(m&&!f(m)&&typeof m.readable==="object"&&typeof m.writable==="object")}function C(m){return Y(m)||q(m)||N(m)}function d(m,J){if(m==null)return!1;if(J===!0)return typeof m[_]==="function";if(J===!1)return typeof m[O]==="function";return typeof m[_]==="function"||typeof m[O]==="function"}function c(m){if(!f(m))return null;let{_writableState:J,_readableState:O0}=m,i=J||O0;return!!(m.destroyed||m[G]||i!==null&&i!==void 0&&i.destroyed)}function A(m){if(!k(m))return null;if(m.writableEnded===!0)return!0;let J=m._writableState;if(J!==null&&J!==void 0&&J.errored)return!1;if(typeof(J===null||J===void 0?void 0:J.ended)!=="boolean")return null;return J.ended}function b(m,J){if(!k(m))return null;if(m.writableFinished===!0)return!0;let O0=m._writableState;if(O0!==null&&O0!==void 0&&O0.errored)return!1;if(typeof(O0===null||O0===void 0?void 0:O0.finished)!=="boolean")return null;return!!(O0.finished||J===!1&&O0.ended===!0&&O0.length===0)}function j(m){if(!v(m))return null;if(m.readableEnded===!0)return!0;let J=m._readableState;if(!J||J.errored)return!1;if(typeof(J===null||J===void 0?void 0:J.ended)!=="boolean")return null;return J.ended}function Q(m,J){if(!v(m))return null;let O0=m._readableState;if(O0!==null&&O0!==void 0&&O0.errored)return!1;if(typeof(O0===null||O0===void 0?void 0:O0.endEmitted)!=="boolean")return null;return!!(O0.endEmitted||J===!1&&O0.ended===!0&&O0.length===0)}function V(m){if(m&&m[W]!=null)return m[W];if(typeof(m===null||m===void 0?void 0:m.readable)!=="boolean")return null;if(c(m))return!1;return v(m)&&m.readable&&!Q(m)}function u(m){if(m&&m[z]!=null)return m[z];if(typeof(m===null||m===void 0?void 0:m.writable)!=="boolean")return null;if(c(m))return!1;return k(m)&&m.writable&&!A(m)}function r(m,J){if(!f(m))return null;if(c(m))return!0;if((J===null||J===void 0?void 0:J.readable)!==!1&&V(m))return!1;if((J===null||J===void 0?void 0:J.writable)!==!1&&u(m))return!1;return!0}function L(m){var J,O0;if(!f(m))return null;if(m.writableErrored)return m.writableErrored;return(J=(O0=m._writableState)===null||O0===void 0?void 0:O0.errored)!==null&&J!==void 0?J:null}function D(m){var J,O0;if(!f(m))return null;if(m.readableErrored)return m.readableErrored;return(J=(O0=m._readableState)===null||O0===void 0?void 0:O0.errored)!==null&&J!==void 0?J:null}function S(m){if(!f(m))return null;if(typeof m.closed==="boolean")return m.closed;let{_writableState:J,_readableState:O0}=m;if(typeof(J===null||J===void 0?void 0:J.closed)==="boolean"||typeof(O0===null||O0===void 0?void 0:O0.closed)==="boolean")return(J===null||J===void 0?void 0:J.closed)||(O0===null||O0===void 0?void 0:O0.closed);if(typeof m._closed==="boolean"&&T(m))return m._closed;return null}function T(m){return typeof m._closed==="boolean"&&typeof m._defaultKeepAlive==="boolean"&&typeof m._removedConnection==="boolean"&&typeof m._removedContLen==="boolean"}function t(m){return typeof m._sent100==="boolean"&&T(m)}function e(m){var J;return typeof m._consuming==="boolean"&&typeof m._dumped==="boolean"&&((J=m.req)===null||J===void 0?void 0:J.upgradeOrConnect)===void 0}function C0(m){if(!f(m))return null;let{_writableState:J,_readableState:O0}=m,i=J||O0;return!i&&t(m)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function B(m){var J;return!!(m&&((J=m[p])!==null&&J!==void 0?J:m.readableDidRead||m.readableAborted))}function o0(m){var J,O0,i,p0,N0,K0,f0,H,a,w0;return!!(m&&((J=(O0=(i=(p0=(N0=(K0=m[w])!==null&&K0!==void 0?K0:m.readableErrored)!==null&&N0!==void 0?N0:m.writableErrored)!==null&&p0!==void 0?p0:(f0=m._readableState)===null||f0===void 0?void 0:f0.errorEmitted)!==null&&i!==void 0?i:(H=m._writableState)===null||H===void 0?void 0:H.errorEmitted)!==null&&O0!==void 0?O0:(a=m._readableState)===null||a===void 0?void 0:a.errored)!==null&&J!==void 0?J:(w0=m._writableState)===null||w0===void 0?void 0:w0.errored))}g.exports={isDestroyed:c,kIsDestroyed:G,isDisturbed:B,kIsDisturbed:p,isErrored:o0,kIsErrored:w,isReadable:V,kIsReadable:W,kIsClosedPromise:o,kControllerErrorFunction:y,kIsWritable:z,isClosed:S,isDuplexNodeStream:M,isFinished:r,isIterable:d,isReadableNodeStream:v,isReadableStream:Y,isReadableEnded:j,isReadableFinished:Q,isReadableErrored:D,isNodeStream:f,isWebStream:C,isWritable:u,isWritableNodeStream:k,isWritableStream:q,isWritableEnded:A,isWritableFinished:b,isWritableErrored:L,isServerRequest:e,isServerResponse:t,willEmitClose:C0,isTransformStream:N}}),HO=S0((x,g)=>{var _=i6(),{AbortError:O,codes:l}=Ux(),{ERR_INVALID_ARG_TYPE:G,ERR_STREAM_PREMATURE_CLOSE:w}=l,{kEmptyObject:W,once:z}=Px(),{validateAbortSignal:p,validateFunction:o,validateObject:y,validateBoolean:v}=L9(),{Promise:k,PromisePrototypeThen:M,SymbolDispose:f}=T0(),{isClosed:Y,isReadable:q,isReadableNodeStream:N,isReadableStream:C,isReadableFinished:d,isReadableErrored:c,isWritable:A,isWritableNodeStream:b,isWritableStream:j,isWritableFinished:Q,isWritableErrored:V,isNodeStream:u,willEmitClose:r,kIsClosedPromise:L}=e_(),D;function S(B){return B.setHeader&&typeof B.abort==="function"}var T=()=>{};function t(B,o0,m){var J,O0;if(arguments.length===2)m=o0,o0=W;else if(o0==null)o0=W;else y(o0,"options");if(o(m,"callback"),p(o0.signal,"options.signal"),m=z(m),C(B)||j(B))return e(B,o0,m);if(!u(B))throw new G("stream",["ReadableStream","WritableStream","Stream"],B);let i=(J=o0.readable)!==null&&J!==void 0?J:N(B),p0=(O0=o0.writable)!==null&&O0!==void 0?O0:b(B),N0=B._writableState,K0=B._readableState,f0=()=>{if(!B.writable)w0()},H=r(B)&&N(B)===i&&b(B)===p0,a=Q(B,!1),w0=()=>{if(a=!0,B.destroyed)H=!1;if(H&&(!B.readable||i))return;if(!i||M0)m.call(B)},M0=d(B,!1),d0=()=>{if(M0=!0,B.destroyed)H=!1;if(H&&(!B.writable||p0))return;if(!p0||a)m.call(B)},I=(Z)=>{m.call(B,Z)},U=Y(B),n=()=>{U=!0;let Z=V(B)||c(B);if(Z&&typeof Z!=="boolean")return m.call(B,Z);if(i&&!M0&&N(B,!0)){if(!d(B,!1))return m.call(B,new w)}if(p0&&!a){if(!Q(B,!1))return m.call(B,new w)}m.call(B)},g0=()=>{U=!0;let Z=V(B)||c(B);if(Z&&typeof Z!=="boolean")return m.call(B,Z);m.call(B)},l0=()=>{B.req.on("finish",w0)};if(S(B)){if(B.on("complete",w0),!H)B.on("abort",n);if(B.req)l0();else B.on("request",l0)}else if(p0&&!N0)B.on("end",f0),B.on("close",f0);if(!H&&typeof B.aborted==="boolean")B.on("aborted",n);if(B.on("end",d0),B.on("finish",w0),o0.error!==!1)B.on("error",I);if(B.on("close",n),U)_.nextTick(n);else if(N0!==null&&N0!==void 0&&N0.errorEmitted||K0!==null&&K0!==void 0&&K0.errorEmitted){if(!H)_.nextTick(g0)}else if(!i&&(!H||q(B))&&(a||A(B)===!1))_.nextTick(g0);else if(!p0&&(!H||A(B))&&(M0||q(B)===!1))_.nextTick(g0);else if(K0&&B.req&&B.aborted)_.nextTick(g0);let x0=()=>{if(m=T,B.removeListener("aborted",n),B.removeListener("complete",w0),B.removeListener("abort",n),B.removeListener("request",l0),B.req)B.req.removeListener("finish",w0);B.removeListener("end",f0),B.removeListener("close",f0),B.removeListener("finish",w0),B.removeListener("end",d0),B.removeListener("error",I),B.removeListener("close",n)};if(o0.signal&&!U){let Z=()=>{let R=m;x0(),R.call(B,new O(void 0,{cause:o0.signal.reason}))};if(o0.signal.aborted)_.nextTick(Z);else{D=D||Px().addAbortListener;let R=D(o0.signal,Z),W0=m;m=z((...s)=>{R[f](),W0.apply(B,s)})}}return x0}function e(B,o0,m){let J=!1,O0=T;if(o0.signal)if(O0=()=>{J=!0,m.call(B,new O(void 0,{cause:o0.signal.reason}))},o0.signal.aborted)_.nextTick(O0);else{D=D||Px().addAbortListener;let p0=D(o0.signal,O0),N0=m;m=z((...K0)=>{p0[f](),N0.apply(B,K0)})}let i=(...p0)=>{if(!J)_.nextTick(()=>m.apply(B,p0))};return M(B[L].promise,i,i),T}function C0(B,o0){var m;let J=!1;if(o0===null)o0=W;if((m=o0)!==null&&m!==void 0&&m.cleanup)v(o0.cleanup,"cleanup"),J=o0.cleanup;return new k((O0,i)=>{let p0=t(B,o0,(N0)=>{if(J)p0();if(N0)i(N0);else O0()})})}g.exports=t,g.exports.finished=C0}),vl=S0((x,g)=>{var _=i6(),{aggregateTwoErrors:O,codes:{ERR_MULTIPLE_CALLBACK:l},AbortError:G}=Ux(),{Symbol:w}=T0(),{kIsDestroyed:W,isDestroyed:z,isFinished:p,isServerRequest:o}=e_(),y=w("kDestroy"),v=w("kConstruct");function k(r,L,D){if(r){if(r.stack,L&&!L.errored)L.errored=r;if(D&&!D.errored)D.errored=r}}function M(r,L){let D=this._readableState,S=this._writableState,T=S||D;if(S!==null&&S!==void 0&&S.destroyed||D!==null&&D!==void 0&&D.destroyed){if(typeof L==="function")L();return this}if(k(r,S,D),S)S.destroyed=!0;if(D)D.destroyed=!0;if(!T.constructed)this.once(y,function(t){f(this,O(t,r),L)});else f(this,r,L);return this}function f(r,L,D){let S=!1;function T(t){if(S)return;S=!0;let{_readableState:e,_writableState:C0}=r;if(k(t,C0,e),C0)C0.closed=!0;if(e)e.closed=!0;if(typeof D==="function")D(t);if(t)_.nextTick(Y,r,t);else _.nextTick(q,r)}try{r._destroy(L||null,T)}catch(t){T(t)}}function Y(r,L){N(r,L),q(r)}function q(r){let{_readableState:L,_writableState:D}=r;if(D)D.closeEmitted=!0;if(L)L.closeEmitted=!0;if(D!==null&&D!==void 0&&D.emitClose||L!==null&&L!==void 0&&L.emitClose)r.emit("close")}function N(r,L){let{_readableState:D,_writableState:S}=r;if(S!==null&&S!==void 0&&S.errorEmitted||D!==null&&D!==void 0&&D.errorEmitted)return;if(S)S.errorEmitted=!0;if(D)D.errorEmitted=!0;r.emit("error",L)}function C(){let r=this._readableState,L=this._writableState;if(r)r.constructed=!0,r.closed=!1,r.closeEmitted=!1,r.destroyed=!1,r.errored=null,r.errorEmitted=!1,r.reading=!1,r.ended=r.readable===!1,r.endEmitted=r.readable===!1;if(L)L.constructed=!0,L.destroyed=!1,L.closed=!1,L.closeEmitted=!1,L.errored=null,L.errorEmitted=!1,L.finalCalled=!1,L.prefinished=!1,L.ended=L.writable===!1,L.ending=L.writable===!1,L.finished=L.writable===!1}function d(r,L,D){let{_readableState:S,_writableState:T}=r;if(T!==null&&T!==void 0&&T.destroyed||S!==null&&S!==void 0&&S.destroyed)return this;if(S!==null&&S!==void 0&&S.autoDestroy||T!==null&&T!==void 0&&T.autoDestroy)r.destroy(L);else if(L){if(L.stack,T&&!T.errored)T.errored=L;if(S&&!S.errored)S.errored=L;if(D)_.nextTick(N,r,L);else N(r,L)}}function c(r,L){if(typeof r._construct!=="function")return;let{_readableState:D,_writableState:S}=r;if(D)D.constructed=!1;if(S)S.constructed=!1;if(r.once(v,L),r.listenerCount(v)>1)return;_.nextTick(A,r)}function A(r){let L=!1;function D(S){if(L){d(r,S!==null&&S!==void 0?S:new l);return}L=!0;let{_readableState:T,_writableState:t}=r,e=t||T;if(T)T.constructed=!0;if(t)t.constructed=!0;if(e.destroyed)r.emit(y,S);else if(S)d(r,S,!0);else _.nextTick(b,r)}try{r._construct((S)=>{_.nextTick(D,S)})}catch(S){_.nextTick(D,S)}}function b(r){r.emit(v)}function j(r){return(r===null||r===void 0?void 0:r.setHeader)&&typeof r.abort==="function"}function Q(r){r.emit("close")}function V(r,L){r.emit("error",L),_.nextTick(Q,r)}function u(r,L){if(!r||z(r))return;if(!L&&!p(r))L=new G;if(o(r))r.socket=null,r.destroy(L);else if(j(r))r.abort();else if(j(r.req))r.req.abort();else if(typeof r.destroy==="function")r.destroy(L);else if(typeof r.close==="function")r.close();else if(L)_.nextTick(V,r,L);else _.nextTick(Q,r);if(!r.destroyed)r[W]=!0}g.exports={construct:c,destroyer:u,destroy:M,undestroy:C,errorOrDestroy:d}}),hv=S0((x,g)=>{var{ArrayIsArray:_,ObjectSetPrototypeOf:O}=T0(),{EventEmitter:l}=(m9(),gg(b9));function G(W){l.call(this,W)}O(G.prototype,l.prototype),O(G,l),G.prototype.pipe=function(W,z){let p=this;function o(q){if(W.writable&&W.write(q)===!1&&p.pause)p.pause()}p.on("data",o);function y(){if(p.readable&&p.resume)p.resume()}if(W.on("drain",y),!W._isStdio&&(!z||z.end!==!1))p.on("end",k),p.on("close",M);let v=!1;function k(){if(v)return;v=!0,W.end()}function M(){if(v)return;if(v=!0,typeof W.destroy==="function")W.destroy()}function f(q){if(Y(),l.listenerCount(this,"error")===0)this.emit("error",q)}w(p,"error",f),w(W,"error",f);function Y(){p.removeListener("data",o),W.removeListener("drain",y),p.removeListener("end",k),p.removeListener("close",M),p.removeListener("error",f),W.removeListener("error",f),p.removeListener("end",Y),p.removeListener("close",Y),W.removeListener("close",Y)}return p.on("end",Y),p.on("close",Y),W.on("close",Y),W.emit("pipe",p),W};function w(W,z,p){if(typeof W.prependListener==="function")return W.prependListener(z,p);if(!W._events||!W._events[z])W.on(z,p);else if(_(W._events[z]))W._events[z].unshift(p);else W._events[z]=[p,W._events[z]]}g.exports={Stream:G,prependListener:w}}),Jw=S0((x,g)=>{var{SymbolDispose:_}=T0(),{AbortError:O,codes:l}=Ux(),{isNodeStream:G,isWebStream:w,kControllerErrorFunction:W}=e_(),z=HO(),{ERR_INVALID_ARG_TYPE:p}=l,o,y=(v,k)=>{if(typeof v!=="object"||!("aborted"in v))throw new p(k,"AbortSignal",v)};g.exports.addAbortSignal=function v(k,M){if(y(k,"signal"),!G(M)&&!w(M))throw new p("stream",["ReadableStream","WritableStream","Stream"],M);return g.exports.addAbortSignalNoValidate(k,M)},g.exports.addAbortSignalNoValidate=function(v,k){if(typeof v!=="object"||!("aborted"in v))return k;let M=G(k)?()=>{k.destroy(new O(void 0,{cause:v.reason}))}:()=>{k[W](new O(void 0,{cause:v.reason}))};if(v.aborted)M();else{o=o||Px().addAbortListener;let f=o(v,M);z(k,f[_])}return k}}),bm=S0((x,g)=>{var{StringPrototypeSlice:_,SymbolIterator:O,TypedArrayPrototypeSet:l,Uint8Array:G}=T0(),{Buffer:w}=(R_(),gg(P_)),{inspect:W}=Px();g.exports=class z{constructor(){this.head=null,this.tail=null,this.length=0}push(p){let o={data:p,next:null};if(this.length>0)this.tail.next=o;else this.head=o;this.tail=o,++this.length}unshift(p){let o={data:p,next:this.head};if(this.length===0)this.tail=o;this.head=o,++this.length}shift(){if(this.length===0)return;let p=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;return--this.length,p}clear(){this.head=this.tail=null,this.length=0}join(p){if(this.length===0)return"";let o=this.head,y=""+o.data;while((o=o.next)!==null)y+=p+o.data;return y}concat(p){if(this.length===0)return w.alloc(0);let o=w.allocUnsafe(p>>>0),y=this.head,v=0;while(y)l(o,y.data,v),v+=y.data.length,y=y.next;return o}consume(p,o){let y=this.head.data;if(p<y.length){let v=y.slice(0,p);return this.head.data=y.slice(p),v}if(p===y.length)return this.shift();return o?this._getString(p):this._getBuffer(p)}first(){return this.head.data}*[O](){for(let p=this.head;p;p=p.next)yield p.data}_getString(p){let o="",y=this.head,v=0;do{let k=y.data;if(p>k.length)o+=k,p-=k.length;else{if(p===k.length)if(o+=k,++v,y.next)this.head=y.next;else this.head=this.tail=null;else o+=_(k,0,p),this.head=y,y.data=_(k,p);break}++v}while((y=y.next)!==null);return this.length-=v,o}_getBuffer(p){let o=w.allocUnsafe(p),y=p,v=this.head,k=0;do{let M=v.data;if(p>M.length)l(o,M,y-p),p-=M.length;else{if(p===M.length)if(l(o,M,y-p),++k,v.next)this.head=v.next;else this.head=this.tail=null;else l(o,new G(M.buffer,M.byteOffset,p),y-p),this.head=v,v.data=M.slice(p);break}++k}while((v=v.next)!==null);return this.length-=k,o}[Symbol.for("nodejs.util.inspect.custom")](p,o){return W(this,{...o,depth:0,customInspect:!1})}}}),aw=S0((x,g)=>{var{MathFloor:_,NumberIsInteger:O}=T0(),{validateInteger:l}=L9(),{ERR_INVALID_ARG_VALUE:G}=Ux().codes,w=16384,W=16;function z(v,k,M){return v.highWaterMark!=null?v.highWaterMark:k?v[M]:null}function p(v){return v?W:w}function o(v,k){if(l(k,"value",0),v)W=k;else w=k}function y(v,k,M,f){let Y=z(k,f,M);if(Y!=null){if(!O(Y)||Y<0){let q=f?`options.${M}`:"options.highWaterMark";throw new G(q,Y)}return _(Y)}return p(v.objectMode)}g.exports={getHighWaterMark:y,getDefaultHighWaterMark:p,setDefaultHighWaterMark:o}}),mm=S0((x,g)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var _=(R_(),gg(P_)),O=_.Buffer;function l(w,W){for(var z in w)W[z]=w[z]}if(O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow)g.exports=_;else l(_,x),x.Buffer=G;function G(w,W,z){return O(w,W,z)}G.prototype=Object.create(O.prototype),l(O,G),G.from=function(w,W,z){if(typeof w==="number")throw new TypeError("Argument must not be a number");return O(w,W,z)},G.alloc=function(w,W,z){if(typeof w!=="number")throw new TypeError("Argument must be a number");var p=O(w);if(W!==void 0)if(typeof z==="string")p.fill(W,z);else p.fill(W);else p.fill(0);return p},G.allocUnsafe=function(w){if(typeof w!=="number")throw new TypeError("Argument must be a number");return O(w)},G.allocUnsafeSlow=function(w){if(typeof w!=="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(w)}}),Vm=S0((x)=>{var g=mm().Buffer,_=g.isEncoding||function(N){switch(N=""+N,N&&N.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function O(N){if(!N)return"utf8";var C;while(!0)switch(N){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return N;default:if(C)return;N=(""+N).toLowerCase(),C=!0}}function l(N){var C=O(N);if(typeof C!=="string"&&(g.isEncoding===_||!_(N)))throw new Error("Unknown encoding: "+N);return C||N}x.StringDecoder=G;function G(N){this.encoding=l(N);var C;switch(this.encoding){case"utf16le":this.text=v,this.end=k,C=4;break;case"utf8":this.fillLast=p,C=4;break;case"base64":this.text=M,this.end=f,C=3;break;default:this.write=Y,this.end=q;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(C)}G.prototype.write=function(N){if(N.length===0)return"";var C,d;if(this.lastNeed){if(C=this.fillLast(N),C===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;if(d<N.length)return C?C+this.text(N,d):this.text(N,d);return C||""},G.prototype.end=y,G.prototype.text=o,G.prototype.fillLast=function(N){if(this.lastNeed<=N.length)return N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,N.length),this.lastNeed-=N.length};function w(N){if(N<=127)return 0;else if(N>>5===6)return 2;else if(N>>4===14)return 3;else if(N>>3===30)return 4;return N>>6===2?-1:-2}function W(N,C,d){var c=C.length-1;if(c<d)return 0;var A=w(C[c]);if(A>=0){if(A>0)N.lastNeed=A-1;return A}if(--c<d||A===-2)return 0;if(A=w(C[c]),A>=0){if(A>0)N.lastNeed=A-2;return A}if(--c<d||A===-2)return 0;if(A=w(C[c]),A>=0){if(A>0)if(A===2)A=0;else N.lastNeed=A-3;return A}return 0}function z(N,C,d){if((C[0]&192)!==128)return N.lastNeed=0,"";if(N.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return N.lastNeed=1,"";if(N.lastNeed>2&&C.length>2){if((C[2]&192)!==128)return N.lastNeed=2,""}}}function p(N){var C=this.lastTotal-this.lastNeed,d=z(this,N,C);if(d!==void 0)return d;if(this.lastNeed<=N.length)return N.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,C,0,N.length),this.lastNeed-=N.length}function o(N,C){var d=W(this,N,C);if(!this.lastNeed)return N.toString("utf8",C);this.lastTotal=d;var c=N.length-(d-this.lastNeed);return N.copy(this.lastChar,0,c),N.toString("utf8",C,c)}function y(N){var C=N&&N.length?this.write(N):"";if(this.lastNeed)return C+"";return C}function v(N,C){if((N.length-C)%2===0){var d=N.toString("utf16le",C);if(d){var c=d.charCodeAt(d.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=N[N.length-1],N.toString("utf16le",C,N.length-1)}function k(N){var C=N&&N.length?this.write(N):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,d)}return C}function M(N,C){var d=(N.length-C)%3;if(d===0)return N.toString("base64",C);if(this.lastNeed=3-d,this.lastTotal=3,d===1)this.lastChar[0]=N[N.length-1];else this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1];return N.toString("base64",C,N.length-d)}function f(N){var C=N&&N.length?this.write(N):"";if(this.lastNeed)return C+this.lastChar.toString("base64",0,3-this.lastNeed);return C}function Y(N){return N.toString(this.encoding)}function q(N){return N&&N.length?this.write(N):""}}),vC=S0((x,g)=>{var _=i6(),{PromisePrototypeThen:O,SymbolAsyncIterator:l,SymbolIterator:G}=T0(),{Buffer:w}=(R_(),gg(P_)),{ERR_INVALID_ARG_TYPE:W,ERR_STREAM_NULL_VALUES:z}=Ux().codes;function p(o,y,v){let k;if(typeof y==="string"||y instanceof w)return new o({objectMode:!0,...v,read(){this.push(y),this.push(null)}});let M;if(y&&y[l])M=!0,k=y[l]();else if(y&&y[G])M=!1,k=y[G]();else throw new W("iterable",["Iterable"],y);let f=new o({objectMode:!0,highWaterMark:1,...v}),Y=!1;f._read=function(){if(!Y)Y=!0,N()},f._destroy=function(C,d){O(q(C),()=>_.nextTick(d,C),(c)=>_.nextTick(d,c||C))};async function q(C){let d=C!==void 0&&C!==null,c=typeof k.throw==="function";if(d&&c){let{value:A,done:b}=await k.throw(C);if(await A,b)return}if(typeof k.return==="function"){let{value:A}=await k.return();await A}}async function N(){for(;;){try{let{value:C,done:d}=M?await k.next():k.next();if(d)f.push(null);else{let c=C&&typeof C.then==="function"?await C:C;if(c===null)throw Y=!1,new z;else if(f.push(c))continue;else Y=!1}}catch(C){f.destroy(C)}break}}return f}g.exports=p}),Pw=S0((x,g)=>{var _=i6(),{ArrayPrototypeIndexOf:O,NumberIsInteger:l,NumberIsNaN:G,NumberParseInt:w,ObjectDefineProperties:W,ObjectKeys:z,ObjectSetPrototypeOf:p,Promise:o,SafeSet:y,SymbolAsyncDispose:v,SymbolAsyncIterator:k,Symbol:M}=T0();g.exports=s,s.ReadableState=W0;var{EventEmitter:f}=(m9(),gg(b9)),{Stream:Y,prependListener:q}=hv(),{Buffer:N}=(R_(),gg(P_)),{addAbortSignal:C}=Jw(),d=HO(),c=Px().debuglog("stream",(h)=>{c=h}),A=bm(),b=vl(),{getHighWaterMark:j,getDefaultHighWaterMark:Q}=aw(),{aggregateTwoErrors:V,codes:{ERR_INVALID_ARG_TYPE:u,ERR_METHOD_NOT_IMPLEMENTED:r,ERR_OUT_OF_RANGE:L,ERR_STREAM_PUSH_AFTER_EOF:D,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:S},AbortError:T}=Ux(),{validateObject:t}=L9(),e=M("kPaused"),{StringDecoder:C0}=Vm(),B=vC();p(s.prototype,Y.prototype),p(s,Y);var o0=()=>{},{errorOrDestroy:m}=b,J=1,O0=2,i=4,p0=8,N0=16,K0=32,f0=64,H=128,a=256,w0=512,M0=1024,d0=2048,I=4096,U=8192,n=16384,g0=32768,l0=65536,x0=131072,Z=262144;function R(h){return{enumerable:!1,get(){return(this.state&h)!==0},set(K){if(K)this.state|=h;else this.state&=~h}}}W(W0.prototype,{objectMode:R(J),ended:R(O0),endEmitted:R(i),reading:R(p0),constructed:R(N0),sync:R(K0),needReadable:R(f0),emittedReadable:R(H),readableListening:R(a),resumeScheduled:R(w0),errorEmitted:R(M0),emitClose:R(d0),autoDestroy:R(I),destroyed:R(U),closed:R(n),closeEmitted:R(g0),multiAwaitDrain:R(l0),readingMore:R(x0),dataEmitted:R(Z)});function W0(h,K,_0){if(typeof _0!=="boolean")_0=K instanceof t_();if(this.state=d0|I|N0|K0,h&&h.objectMode)this.state|=J;if(_0&&h&&h.readableObjectMode)this.state|=J;if(this.highWaterMark=h?j(this,h,"readableHighWaterMark",_0):Q(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[e]=null,h&&h.emitClose===!1)this.state&=~d0;if(h&&h.autoDestroy===!1)this.state&=~I;if(this.errored=null,this.defaultEncoding=h&&h.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,h&&h.encoding)this.decoder=new C0(h.encoding),this.encoding=h.encoding}function s(h){if(!(this instanceof s))return new s(h);let K=this instanceof t_();if(this._readableState=new W0(h,this,K),h){if(typeof h.read==="function")this._read=h.read;if(typeof h.destroy==="function")this._destroy=h.destroy;if(typeof h.construct==="function")this._construct=h.construct;if(h.signal&&!K)C(h.signal,this)}Y.call(this,h),b.construct(this,()=>{if(this._readableState.needReadable)f8(this,this._readableState)})}s.prototype.destroy=b.destroy,s.prototype._undestroy=b.undestroy,s.prototype._destroy=function(h,K){K(h)},s.prototype[f.captureRejectionSymbol]=function(h){this.destroy(h)},s.prototype[v]=function(){let h;if(!this.destroyed)h=this.readableEnded?null:new T,this.destroy(h);return new o((K,_0)=>d(this,(G0)=>G0&&G0!==h?_0(G0):K(null)))},s.prototype.push=function(h,K){return q0(this,h,K,!1)},s.prototype.unshift=function(h,K){return q0(this,h,K,!0)};function q0(h,K,_0,G0){c("readableAddChunk",K);let y0=h._readableState,Fx;if((y0.state&J)===0){if(typeof K==="string"){if(_0=_0||y0.defaultEncoding,y0.encoding!==_0)if(G0&&y0.encoding)K=N.from(K,_0).toString(y0.encoding);else K=N.from(K,_0),_0=""}else if(K instanceof N)_0="";else if(Y._isUint8Array(K))K=Y._uint8ArrayToBuffer(K),_0="";else if(K!=null)Fx=new u("chunk",["string","Buffer","Uint8Array"],K)}if(Fx)m(h,Fx);else if(K===null)y0.state&=~p0,Xx(h,y0);else if((y0.state&J)!==0||K&&K.length>0)if(G0)if((y0.state&i)!==0)m(h,new S);else if(y0.destroyed||y0.errored)return!1;else xg(h,y0,K,!0);else if(y0.ended)m(h,new D);else if(y0.destroyed||y0.errored)return!1;else if(y0.state&=~p0,y0.decoder&&!_0)if(K=y0.decoder.write(K),y0.objectMode||K.length!==0)xg(h,y0,K,!1);else f8(h,y0);else xg(h,y0,K,!1);else if(!G0)y0.state&=~p0,f8(h,y0);return!y0.ended&&(y0.length<y0.highWaterMark||y0.length===0)}function xg(h,K,_0,G0){if(K.flowing&&K.length===0&&!K.sync&&h.listenerCount("data")>0){if((K.state&l0)!==0)K.awaitDrainWriters.clear();else K.awaitDrainWriters=null;K.dataEmitted=!0,h.emit("data",_0)}else{if(K.length+=K.objectMode?1:_0.length,G0)K.buffer.unshift(_0);else K.buffer.push(_0);if((K.state&f0)!==0)$x(h)}f8(h,K)}s.prototype.isPaused=function(){let h=this._readableState;return h[e]===!0||h.flowing===!1},s.prototype.setEncoding=function(h){let K=new C0(h);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;let _0=this._readableState.buffer,G0="";for(let y0 of _0)G0+=K.write(y0);if(_0.clear(),G0!=="")_0.push(G0);return this._readableState.length=G0.length,this};var e0=1073741824;function Nx(h){if(h>e0)throw new L("size","<= 1GiB",h);else h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++;return h}function y6(h,K){if(h<=0||K.length===0&&K.ended)return 0;if((K.state&J)!==0)return 1;if(G(h)){if(K.flowing&&K.length)return K.buffer.first().length;return K.length}if(h<=K.length)return h;return K.ended?K.length:0}s.prototype.read=function(h){if(c("read",h),h===void 0)h=NaN;else if(!l(h))h=w(h,10);let K=this._readableState,_0=h;if(h>K.highWaterMark)K.highWaterMark=Nx(h);if(h!==0)K.state&=~H;if(h===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended)){if(c("read: emitReadable",K.length,K.ended),K.length===0&&K.ended)cp(this);else $x(this);return null}if(h=y6(h,K),h===0&&K.ended){if(K.length===0)cp(this);return null}let G0=(K.state&f0)!==0;if(c("need readable",G0),K.length===0||K.length-h<K.highWaterMark)G0=!0,c("length less than watermark",G0);if(K.ended||K.reading||K.destroyed||K.errored||!K.constructed)G0=!1,c("reading, ended or constructing",G0);else if(G0){if(c("do read"),K.state|=p0|K0,K.length===0)K.state|=f0;try{this._read(K.highWaterMark)}catch(Fx){m(this,Fx)}if(K.state&=~K0,!K.reading)h=y6(_0,K)}let y0;if(h>0)y0=O3(h,K);else y0=null;if(y0===null)K.needReadable=K.length<=K.highWaterMark,h=0;else if(K.length-=h,K.multiAwaitDrain)K.awaitDrainWriters.clear();else K.awaitDrainWriters=null;if(K.length===0){if(!K.ended)K.needReadable=!0;if(_0!==h&&K.ended)cp(this)}if(y0!==null&&!K.errorEmitted&&!K.closeEmitted)K.dataEmitted=!0,this.emit("data",y0);return y0};function Xx(h,K){if(c("onEofChunk"),K.ended)return;if(K.decoder){let _0=K.decoder.end();if(_0&&_0.length)K.buffer.push(_0),K.length+=K.objectMode?1:_0.length}if(K.ended=!0,K.sync)$x(h);else K.needReadable=!1,K.emittedReadable=!0,M8(h)}function $x(h){let K=h._readableState;if(c("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,!K.emittedReadable)c("emitReadable",K.flowing),K.emittedReadable=!0,_.nextTick(M8,h)}function M8(h){let K=h._readableState;if(c("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&!K.errored&&(K.length||K.ended))h.emit("readable"),K.emittedReadable=!1;K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,g3(h)}function f8(h,K){if(!K.readingMore&&K.constructed)K.readingMore=!0,_.nextTick(__,h,K)}function __(h,K){while(!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0)){let _0=K.length;if(c("maybeReadMore read 0"),h.read(0),_0===K.length)break}K.readingMore=!1}s.prototype._read=function(h){throw new r("_read()")},s.prototype.pipe=function(h,K){let _0=this,G0=this._readableState;if(G0.pipes.length===1){if(!G0.multiAwaitDrain)G0.multiAwaitDrain=!0,G0.awaitDrainWriters=new y(G0.awaitDrainWriters?[G0.awaitDrainWriters]:[])}G0.pipes.push(h),c("pipe count=%d opts=%j",G0.pipes.length,K);let y0=(!K||K.end!==!1)&&h!==_.stdout&&h!==_.stderr?qg:W7;if(G0.endEmitted)_.nextTick(y0);else _0.once("end",y0);h.on("unpipe",Fx);function Fx(k6,L_){if(c("onunpipe"),k6===_0){if(L_&&L_.hasUnpiped===!1)L_.hasUnpiped=!0,gh()}}function qg(){c("onend"),h.end()}let N6,G3=!1;function gh(){if(c("cleanup"),h.removeListener("close",bp),h.removeListener("finish",mp),N6)h.removeListener("drain",N6);if(h.removeListener("error",Kp),h.removeListener("unpipe",Fx),_0.removeListener("end",qg),_0.removeListener("end",W7),_0.removeListener("data",W3),G3=!0,N6&&G0.awaitDrainWriters&&(!h._writableState||h._writableState.needDrain))N6()}function w3(){if(!G3){if(G0.pipes.length===1&&G0.pipes[0]===h)c("false write response, pause",0),G0.awaitDrainWriters=h,G0.multiAwaitDrain=!1;else if(G0.pipes.length>1&&G0.pipes.includes(h))c("false write response, pause",G0.awaitDrainWriters.size),G0.awaitDrainWriters.add(h);_0.pause()}if(!N6)N6=Pc(_0,h),h.on("drain",N6)}_0.on("data",W3);function W3(k6){c("ondata");let L_=h.write(k6);if(c("dest.write",L_),L_===!1)w3()}function Kp(k6){if(c("onerror",k6),W7(),h.removeListener("error",Kp),h.listenerCount("error")===0){let L_=h._writableState||h._readableState;if(L_&&!L_.errorEmitted)m(h,k6);else h.emit("error",k6)}}q(h,"error",Kp);function bp(){h.removeListener("finish",mp),W7()}h.once("close",bp);function mp(){c("onfinish"),h.removeListener("close",bp),W7()}h.once("finish",mp);function W7(){c("unpipe"),_0.unpipe(h)}if(h.emit("pipe",_0),h.writableNeedDrain===!0)w3();else if(!G0.flowing)c("pipe resume"),_0.resume();return h};function Pc(h,K){return function _0(){let G0=h._readableState;if(G0.awaitDrainWriters===K)c("pipeOnDrain",1),G0.awaitDrainWriters=null;else if(G0.multiAwaitDrain)c("pipeOnDrain",G0.awaitDrainWriters.size),G0.awaitDrainWriters.delete(K);if((!G0.awaitDrainWriters||G0.awaitDrainWriters.size===0)&&h.listenerCount("data"))h.resume()}}s.prototype.unpipe=function(h){let K=this._readableState,_0={hasUnpiped:!1};if(K.pipes.length===0)return this;if(!h){let y0=K.pipes;K.pipes=[],this.pause();for(let Fx=0;Fx<y0.length;Fx++)y0[Fx].emit("unpipe",this,{hasUnpiped:!1});return this}let G0=O(K.pipes,h);if(G0===-1)return this;if(K.pipes.splice(G0,1),K.pipes.length===0)this.pause();return h.emit("unpipe",this,_0),this},s.prototype.on=function(h,K){let _0=Y.prototype.on.call(this,h,K),G0=this._readableState;if(h==="data"){if(G0.readableListening=this.listenerCount("readable")>0,G0.flowing!==!1)this.resume()}else if(h==="readable"){if(!G0.endEmitted&&!G0.readableListening){if(G0.readableListening=G0.needReadable=!0,G0.flowing=!1,G0.emittedReadable=!1,c("on readable",G0.length,G0.reading),G0.length)$x(this);else if(!G0.reading)_.nextTick(Rc,this)}}return _0},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(h,K){let _0=Y.prototype.removeListener.call(this,h,K);if(h==="readable")_.nextTick(x3,this);return _0},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(h){let K=Y.prototype.removeAllListeners.apply(this,arguments);if(h==="readable"||h===void 0)_.nextTick(x3,this);return K};function x3(h){let K=h._readableState;if(K.readableListening=h.listenerCount("readable")>0,K.resumeScheduled&&K[e]===!1)K.flowing=!0;else if(h.listenerCount("data")>0)h.resume();else if(!K.readableListening)K.flowing=null}function Rc(h){c("readable nexttick read 0"),h.read(0)}s.prototype.resume=function(){let h=this._readableState;if(!h.flowing)c("resume"),h.flowing=!h.readableListening,Tc(this,h);return h[e]=!1,this};function Tc(h,K){if(!K.resumeScheduled)K.resumeScheduled=!0,_.nextTick(sc,h,K)}function sc(h,K){if(c("resume",K.reading),!K.reading)h.read(0);if(K.resumeScheduled=!1,h.emit("resume"),g3(h),K.flowing&&!K.reading)h.read(0)}s.prototype.pause=function(){if(c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1)c("pause"),this._readableState.flowing=!1,this.emit("pause");return this._readableState[e]=!0,this};function g3(h){let K=h._readableState;c("flow",K.flowing);while(K.flowing&&h.read()!==null);}s.prototype.wrap=function(h){let K=!1;h.on("data",(G0)=>{if(!this.push(G0)&&h.pause)K=!0,h.pause()}),h.on("end",()=>{this.push(null)}),h.on("error",(G0)=>{m(this,G0)}),h.on("close",()=>{this.destroy()}),h.on("destroy",()=>{this.destroy()}),this._read=()=>{if(K&&h.resume)K=!1,h.resume()};let _0=z(h);for(let G0=1;G0<_0.length;G0++){let y0=_0[G0];if(this[y0]===void 0&&typeof h[y0]==="function")this[y0]=h[y0].bind(h)}return this},s.prototype[k]=function(){return _3(this)},s.prototype.iterator=function(h){if(h!==void 0)t(h,"options");return _3(this,h)};function _3(h,K){if(typeof h.read!=="function")h=s.wrap(h,{objectMode:!0});let _0=tc(h,K);return _0.stream=h,_0}async function*tc(h,K){let _0=o0;function G0(qg){if(this===h)_0(),_0=o0;else _0=qg}h.on("readable",G0);let y0,Fx=d(h,{writable:!1},(qg)=>{y0=qg?V(y0,qg):null,_0(),_0=o0});try{while(!0){let qg=h.destroyed?null:h.read();if(qg!==null)yield qg;else if(y0)throw y0;else if(y0===null)return;else await new o(G0)}}catch(qg){throw y0=V(y0,qg),y0}finally{if((y0||(K===null||K===void 0?void 0:K.destroyOnReturn)!==!1)&&(y0===void 0||h._readableState.autoDestroy))b.destroyer(h,null);else h.off("readable",G0),Fx()}}W(s.prototype,{readable:{__proto__:null,get(){let h=this._readableState;return!!h&&h.readable!==!1&&!h.destroyed&&!h.errorEmitted&&!h.endEmitted},set(h){if(this._readableState)this._readableState.readable=!!h}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){if(this._readableState)this._readableState.flowing=h}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(h){if(!this._readableState)return;this._readableState.destroyed=h}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),W(W0.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[e]!==!1},set(h){this[e]=!!h}}}),s._fromList=O3;function O3(h,K){if(K.length===0)return null;let _0;if(K.objectMode)_0=K.buffer.shift();else if(!h||h>=K.length){if(K.decoder)_0=K.buffer.join("");else if(K.buffer.length===1)_0=K.buffer.first();else _0=K.buffer.concat(K.length);K.buffer.clear()}else _0=K.buffer.consume(h,K.decoder);return _0}function cp(h){let K=h._readableState;if(c("endReadable",K.endEmitted),!K.endEmitted)K.ended=!0,_.nextTick(ec,K,h)}function ec(h,K){if(c("endReadableNT",h.endEmitted,h.length),!h.errored&&!h.closeEmitted&&!h.endEmitted&&h.length===0){if(h.endEmitted=!0,K.emit("end"),K.writable&&K.allowHalfOpen===!1)_.nextTick(xh,K);else if(h.autoDestroy){let _0=K._writableState;if(!_0||_0.autoDestroy&&(_0.finished||_0.writable===!1))K.destroy()}}}function xh(h){if(h.writable&&!h.writableEnded&&!h.destroyed)h.end()}s.from=function(h,K){return B(s,h,K)};var hp;function l3(){if(hp===void 0)hp={};return hp}s.fromWeb=function(h,K){return l3().newStreamReadableFromReadableStream(h,K)},s.toWeb=function(h,K){return l3().newReadableStreamFromStreamReadable(h,K)},s.wrap=function(h,K){var _0,G0;return new s({objectMode:(_0=(G0=h.readableObjectMode)!==null&&G0!==void 0?G0:h.objectMode)!==null&&_0!==void 0?_0:!0,...K,destroy(y0,Fx){b.destroyer(h,y0),Fx(y0)}}).wrap(h)}}),Kv=S0((x,g)=>{var _=i6(),{ArrayPrototypeSlice:O,Error:l,FunctionPrototypeSymbolHasInstance:G,ObjectDefineProperty:w,ObjectDefineProperties:W,ObjectSetPrototypeOf:z,StringPrototypeToLowerCase:p,Symbol:o,SymbolHasInstance:y}=T0();g.exports=t,t.WritableState=S;var{EventEmitter:v}=(m9(),gg(b9)),k=hv().Stream,{Buffer:M}=(R_(),gg(P_)),f=vl(),{addAbortSignal:Y}=Jw(),{getHighWaterMark:q,getDefaultHighWaterMark:N}=aw(),{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:d,ERR_MULTIPLE_CALLBACK:c,ERR_STREAM_CANNOT_PIPE:A,ERR_STREAM_DESTROYED:b,ERR_STREAM_ALREADY_FINISHED:j,ERR_STREAM_NULL_VALUES:Q,ERR_STREAM_WRITE_AFTER_END:V,ERR_UNKNOWN_ENCODING:u}=Ux().codes,{errorOrDestroy:r}=f;z(t.prototype,k.prototype),z(t,k);function L(){}var D=o("kOnFinished");function S(I,U,n){if(typeof n!=="boolean")n=U instanceof t_();if(this.objectMode=!!(I&&I.objectMode),n)this.objectMode=this.objectMode||!!(I&&I.writableObjectMode);this.highWaterMark=I?q(this,I,"writableHighWaterMark",n):N(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let g0=!!(I&&I.decodeStrings===!1);this.decodeStrings=!g0,this.defaultEncoding=I&&I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=m.bind(void 0,U),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,T(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!I||I.emitClose!==!1,this.autoDestroy=!I||I.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function T(I){I.buffered=[],I.bufferedIndex=0,I.allBuffers=!0,I.allNoop=!0}S.prototype.getBuffer=function I(){return O(this.buffered,this.bufferedIndex)},w(S.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function t(I){let U=this instanceof t_();if(!U&&!G(t,this))return new t(I);if(this._writableState=new S(I,this,U),I){if(typeof I.write==="function")this._write=I.write;if(typeof I.writev==="function")this._writev=I.writev;if(typeof I.destroy==="function")this._destroy=I.destroy;if(typeof I.final==="function")this._final=I.final;if(typeof I.construct==="function")this._construct=I.construct;if(I.signal)Y(I.signal,this)}k.call(this,I),f.construct(this,()=>{let n=this._writableState;if(!n.writing)p0(this,n);H(this,n)})}w(t,y,{__proto__:null,value:function(I){if(G(this,I))return!0;if(this!==t)return!1;return I&&I._writableState instanceof S}}),t.prototype.pipe=function(){r(this,new A)};function e(I,U,n,g0){let l0=I._writableState;if(typeof n==="function")g0=n,n=l0.defaultEncoding;else{if(!n)n=l0.defaultEncoding;else if(n!=="buffer"&&!M.isEncoding(n))throw new u(n);if(typeof g0!=="function")g0=L}if(U===null)throw new Q;else if(!l0.objectMode)if(typeof U==="string"){if(l0.decodeStrings!==!1)U=M.from(U,n),n="buffer"}else if(U instanceof M)n="buffer";else if(k._isUint8Array(U))U=k._uint8ArrayToBuffer(U),n="buffer";else throw new C("chunk",["string","Buffer","Uint8Array"],U);let x0;if(l0.ending)x0=new V;else if(l0.destroyed)x0=new b("write");if(x0)return _.nextTick(g0,x0),r(I,x0,!0),x0;return l0.pendingcb++,C0(I,l0,U,n,g0)}t.prototype.write=function(I,U,n){return e(this,I,U,n)===!0},t.prototype.cork=function(){this._writableState.corked++},t.prototype.uncork=function(){let I=this._writableState;if(I.corked){if(I.corked--,!I.writing)p0(this,I)}},t.prototype.setDefaultEncoding=function I(U){if(typeof U==="string")U=p(U);if(!M.isEncoding(U))throw new u(U);return this._writableState.defaultEncoding=U,this};function C0(I,U,n,g0,l0){let x0=U.objectMode?1:n.length;U.length+=x0;let Z=U.length<U.highWaterMark;if(!Z)U.needDrain=!0;if(U.writing||U.corked||U.errored||!U.constructed){if(U.buffered.push({chunk:n,encoding:g0,callback:l0}),U.allBuffers&&g0!=="buffer")U.allBuffers=!1;if(U.allNoop&&l0!==L)U.allNoop=!1}else U.writelen=x0,U.writecb=l0,U.writing=!0,U.sync=!0,I._write(n,g0,U.onwrite),U.sync=!1;return Z&&!U.errored&&!U.destroyed}function B(I,U,n,g0,l0,x0,Z){if(U.writelen=g0,U.writecb=Z,U.writing=!0,U.sync=!0,U.destroyed)U.onwrite(new b("write"));else if(n)I._writev(l0,U.onwrite);else I._write(l0,x0,U.onwrite);U.sync=!1}function o0(I,U,n,g0){--U.pendingcb,g0(n),i(U),r(I,n)}function m(I,U){let n=I._writableState,g0=n.sync,l0=n.writecb;if(typeof l0!=="function"){r(I,new c);return}if(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,U){if(U.stack,!n.errored)n.errored=U;if(I._readableState&&!I._readableState.errored)I._readableState.errored=U;if(g0)_.nextTick(o0,I,n,U,l0);else o0(I,n,U,l0)}else{if(n.buffered.length>n.bufferedIndex)p0(I,n);if(g0)if(n.afterWriteTickInfo!==null&&n.afterWriteTickInfo.cb===l0)n.afterWriteTickInfo.count++;else n.afterWriteTickInfo={count:1,cb:l0,stream:I,state:n},_.nextTick(J,n.afterWriteTickInfo);else O0(I,n,1,l0)}}function J({stream:I,state:U,count:n,cb:g0}){return U.afterWriteTickInfo=null,O0(I,U,n,g0)}function O0(I,U,n,g0){if(!U.ending&&!I.destroyed&&U.length===0&&U.needDrain)U.needDrain=!1,I.emit("drain");while(n-- >0)U.pendingcb--,g0();if(U.destroyed)i(U);H(I,U)}function i(I){if(I.writing)return;for(let l0=I.bufferedIndex;l0<I.buffered.length;++l0){var U;let{chunk:x0,callback:Z}=I.buffered[l0],R=I.objectMode?1:x0.length;I.length-=R,Z((U=I.errored)!==null&&U!==void 0?U:new b("write"))}let n=I[D].splice(0);for(let l0=0;l0<n.length;l0++){var g0;n[l0]((g0=I.errored)!==null&&g0!==void 0?g0:new b("end"))}T(I)}function p0(I,U){if(U.corked||U.bufferProcessing||U.destroyed||!U.constructed)return;let{buffered:n,bufferedIndex:g0,objectMode:l0}=U,x0=n.length-g0;if(!x0)return;let Z=g0;if(U.bufferProcessing=!0,x0>1&&I._writev){U.pendingcb-=x0-1;let R=U.allNoop?L:(s)=>{for(let q0=Z;q0<n.length;++q0)n[q0].callback(s)},W0=U.allNoop&&Z===0?n:O(n,Z);W0.allBuffers=U.allBuffers,B(I,U,!0,U.length,W0,"",R),T(U)}else{do{let{chunk:R,encoding:W0,callback:s}=n[Z];n[Z++]=null;let q0=l0?1:R.length;B(I,U,!1,q0,R,W0,s)}while(Z<n.length&&!U.writing);if(Z===n.length)T(U);else if(Z>256)n.splice(0,Z),U.bufferedIndex=0;else U.bufferedIndex=Z}U.bufferProcessing=!1}t.prototype._write=function(I,U,n){if(this._writev)this._writev([{chunk:I,encoding:U}],n);else throw new d("_write()")},t.prototype._writev=null,t.prototype.end=function(I,U,n){let g0=this._writableState;if(typeof I==="function")n=I,I=null,U=null;else if(typeof U==="function")n=U,U=null;let l0;if(I!==null&&I!==void 0){let x0=e(this,I,U);if(x0 instanceof l)l0=x0}if(g0.corked)g0.corked=1,this.uncork();if(l0);else if(!g0.errored&&!g0.ending)g0.ending=!0,H(this,g0,!0),g0.ended=!0;else if(g0.finished)l0=new j("end");else if(g0.destroyed)l0=new b("end");if(typeof n==="function")if(l0||g0.finished)_.nextTick(n,l0);else g0[D].push(n);return this};function N0(I){return I.ending&&!I.destroyed&&I.constructed&&I.length===0&&!I.errored&&I.buffered.length===0&&!I.finished&&!I.writing&&!I.errorEmitted&&!I.closeEmitted}function K0(I,U){let n=!1;function g0(l0){if(n){r(I,l0!==null&&l0!==void 0?l0:c());return}if(n=!0,U.pendingcb--,l0){let x0=U[D].splice(0);for(let Z=0;Z<x0.length;Z++)x0[Z](l0);r(I,l0,U.sync)}else if(N0(U))U.prefinished=!0,I.emit("prefinish"),U.pendingcb++,_.nextTick(a,I,U)}U.sync=!0,U.pendingcb++;try{I._final(g0)}catch(l0){g0(l0)}U.sync=!1}function f0(I,U){if(!U.prefinished&&!U.finalCalled)if(typeof I._final==="function"&&!U.destroyed)U.finalCalled=!0,K0(I,U);else U.prefinished=!0,I.emit("prefinish")}function H(I,U,n){if(N0(U)){if(f0(I,U),U.pendingcb===0){if(n)U.pendingcb++,_.nextTick((g0,l0)=>{if(N0(l0))a(g0,l0);else l0.pendingcb--},I,U);else if(N0(U))U.pendingcb++,a(I,U)}}}function a(I,U){U.pendingcb--,U.finished=!0;let n=U[D].splice(0);for(let g0=0;g0<n.length;g0++)n[g0]();if(I.emit("finish"),U.autoDestroy){let g0=I._readableState;if(!g0||g0.autoDestroy&&(g0.endEmitted||g0.readable===!1))I.destroy()}}W(t.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(I){if(this._writableState)this._writableState.destroyed=I}},writable:{__proto__:null,get(){let I=this._writableState;return!!I&&I.writable!==!1&&!I.destroyed&&!I.errored&&!I.ending&&!I.ended},set(I){if(this._writableState)this._writableState.writable=!!I}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let I=this._writableState;if(!I)return!1;return!I.destroyed&&!I.ending&&I.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var w0=f.destroy;t.prototype.destroy=function(I,U){let n=this._writableState;if(!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[D].length))_.nextTick(i,n);return w0.call(this,I,U),this},t.prototype._undestroy=f.undestroy,t.prototype._destroy=function(I,U){U(I)},t.prototype[v.captureRejectionSymbol]=function(I){this.destroy(I)};var M0;function d0(){if(M0===void 0)M0={};return M0}t.fromWeb=function(I,U){return d0().newStreamWritableFromWritableStream(I,U)},t.toWeb=function(I){return d0().newWritableStreamFromStreamWritable(I)}}),Lm=S0((x,g)=>{var _=i6(),O=(R_(),gg(P_)),{isReadable:l,isWritable:G,isIterable:w,isNodeStream:W,isReadableNodeStream:z,isWritableNodeStream:p,isDuplexNodeStream:o,isReadableStream:y,isWritableStream:v}=e_(),k=HO(),{AbortError:M,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:Y}}=Ux(),{destroyer:q}=vl(),N=t_(),C=Pw(),d=Kv(),{createDeferredPromise:c}=Px(),A=vC(),b=globalThis.Blob||O.Blob,j=typeof b!=="undefined"?function D(S){return S instanceof b}:function D(S){return!1},Q=globalThis.AbortController||V9().AbortController,{FunctionPrototypeCall:V}=T0();class u extends N{constructor(D){super(D);if((D===null||D===void 0?void 0:D.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((D===null||D===void 0?void 0:D.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}g.exports=function D(S,T){if(o(S))return S;if(z(S))return L({readable:S});if(p(S))return L({writable:S});if(W(S))return L({writable:!1,readable:!1});if(y(S))return L({readable:C.fromWeb(S)});if(v(S))return L({writable:d.fromWeb(S)});if(typeof S==="function"){let{value:e,write:C0,final:B,destroy:o0}=r(S);if(w(e))return A(u,e,{objectMode:!0,write:C0,final:B,destroy:o0});let m=e===null||e===void 0?void 0:e.then;if(typeof m==="function"){let J,O0=V(m,e,(i)=>{if(i!=null)throw new Y("nully","body",i)},(i)=>{q(J,i)});return J=new u({objectMode:!0,readable:!1,write:C0,final(i){B(async()=>{try{await O0,_.nextTick(i,null)}catch(p0){_.nextTick(i,p0)}})},destroy:o0})}throw new Y("Iterable, AsyncIterable or AsyncFunction",T,e)}if(j(S))return D(S.arrayBuffer());if(w(S))return A(u,S,{objectMode:!0,writable:!1});if(y(S===null||S===void 0?void 0:S.readable)&&v(S===null||S===void 0?void 0:S.writable))return u.fromWeb(S);if(typeof(S===null||S===void 0?void 0:S.writable)==="object"||typeof(S===null||S===void 0?void 0:S.readable)==="object"){let e=S!==null&&S!==void 0&&S.readable?z(S===null||S===void 0?void 0:S.readable)?S===null||S===void 0?void 0:S.readable:D(S.readable):void 0,C0=S!==null&&S!==void 0&&S.writable?p(S===null||S===void 0?void 0:S.writable)?S===null||S===void 0?void 0:S.writable:D(S.writable):void 0;return L({readable:e,writable:C0})}let t=S===null||S===void 0?void 0:S.then;if(typeof t==="function"){let e;return V(t,S,(C0)=>{if(C0!=null)e.push(C0);e.push(null)},(C0)=>{q(e,C0)}),e=new u({objectMode:!0,writable:!1,read(){}})}throw new f(T,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],S)};function r(D){let{promise:S,resolve:T}=c(),t=new Q,e=t.signal;return{value:D(async function*(){while(!0){let C0=S;S=null;let{chunk:B,done:o0,cb:m}=await C0;if(_.nextTick(m),o0)return;if(e.aborted)throw new M(void 0,{cause:e.reason});({promise:S,resolve:T}=c()),yield B}}(),{signal:e}),write(C0,B,o0){let m=T;T=null,m({chunk:C0,done:!1,cb:o0})},final(C0){let B=T;T=null,B({done:!0,cb:C0})},destroy(C0,B){t.abort(),B(C0)}}}function L(D){let S=D.readable&&typeof D.readable.read!=="function"?C.wrap(D.readable):D.readable,T=D.writable,t=!!l(S),e=!!G(T),C0,B,o0,m,J;function O0(i){let p0=m;if(m=null,p0)p0(i);else if(i)J.destroy(i)}if(J=new u({readableObjectMode:!!(S!==null&&S!==void 0&&S.readableObjectMode),writableObjectMode:!!(T!==null&&T!==void 0&&T.writableObjectMode),readable:t,writable:e}),e)k(T,(i)=>{if(e=!1,i)q(S,i);O0(i)}),J._write=function(i,p0,N0){if(T.write(i,p0))N0();else C0=N0},J._final=function(i){T.end(),B=i},T.on("drain",function(){if(C0){let i=C0;C0=null,i()}}),T.on("finish",function(){if(B){let i=B;B=null,i()}});if(t)k(S,(i)=>{if(t=!1,i)q(S,i);O0(i)}),S.on("readable",function(){if(o0){let i=o0;o0=null,i()}}),S.on("end",function(){J.push(null)}),J._read=function(){while(!0){let i=S.read();if(i===null){o0=J._read;return}if(!J.push(i))return}};return J._destroy=function(i,p0){if(!i&&m!==null)i=new M;if(o0=null,C0=null,B=null,m===null)p0(i);else m=p0,q(T,i),q(S,i)},J}}),t_=S0((x,g)=>{var{ObjectDefineProperties:_,ObjectGetOwnPropertyDescriptor:O,ObjectKeys:l,ObjectSetPrototypeOf:G}=T0();g.exports=z;var w=Pw(),W=Kv();G(z.prototype,w.prototype),G(z,w);{let v=l(W.prototype);for(let k=0;k<v.length;k++){let M=v[k];if(!z.prototype[M])z.prototype[M]=W.prototype[M]}}function z(v){if(!(this instanceof z))return new z(v);if(w.call(this,v),W.call(this,v),v){if(this.allowHalfOpen=v.allowHalfOpen!==!1,v.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(v.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}_(z.prototype,{writable:{__proto__:null,...O(W.prototype,"writable")},writableHighWaterMark:{__proto__:null,...O(W.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...O(W.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...O(W.prototype,"writableBuffer")},writableLength:{__proto__:null,...O(W.prototype,"writableLength")},writableFinished:{__proto__:null,...O(W.prototype,"writableFinished")},writableCorked:{__proto__:null,...O(W.prototype,"writableCorked")},writableEnded:{__proto__:null,...O(W.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...O(W.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(v){if(this._readableState&&this._writableState)this._readableState.destroyed=v,this._writableState.destroyed=v}}});var p;function o(){if(p===void 0)p={};return p}z.fromWeb=function(v,k){return o().newStreamDuplexFromReadableWritablePair(v,k)},z.toWeb=function(v){return o().newReadableWritablePairFromDuplex(v)};var y;z.from=function(v){if(!y)y=Lm();return y(v,"body")}}),yC=S0((x,g)=>{var{ObjectSetPrototypeOf:_,Symbol:O}=T0();g.exports=z;var{ERR_METHOD_NOT_IMPLEMENTED:l}=Ux().codes,G=t_(),{getHighWaterMark:w}=aw();_(z.prototype,G.prototype),_(z,G);var W=O("kCallback");function z(y){if(!(this instanceof z))return new z(y);let v=y?w(this,y,"readableHighWaterMark",!0):null;if(v===0)y={...y,highWaterMark:null,readableHighWaterMark:v,writableHighWaterMark:y.writableHighWaterMark||0};if(G.call(this,y),this._readableState.sync=!1,this[W]=null,y){if(typeof y.transform==="function")this._transform=y.transform;if(typeof y.flush==="function")this._flush=y.flush}this.on("prefinish",o)}function p(y){if(typeof this._flush==="function"&&!this.destroyed)this._flush((v,k)=>{if(v){if(y)y(v);else this.destroy(v);return}if(k!=null)this.push(k);if(this.push(null),y)y()});else if(this.push(null),y)y()}function o(){if(this._final!==p)p.call(this)}z.prototype._final=p,z.prototype._transform=function(y,v,k){throw new l("_transform()")},z.prototype._write=function(y,v,k){let M=this._readableState,f=this._writableState,Y=M.length;this._transform(y,v,(q,N)=>{if(q){k(q);return}if(N!=null)this.push(N);if(f.ended||Y===M.length||M.length<M.highWaterMark)k();else this[W]=k})},z.prototype._read=function(){if(this[W]){let y=this[W];this[W]=null,y()}}}),NC=S0((x,g)=>{var{ObjectSetPrototypeOf:_}=T0();g.exports=l;var O=yC();_(l.prototype,O.prototype),_(l,O);function l(G){if(!(this instanceof l))return new l(G);O.call(this,G)}l.prototype._transform=function(G,w,W){W(null,G)}}),bv=S0((x,g)=>{var _=i6(),{ArrayIsArray:O,Promise:l,SymbolAsyncIterator:G,SymbolDispose:w}=T0(),W=HO(),{once:z}=Px(),p=vl(),o=t_(),{aggregateTwoErrors:y,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:k,ERR_MISSING_ARGS:M,ERR_STREAM_DESTROYED:f,ERR_STREAM_PREMATURE_CLOSE:Y},AbortError:q}=Ux(),{validateFunction:N,validateAbortSignal:C}=L9(),{isIterable:d,isReadable:c,isReadableNodeStream:A,isNodeStream:b,isTransformStream:j,isWebStream:Q,isReadableStream:V,isReadableFinished:u}=e_(),r=globalThis.AbortController||V9().AbortController,L,D,S;function T(i,p0,N0){let K0=!1;i.on("close",()=>{K0=!0});let f0=W(i,{readable:p0,writable:N0},(H)=>{K0=!H});return{destroy:(H)=>{if(K0)return;K0=!0,p.destroyer(i,H||new f("pipe"))},cleanup:f0}}function t(i){return N(i[i.length-1],"streams[stream.length - 1]"),i.pop()}function e(i){if(d(i))return i;else if(A(i))return C0(i);throw new v("val",["Readable","Iterable","AsyncIterable"],i)}async function*C0(i){if(!D)D=Pw();yield*D.prototype[G].call(i)}async function B(i,p0,N0,{end:K0}){let f0,H=null,a=(d0)=>{if(d0)f0=d0;if(H){let I=H;H=null,I()}},w0=()=>new l((d0,I)=>{if(f0)I(f0);else H=()=>{if(f0)I(f0);else d0()}});p0.on("drain",a);let M0=W(p0,{readable:!1},a);try{if(p0.writableNeedDrain)await w0();for await(let d0 of i)if(!p0.write(d0))await w0();if(K0)p0.end(),await w0();N0()}catch(d0){N0(f0!==d0?y(f0,d0):d0)}finally{M0(),p0.off("drain",a)}}async function o0(i,p0,N0,{end:K0}){if(j(p0))p0=p0.writable;let f0=p0.getWriter();try{for await(let H of i)await f0.ready,f0.write(H).catch(()=>{});if(await f0.ready,K0)await f0.close();N0()}catch(H){try{await f0.abort(H),N0(H)}catch(a){N0(a)}}}function m(...i){return J(i,z(t(i)))}function J(i,p0,N0){if(i.length===1&&O(i[0]))i=i[0];if(i.length<2)throw new M("streams");let K0=new r,f0=K0.signal,H=N0===null||N0===void 0?void 0:N0.signal,a=[];C(H,"options.signal");function w0(){l0(new q)}S=S||Px().addAbortListener;let M0;if(H)M0=S(H,w0);let d0,I,U=[],n=0;function g0(s){l0(s,--n===0)}function l0(s,q0){var xg;if(s&&(!d0||d0.code==="ERR_STREAM_PREMATURE_CLOSE"))d0=s;if(!d0&&!q0)return;while(U.length)U.shift()(d0);if((xg=M0)===null||xg===void 0||xg[w](),K0.abort(),q0){if(!d0)a.forEach((e0)=>e0());_.nextTick(p0,d0,I)}}let x0;for(let s=0;s<i.length;s++){let q0=i[s],xg=s<i.length-1,e0=s>0,Nx=xg||(N0===null||N0===void 0?void 0:N0.end)!==!1,y6=s===i.length-1;if(b(q0)){let Xx=function($x){if($x&&$x.name!=="AbortError"&&$x.code!=="ERR_STREAM_PREMATURE_CLOSE")g0($x)};var Z=Xx;if(Nx){let{destroy:$x,cleanup:M8}=T(q0,xg,e0);if(U.push($x),c(q0)&&y6)a.push(M8)}if(q0.on("error",Xx),c(q0)&&y6)a.push(()=>{q0.removeListener("error",Xx)})}if(s===0)if(typeof q0==="function"){if(x0=q0({signal:f0}),!d(x0))throw new k("Iterable, AsyncIterable or Stream","source",x0)}else if(d(q0)||A(q0)||j(q0))x0=q0;else x0=o.from(q0);else if(typeof q0==="function"){if(j(x0)){var R;x0=e((R=x0)===null||R===void 0?void 0:R.readable)}else x0=e(x0);if(x0=q0(x0,{signal:f0}),xg){if(!d(x0,!0))throw new k("AsyncIterable",`transform[${s-1}]`,x0)}else{var W0;if(!L)L=NC();let Xx=new L({objectMode:!0}),$x=(W0=x0)===null||W0===void 0?void 0:W0.then;if(typeof $x==="function")n++,$x.call(x0,(__)=>{if(I=__,__!=null)Xx.write(__);if(Nx)Xx.end();_.nextTick(g0)},(__)=>{Xx.destroy(__),_.nextTick(g0,__)});else if(d(x0,!0))n++,B(x0,Xx,g0,{end:Nx});else if(V(x0)||j(x0)){let __=x0.readable||x0;n++,B(__,Xx,g0,{end:Nx})}else throw new k("AsyncIterable or Promise","destination",x0);x0=Xx;let{destroy:M8,cleanup:f8}=T(x0,!1,!0);if(U.push(M8),y6)a.push(f8)}}else if(b(q0)){if(A(x0)){n+=2;let Xx=O0(x0,q0,g0,{end:Nx});if(c(q0)&&y6)a.push(Xx)}else if(j(x0)||V(x0)){let Xx=x0.readable||x0;n++,B(Xx,q0,g0,{end:Nx})}else if(d(x0))n++,B(x0,q0,g0,{end:Nx});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x0);x0=q0}else if(Q(q0)){if(A(x0))n++,o0(e(x0),q0,g0,{end:Nx});else if(V(x0)||d(x0))n++,o0(x0,q0,g0,{end:Nx});else if(j(x0))n++,o0(x0.readable,q0,g0,{end:Nx});else throw new v("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],x0);x0=q0}else x0=o.from(q0)}if(f0!==null&&f0!==void 0&&f0.aborted||H!==null&&H!==void 0&&H.aborted)_.nextTick(w0);return x0}function O0(i,p0,N0,{end:K0}){let f0=!1;if(p0.on("close",()=>{if(!f0)N0(new Y)}),i.pipe(p0,{end:!1}),K0){let a=function(){f0=!0,p0.end()};var H=a;if(u(i))_.nextTick(a);else i.once("end",a)}else N0();return W(i,{readable:!0,writable:!1},(a)=>{let w0=i._readableState;if(a&&a.code==="ERR_STREAM_PREMATURE_CLOSE"&&w0&&w0.ended&&!w0.errored&&!w0.errorEmitted)i.once("end",N0).once("error",N0);else N0(a)}),W(p0,{readable:!1,writable:!0},N0)}g.exports={pipelineImpl:J,pipeline:m}}),kC=S0((x,g)=>{var{pipeline:_}=bv(),O=t_(),{destroyer:l}=vl(),{isNodeStream:G,isReadable:w,isWritable:W,isWebStream:z,isTransformStream:p,isWritableStream:o,isReadableStream:y}=e_(),{AbortError:v,codes:{ERR_INVALID_ARG_VALUE:k,ERR_MISSING_ARGS:M}}=Ux(),f=HO();g.exports=function Y(...q){if(q.length===0)throw new M("streams");if(q.length===1)return O.from(q[0]);let N=[...q];if(typeof q[0]==="function")q[0]=O.from(q[0]);if(typeof q[q.length-1]==="function"){let L=q.length-1;q[L]=O.from(q[L])}for(let L=0;L<q.length;++L){if(!G(q[L])&&!z(q[L]))continue;if(L<q.length-1&&!(w(q[L])||y(q[L])||p(q[L])))throw new k(`streams[${L}]`,N[L],"must be readable");if(L>0&&!(W(q[L])||o(q[L])||p(q[L])))throw new k(`streams[${L}]`,N[L],"must be writable")}let C,d,c,A,b;function j(L){let D=A;if(A=null,D)D(L);else if(L)b.destroy(L);else if(!r&&!u)b.destroy()}let Q=q[0],V=_(q,j),u=!!(W(Q)||o(Q)||p(Q)),r=!!(w(V)||y(V)||p(V));if(b=new O({writableObjectMode:!!(Q!==null&&Q!==void 0&&Q.writableObjectMode),readableObjectMode:!!(V!==null&&V!==void 0&&V.readableObjectMode),writable:u,readable:r}),u){if(G(Q))b._write=function(D,S,T){if(Q.write(D,S))T();else C=T},b._final=function(D){Q.end(),d=D},Q.on("drain",function(){if(C){let D=C;C=null,D()}});else if(z(Q)){let D=(p(Q)?Q.writable:Q).getWriter();b._write=async function(S,T,t){try{await D.ready,D.write(S).catch(()=>{}),t()}catch(e){t(e)}},b._final=async function(S){try{await D.ready,D.close().catch(()=>{}),d=S}catch(T){S(T)}}}let L=p(V)?V.readable:V;f(L,()=>{if(d){let D=d;d=null,D()}})}if(r){if(G(V))V.on("readable",function(){if(c){let L=c;c=null,L()}}),V.on("end",function(){b.push(null)}),b._read=function(){while(!0){let L=V.read();if(L===null){c=b._read;return}if(!b.push(L))return}};else if(z(V)){let L=(p(V)?V.readable:V).getReader();b._read=async function(){while(!0)try{let{value:D,done:S}=await L.read();if(!b.push(D))return;if(S){b.push(null);return}}catch{return}}}}return b._destroy=function(L,D){if(!L&&A!==null)L=new v;if(c=null,C=null,d=null,A===null)D(L);else if(A=D,G(V))l(V,L)},b}}),Xm=S0((x,g)=>{var _=globalThis.AbortController||V9().AbortController,{codes:{ERR_INVALID_ARG_VALUE:O,ERR_INVALID_ARG_TYPE:l,ERR_MISSING_ARGS:G,ERR_OUT_OF_RANGE:w},AbortError:W}=Ux(),{validateAbortSignal:z,validateInteger:p,validateObject:o}=L9(),y=T0().Symbol("kWeak"),v=T0().Symbol("kResistStopPropagation"),{finished:k}=HO(),M=kC(),{addAbortSignalNoValidate:f}=Jw(),{isWritable:Y,isNodeStream:q}=e_(),{deprecate:N}=Px(),{ArrayPrototypePush:C,Boolean:d,MathFloor:c,Number:A,NumberIsNaN:b,Promise:j,PromiseReject:Q,PromiseResolve:V,PromisePrototypeThen:u,Symbol:r}=T0(),L=r("kEmpty"),D=r("kEof");function S(H,a){if(a!=null)o(a,"options");if((a===null||a===void 0?void 0:a.signal)!=null)z(a.signal,"options.signal");if(q(H)&&!Y(H))throw new O("stream",H,"must be writable");let w0=M(this,H);if(a!==null&&a!==void 0&&a.signal)f(a.signal,w0);return w0}function T(H,a){if(typeof H!=="function")throw new l("fn",["Function","AsyncFunction"],H);if(a!=null)o(a,"options");if((a===null||a===void 0?void 0:a.signal)!=null)z(a.signal,"options.signal");let w0=1;if((a===null||a===void 0?void 0:a.concurrency)!=null)w0=c(a.concurrency);let M0=w0-1;if((a===null||a===void 0?void 0:a.highWaterMark)!=null)M0=c(a.highWaterMark);return p(w0,"options.concurrency",1),p(M0,"options.highWaterMark",0),M0+=w0,async function*d0(){let I=Px().AbortSignalAny([a===null||a===void 0?void 0:a.signal].filter(d)),U=this,n=[],g0={signal:I},l0,x0,Z=!1,R=0;function W0(){Z=!0,s()}function s(){R-=1,q0()}function q0(){if(x0&&!Z&&R<w0&&n.length<M0)x0(),x0=null}async function xg(){try{for await(let e0 of U){if(Z)return;if(I.aborted)throw new W;try{if(e0=H(e0,g0),e0===L)continue;e0=V(e0)}catch(Nx){e0=Q(Nx)}if(R+=1,u(e0,s,W0),n.push(e0),l0)l0(),l0=null;if(!Z&&(n.length>=M0||R>=w0))await new j((Nx)=>{x0=Nx})}n.push(D)}catch(e0){let Nx=Q(e0);u(Nx,s,W0),n.push(Nx)}finally{if(Z=!0,l0)l0(),l0=null}}xg();try{while(!0){while(n.length>0){let e0=await n[0];if(e0===D)return;if(I.aborted)throw new W;if(e0!==L)yield e0;n.shift(),q0()}await new j((e0)=>{l0=e0})}}finally{if(Z=!0,x0)x0(),x0=null}}.call(this)}function t(H=void 0){if(H!=null)o(H,"options");if((H===null||H===void 0?void 0:H.signal)!=null)z(H.signal,"options.signal");return async function*a(){let w0=0;for await(let d0 of this){var M0;if(H!==null&&H!==void 0&&(M0=H.signal)!==null&&M0!==void 0&&M0.aborted)throw new W({cause:H.signal.reason});yield[w0++,d0]}}.call(this)}async function e(H,a=void 0){for await(let w0 of m.call(this,H,a))return!0;return!1}async function C0(H,a=void 0){if(typeof H!=="function")throw new l("fn",["Function","AsyncFunction"],H);return!await e.call(this,async(...w0)=>{return!await H(...w0)},a)}async function B(H,a){for await(let w0 of m.call(this,H,a))return w0;return}async function o0(H,a){if(typeof H!=="function")throw new l("fn",["Function","AsyncFunction"],H);async function w0(M0,d0){return await H(M0,d0),L}for await(let M0 of T.call(this,w0,a));}function m(H,a){if(typeof H!=="function")throw new l("fn",["Function","AsyncFunction"],H);async function w0(M0,d0){if(await H(M0,d0))return M0;return L}return T.call(this,w0,a)}class J extends G{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}}async function O0(H,a,w0){var M0;if(typeof H!=="function")throw new l("reducer",["Function","AsyncFunction"],H);if(w0!=null)o(w0,"options");if((w0===null||w0===void 0?void 0:w0.signal)!=null)z(w0.signal,"options.signal");let d0=arguments.length>1;if(w0!==null&&w0!==void 0&&(M0=w0.signal)!==null&&M0!==void 0&&M0.aborted){let l0=new W(void 0,{cause:w0.signal.reason});throw this.once("error",()=>{}),await k(this.destroy(l0)),l0}let I=new _,U=I.signal;if(w0!==null&&w0!==void 0&&w0.signal){let l0={once:!0,[y]:this,[v]:!0};w0.signal.addEventListener("abort",()=>I.abort(),l0)}let n=!1;try{for await(let l0 of this){var g0;if(n=!0,w0!==null&&w0!==void 0&&(g0=w0.signal)!==null&&g0!==void 0&&g0.aborted)throw new W;if(!d0)a=l0,d0=!0;else a=await H(a,l0,{signal:U})}if(!n&&!d0)throw new J}finally{I.abort()}return a}async function i(H){if(H!=null)o(H,"options");if((H===null||H===void 0?void 0:H.signal)!=null)z(H.signal,"options.signal");let a=[];for await(let M0 of this){var w0;if(H!==null&&H!==void 0&&(w0=H.signal)!==null&&w0!==void 0&&w0.aborted)throw new W(void 0,{cause:H.signal.reason});C(a,M0)}return a}function p0(H,a){let w0=T.call(this,H,a);return async function*M0(){for await(let d0 of w0)yield*d0}.call(this)}function N0(H){if(H=A(H),b(H))return 0;if(H<0)throw new w("number",">= 0",H);return H}function K0(H,a=void 0){if(a!=null)o(a,"options");if((a===null||a===void 0?void 0:a.signal)!=null)z(a.signal,"options.signal");return H=N0(H),async function*w0(){var M0;if(a!==null&&a!==void 0&&(M0=a.signal)!==null&&M0!==void 0&&M0.aborted)throw new W;for await(let I of this){var d0;if(a!==null&&a!==void 0&&(d0=a.signal)!==null&&d0!==void 0&&d0.aborted)throw new W;if(H--<=0)yield I}}.call(this)}function f0(H,a=void 0){if(a!=null)o(a,"options");if((a===null||a===void 0?void 0:a.signal)!=null)z(a.signal,"options.signal");return H=N0(H),async function*w0(){var M0;if(a!==null&&a!==void 0&&(M0=a.signal)!==null&&M0!==void 0&&M0.aborted)throw new W;for await(let I of this){var d0;if(a!==null&&a!==void 0&&(d0=a.signal)!==null&&d0!==void 0&&d0.aborted)throw new W;if(H-- >0)yield I;if(H<=0)return}}.call(this)}g.exports.streamReturningOperators={asIndexedPairs:N(t,"readable.asIndexedPairs will be removed in a future version."),drop:K0,filter:m,flatMap:p0,map:T,take:f0,compose:S},g.exports.promiseReturningOperators={every:C0,forEach:o0,reduce:O0,toArray:i,some:e,find:B}}),qC=S0((x,g)=>{var{ArrayPrototypePop:_,Promise:O}=T0(),{isIterable:l,isNodeStream:G,isWebStream:w}=e_(),{pipelineImpl:W}=bv(),{finished:z}=HO();CC();function p(...o){return new O((y,v)=>{let k,M,f=o[o.length-1];if(f&&typeof f==="object"&&!G(f)&&!l(f)&&!w(f)){let Y=_(o);k=Y.signal,M=Y.end}W(o,(Y,q)=>{if(Y)v(Y);else y(q)},{signal:k,end:M})})}g.exports={finished:z,pipeline:p}}),CC=S0((x,g)=>{var{Buffer:_}=(R_(),gg(P_)),{ObjectDefineProperty:O,ObjectKeys:l,ReflectApply:G}=T0(),{promisify:{custom:w}}=Px(),{streamReturningOperators:W,promiseReturningOperators:z}=Xm(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:p}}=Ux(),o=kC(),{setDefaultHighWaterMark:y,getDefaultHighWaterMark:v}=aw(),{pipeline:k}=bv(),{destroyer:M}=vl(),f=HO(),Y=qC(),q=e_(),N=g.exports=hv().Stream;N.isDestroyed=q.isDestroyed,N.isDisturbed=q.isDisturbed,N.isErrored=q.isErrored,N.isReadable=q.isReadable,N.isWritable=q.isWritable,N.Readable=Pw();for(let d of l(W)){let c=function(...b){if(new.target)throw p();return N.Readable.from(G(A,this,b))},A=W[d];O(c,"name",{__proto__:null,value:A.name}),O(c,"length",{__proto__:null,value:A.length}),O(N.Readable.prototype,d,{__proto__:null,value:c,enumerable:!1,configurable:!0,writable:!0})}for(let d of l(z)){let c=function(...b){if(new.target)throw p();return G(A,this,b)},A=z[d];O(c,"name",{__proto__:null,value:A.name}),O(c,"length",{__proto__:null,value:A.length}),O(N.Readable.prototype,d,{__proto__:null,value:c,enumerable:!1,configurable:!0,writable:!0})}N.Writable=Kv(),N.Duplex=t_(),N.Transform=yC(),N.PassThrough=NC(),N.pipeline=k;var{addAbortSignal:C}=Jw();N.addAbortSignal=C,N.finished=f,N.destroy=M,N.compose=o,N.setDefaultHighWaterMark=y,N.getDefaultHighWaterMark=v,O(N,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Y}}),O(k,w,{__proto__:null,enumerable:!0,get(){return Y.pipeline}}),O(f,w,{__proto__:null,enumerable:!0,get(){return Y.finished}}),N.Stream=N,N._isUint8Array=function d(c){return c instanceof Uint8Array},N._uint8ArrayToBuffer=function d(c){return _.from(c.buffer,c.byteOffset,c.byteLength)}}),Fm=S0((x,g)=>{var _=Rw();if(_&&process.env.READABLE_STREAM==="disable"){let O=_.promises;g.exports._uint8ArrayToBuffer=_._uint8ArrayToBuffer,g.exports._isUint8Array=_._isUint8Array,g.exports.isDisturbed=_.isDisturbed,g.exports.isErrored=_.isErrored,g.exports.isReadable=_.isReadable,g.exports.Readable=_.Readable,g.exports.Writable=_.Writable,g.exports.Duplex=_.Duplex,g.exports.Transform=_.Transform,g.exports.PassThrough=_.PassThrough,g.exports.addAbortSignal=_.addAbortSignal,g.exports.finished=_.finished,g.exports.destroy=_.destroy,g.exports.pipeline=_.pipeline,g.exports.compose=_.compose,Object.defineProperty(_,"promises",{configurable:!0,enumerable:!0,get(){return O}}),g.exports.Stream=_.Stream}else{let O=CC(),l=qC(),G=O.Readable.destroy;g.exports=O.Readable,g.exports._uint8ArrayToBuffer=O._uint8ArrayToBuffer,g.exports._isUint8Array=O._isUint8Array,g.exports.isDisturbed=O.isDisturbed,g.exports.isErrored=O.isErrored,g.exports.isReadable=O.isReadable,g.exports.Readable=O.Readable,g.exports.Writable=O.Writable,g.exports.Duplex=O.Duplex,g.exports.Transform=O.Transform,g.exports.PassThrough=O.PassThrough,g.exports.addAbortSignal=O.addAbortSignal,g.exports.finished=O.finished,g.exports.destroy=O.destroy,g.exports.destroy=G,g.exports.pipeline=O.pipeline,g.exports.compose=O.compose,Object.defineProperty(O,"promises",{configurable:!0,enumerable:!0,get(){return l}}),g.exports.Stream=O.Stream}g.exports.default=g.exports});dC.exports=Fm()});var xO=k0((um)=>{um.base64=!0;um.array=!0;um.string=!0;um.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";um.nodebuffer=typeof Buffer!=="undefined";um.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined")um.blob=!1;else{Tw=new ArrayBuffer(0);try{um.blob=new Blob([Tw],{type:"application/zip"}).size===0}catch(x){try{Vv=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,sw=new Vv,sw.append(Tw),um.blob=sw.getBlob("application/zip").size===0}catch(g){um.blob=!1}}}var Tw,Vv,sw;try{um.nodestream=!!Rw().Readable}catch(x){um.nodestream=!1}});var Lv=k0((Em)=>{var Qm=s0(),Dm=xO(),C_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Em.encode=function(x){var g=[],_,O,l,G,w,W,z,p=0,o=x.length,y=o,v=Qm.getTypeOf(x)!=="string";while(p<x.length){if(y=o-p,!v)_=x.charCodeAt(p++),O=p<o?x.charCodeAt(p++):0,l=p<o?x.charCodeAt(p++):0;else _=x[p++],O=p<o?x[p++]:0,l=p<o?x[p++]:0;G=_>>2,w=(_&3)<<4|O>>4,W=y>1?(O&15)<<2|l>>6:64,z=y>2?l&63:64,g.push(C_.charAt(G)+C_.charAt(w)+C_.charAt(W)+C_.charAt(z))}return g.join("")};Em.decode=function(x){var g,_,O,l,G,w,W,z=0,p=0,o="data:";if(x.substr(0,o.length)===o)throw new Error("Invalid base64 input, it looks like a data url.");x=x.replace(/[^A-Za-z0-9+/=]/g,"");var y=x.length*3/4;if(x.charAt(x.length-1)===C_.charAt(64))y--;if(x.charAt(x.length-2)===C_.charAt(64))y--;if(y%1!==0)throw new Error("Invalid base64 input, bad content length.");var v;if(Dm.uint8array)v=new Uint8Array(y|0);else v=new Array(y|0);while(z<x.length){if(l=C_.indexOf(x.charAt(z++)),G=C_.indexOf(x.charAt(z++)),w=C_.indexOf(x.charAt(z++)),W=C_.indexOf(x.charAt(z++)),g=l<<2|G>>4,_=(G&15)<<4|w>>2,O=(w&3)<<6|W,v[p++]=g,w!==64)v[p++]=_;if(W!==64)v[p++]=O}return v}});var X9=k0((Hr,MC)=>{MC.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(x,g){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(x,g);else{if(typeof x==="number")throw new Error('The "data" argument must not be a number');return new Buffer(x,g)}},allocBuffer:function(x){if(Buffer.alloc)return Buffer.alloc(x);else{var g=new Buffer(x);return g.fill(0),g}},isBuffer:function(x){return Buffer.isBuffer(x)},isStream:function(x){return x&&typeof x.on==="function"&&typeof x.pause==="function"&&typeof x.resume==="function"}}});var cC=k0((Jr,YC)=>{var fC=global.MutationObserver||global.WebKitMutationObserver,F9;if(fC)ew=0,Xv=new fC(tw),xW=global.document.createTextNode(""),Xv.observe(xW,{characterData:!0}),F9=function(){xW.data=ew=++ew%2};else if(!global.setImmediate&&typeof global.MessageChannel!=="undefined")gW=new global.MessageChannel,gW.port1.onmessage=tw,F9=function(){gW.port2.postMessage(0)};else if("document"in global&&"onreadystatechange"in global.document.createElement("script"))F9=function(){var x=global.document.createElement("script");x.onreadystatechange=function(){tw(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},global.document.documentElement.appendChild(x)};else F9=function(){setTimeout(tw,0)};var ew,Xv,xW,gW,Fv,A9=[];function tw(){Fv=!0;var x,g,_=A9.length;while(_){g=A9,A9=[],x=-1;while(++x<_)g[x]();_=A9.length}Fv=!1}YC.exports=$m;function $m(x){if(A9.push(x)===1&&!Fv)F9()}});var LC=k0((ar,VC)=>{var im=cC();function yl(){}var Sx={},hC=["REJECTED"],Av=["FULFILLED"],KC=["PENDING"];VC.exports=JO;function JO(x){if(typeof x!=="function")throw new TypeError("resolver must be a function");if(this.state=KC,this.queue=[],this.outcome=void 0,x!==yl)bC(this,x)}JO.prototype.finally=function(x){if(typeof x!=="function")return this;var g=this.constructor;return this.then(_,O);function _(l){function G(){return l}return g.resolve(x()).then(G)}function O(l){function G(){throw l}return g.resolve(x()).then(G)}};JO.prototype.catch=function(x){return this.then(null,x)};JO.prototype.then=function(x,g){if(typeof x!=="function"&&this.state===Av||typeof g!=="function"&&this.state===hC)return this;var _=new this.constructor(yl);if(this.state!==KC){var O=this.state===Av?x:g;uv(_,O,this.outcome)}else this.queue.push(new u9(_,x,g));return _};function u9(x,g,_){if(this.promise=x,typeof g==="function")this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled;if(typeof _==="function")this.onRejected=_,this.callRejected=this.otherCallRejected}u9.prototype.callFulfilled=function(x){Sx.resolve(this.promise,x)};u9.prototype.otherCallFulfilled=function(x){uv(this.promise,this.onFulfilled,x)};u9.prototype.callRejected=function(x){Sx.reject(this.promise,x)};u9.prototype.otherCallRejected=function(x){uv(this.promise,this.onRejected,x)};function uv(x,g,_){im(function(){var O;try{O=g(_)}catch(l){return Sx.reject(x,l)}if(O===x)Sx.reject(x,new TypeError("Cannot resolve promise with itself"));else Sx.resolve(x,O)})}Sx.resolve=function(x,g){var _=mC(Hm,g);if(_.status==="error")return Sx.reject(x,_.value);var O=_.value;if(O)bC(x,O);else{x.state=Av,x.outcome=g;var l=-1,G=x.queue.length;while(++l<G)x.queue[l].callFulfilled(g)}return x};Sx.reject=function(x,g){x.state=hC,x.outcome=g;var _=-1,O=x.queue.length;while(++_<O)x.queue[_].callRejected(g);return x};function Hm(x){var g=x&&x.then;if(x&&(typeof x==="object"||typeof x==="function")&&typeof g==="function")return function _(){g.apply(x,arguments)}}function bC(x,g){var _=!1;function O(W){if(_)return;_=!0,Sx.reject(x,W)}function l(W){if(_)return;_=!0,Sx.resolve(x,W)}function G(){g(l,O)}var w=mC(G);if(w.status==="error")O(w.value)}function mC(x,g){var _={};try{_.value=x(g),_.status="success"}catch(O){_.status="error",_.value=O}return _}JO.resolve=Jm;function Jm(x){if(x instanceof this)return x;return Sx.resolve(new this(yl),x)}JO.reject=am;function am(x){var g=new this(yl);return Sx.reject(g,x)}JO.all=Pm;function Pm(x){var g=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);var l=new Array(_),G=0,w=-1,W=new this(yl);while(++w<_)z(x[w],w);return W;function z(p,o){g.resolve(p).then(y,function(v){if(!O)O=!0,Sx.reject(W,v)});function y(v){if(l[o]=v,++G===_&&!O)O=!0,Sx.resolve(W,l)}}}JO.race=Rm;function Rm(x){var g=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);var l=-1,G=new this(yl);while(++l<_)w(x[l]);return G;function w(W){g.resolve(W).then(function(z){if(!O)O=!0,Sx.resolve(G,z)},function(z){if(!O)O=!0,Sx.reject(G,z)})}}});var Nl=k0((Pr,XC)=>{var Sv=null;if(typeof Promise!=="undefined")Sv=Promise;else Sv=LC();XC.exports={Promise:Sv}});var AC=k0((FC)=>{(function(x,g){if(x.setImmediate)return;var _=1,O={},l=!1,G=x.document,w;function W(N){if(typeof N!=="function")N=new Function(""+N);var C=new Array(arguments.length-1);for(var d=0;d<C.length;d++)C[d]=arguments[d+1];var c={callback:N,args:C};return O[_]=c,w(_),_++}function z(N){delete O[N]}function p(N){var{callback:C,args:d}=N;switch(d.length){case 0:C();break;case 1:C(d[0]);break;case 2:C(d[0],d[1]);break;case 3:C(d[0],d[1],d[2]);break;default:C.apply(g,d);break}}function o(N){if(l)setTimeout(o,0,N);else{var C=O[N];if(C){l=!0;try{p(C)}finally{z(N),l=!1}}}}function y(){w=function(N){process.nextTick(function(){o(N)})}}function v(){if(x.postMessage&&!x.importScripts){var N=!0,C=x.onmessage;return x.onmessage=function(){N=!1},x.postMessage("","*"),x.onmessage=C,N}}function k(){var N="setImmediate$"+Math.random()+"$",C=function(d){if(d.source===x&&typeof d.data==="string"&&d.data.indexOf(N)===0)o(+d.data.slice(N.length))};if(x.addEventListener)x.addEventListener("message",C,!1);else x.attachEvent("onmessage",C);w=function(d){x.postMessage(N+d,"*")}}function M(){var N=new MessageChannel;N.port1.onmessage=function(C){var d=C.data;o(d)},w=function(C){N.port2.postMessage(C)}}function f(){var N=G.documentElement;w=function(C){var d=G.createElement("script");d.onreadystatechange=function(){o(C),d.onreadystatechange=null,N.removeChild(d),d=null},N.appendChild(d)}}function Y(){w=function(N){setTimeout(o,0,N)}}var q=Object.getPrototypeOf&&Object.getPrototypeOf(x);if(q=q&&q.setTimeout?q:x,{}.toString.call(x.process)==="[object process]")y();else if(v())k();else if(x.MessageChannel)M();else if(G&&"onreadystatechange"in G.createElement("script"))f();else Y();q.setImmediate=W,q.clearImmediate=z})(typeof self==="undefined"?typeof global==="undefined"?FC:global:self)});var s0=k0((tm)=>{var aO=xO(),Tm=Lv(),kl=X9(),rv=Nl();AC();function sm(x){var g=null;if(aO.uint8array)g=new Uint8Array(x.length);else g=new Array(x.length);return OW(x,g)}tm.newBlob=function(x,g){tm.checkSupport("blob");try{return new Blob([x],{type:g})}catch(l){try{var _=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,O=new _;return O.append(x),O.getBlob(g)}catch(G){throw new Error("Bug : can't construct the Blob.")}}};function S9(x){return x}function OW(x,g){for(var _=0;_<x.length;++_)g[_]=x.charCodeAt(_)&255;return g}var _W={stringifyByChunk:function(x,g,_){var O=[],l=0,G=x.length;if(G<=_)return String.fromCharCode.apply(null,x);while(l<G){if(g==="array"||g==="nodebuffer")O.push(String.fromCharCode.apply(null,x.slice(l,Math.min(l+_,G))));else O.push(String.fromCharCode.apply(null,x.subarray(l,Math.min(l+_,G))));l+=_}return O.join("")},stringifyByChar:function(x){var g="";for(var _=0;_<x.length;_++)g+=String.fromCharCode(x[_]);return g},applyCanBeUsed:{uint8array:function(){try{return aO.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(x){return!1}}(),nodebuffer:function(){try{return aO.nodebuffer&&String.fromCharCode.apply(null,kl.allocBuffer(1)).length===1}catch(x){return!1}}()}};function r9(x){var g=65536,_=tm.getTypeOf(x),O=!0;if(_==="uint8array")O=_W.applyCanBeUsed.uint8array;else if(_==="nodebuffer")O=_W.applyCanBeUsed.nodebuffer;if(O)while(g>1)try{return _W.stringifyByChunk(x,_,g)}catch(l){g=Math.floor(g/2)}return _W.stringifyByChar(x)}tm.applyFromCharCode=r9;function lW(x,g){for(var _=0;_<x.length;_++)g[_]=x[_];return g}var PO={};PO.string={string:S9,array:function(x){return OW(x,new Array(x.length))},arraybuffer:function(x){return PO.string.uint8array(x).buffer},uint8array:function(x){return OW(x,new Uint8Array(x.length))},nodebuffer:function(x){return OW(x,kl.allocBuffer(x.length))}};PO.array={string:r9,array:S9,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return kl.newBufferFrom(x)}};PO.arraybuffer={string:function(x){return r9(new Uint8Array(x))},array:function(x){return lW(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:S9,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return kl.newBufferFrom(new Uint8Array(x))}};PO.uint8array={string:r9,array:function(x){return lW(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:S9,nodebuffer:function(x){return kl.newBufferFrom(x)}};PO.nodebuffer={string:r9,array:function(x){return lW(x,new Array(x.length))},arraybuffer:function(x){return PO.nodebuffer.uint8array(x).buffer},uint8array:function(x){return lW(x,new Uint8Array(x.length))},nodebuffer:S9};tm.transformTo=function(x,g){if(!g)g="";if(!x)return g;tm.checkSupport(x);var _=tm.getTypeOf(g),O=PO[_][x](g);return O};tm.resolve=function(x){var g=x.split("/"),_=[];for(var O=0;O<g.length;O++){var l=g[O];if(l==="."||l===""&&O!==0&&O!==g.length-1)continue;else if(l==="..")_.pop();else _.push(l)}return _.join("/")};tm.getTypeOf=function(x){if(typeof x==="string")return"string";if(Object.prototype.toString.call(x)==="[object Array]")return"array";if(aO.nodebuffer&&kl.isBuffer(x))return"nodebuffer";if(aO.uint8array&&x instanceof Uint8Array)return"uint8array";if(aO.arraybuffer&&x instanceof ArrayBuffer)return"arraybuffer"};tm.checkSupport=function(x){var g=aO[x.toLowerCase()];if(!g)throw new Error(x+" is not supported by this platform")};tm.MAX_VALUE_16BITS=65535;tm.MAX_VALUE_32BITS=-1;tm.pretty=function(x){var g="",_,O;for(O=0;O<(x||"").length;O++)_=x.charCodeAt(O),g+="\\x"+(_<16?"0":"")+_.toString(16).toUpperCase();return g};tm.delay=function(x,g,_){setImmediate(function(){x.apply(_||null,g||[])})};tm.inherits=function(x,g){var _=function(){};_.prototype=g.prototype,x.prototype=new _};tm.extend=function(){var x={},g,_;for(g=0;g<arguments.length;g++)for(_ in arguments[g])if(Object.prototype.hasOwnProperty.call(arguments[g],_)&&typeof x[_]==="undefined")x[_]=arguments[g][_];return x};tm.prepareContent=function(x,g,_,O,l){var G=rv.Promise.resolve(g).then(function(w){var W=aO.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1);if(W&&typeof FileReader!=="undefined")return new rv.Promise(function(z,p){var o=new FileReader;o.onload=function(y){z(y.target.result)},o.onerror=function(y){p(y.target.error)},o.readAsArrayBuffer(w)});else return w});return G.then(function(w){var W=tm.getTypeOf(w);if(!W)return rv.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));if(W==="arraybuffer")w=tm.transformTo("uint8array",w);else if(W==="string"){if(l)w=Tm.decode(w);else if(_){if(O!==!0)w=sm(w)}}return w})}});var og=k0((sr,IC)=>{function rC(x){this.name=x||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}rC.prototype={push:function(x){this.emit("data",x)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(x){this.emit("error",x)}return!0},error:function(x){if(this.isFinished)return!1;if(this.isPaused)this.generatedError=x;else{if(this.isFinished=!0,this.emit("error",x),this.previous)this.previous.error(x);this.cleanUp()}return!0},on:function(x,g){return this._listeners[x].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(x,g){if(this._listeners[x])for(var _=0;_<this._listeners[x].length;_++)this._listeners[x][_].call(this,g)},pipe:function(x){return x.registerPrevious(this)},registerPrevious:function(x){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=x.streamInfo,this.mergeStreamInfo(),this.previous=x;var g=this;return x.on("data",function(_){g.processChunk(_)}),x.on("end",function(){g.end()}),x.on("error",function(_){g.error(_)}),this},pause:function(){if(this.isPaused||this.isFinished)return!1;if(this.isPaused=!0,this.previous)this.previous.pause();return!0},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var x=!1;if(this.generatedError)this.error(this.generatedError),x=!0;if(this.previous)this.previous.resume();return!x},flush:function(){},processChunk:function(x){this.push(x)},withStreamInfo:function(x,g){return this.extraStreamInfo[x]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var x in this.extraStreamInfo){if(!Object.prototype.hasOwnProperty.call(this.extraStreamInfo,x))continue;this.streamInfo[x]=this.extraStreamInfo[x]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");if(this.isLocked=!0,this.previous)this.previous.lock()},toString:function(){var x="Worker "+this.name;if(this.previous)return this.previous+" -> "+x;else return x}};IC.exports=rC});var Cl=k0((NV)=>{var ql=s0(),H6=xO(),zV=X9(),GW=og(),I9=new Array(256);for(d_=0;d_<256;d_++)I9[d_]=d_>=252?6:d_>=248?5:d_>=240?4:d_>=224?3:d_>=192?2:1;var d_;I9[254]=I9[254]=1;var oV=function(x){var g,_,O,l,G,w=x.length,W=0;for(l=0;l<w;l++){if(_=x.charCodeAt(l),(_&64512)===55296&&l+1<w){if(O=x.charCodeAt(l+1),(O&64512)===56320)_=65536+(_-55296<<10)+(O-56320),l++}W+=_<128?1:_<2048?2:_<65536?3:4}if(H6.uint8array)g=new Uint8Array(W);else g=new Array(W);for(G=0,l=0;G<W;l++){if(_=x.charCodeAt(l),(_&64512)===55296&&l+1<w){if(O=x.charCodeAt(l+1),(O&64512)===56320)_=65536+(_-55296<<10)+(O-56320),l++}if(_<128)g[G++]=_;else if(_<2048)g[G++]=192|_>>>6,g[G++]=128|_&63;else if(_<65536)g[G++]=224|_>>>12,g[G++]=128|_>>>6&63,g[G++]=128|_&63;else g[G++]=240|_>>>18,g[G++]=128|_>>>12&63,g[G++]=128|_>>>6&63,g[G++]=128|_&63}return g},vV=function(x,g){var _;if(g=g||x.length,g>x.length)g=x.length;_=g-1;while(_>=0&&(x[_]&192)===128)_--;if(_<0)return g;if(_===0)return g;return _+I9[x[_]]>g?_:g},yV=function(x){var g,_,O,l,G=x.length,w=new Array(G*2);for(_=0,g=0;g<G;){if(O=x[g++],O<128){w[_++]=O;continue}if(l=I9[O],l>4){w[_++]=65533,g+=l-1;continue}O&=l===2?31:l===3?15:7;while(l>1&&g<G)O=O<<6|x[g++]&63,l--;if(l>1){w[_++]=65533;continue}if(O<65536)w[_++]=O;else O-=65536,w[_++]=55296|O>>10&1023,w[_++]=56320|O&1023}if(w.length!==_)if(w.subarray)w=w.subarray(0,_);else w.length=_;return ql.applyFromCharCode(w)};NV.utf8encode=function x(g){if(H6.nodebuffer)return zV.newBufferFrom(g,"utf-8");return oV(g)};NV.utf8decode=function x(g){if(H6.nodebuffer)return ql.transformTo("nodebuffer",g).toString("utf-8");return g=ql.transformTo(H6.uint8array?"uint8array":"array",g),yV(g)};function wW(){GW.call(this,"utf-8 decode"),this.leftOver=null}ql.inherits(wW,GW);wW.prototype.processChunk=function(x){var g=ql.transformTo(H6.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(H6.uint8array){var _=g;g=new Uint8Array(_.length+this.leftOver.length),g.set(this.leftOver,0),g.set(_,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var O=vV(g),l=g;if(O!==g.length)if(H6.uint8array)l=g.subarray(0,O),this.leftOver=g.subarray(O,g.length);else l=g.slice(0,O),this.leftOver=g.slice(O,g.length);this.push({data:NV.utf8decode(l),meta:x.meta})};wW.prototype.flush=function(){if(this.leftOver&&this.leftOver.length)this.push({data:NV.utf8decode(this.leftOver),meta:{}}),this.leftOver=null};NV.Utf8DecodeWorker=wW;function Zv(){GW.call(this,"utf-8 encode")}ql.inherits(Zv,GW);Zv.prototype.processChunk=function(x){this.push({data:NV.utf8encode(x.data),meta:x.meta})};NV.Utf8EncodeWorker=Zv});var DC=k0((er,QC)=>{var jC=og(),UC=s0();function Uv(x){jC.call(this,"ConvertWorker to "+x),this.destType=x}UC.inherits(Uv,jC);Uv.prototype.processChunk=function(x){this.push({data:UC.transformTo(this.destType,x.data),meta:x.meta})};QC.exports=Uv});var BC=k0((xI,nC)=>{var EC=Rw().Readable,CV=s0();CV.inherits(Qv,EC);function Qv(x,g,_){EC.call(this,g),this._helper=x;var O=this;x.on("data",function(l,G){if(!O.push(l))O._helper.pause();if(_)_(G)}).on("error",function(l){O.emit("error",l)}).on("end",function(){O.push(null)})}Qv.prototype._read=function(){this._helper.resume()};nC.exports=Qv});var Dv=k0((gI,HC)=>{var J6=s0(),dV=DC(),MV=og(),fV=Lv(),YV=xO(),cV=Nl(),$C=null;if(YV.nodestream)try{$C=BC()}catch(x){}function hV(x,g,_){switch(x){case"blob":return J6.newBlob(J6.transformTo("arraybuffer",g),_);case"base64":return fV.encode(g);default:return J6.transformTo(x,g)}}function KV(x,g){var _,O=0,l=null,G=0;for(_=0;_<g.length;_++)G+=g[_].length;switch(x){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":l=new Uint8Array(G);for(_=0;_<g.length;_++)l.set(g[_],O),O+=g[_].length;return l;case"nodebuffer":return Buffer.concat(g);default:throw new Error("concat : unsupported type '"+x+"'")}}function bV(x,g){return new cV.Promise(function(_,O){var l=[],G=x._internalType,w=x._outputType,W=x._mimeType;x.on("data",function(z,p){if(l.push(z),g)g(p)}).on("error",function(z){l=[],O(z)}).on("end",function(){try{var z=hV(w,KV(G,l),W);_(z)}catch(p){O(p)}l=[]}).resume()})}function iC(x,g,_){var O=g;switch(g){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string";break}try{this._internalType=O,this._outputType=g,this._mimeType=_,J6.checkSupport(O),this._worker=x.pipe(new dV(O)),x.lock()}catch(l){this._worker=new MV("error"),this._worker.error(l)}}iC.prototype={accumulate:function(x){return bV(this,x)},on:function(x,g){var _=this;if(x==="data")this._worker.on(x,function(O){g.call(_,O.data,O.meta)});else this._worker.on(x,function(){J6.delay(g,arguments,_)});return this},resume:function(){return J6.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(J6.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new $C(this,{objectMode:this._outputType!=="nodebuffer"},x)}};HC.exports=iC});var Ev=k0((mV)=>{mV.base64=!1;mV.binary=!1;mV.dir=!1;mV.createFolders=!0;mV.date=null;mV.compression=null;mV.compressionOptions=null;mV.comment=null;mV.unixPermissions=null;mV.dosPermissions=null});var nv=k0((OI,JC)=>{var WW=s0(),pW=og(),jV=16384;function dl(x){pW.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(_){if(g.dataIsReady=!0,g.data=_,g.max=_&&_.length||0,g.type=WW.getTypeOf(_),!g.isPaused)g._tickAndRepeat()},function(_){g.error(_)})}WW.inherits(dl,pW);dl.prototype.cleanUp=function(){pW.prototype.cleanUp.call(this),this.data=null};dl.prototype.resume=function(){if(!pW.prototype.resume.call(this))return!1;if(!this._tickScheduled&&this.dataIsReady)this._tickScheduled=!0,WW.delay(this._tickAndRepeat,[],this);return!0};dl.prototype._tickAndRepeat=function(){if(this._tickScheduled=!1,this.isPaused||this.isFinished)return;if(this._tick(),!this.isFinished)WW.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0};dl.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=jV,g=null,_=Math.min(this.max,this.index+x);if(this.index>=this.max)return this.end();else{switch(this.type){case"string":g=this.data.substring(this.index,_);break;case"uint8array":g=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":g=this.data.slice(this.index,_);break}return this.index=_,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})}};JC.exports=dl});var zW=k0((lI,PC)=>{var UV=s0();function QV(){var x,g=[];for(var _=0;_<256;_++){x=_;for(var O=0;O<8;O++)x=x&1?3988292384^x>>>1:x>>>1;g[_]=x}return g}var aC=QV();function DV(x,g,_,O){var l=aC,G=O+_;x=x^-1;for(var w=O;w<G;w++)x=x>>>8^l[(x^g[w])&255];return x^-1}function EV(x,g,_,O){var l=aC,G=O+_;x=x^-1;for(var w=O;w<G;w++)x=x>>>8^l[(x^g.charCodeAt(w))&255];return x^-1}PC.exports=function x(g,_){if(typeof g==="undefined"||!g.length)return 0;var O=UV.getTypeOf(g)!=="string";if(O)return DV(_|0,g,g.length,0);else return EV(_|0,g,g.length,0)}});var $v=k0((GI,TC)=>{var RC=og(),nV=zW(),BV=s0();function Bv(){RC.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}BV.inherits(Bv,RC);Bv.prototype.processChunk=function(x){this.streamInfo.crc32=nV(x.data,this.streamInfo.crc32||0),this.push(x)};TC.exports=Bv});var tC=k0((wI,sC)=>{var $V=s0(),iv=og();function Hv(x){iv.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}$V.inherits(Hv,iv);Hv.prototype.processChunk=function(x){if(x){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+x.data.length}iv.prototype.processChunk.call(this,x)};sC.exports=Hv});var oW=k0((WI,gd)=>{var eC=Nl(),xd=nv(),iV=$v(),Jv=tC();function av(x,g,_,O,l){this.compressedSize=x,this.uncompressedSize=g,this.crc32=_,this.compression=O,this.compressedContent=l}av.prototype={getContentWorker:function(){var x=new xd(eC.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new Jv("data_length")),g=this;return x.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new xd(eC.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};av.createWorkerFrom=function(x,g,_){return x.pipe(new iV).pipe(new Jv("uncompressedSize")).pipe(g.compressWorker(_)).pipe(new Jv("compressedSize")).withStreamInfo("compression",g)};gd.exports=av});var Gd=k0((pI,ld)=>{var HV=Dv(),JV=nv(),Pv=Cl(),Rv=oW(),_d=og(),Tv=function(x,g,_){this.name=x,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=g,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}};Tv.prototype={internalStream:function(x){var g=null,_="string";try{if(!x)throw new Error("No output type specified.");_=x.toLowerCase();var O=_==="string"||_==="text";if(_==="binarystring"||_==="text")_="string";g=this._decompressWorker();var l=!this._dataBinary;if(l&&!O)g=g.pipe(new Pv.Utf8EncodeWorker);if(!l&&O)g=g.pipe(new Pv.Utf8DecodeWorker)}catch(G){g=new _d("error"),g.error(G)}return new HV(g,_,"")},async:function(x,g){return this.internalStream(x).accumulate(g)},nodeStream:function(x,g){return this.internalStream(x||"nodebuffer").toNodejsStream(g)},_compressWorker:function(x,g){if(this._data instanceof Rv&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();else{var _=this._decompressWorker();if(!this._dataBinary)_=_.pipe(new Pv.Utf8EncodeWorker);return Rv.createWorkerFrom(_,x,g)}},_decompressWorker:function(){if(this._data instanceof Rv)return this._data.getContentWorker();else if(this._data instanceof _d)return this._data;else return new JV(this._data)}};var Od=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],aV=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(Z9=0;Z9<Od.length;Z9++)Tv.prototype[Od[Z9]]=aV;var Z9;ld.exports=Tv});var gO=k0((sv)=>{var sV=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function tV(x,g){return Object.prototype.hasOwnProperty.call(x,g)}sv.assign=function(x){var g=Array.prototype.slice.call(arguments,1);while(g.length){var _=g.shift();if(!_)continue;if(typeof _!=="object")throw new TypeError(_+"must be non-object");for(var O in _)if(tV(_,O))x[O]=_[O]}return x};sv.shrinkBuf=function(x,g){if(x.length===g)return x;if(x.subarray)return x.subarray(0,g);return x.length=g,x};var eV={arraySet:function(x,g,_,O,l){if(g.subarray&&x.subarray){x.set(g.subarray(_,_+O),l);return}for(var G=0;G<O;G++)x[l+G]=g[_+G]},flattenChunks:function(x){var g,_,O,l,G,w;O=0;for(g=0,_=x.length;g<_;g++)O+=x[g].length;w=new Uint8Array(O),l=0;for(g=0,_=x.length;g<_;g++)G=x[g],w.set(G,l),l+=G.length;return w}},xL={arraySet:function(x,g,_,O,l){for(var G=0;G<O;G++)x[l+G]=g[_+G]},flattenChunks:function(x){return[].concat.apply([],x)}};sv.setTyped=function(x){if(x)sv.Buf8=Uint8Array,sv.Buf16=Uint16Array,sv.Buf32=Int32Array,sv.assign(sv,eV);else sv.Buf8=Array,sv.Buf16=Array,sv.Buf32=Array,sv.assign(sv,xL)};sv.setTyped(sV)});var Fd=k0((KL)=>{var _L=gO(),OL=4,Wd=0,pd=1,lL=2;function fl(x){var g=x.length;while(--g>=0)x[g]=0}var GL=0,kd=1,wL=2,WL=3,pL=258,Gy=29,n9=256,U9=n9+1+Gy,Ml=30,wy=19,qd=2*U9+1,a6=15,ev=16,zL=7,Wy=256,Cd=16,dd=17,Md=18,Oy=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],vW=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],oL=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],fd=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],vL=512,_O=new Array((U9+2)*2);fl(_O);var j9=new Array(Ml*2);fl(j9);var Q9=new Array(vL);fl(Q9);var D9=new Array(pL-WL+1);fl(D9);var py=new Array(Gy);fl(py);var yW=new Array(Ml);fl(yW);function xy(x,g,_,O,l){this.static_tree=x,this.extra_bits=g,this.extra_base=_,this.elems=O,this.max_length=l,this.has_stree=x&&x.length}var Yd,cd,hd;function gy(x,g){this.dyn_tree=x,this.max_code=0,this.stat_desc=g}function Kd(x){return x<256?Q9[x]:Q9[256+(x>>>7)]}function E9(x,g){x.pending_buf[x.pending++]=g&255,x.pending_buf[x.pending++]=g>>>8&255}function Rx(x,g,_){if(x.bi_valid>ev-_)x.bi_buf|=g<<x.bi_valid&65535,E9(x,x.bi_buf),x.bi_buf=g>>ev-x.bi_valid,x.bi_valid+=_-ev;else x.bi_buf|=g<<x.bi_valid&65535,x.bi_valid+=_}function M_(x,g,_){Rx(x,_[g*2],_[g*2+1])}function bd(x,g){var _=0;do _|=x&1,x>>>=1,_<<=1;while(--g>0);return _>>>1}function yL(x){if(x.bi_valid===16)E9(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0;else if(x.bi_valid>=8)x.pending_buf[x.pending++]=x.bi_buf&255,x.bi_buf>>=8,x.bi_valid-=8}function NL(x,g){var{dyn_tree:_,max_code:O}=g,l=g.stat_desc.static_tree,G=g.stat_desc.has_stree,w=g.stat_desc.extra_bits,W=g.stat_desc.extra_base,z=g.stat_desc.max_length,p,o,y,v,k,M,f=0;for(v=0;v<=a6;v++)x.bl_count[v]=0;_[x.heap[x.heap_max]*2+1]=0;for(p=x.heap_max+1;p<qd;p++){if(o=x.heap[p],v=_[_[o*2+1]*2+1]+1,v>z)v=z,f++;if(_[o*2+1]=v,o>O)continue;if(x.bl_count[v]++,k=0,o>=W)k=w[o-W];if(M=_[o*2],x.opt_len+=M*(v+k),G)x.static_len+=M*(l[o*2+1]+k)}if(f===0)return;do{v=z-1;while(x.bl_count[v]===0)v--;x.bl_count[v]--,x.bl_count[v+1]+=2,x.bl_count[z]--,f-=2}while(f>0);for(v=z;v!==0;v--){o=x.bl_count[v];while(o!==0){if(y=x.heap[--p],y>O)continue;if(_[y*2+1]!==v)x.opt_len+=(v-_[y*2+1])*_[y*2],_[y*2+1]=v;o--}}}function md(x,g,_){var O=new Array(a6+1),l=0,G,w;for(G=1;G<=a6;G++)O[G]=l=l+_[G-1]<<1;for(w=0;w<=g;w++){var W=x[w*2+1];if(W===0)continue;x[w*2]=bd(O[W]++,W)}}function kL(){var x,g,_,O,l,G=new Array(a6+1);_=0;for(O=0;O<Gy-1;O++){py[O]=_;for(x=0;x<1<<Oy[O];x++)D9[_++]=O}D9[_-1]=O,l=0;for(O=0;O<16;O++){yW[O]=l;for(x=0;x<1<<vW[O];x++)Q9[l++]=O}l>>=7;for(;O<Ml;O++){yW[O]=l<<7;for(x=0;x<1<<vW[O]-7;x++)Q9[256+l++]=O}for(g=0;g<=a6;g++)G[g]=0;x=0;while(x<=143)_O[x*2+1]=8,x++,G[8]++;while(x<=255)_O[x*2+1]=9,x++,G[9]++;while(x<=279)_O[x*2+1]=7,x++,G[7]++;while(x<=287)_O[x*2+1]=8,x++,G[8]++;md(_O,U9+1,G);for(x=0;x<Ml;x++)j9[x*2+1]=5,j9[x*2]=bd(x,5);Yd=new xy(_O,Oy,n9+1,U9,a6),cd=new xy(j9,vW,0,Ml,a6),hd=new xy(new Array(0),oL,0,wy,zL)}function Vd(x){var g;for(g=0;g<U9;g++)x.dyn_ltree[g*2]=0;for(g=0;g<Ml;g++)x.dyn_dtree[g*2]=0;for(g=0;g<wy;g++)x.bl_tree[g*2]=0;x.dyn_ltree[Wy*2]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function Ld(x){if(x.bi_valid>8)E9(x,x.bi_buf);else if(x.bi_valid>0)x.pending_buf[x.pending++]=x.bi_buf;x.bi_buf=0,x.bi_valid=0}function qL(x,g,_,O){if(Ld(x),O)E9(x,_),E9(x,~_);_L.arraySet(x.pending_buf,x.window,g,_,x.pending),x.pending+=_}function zd(x,g,_,O){var l=g*2,G=_*2;return x[l]<x[G]||x[l]===x[G]&&O[g]<=O[_]}function _y(x,g,_){var O=x.heap[_],l=_<<1;while(l<=x.heap_len){if(l<x.heap_len&&zd(g,x.heap[l+1],x.heap[l],x.depth))l++;if(zd(g,O,x.heap[l],x.depth))break;x.heap[_]=x.heap[l],_=l,l<<=1}x.heap[_]=O}function od(x,g,_){var O,l,G=0,w,W;if(x.last_lit!==0)do if(O=x.pending_buf[x.d_buf+G*2]<<8|x.pending_buf[x.d_buf+G*2+1],l=x.pending_buf[x.l_buf+G],G++,O===0)M_(x,l,g);else{if(w=D9[l],M_(x,w+n9+1,g),W=Oy[w],W!==0)l-=py[w],Rx(x,l,W);if(O--,w=Kd(O),M_(x,w,_),W=vW[w],W!==0)O-=yW[w],Rx(x,O,W)}while(G<x.last_lit);M_(x,Wy,g)}function ly(x,g){var _=g.dyn_tree,O=g.stat_desc.static_tree,l=g.stat_desc.has_stree,G=g.stat_desc.elems,w,W,z=-1,p;x.heap_len=0,x.heap_max=qd;for(w=0;w<G;w++)if(_[w*2]!==0)x.heap[++x.heap_len]=z=w,x.depth[w]=0;else _[w*2+1]=0;while(x.heap_len<2)if(p=x.heap[++x.heap_len]=z<2?++z:0,_[p*2]=1,x.depth[p]=0,x.opt_len--,l)x.static_len-=O[p*2+1];g.max_code=z;for(w=x.heap_len>>1;w>=1;w--)_y(x,_,w);p=G;do w=x.heap[1],x.heap[1]=x.heap[x.heap_len--],_y(x,_,1),W=x.heap[1],x.heap[--x.heap_max]=w,x.heap[--x.heap_max]=W,_[p*2]=_[w*2]+_[W*2],x.depth[p]=(x.depth[w]>=x.depth[W]?x.depth[w]:x.depth[W])+1,_[w*2+1]=_[W*2+1]=p,x.heap[1]=p++,_y(x,_,1);while(x.heap_len>=2);x.heap[--x.heap_max]=x.heap[1],NL(x,g),md(_,z,x.bl_count)}function vd(x,g,_){var O,l=-1,G,w=g[1],W=0,z=7,p=4;if(w===0)z=138,p=3;g[(_+1)*2+1]=65535;for(O=0;O<=_;O++){if(G=w,w=g[(O+1)*2+1],++W<z&&G===w)continue;else if(W<p)x.bl_tree[G*2]+=W;else if(G!==0){if(G!==l)x.bl_tree[G*2]++;x.bl_tree[Cd*2]++}else if(W<=10)x.bl_tree[dd*2]++;else x.bl_tree[Md*2]++;if(W=0,l=G,w===0)z=138,p=3;else if(G===w)z=6,p=3;else z=7,p=4}}function yd(x,g,_){var O,l=-1,G,w=g[1],W=0,z=7,p=4;if(w===0)z=138,p=3;for(O=0;O<=_;O++){if(G=w,w=g[(O+1)*2+1],++W<z&&G===w)continue;else if(W<p)do M_(x,G,x.bl_tree);while(--W!==0);else if(G!==0){if(G!==l)M_(x,G,x.bl_tree),W--;M_(x,Cd,x.bl_tree),Rx(x,W-3,2)}else if(W<=10)M_(x,dd,x.bl_tree),Rx(x,W-3,3);else M_(x,Md,x.bl_tree),Rx(x,W-11,7);if(W=0,l=G,w===0)z=138,p=3;else if(G===w)z=6,p=3;else z=7,p=4}}function CL(x){var g;vd(x,x.dyn_ltree,x.l_desc.max_code),vd(x,x.dyn_dtree,x.d_desc.max_code),ly(x,x.bl_desc);for(g=wy-1;g>=3;g--)if(x.bl_tree[fd[g]*2+1]!==0)break;return x.opt_len+=3*(g+1)+5+5+4,g}function dL(x,g,_,O){var l;Rx(x,g-257,5),Rx(x,_-1,5),Rx(x,O-4,4);for(l=0;l<O;l++)Rx(x,x.bl_tree[fd[l]*2+1],3);yd(x,x.dyn_ltree,g-1),yd(x,x.dyn_dtree,_-1)}function ML(x){var g=4093624447,_;for(_=0;_<=31;_++,g>>>=1)if(g&1&&x.dyn_ltree[_*2]!==0)return Wd;if(x.dyn_ltree[18]!==0||x.dyn_ltree[20]!==0||x.dyn_ltree[26]!==0)return pd;for(_=32;_<n9;_++)if(x.dyn_ltree[_*2]!==0)return pd;return Wd}var Nd=!1;function fL(x){if(!Nd)kL(),Nd=!0;x.l_desc=new gy(x.dyn_ltree,Yd),x.d_desc=new gy(x.dyn_dtree,cd),x.bl_desc=new gy(x.bl_tree,hd),x.bi_buf=0,x.bi_valid=0,Vd(x)}function Xd(x,g,_,O){Rx(x,(GL<<1)+(O?1:0),3),qL(x,g,_,!0)}function YL(x){Rx(x,kd<<1,3),M_(x,Wy,_O),yL(x)}function cL(x,g,_,O){var l,G,w=0;if(x.level>0){if(x.strm.data_type===lL)x.strm.data_type=ML(x);if(ly(x,x.l_desc),ly(x,x.d_desc),w=CL(x),l=x.opt_len+3+7>>>3,G=x.static_len+3+7>>>3,G<=l)l=G}else l=G=_+5;if(_+4<=l&&g!==-1)Xd(x,g,_,O);else if(x.strategy===OL||G===l)Rx(x,(kd<<1)+(O?1:0),3),od(x,_O,j9);else Rx(x,(wL<<1)+(O?1:0),3),dL(x,x.l_desc.max_code+1,x.d_desc.max_code+1,w+1),od(x,x.dyn_ltree,x.dyn_dtree);if(Vd(x),O)Ld(x)}function hL(x,g,_){if(x.pending_buf[x.d_buf+x.last_lit*2]=g>>>8&255,x.pending_buf[x.d_buf+x.last_lit*2+1]=g&255,x.pending_buf[x.l_buf+x.last_lit]=_&255,x.last_lit++,g===0)x.dyn_ltree[_*2]++;else x.matches++,g--,x.dyn_ltree[(D9[_]+n9+1)*2]++,x.dyn_dtree[Kd(g)*2]++;return x.last_lit===x.lit_bufsize-1}KL._tr_init=fL;KL._tr_stored_block=Xd;KL._tr_flush_block=cL;KL._tr_tally=hL;KL._tr_align=YL});var zy=k0((vI,Ad)=>{function FL(x,g,_,O){var l=x&65535|0,G=x>>>16&65535|0,w=0;while(_!==0){w=_>2000?2000:_,_-=w;do l=l+g[O++]|0,G=G+l|0;while(--w);l%=65521,G%=65521}return l|G<<16|0}Ad.exports=FL});var oy=k0((yI,ud)=>{function AL(){var x,g=[];for(var _=0;_<256;_++){x=_;for(var O=0;O<8;O++)x=x&1?3988292384^x>>>1:x>>>1;g[_]=x}return g}var uL=AL();function SL(x,g,_,O){var l=uL,G=O+_;x^=-1;for(var w=O;w<G;w++)x=x>>>8^l[(x^g[w])&255];return x^-1}ud.exports=SL});var NW=k0((NI,Sd)=>{Sd.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var nd=k0((vX)=>{var Qx=gO(),Ag=Fd(),jd=zy(),RO=oy(),rL=NW(),s6=0,IL=1,ZL=3,x6=4,rd=5,Y_=0,Id=1,ug=-2,jL=-3,vy=-5,UL=-1,QL=1,kW=2,DL=3,EL=4,nL=0,BL=2,MW=8,$L=9,iL=15,HL=8,JL=29,aL=256,Ny=aL+1+JL,PL=30,RL=19,TL=2*Ny+1,sL=15,V0=3,tO=258,ig=tO+V0+1,tL=32,fW=42,ky=69,qW=73,CW=91,dW=103,P6=113,$9=666,Cx=1,i9=2,R6=3,hl=4,eL=3;function eO(x,g){return x.msg=rL[g],g}function Zd(x){return(x<<1)-(x>4?9:0)}function sO(x){var g=x.length;while(--g>=0)x[g]=0}function TO(x){var g=x.state,_=g.pending;if(_>x.avail_out)_=x.avail_out;if(_===0)return;if(Qx.arraySet(x.output,g.pending_buf,g.pending_out,_,x.next_out),x.next_out+=_,g.pending_out+=_,x.total_out+=_,x.avail_out-=_,g.pending-=_,g.pending===0)g.pending_out=0}function Vx(x,g){Ag._tr_flush_block(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,g),x.block_start=x.strstart,TO(x.strm)}function u0(x,g){x.pending_buf[x.pending++]=g}function B9(x,g){x.pending_buf[x.pending++]=g>>>8&255,x.pending_buf[x.pending++]=g&255}function xX(x,g,_,O){var l=x.avail_in;if(l>O)l=O;if(l===0)return 0;if(x.avail_in-=l,Qx.arraySet(g,x.input,x.next_in,l,_),x.state.wrap===1)x.adler=jd(x.adler,g,l,_);else if(x.state.wrap===2)x.adler=RO(x.adler,g,l,_);return x.next_in+=l,x.total_in+=l,l}function Ud(x,g){var{max_chain_length:_,strstart:O}=x,l,G,w=x.prev_length,W=x.nice_match,z=x.strstart>x.w_size-ig?x.strstart-(x.w_size-ig):0,p=x.window,o=x.w_mask,y=x.prev,v=x.strstart+tO,k=p[O+w-1],M=p[O+w];if(x.prev_length>=x.good_match)_>>=2;if(W>x.lookahead)W=x.lookahead;do{if(l=g,p[l+w]!==M||p[l+w-1]!==k||p[l]!==p[O]||p[++l]!==p[O+1])continue;O+=2,l++;do;while(p[++O]===p[++l]&&p[++O]===p[++l]&&p[++O]===p[++l]&&p[++O]===p[++l]&&p[++O]===p[++l]&&p[++O]===p[++l]&&p[++O]===p[++l]&&p[++O]===p[++l]&&O<v);if(G=tO-(v-O),O=v-tO,G>w){if(x.match_start=g,w=G,G>=W)break;k=p[O+w-1],M=p[O+w]}}while((g=y[g&o])>z&&--_!==0);if(w<=x.lookahead)return w;return x.lookahead}function T6(x){var g=x.w_size,_,O,l,G,w;do{if(G=x.window_size-x.lookahead-x.strstart,x.strstart>=g+(g-ig)){Qx.arraySet(x.window,x.window,g,g,0),x.match_start-=g,x.strstart-=g,x.block_start-=g,O=x.hash_size,_=O;do l=x.head[--_],x.head[_]=l>=g?l-g:0;while(--O);O=g,_=O;do l=x.prev[--_],x.prev[_]=l>=g?l-g:0;while(--O);G+=g}if(x.strm.avail_in===0)break;if(O=xX(x.strm,x.window,x.strstart+x.lookahead,G),x.lookahead+=O,x.lookahead+x.insert>=V0){w=x.strstart-x.insert,x.ins_h=x.window[w],x.ins_h=(x.ins_h<<x.hash_shift^x.window[w+1])&x.hash_mask;while(x.insert)if(x.ins_h=(x.ins_h<<x.hash_shift^x.window[w+V0-1])&x.hash_mask,x.prev[w&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=w,w++,x.insert--,x.lookahead+x.insert<V0)break}}while(x.lookahead<ig&&x.strm.avail_in!==0)}function gX(x,g){var _=65535;if(_>x.pending_buf_size-5)_=x.pending_buf_size-5;for(;;){if(x.lookahead<=1){if(T6(x),x.lookahead===0&&g===s6)return Cx;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var O=x.block_start+_;if(x.strstart===0||x.strstart>=O){if(x.lookahead=x.strstart-O,x.strstart=O,Vx(x,!1),x.strm.avail_out===0)return Cx}if(x.strstart-x.block_start>=x.w_size-ig){if(Vx(x,!1),x.strm.avail_out===0)return Cx}}if(x.insert=0,g===x6){if(Vx(x,!0),x.strm.avail_out===0)return R6;return hl}if(x.strstart>x.block_start){if(Vx(x,!1),x.strm.avail_out===0)return Cx}return Cx}function yy(x,g){var _,O;for(;;){if(x.lookahead<ig){if(T6(x),x.lookahead<ig&&g===s6)return Cx;if(x.lookahead===0)break}if(_=0,x.lookahead>=V0)x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+V0-1])&x.hash_mask,_=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;if(_!==0&&x.strstart-_<=x.w_size-ig)x.match_length=Ud(x,_);if(x.match_length>=V0)if(O=Ag._tr_tally(x,x.strstart-x.match_start,x.match_length-V0),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=V0){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+V0-1])&x.hash_mask,_=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!==0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else O=Ag._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(O){if(Vx(x,!1),x.strm.avail_out===0)return Cx}}if(x.insert=x.strstart<V0-1?x.strstart:V0-1,g===x6){if(Vx(x,!0),x.strm.avail_out===0)return R6;return hl}if(x.last_lit){if(Vx(x,!1),x.strm.avail_out===0)return Cx}return i9}function Yl(x,g){var _,O,l;for(;;){if(x.lookahead<ig){if(T6(x),x.lookahead<ig&&g===s6)return Cx;if(x.lookahead===0)break}if(_=0,x.lookahead>=V0)x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+V0-1])&x.hash_mask,_=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;if(x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=V0-1,_!==0&&x.prev_length<x.max_lazy_match&&x.strstart-_<=x.w_size-ig){if(x.match_length=Ud(x,_),x.match_length<=5&&(x.strategy===QL||x.match_length===V0&&x.strstart-x.match_start>4096))x.match_length=V0-1}if(x.prev_length>=V0&&x.match_length<=x.prev_length){l=x.strstart+x.lookahead-V0,O=Ag._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-V0),x.lookahead-=x.prev_length-1,x.prev_length-=2;do if(++x.strstart<=l)x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+V0-1])&x.hash_mask,_=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.prev_length!==0);if(x.match_available=0,x.match_length=V0-1,x.strstart++,O){if(Vx(x,!1),x.strm.avail_out===0)return Cx}}else if(x.match_available){if(O=Ag._tr_tally(x,0,x.window[x.strstart-1]),O)Vx(x,!1);if(x.strstart++,x.lookahead--,x.strm.avail_out===0)return Cx}else x.match_available=1,x.strstart++,x.lookahead--}if(x.match_available)O=Ag._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0;if(x.insert=x.strstart<V0-1?x.strstart:V0-1,g===x6){if(Vx(x,!0),x.strm.avail_out===0)return R6;return hl}if(x.last_lit){if(Vx(x,!1),x.strm.avail_out===0)return Cx}return i9}function _X(x,g){var _,O,l,G,w=x.window;for(;;){if(x.lookahead<=tO){if(T6(x),x.lookahead<=tO&&g===s6)return Cx;if(x.lookahead===0)break}if(x.match_length=0,x.lookahead>=V0&&x.strstart>0){if(l=x.strstart-1,O=w[l],O===w[++l]&&O===w[++l]&&O===w[++l]){G=x.strstart+tO;do;while(O===w[++l]&&O===w[++l]&&O===w[++l]&&O===w[++l]&&O===w[++l]&&O===w[++l]&&O===w[++l]&&O===w[++l]&&l<G);if(x.match_length=tO-(G-l),x.match_length>x.lookahead)x.match_length=x.lookahead}}if(x.match_length>=V0)_=Ag._tr_tally(x,1,x.match_length-V0),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0;else _=Ag._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(_){if(Vx(x,!1),x.strm.avail_out===0)return Cx}}if(x.insert=0,g===x6){if(Vx(x,!0),x.strm.avail_out===0)return R6;return hl}if(x.last_lit){if(Vx(x,!1),x.strm.avail_out===0)return Cx}return i9}function OX(x,g){var _;for(;;){if(x.lookahead===0){if(T6(x),x.lookahead===0){if(g===s6)return Cx;break}}if(x.match_length=0,_=Ag._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++,_){if(Vx(x,!1),x.strm.avail_out===0)return Cx}}if(x.insert=0,g===x6){if(Vx(x,!0),x.strm.avail_out===0)return R6;return hl}if(x.last_lit){if(Vx(x,!1),x.strm.avail_out===0)return Cx}return i9}function f_(x,g,_,O,l){this.good_length=x,this.max_lazy=g,this.nice_length=_,this.max_chain=O,this.func=l}var cl;cl=[new f_(0,0,0,0,gX),new f_(4,4,8,4,yy),new f_(4,5,16,8,yy),new f_(4,6,32,32,yy),new f_(4,4,16,16,Yl),new f_(8,16,32,32,Yl),new f_(8,16,128,128,Yl),new f_(8,32,128,256,Yl),new f_(32,128,258,1024,Yl),new f_(32,258,258,4096,Yl)];function lX(x){x.window_size=2*x.w_size,sO(x.head),x.max_lazy_match=cl[x.level].max_lazy,x.good_match=cl[x.level].good_length,x.nice_match=cl[x.level].nice_length,x.max_chain_length=cl[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=V0-1,x.match_available=0,x.ins_h=0}function GX(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=MW,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Qx.Buf16(TL*2),this.dyn_dtree=new Qx.Buf16((2*PL+1)*2),this.bl_tree=new Qx.Buf16((2*RL+1)*2),sO(this.dyn_ltree),sO(this.dyn_dtree),sO(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Qx.Buf16(sL+1),this.heap=new Qx.Buf16(2*Ny+1),sO(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Qx.Buf16(2*Ny+1),sO(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Qd(x){var g;if(!x||!x.state)return eO(x,ug);if(x.total_in=x.total_out=0,x.data_type=BL,g=x.state,g.pending=0,g.pending_out=0,g.wrap<0)g.wrap=-g.wrap;return g.status=g.wrap?fW:P6,x.adler=g.wrap===2?0:1,g.last_flush=s6,Ag._tr_init(g),Y_}function Dd(x){var g=Qd(x);if(g===Y_)lX(x.state);return g}function wX(x,g){if(!x||!x.state)return ug;if(x.state.wrap!==2)return ug;return x.state.gzhead=g,Y_}function Ed(x,g,_,O,l,G){if(!x)return ug;var w=1;if(g===UL)g=6;if(O<0)w=0,O=-O;else if(O>15)w=2,O-=16;if(l<1||l>$L||_!==MW||O<8||O>15||g<0||g>9||G<0||G>EL)return eO(x,ug);if(O===8)O=9;var W=new GX;return x.state=W,W.strm=x,W.wrap=w,W.gzhead=null,W.w_bits=O,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=l+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+V0-1)/V0),W.window=new Qx.Buf8(W.w_size*2),W.head=new Qx.Buf16(W.hash_size),W.prev=new Qx.Buf16(W.w_size),W.lit_bufsize=1<<l+6,W.pending_buf_size=W.lit_bufsize*4,W.pending_buf=new Qx.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=g,W.strategy=G,W.method=_,Dd(x)}function WX(x,g){return Ed(x,g,MW,iL,HL,nL)}function pX(x,g){var _,O,l,G;if(!x||!x.state||g>rd||g<0)return x?eO(x,ug):ug;if(O=x.state,!x.output||!x.input&&x.avail_in!==0||O.status===$9&&g!==x6)return eO(x,x.avail_out===0?vy:ug);if(O.strm=x,_=O.last_flush,O.last_flush=g,O.status===fW)if(O.wrap===2)if(x.adler=0,u0(O,31),u0(O,139),u0(O,8),!O.gzhead)u0(O,0),u0(O,0),u0(O,0),u0(O,0),u0(O,0),u0(O,O.level===9?2:O.strategy>=kW||O.level<2?4:0),u0(O,eL),O.status=P6;else{if(u0(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(!O.gzhead.extra?0:4)+(!O.gzhead.name?0:8)+(!O.gzhead.comment?0:16)),u0(O,O.gzhead.time&255),u0(O,O.gzhead.time>>8&255),u0(O,O.gzhead.time>>16&255),u0(O,O.gzhead.time>>24&255),u0(O,O.level===9?2:O.strategy>=kW||O.level<2?4:0),u0(O,O.gzhead.os&255),O.gzhead.extra&&O.gzhead.extra.length)u0(O,O.gzhead.extra.length&255),u0(O,O.gzhead.extra.length>>8&255);if(O.gzhead.hcrc)x.adler=RO(x.adler,O.pending_buf,O.pending,0);O.gzindex=0,O.status=ky}else{var w=MW+(O.w_bits-8<<4)<<8,W=-1;if(O.strategy>=kW||O.level<2)W=0;else if(O.level<6)W=1;else if(O.level===6)W=2;else W=3;if(w|=W<<6,O.strstart!==0)w|=tL;if(w+=31-w%31,O.status=P6,B9(O,w),O.strstart!==0)B9(O,x.adler>>>16),B9(O,x.adler&65535);x.adler=1}if(O.status===ky)if(O.gzhead.extra){l=O.pending;while(O.gzindex<(O.gzhead.extra.length&65535)){if(O.pending===O.pending_buf_size){if(O.gzhead.hcrc&&O.pending>l)x.adler=RO(x.adler,O.pending_buf,O.pending-l,l);if(TO(x),l=O.pending,O.pending===O.pending_buf_size)break}u0(O,O.gzhead.extra[O.gzindex]&255),O.gzindex++}if(O.gzhead.hcrc&&O.pending>l)x.adler=RO(x.adler,O.pending_buf,O.pending-l,l);if(O.gzindex===O.gzhead.extra.length)O.gzindex=0,O.status=qW}else O.status=qW;if(O.status===qW)if(O.gzhead.name){l=O.pending;do{if(O.pending===O.pending_buf_size){if(O.gzhead.hcrc&&O.pending>l)x.adler=RO(x.adler,O.pending_buf,O.pending-l,l);if(TO(x),l=O.pending,O.pending===O.pending_buf_size){G=1;break}}if(O.gzindex<O.gzhead.name.length)G=O.gzhead.name.charCodeAt(O.gzindex++)&255;else G=0;u0(O,G)}while(G!==0);if(O.gzhead.hcrc&&O.pending>l)x.adler=RO(x.adler,O.pending_buf,O.pending-l,l);if(G===0)O.gzindex=0,O.status=CW}else O.status=CW;if(O.status===CW)if(O.gzhead.comment){l=O.pending;do{if(O.pending===O.pending_buf_size){if(O.gzhead.hcrc&&O.pending>l)x.adler=RO(x.adler,O.pending_buf,O.pending-l,l);if(TO(x),l=O.pending,O.pending===O.pending_buf_size){G=1;break}}if(O.gzindex<O.gzhead.comment.length)G=O.gzhead.comment.charCodeAt(O.gzindex++)&255;else G=0;u0(O,G)}while(G!==0);if(O.gzhead.hcrc&&O.pending>l)x.adler=RO(x.adler,O.pending_buf,O.pending-l,l);if(G===0)O.status=dW}else O.status=dW;if(O.status===dW)if(O.gzhead.hcrc){if(O.pending+2>O.pending_buf_size)TO(x);if(O.pending+2<=O.pending_buf_size)u0(O,x.adler&255),u0(O,x.adler>>8&255),x.adler=0,O.status=P6}else O.status=P6;if(O.pending!==0){if(TO(x),x.avail_out===0)return O.last_flush=-1,Y_}else if(x.avail_in===0&&Zd(g)<=Zd(_)&&g!==x6)return eO(x,vy);if(O.status===$9&&x.avail_in!==0)return eO(x,vy);if(x.avail_in!==0||O.lookahead!==0||g!==s6&&O.status!==$9){var z=O.strategy===kW?OX(O,g):O.strategy===DL?_X(O,g):cl[O.level].func(O,g);if(z===R6||z===hl)O.status=$9;if(z===Cx||z===R6){if(x.avail_out===0)O.last_flush=-1;return Y_}if(z===i9){if(g===IL)Ag._tr_align(O);else if(g!==rd){if(Ag._tr_stored_block(O,0,0,!1),g===ZL){if(sO(O.head),O.lookahead===0)O.strstart=0,O.block_start=0,O.insert=0}}if(TO(x),x.avail_out===0)return O.last_flush=-1,Y_}}if(g!==x6)return Y_;if(O.wrap<=0)return Id;if(O.wrap===2)u0(O,x.adler&255),u0(O,x.adler>>8&255),u0(O,x.adler>>16&255),u0(O,x.adler>>24&255),u0(O,x.total_in&255),u0(O,x.total_in>>8&255),u0(O,x.total_in>>16&255),u0(O,x.total_in>>24&255);else B9(O,x.adler>>>16),B9(O,x.adler&65535);if(TO(x),O.wrap>0)O.wrap=-O.wrap;return O.pending!==0?Y_:Id}function zX(x){var g;if(!x||!x.state)return ug;if(g=x.state.status,g!==fW&&g!==ky&&g!==qW&&g!==CW&&g!==dW&&g!==P6&&g!==$9)return eO(x,ug);return x.state=null,g===P6?eO(x,jL):Y_}function oX(x,g){var _=g.length,O,l,G,w,W,z,p,o;if(!x||!x.state)return ug;if(O=x.state,w=O.wrap,w===2||w===1&&O.status!==fW||O.lookahead)return ug;if(w===1)x.adler=jd(x.adler,g,_,0);if(O.wrap=0,_>=O.w_size){if(w===0)sO(O.head),O.strstart=0,O.block_start=0,O.insert=0;o=new Qx.Buf8(O.w_size),Qx.arraySet(o,g,_-O.w_size,O.w_size,0),g=o,_=O.w_size}W=x.avail_in,z=x.next_in,p=x.input,x.avail_in=_,x.next_in=0,x.input=g,T6(O);while(O.lookahead>=V0){l=O.strstart,G=O.lookahead-(V0-1);do O.ins_h=(O.ins_h<<O.hash_shift^O.window[l+V0-1])&O.hash_mask,O.prev[l&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=l,l++;while(--G);O.strstart=l,O.lookahead=V0-1,T6(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=V0-1,O.match_available=0,x.next_in=z,x.input=p,x.avail_in=W,O.wrap=w,Y_}vX.deflateInit=WX;vX.deflateInit2=Ed;vX.deflateReset=Dd;vX.deflateResetKeep=Qd;vX.deflateSetHeader=wX;vX.deflate=pX;vX.deflateEnd=zX;vX.deflateSetDictionary=oX;vX.deflateInfo="pako deflate (from Nodeca project)"});var qy=k0((cX)=>{var YW=gO(),Bd=!0,$d=!0;try{String.fromCharCode.apply(null,[0])}catch(x){Bd=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(x){$d=!1}var H9=new YW.Buf8(256);for(c_=0;c_<256;c_++)H9[c_]=c_>=252?6:c_>=248?5:c_>=240?4:c_>=224?3:c_>=192?2:1;var c_;H9[254]=H9[254]=1;cX.string2buf=function(x){var g,_,O,l,G,w=x.length,W=0;for(l=0;l<w;l++){if(_=x.charCodeAt(l),(_&64512)===55296&&l+1<w){if(O=x.charCodeAt(l+1),(O&64512)===56320)_=65536+(_-55296<<10)+(O-56320),l++}W+=_<128?1:_<2048?2:_<65536?3:4}g=new YW.Buf8(W);for(G=0,l=0;G<W;l++){if(_=x.charCodeAt(l),(_&64512)===55296&&l+1<w){if(O=x.charCodeAt(l+1),(O&64512)===56320)_=65536+(_-55296<<10)+(O-56320),l++}if(_<128)g[G++]=_;else if(_<2048)g[G++]=192|_>>>6,g[G++]=128|_&63;else if(_<65536)g[G++]=224|_>>>12,g[G++]=128|_>>>6&63,g[G++]=128|_&63;else g[G++]=240|_>>>18,g[G++]=128|_>>>12&63,g[G++]=128|_>>>6&63,g[G++]=128|_&63}return g};function id(x,g){if(g<65534){if(x.subarray&&$d||!x.subarray&&Bd)return String.fromCharCode.apply(null,YW.shrinkBuf(x,g))}var _="";for(var O=0;O<g;O++)_+=String.fromCharCode(x[O]);return _}cX.buf2binstring=function(x){return id(x,x.length)};cX.binstring2buf=function(x){var g=new YW.Buf8(x.length);for(var _=0,O=g.length;_<O;_++)g[_]=x.charCodeAt(_);return g};cX.buf2string=function(x,g){var _,O,l,G,w=g||x.length,W=new Array(w*2);for(O=0,_=0;_<w;){if(l=x[_++],l<128){W[O++]=l;continue}if(G=H9[l],G>4){W[O++]=65533,_+=G-1;continue}l&=G===2?31:G===3?15:7;while(G>1&&_<w)l=l<<6|x[_++]&63,G--;if(G>1){W[O++]=65533;continue}if(l<65536)W[O++]=l;else l-=65536,W[O++]=55296|l>>10&1023,W[O++]=56320|l&1023}return id(W,O)};cX.utf8border=function(x,g){var _;if(g=g||x.length,g>x.length)g=x.length;_=g-1;while(_>=0&&(x[_]&192)===128)_--;if(_<0)return g;if(_===0)return g;return _+H9[x[_]]>g?_:g}});var Cy=k0((CI,Hd)=>{function LX(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Hd.exports=LX});var Rd=k0((ZX)=>{var J9=nd(),a9=gO(),My=qy(),fy=NW(),XX=Cy(),Pd=Object.prototype.toString,FX=0,dy=4,Kl=0,Jd=1,ad=2,AX=-1,uX=0,SX=8;function t6(x){if(!(this instanceof t6))return new t6(x);this.options=a9.assign({level:AX,method:SX,chunkSize:16384,windowBits:15,memLevel:8,strategy:uX,to:""},x||{});var g=this.options;if(g.raw&&g.windowBits>0)g.windowBits=-g.windowBits;else if(g.gzip&&g.windowBits>0&&g.windowBits<16)g.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new XX,this.strm.avail_out=0;var _=J9.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(_!==Kl)throw new Error(fy[_]);if(g.header)J9.deflateSetHeader(this.strm,g.header);if(g.dictionary){var O;if(typeof g.dictionary==="string")O=My.string2buf(g.dictionary);else if(Pd.call(g.dictionary)==="[object ArrayBuffer]")O=new Uint8Array(g.dictionary);else O=g.dictionary;if(_=J9.deflateSetDictionary(this.strm,O),_!==Kl)throw new Error(fy[_]);this._dict_set=!0}}t6.prototype.push=function(x,g){var _=this.strm,O=this.options.chunkSize,l,G;if(this.ended)return!1;if(G=g===~~g?g:g===!0?dy:FX,typeof x==="string")_.input=My.string2buf(x);else if(Pd.call(x)==="[object ArrayBuffer]")_.input=new Uint8Array(x);else _.input=x;_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0)_.output=new a9.Buf8(O),_.next_out=0,_.avail_out=O;if(l=J9.deflate(_,G),l!==Jd&&l!==Kl)return this.onEnd(l),this.ended=!0,!1;if(_.avail_out===0||_.avail_in===0&&(G===dy||G===ad))if(this.options.to==="string")this.onData(My.buf2binstring(a9.shrinkBuf(_.output,_.next_out)));else this.onData(a9.shrinkBuf(_.output,_.next_out))}while((_.avail_in>0||_.avail_out===0)&&l!==Jd);if(G===dy)return l=J9.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===Kl;if(G===ad)return this.onEnd(Kl),_.avail_out=0,!0;return!0};t6.prototype.onData=function(x){this.chunks.push(x)};t6.prototype.onEnd=function(x){if(x===Kl)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=a9.flattenChunks(this.chunks);this.chunks=[],this.err=x,this.msg=this.strm.msg};function Yy(x,g){var _=new t6(g);if(_.push(x,!0),_.err)throw _.msg||fy[_.err];return _.result}function rX(x,g){return g=g||{},g.raw=!0,Yy(x,g)}function IX(x,g){return g=g||{},g.gzip=!0,Yy(x,g)}ZX.Deflate=t6;ZX.deflate=Yy;ZX.deflateRaw=rX;ZX.gzip=IX});var sd=k0((MI,Td)=>{var cW=30,EX=12;Td.exports=function x(g,_){var O,l,G,w,W,z,p,o,y,v,k,M,f,Y,q,N,C,d,c,A,b,j,Q,V,u;O=g.state,l=g.next_in,V=g.input,G=l+(g.avail_in-5),w=g.next_out,u=g.output,W=w-(_-g.avail_out),z=w+(g.avail_out-257),p=O.dmax,o=O.wsize,y=O.whave,v=O.wnext,k=O.window,M=O.hold,f=O.bits,Y=O.lencode,q=O.distcode,N=(1<<O.lenbits)-1,C=(1<<O.distbits)-1;x:do{if(f<15)M+=V[l++]<<f,f+=8,M+=V[l++]<<f,f+=8;d=Y[M&N];g:for(;;){if(c=d>>>24,M>>>=c,f-=c,c=d>>>16&255,c===0)u[w++]=d&65535;else if(c&16){if(A=d&65535,c&=15,c){if(f<c)M+=V[l++]<<f,f+=8;A+=M&(1<<c)-1,M>>>=c,f-=c}if(f<15)M+=V[l++]<<f,f+=8,M+=V[l++]<<f,f+=8;d=q[M&C];_:for(;;){if(c=d>>>24,M>>>=c,f-=c,c=d>>>16&255,c&16){if(b=d&65535,c&=15,f<c){if(M+=V[l++]<<f,f+=8,f<c)M+=V[l++]<<f,f+=8}if(b+=M&(1<<c)-1,b>p){g.msg="invalid distance too far back",O.mode=cW;break x}if(M>>>=c,f-=c,c=w-W,b>c){if(c=b-c,c>y){if(O.sane){g.msg="invalid distance too far back",O.mode=cW;break x}}if(j=0,Q=k,v===0){if(j+=o-c,c<A){A-=c;do u[w++]=k[j++];while(--c);j=w-b,Q=u}}else if(v<c){if(j+=o+v-c,c-=v,c<A){A-=c;do u[w++]=k[j++];while(--c);if(j=0,v<A){c=v,A-=c;do u[w++]=k[j++];while(--c);j=w-b,Q=u}}}else if(j+=v-c,c<A){A-=c;do u[w++]=k[j++];while(--c);j=w-b,Q=u}while(A>2)u[w++]=Q[j++],u[w++]=Q[j++],u[w++]=Q[j++],A-=3;if(A){if(u[w++]=Q[j++],A>1)u[w++]=Q[j++]}}else{j=w-b;do u[w++]=u[j++],u[w++]=u[j++],u[w++]=u[j++],A-=3;while(A>2);if(A){if(u[w++]=u[j++],A>1)u[w++]=u[j++]}}}else if((c&64)===0){d=q[(d&65535)+(M&(1<<c)-1)];continue _}else{g.msg="invalid distance code",O.mode=cW;break x}break}}else if((c&64)===0){d=Y[(d&65535)+(M&(1<<c)-1)];continue g}else if(c&32){O.mode=EX;break x}else{g.msg="invalid literal/length code",O.mode=cW;break x}break}}while(l<G&&w<z);A=f>>3,l-=A,f-=A<<3,M&=(1<<f)-1,g.next_in=l,g.next_out=w,g.avail_in=l<G?5+(G-l):5-(l-G),g.avail_out=w<z?257+(z-w):257-(w-z),O.hold=M,O.bits=f;return}});var l5=k0((fI,O5)=>{var td=gO(),bl=15,ed=852,x5=592,g5=0,cy=1,_5=2,nX=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],BX=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],$X=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],iX=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];O5.exports=function x(g,_,O,l,G,w,W,z){var p=z.bits,o=0,y=0,v=0,k=0,M=0,f=0,Y=0,q=0,N=0,C=0,d,c,A,b,j,Q=null,V=0,u,r=new td.Buf16(bl+1),L=new td.Buf16(bl+1),D=null,S=0,T,t,e;for(o=0;o<=bl;o++)r[o]=0;for(y=0;y<l;y++)r[_[O+y]]++;M=p;for(k=bl;k>=1;k--)if(r[k]!==0)break;if(M>k)M=k;if(k===0)return G[w++]=20971520,G[w++]=20971520,z.bits=1,0;for(v=1;v<k;v++)if(r[v]!==0)break;if(M<v)M=v;q=1;for(o=1;o<=bl;o++)if(q<<=1,q-=r[o],q<0)return-1;if(q>0&&(g===g5||k!==1))return-1;L[1]=0;for(o=1;o<bl;o++)L[o+1]=L[o]+r[o];for(y=0;y<l;y++)if(_[O+y]!==0)W[L[_[O+y]]++]=y;if(g===g5)Q=D=W,u=19;else if(g===cy)Q=nX,V-=257,D=BX,S-=257,u=256;else Q=$X,D=iX,u=-1;if(C=0,y=0,o=v,j=w,f=M,Y=0,A=-1,N=1<<M,b=N-1,g===cy&&N>ed||g===_5&&N>x5)return 1;for(;;){if(T=o-Y,W[y]<u)t=0,e=W[y];else if(W[y]>u)t=D[S+W[y]],e=Q[V+W[y]];else t=96,e=0;d=1<<o-Y,c=1<<f,v=c;do c-=d,G[j+(C>>Y)+c]=T<<24|t<<16|e|0;while(c!==0);d=1<<o-1;while(C&d)d>>=1;if(d!==0)C&=d-1,C+=d;else C=0;if(y++,--r[o]===0){if(o===k)break;o=_[O+W[y]]}if(o>M&&(C&b)!==A){if(Y===0)Y=M;j+=v,f=o-Y,q=1<<f;while(f+Y<k){if(q-=r[f+Y],q<=0)break;f++,q<<=1}if(N+=1<<f,g===cy&&N>ed||g===_5&&N>x5)return 1;A=C&b,G[A]=M<<24|f<<16|j-w|0}}if(C!==0)G[j+C]=o-Y<<24|4194304|0;return z.bits=M,0}});var D5=k0((zF)=>{var vg=gO(),Ly=zy(),h_=oy(),HX=sd(),P9=l5(),JX=0,A5=1,u5=2,G5=4,aX=5,hW=6,e6=0,PX=1,RX=2,Sg=-2,S5=-3,Xy=-4,TX=-5,w5=8,r5=1,W5=2,p5=3,z5=4,o5=5,v5=6,y5=7,N5=8,k5=9,q5=10,mW=11,OO=12,hy=13,C5=14,Ky=15,d5=16,M5=17,f5=18,Y5=19,KW=20,bW=21,c5=22,h5=23,K5=24,b5=25,m5=26,by=27,V5=28,L5=29,H0=30,Fy=31,sX=32,tX=852,eX=592,xF=15,gF=xF;function X5(x){return(x>>>24&255)+(x>>>8&65280)+((x&65280)<<8)+((x&255)<<24)}function _F(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new vg.Buf16(320),this.work=new vg.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I5(x){var g;if(!x||!x.state)return Sg;if(g=x.state,x.total_in=x.total_out=g.total=0,x.msg="",g.wrap)x.adler=g.wrap&1;return g.mode=r5,g.last=0,g.havedict=0,g.dmax=32768,g.head=null,g.hold=0,g.bits=0,g.lencode=g.lendyn=new vg.Buf32(tX),g.distcode=g.distdyn=new vg.Buf32(eX),g.sane=1,g.back=-1,e6}function Z5(x){var g;if(!x||!x.state)return Sg;return g=x.state,g.wsize=0,g.whave=0,g.wnext=0,I5(x)}function j5(x,g){var _,O;if(!x||!x.state)return Sg;if(O=x.state,g<0)_=0,g=-g;else if(_=(g>>4)+1,g<48)g&=15;if(g&&(g<8||g>15))return Sg;if(O.window!==null&&O.wbits!==g)O.window=null;return O.wrap=_,O.wbits=g,Z5(x)}function U5(x,g){var _,O;if(!x)return Sg;if(O=new _F,x.state=O,O.window=null,_=j5(x,g),_!==e6)x.state=null;return _}function OF(x){return U5(x,gF)}var F5=!0,my,Vy;function lF(x){if(F5){var g;my=new vg.Buf32(512),Vy=new vg.Buf32(32),g=0;while(g<144)x.lens[g++]=8;while(g<256)x.lens[g++]=9;while(g<280)x.lens[g++]=7;while(g<288)x.lens[g++]=8;P9(A5,x.lens,0,288,my,0,x.work,{bits:9}),g=0;while(g<32)x.lens[g++]=5;P9(u5,x.lens,0,32,Vy,0,x.work,{bits:5}),F5=!1}x.lencode=my,x.lenbits=9,x.distcode=Vy,x.distbits=5}function Q5(x,g,_,O){var l,G=x.state;if(G.window===null)G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new vg.Buf8(G.wsize);if(O>=G.wsize)vg.arraySet(G.window,g,_-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize;else{if(l=G.wsize-G.wnext,l>O)l=O;if(vg.arraySet(G.window,g,_-O,l,G.wnext),O-=l,O)vg.arraySet(G.window,g,_-O,O,0),G.wnext=O,G.whave=G.wsize;else{if(G.wnext+=l,G.wnext===G.wsize)G.wnext=0;if(G.whave<G.wsize)G.whave+=l}}return 0}function GF(x,g){var _,O,l,G,w,W,z,p,o,y,v,k,M,f,Y=0,q,N,C,d,c,A,b,j,Q=new vg.Buf8(4),V,u,r=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return Sg;if(_=x.state,_.mode===OO)_.mode=hy;w=x.next_out,l=x.output,z=x.avail_out,G=x.next_in,O=x.input,W=x.avail_in,p=_.hold,o=_.bits,y=W,v=z,j=e6;x:for(;;)switch(_.mode){case r5:if(_.wrap===0){_.mode=hy;break}while(o<16){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(_.wrap&2&&p===35615){_.check=0,Q[0]=p&255,Q[1]=p>>>8&255,_.check=h_(_.check,Q,2,0),p=0,o=0,_.mode=W5;break}if(_.flags=0,_.head)_.head.done=!1;if(!(_.wrap&1)||(((p&255)<<8)+(p>>8))%31){x.msg="incorrect header check",_.mode=H0;break}if((p&15)!==w5){x.msg="unknown compression method",_.mode=H0;break}if(p>>>=4,o-=4,b=(p&15)+8,_.wbits===0)_.wbits=b;else if(b>_.wbits){x.msg="invalid window size",_.mode=H0;break}_.dmax=1<<b,x.adler=_.check=1,_.mode=p&512?q5:OO,p=0,o=0;break;case W5:while(o<16){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(_.flags=p,(_.flags&255)!==w5){x.msg="unknown compression method",_.mode=H0;break}if(_.flags&57344){x.msg="unknown header flags set",_.mode=H0;break}if(_.head)_.head.text=p>>8&1;if(_.flags&512)Q[0]=p&255,Q[1]=p>>>8&255,_.check=h_(_.check,Q,2,0);p=0,o=0,_.mode=p5;case p5:while(o<32){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(_.head)_.head.time=p;if(_.flags&512)Q[0]=p&255,Q[1]=p>>>8&255,Q[2]=p>>>16&255,Q[3]=p>>>24&255,_.check=h_(_.check,Q,4,0);p=0,o=0,_.mode=z5;case z5:while(o<16){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(_.head)_.head.xflags=p&255,_.head.os=p>>8;if(_.flags&512)Q[0]=p&255,Q[1]=p>>>8&255,_.check=h_(_.check,Q,2,0);p=0,o=0,_.mode=o5;case o5:if(_.flags&1024){while(o<16){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(_.length=p,_.head)_.head.extra_len=p;if(_.flags&512)Q[0]=p&255,Q[1]=p>>>8&255,_.check=h_(_.check,Q,2,0);p=0,o=0}else if(_.head)_.head.extra=null;_.mode=v5;case v5:if(_.flags&1024){if(k=_.length,k>W)k=W;if(k){if(_.head){if(b=_.head.extra_len-_.length,!_.head.extra)_.head.extra=new Array(_.head.extra_len);vg.arraySet(_.head.extra,O,G,k,b)}if(_.flags&512)_.check=h_(_.check,O,k,G);W-=k,G+=k,_.length-=k}if(_.length)break x}_.length=0,_.mode=y5;case y5:if(_.flags&2048){if(W===0)break x;k=0;do if(b=O[G+k++],_.head&&b&&_.length<65536)_.head.name+=String.fromCharCode(b);while(b&&k<W);if(_.flags&512)_.check=h_(_.check,O,k,G);if(W-=k,G+=k,b)break x}else if(_.head)_.head.name=null;_.length=0,_.mode=N5;case N5:if(_.flags&4096){if(W===0)break x;k=0;do if(b=O[G+k++],_.head&&b&&_.length<65536)_.head.comment+=String.fromCharCode(b);while(b&&k<W);if(_.flags&512)_.check=h_(_.check,O,k,G);if(W-=k,G+=k,b)break x}else if(_.head)_.head.comment=null;_.mode=k5;case k5:if(_.flags&512){while(o<16){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(p!==(_.check&65535)){x.msg="header crc mismatch",_.mode=H0;break}p=0,o=0}if(_.head)_.head.hcrc=_.flags>>9&1,_.head.done=!0;x.adler=_.check=0,_.mode=OO;break;case q5:while(o<32){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}x.adler=_.check=X5(p),p=0,o=0,_.mode=mW;case mW:if(_.havedict===0)return x.next_out=w,x.avail_out=z,x.next_in=G,x.avail_in=W,_.hold=p,_.bits=o,RX;x.adler=_.check=1,_.mode=OO;case OO:if(g===aX||g===hW)break x;case hy:if(_.last){p>>>=o&7,o-=o&7,_.mode=by;break}while(o<3){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}switch(_.last=p&1,p>>>=1,o-=1,p&3){case 0:_.mode=C5;break;case 1:if(lF(_),_.mode=KW,g===hW){p>>>=2,o-=2;break x}break;case 2:_.mode=M5;break;case 3:x.msg="invalid block type",_.mode=H0}p>>>=2,o-=2;break;case C5:p>>>=o&7,o-=o&7;while(o<32){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if((p&65535)!==(p>>>16^65535)){x.msg="invalid stored block lengths",_.mode=H0;break}if(_.length=p&65535,p=0,o=0,_.mode=Ky,g===hW)break x;case Ky:_.mode=d5;case d5:if(k=_.length,k){if(k>W)k=W;if(k>z)k=z;if(k===0)break x;vg.arraySet(l,O,G,k,w),W-=k,G+=k,z-=k,w+=k,_.length-=k;break}_.mode=OO;break;case M5:while(o<14){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(_.nlen=(p&31)+257,p>>>=5,o-=5,_.ndist=(p&31)+1,p>>>=5,o-=5,_.ncode=(p&15)+4,p>>>=4,o-=4,_.nlen>286||_.ndist>30){x.msg="too many length or distance symbols",_.mode=H0;break}_.have=0,_.mode=f5;case f5:while(_.have<_.ncode){while(o<3){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}_.lens[r[_.have++]]=p&7,p>>>=3,o-=3}while(_.have<19)_.lens[r[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,V={bits:_.lenbits},j=P9(JX,_.lens,0,19,_.lencode,0,_.work,V),_.lenbits=V.bits,j){x.msg="invalid code lengths set",_.mode=H0;break}_.have=0,_.mode=Y5;case Y5:while(_.have<_.nlen+_.ndist){for(;;){if(Y=_.lencode[p&(1<<_.lenbits)-1],q=Y>>>24,N=Y>>>16&255,C=Y&65535,q<=o)break;if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(C<16)p>>>=q,o-=q,_.lens[_.have++]=C;else{if(C===16){u=q+2;while(o<u){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(p>>>=q,o-=q,_.have===0){x.msg="invalid bit length repeat",_.mode=H0;break}b=_.lens[_.have-1],k=3+(p&3),p>>>=2,o-=2}else if(C===17){u=q+3;while(o<u){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}p>>>=q,o-=q,b=0,k=3+(p&7),p>>>=3,o-=3}else{u=q+7;while(o<u){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}p>>>=q,o-=q,b=0,k=11+(p&127),p>>>=7,o-=7}if(_.have+k>_.nlen+_.ndist){x.msg="invalid bit length repeat",_.mode=H0;break}while(k--)_.lens[_.have++]=b}}if(_.mode===H0)break;if(_.lens[256]===0){x.msg="invalid code -- missing end-of-block",_.mode=H0;break}if(_.lenbits=9,V={bits:_.lenbits},j=P9(A5,_.lens,0,_.nlen,_.lencode,0,_.work,V),_.lenbits=V.bits,j){x.msg="invalid literal/lengths set",_.mode=H0;break}if(_.distbits=6,_.distcode=_.distdyn,V={bits:_.distbits},j=P9(u5,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,V),_.distbits=V.bits,j){x.msg="invalid distances set",_.mode=H0;break}if(_.mode=KW,g===hW)break x;case KW:_.mode=bW;case bW:if(W>=6&&z>=258){if(x.next_out=w,x.avail_out=z,x.next_in=G,x.avail_in=W,_.hold=p,_.bits=o,HX(x,v),w=x.next_out,l=x.output,z=x.avail_out,G=x.next_in,O=x.input,W=x.avail_in,p=_.hold,o=_.bits,_.mode===OO)_.back=-1;break}_.back=0;for(;;){if(Y=_.lencode[p&(1<<_.lenbits)-1],q=Y>>>24,N=Y>>>16&255,C=Y&65535,q<=o)break;if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(N&&(N&240)===0){d=q,c=N,A=C;for(;;){if(Y=_.lencode[A+((p&(1<<d+c)-1)>>d)],q=Y>>>24,N=Y>>>16&255,C=Y&65535,d+q<=o)break;if(W===0)break x;W--,p+=O[G++]<<o,o+=8}p>>>=d,o-=d,_.back+=d}if(p>>>=q,o-=q,_.back+=q,_.length=C,N===0){_.mode=m5;break}if(N&32){_.back=-1,_.mode=OO;break}if(N&64){x.msg="invalid literal/length code",_.mode=H0;break}_.extra=N&15,_.mode=c5;case c5:if(_.extra){u=_.extra;while(o<u){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}_.length+=p&(1<<_.extra)-1,p>>>=_.extra,o-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=h5;case h5:for(;;){if(Y=_.distcode[p&(1<<_.distbits)-1],q=Y>>>24,N=Y>>>16&255,C=Y&65535,q<=o)break;if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if((N&240)===0){d=q,c=N,A=C;for(;;){if(Y=_.distcode[A+((p&(1<<d+c)-1)>>d)],q=Y>>>24,N=Y>>>16&255,C=Y&65535,d+q<=o)break;if(W===0)break x;W--,p+=O[G++]<<o,o+=8}p>>>=d,o-=d,_.back+=d}if(p>>>=q,o-=q,_.back+=q,N&64){x.msg="invalid distance code",_.mode=H0;break}_.offset=C,_.extra=N&15,_.mode=K5;case K5:if(_.extra){u=_.extra;while(o<u){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}_.offset+=p&(1<<_.extra)-1,p>>>=_.extra,o-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){x.msg="invalid distance too far back",_.mode=H0;break}_.mode=b5;case b5:if(z===0)break x;if(k=v-z,_.offset>k){if(k=_.offset-k,k>_.whave){if(_.sane){x.msg="invalid distance too far back",_.mode=H0;break}}if(k>_.wnext)k-=_.wnext,M=_.wsize-k;else M=_.wnext-k;if(k>_.length)k=_.length;f=_.window}else f=l,M=w-_.offset,k=_.length;if(k>z)k=z;z-=k,_.length-=k;do l[w++]=f[M++];while(--k);if(_.length===0)_.mode=bW;break;case m5:if(z===0)break x;l[w++]=_.length,z--,_.mode=bW;break;case by:if(_.wrap){while(o<32){if(W===0)break x;W--,p|=O[G++]<<o,o+=8}if(v-=z,x.total_out+=v,_.total+=v,v)x.adler=_.check=_.flags?h_(_.check,l,v,w-v):Ly(_.check,l,v,w-v);if(v=z,(_.flags?p:X5(p))!==_.check){x.msg="incorrect data check",_.mode=H0;break}p=0,o=0}_.mode=V5;case V5:if(_.wrap&&_.flags){while(o<32){if(W===0)break x;W--,p+=O[G++]<<o,o+=8}if(p!==(_.total&4294967295)){x.msg="incorrect length check",_.mode=H0;break}p=0,o=0}_.mode=L5;case L5:j=PX;break x;case H0:j=S5;break x;case Fy:return Xy;case sX:default:return Sg}if(x.next_out=w,x.avail_out=z,x.next_in=G,x.avail_in=W,_.hold=p,_.bits=o,_.wsize||v!==x.avail_out&&_.mode<H0&&(_.mode<by||g!==G5)){if(Q5(x,x.output,x.next_out,v-x.avail_out))return _.mode=Fy,Xy}if(y-=x.avail_in,v-=x.avail_out,x.total_in+=y,x.total_out+=v,_.total+=v,_.wrap&&v)x.adler=_.check=_.flags?h_(_.check,l,v,x.next_out-v):Ly(_.check,l,v,x.next_out-v);if(x.data_type=_.bits+(_.last?64:0)+(_.mode===OO?128:0)+(_.mode===KW||_.mode===Ky?256:0),(y===0&&v===0||g===G5)&&j===e6)j=TX;return j}function wF(x){if(!x||!x.state)return Sg;var g=x.state;if(g.window)g.window=null;return x.state=null,e6}function WF(x,g){var _;if(!x||!x.state)return Sg;if(_=x.state,(_.wrap&2)===0)return Sg;return _.head=g,g.done=!1,e6}function pF(x,g){var _=g.length,O,l,G;if(!x||!x.state)return Sg;if(O=x.state,O.wrap!==0&&O.mode!==mW)return Sg;if(O.mode===mW){if(l=1,l=Ly(l,g,_,0),l!==O.check)return S5}if(G=Q5(x,g,_,_),G)return O.mode=Fy,Xy;return O.havedict=1,e6}zF.inflateReset=Z5;zF.inflateReset2=j5;zF.inflateResetKeep=I5;zF.inflateInit=OF;zF.inflateInit2=U5;zF.inflate=GF;zF.inflateEnd=wF;zF.inflateGetHeader=WF;zF.inflateSetDictionary=pF;zF.inflateInfo="pako inflate (from Nodeca project)"});var Ay=k0((cI,E5)=>{E5.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var B5=k0((hI,n5)=>{function YF(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}n5.exports=YF});var i5=k0((bF)=>{var ml=D5(),R9=gO(),VW=qy(),wx=Ay(),uy=NW(),cF=Cy(),hF=B5(),$5=Object.prototype.toString;function x8(x){if(!(this instanceof x8))return new x8(x);this.options=R9.assign({chunkSize:16384,windowBits:0,to:""},x||{});var g=this.options;if(g.raw&&g.windowBits>=0&&g.windowBits<16){if(g.windowBits=-g.windowBits,g.windowBits===0)g.windowBits=-15}if(g.windowBits>=0&&g.windowBits<16&&!(x&&x.windowBits))g.windowBits+=32;if(g.windowBits>15&&g.windowBits<48){if((g.windowBits&15)===0)g.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cF,this.strm.avail_out=0;var _=ml.inflateInit2(this.strm,g.windowBits);if(_!==wx.Z_OK)throw new Error(uy[_]);if(this.header=new hF,ml.inflateGetHeader(this.strm,this.header),g.dictionary){if(typeof g.dictionary==="string")g.dictionary=VW.string2buf(g.dictionary);else if($5.call(g.dictionary)==="[object ArrayBuffer]")g.dictionary=new Uint8Array(g.dictionary);if(g.raw){if(_=ml.inflateSetDictionary(this.strm,g.dictionary),_!==wx.Z_OK)throw new Error(uy[_])}}}x8.prototype.push=function(x,g){var _=this.strm,O=this.options.chunkSize,l=this.options.dictionary,G,w,W,z,p,o=!1;if(this.ended)return!1;if(w=g===~~g?g:g===!0?wx.Z_FINISH:wx.Z_NO_FLUSH,typeof x==="string")_.input=VW.binstring2buf(x);else if($5.call(x)==="[object ArrayBuffer]")_.input=new Uint8Array(x);else _.input=x;_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0)_.output=new R9.Buf8(O),_.next_out=0,_.avail_out=O;if(G=ml.inflate(_,wx.Z_NO_FLUSH),G===wx.Z_NEED_DICT&&l)G=ml.inflateSetDictionary(this.strm,l);if(G===wx.Z_BUF_ERROR&&o===!0)G=wx.Z_OK,o=!1;if(G!==wx.Z_STREAM_END&&G!==wx.Z_OK)return this.onEnd(G),this.ended=!0,!1;if(_.next_out){if(_.avail_out===0||G===wx.Z_STREAM_END||_.avail_in===0&&(w===wx.Z_FINISH||w===wx.Z_SYNC_FLUSH))if(this.options.to==="string"){if(W=VW.utf8border(_.output,_.next_out),z=_.next_out-W,p=VW.buf2string(_.output,W),_.next_out=z,_.avail_out=O-z,z)R9.arraySet(_.output,_.output,W,z,0);this.onData(p)}else this.onData(R9.shrinkBuf(_.output,_.next_out))}if(_.avail_in===0&&_.avail_out===0)o=!0}while((_.avail_in>0||_.avail_out===0)&&G!==wx.Z_STREAM_END);if(G===wx.Z_STREAM_END)w=wx.Z_FINISH;if(w===wx.Z_FINISH)return G=ml.inflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===wx.Z_OK;if(w===wx.Z_SYNC_FLUSH)return this.onEnd(wx.Z_OK),_.avail_out=0,!0;return!0};x8.prototype.onData=function(x){this.chunks.push(x)};x8.prototype.onEnd=function(x){if(x===wx.Z_OK)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=R9.flattenChunks(this.chunks);this.chunks=[],this.err=x,this.msg=this.strm.msg};function Sy(x,g){var _=new x8(g);if(_.push(x,!0),_.err)throw _.msg||uy[_.err];return _.result}function KF(x,g){return g=g||{},g.raw=!0,Sy(x,g)}bF.Inflate=x8;bF.inflate=Sy;bF.inflateRaw=KF;bF.ungzip=Sy});var a5=k0((bI,J5)=>{var FF=gO().assign,AF=Rd(),uF=i5(),SF=Ay(),H5={};FF(H5,AF,uF,SF);J5.exports=H5});var R5=k0((jF)=>{var rF=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined",IF=a5(),P5=s0(),LW=og(),ZF=rF?"uint8array":"array";jF.magic="\b\x00";function g8(x,g){LW.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=g,this.meta={}}P5.inherits(g8,LW);g8.prototype.processChunk=function(x){if(this.meta=x.meta,this._pako===null)this._createPako();this._pako.push(P5.transformTo(ZF,x.data),!1)};g8.prototype.flush=function(){if(LW.prototype.flush.call(this),this._pako===null)this._createPako();this._pako.push([],!0)};g8.prototype.cleanUp=function(){LW.prototype.cleanUp.call(this),this._pako=null};g8.prototype._createPako=function(){this._pako=new IF[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(g){x.push({data:g,meta:x.meta})}};jF.compressWorker=function(x){return new g8("Deflate",x)};jF.uncompressWorker=function(){return new g8("Inflate",{})}});var ry=k0((EF)=>{var T5=og();EF.STORE={magic:"\x00\x00",compressWorker:function(){return new T5("STORE compression")},uncompressWorker:function(){return new T5("STORE decompression")}};EF.DEFLATE=R5()});var Iy=k0(($F)=>{$F.LOCAL_FILE_HEADER="PK\x03\x04";$F.CENTRAL_FILE_HEADER="PK\x01\x02";$F.CENTRAL_DIRECTORY_END="PK\x05\x06";$F.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";$F.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";$F.DATA_DESCRIPTOR="PK\x07\b"});var xM=k0((XI,e5)=>{var Vl=s0(),Ll=og(),Zy=Cl(),s5=zW(),XW=Iy(),E0=function(x,g){var _="",O;for(O=0;O<g;O++)_+=String.fromCharCode(x&255),x=x>>>8;return _},TF=function(x,g){var _=x;if(!x)_=g?16893:33204;return(_&65535)<<16},sF=function(x){return(x||0)&63},t5=function(x,g,_,O,l,G){var{file:w,compression:W}=x,z=G!==Zy.utf8encode,p=Vl.transformTo("string",G(w.name)),o=Vl.transformTo("string",Zy.utf8encode(w.name)),y=w.comment,v=Vl.transformTo("string",G(y)),k=Vl.transformTo("string",Zy.utf8encode(y)),M=o.length!==w.name.length,f=k.length!==y.length,Y,q,N="",C="",d="",c=w.dir,A=w.date,b={crc32:0,compressedSize:0,uncompressedSize:0};if(!g||_)b.crc32=x.crc32,b.compressedSize=x.compressedSize,b.uncompressedSize=x.uncompressedSize;var j=0;if(g)j|=8;if(!z&&(M||f))j|=2048;var Q=0,V=0;if(c)Q|=16;if(l==="UNIX")V=798,Q|=TF(w.unixPermissions,c);else V=20,Q|=sF(w.dosPermissions,c);if(Y=A.getUTCHours(),Y=Y<<6,Y=Y|A.getUTCMinutes(),Y=Y<<5,Y=Y|A.getUTCSeconds()/2,q=A.getUTCFullYear()-1980,q=q<<4,q=q|A.getUTCMonth()+1,q=q<<5,q=q|A.getUTCDate(),M)C=E0(1,1)+E0(s5(p),4)+o,N+="up"+E0(C.length,2)+C;if(f)d=E0(1,1)+E0(s5(v),4)+k,N+="uc"+E0(d.length,2)+d;var u="";u+=`
\x00`,u+=E0(j,2),u+=W.magic,u+=E0(Y,2),u+=E0(q,2),u+=E0(b.crc32,4),u+=E0(b.compressedSize,4),u+=E0(b.uncompressedSize,4),u+=E0(p.length,2),u+=E0(N.length,2);var r=XW.LOCAL_FILE_HEADER+u+p+N,L=XW.CENTRAL_FILE_HEADER+E0(V,2)+u+E0(v.length,2)+"\x00\x00\x00\x00"+E0(Q,4)+E0(O,4)+p+N+v;return{fileRecord:r,dirRecord:L}},tF=function(x,g,_,O,l){var G="",w=Vl.transformTo("string",l(O));return G=XW.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+E0(x,2)+E0(x,2)+E0(g,4)+E0(_,4)+E0(w.length,2)+w,G},eF=function(x){var g="";return g=XW.DATA_DESCRIPTOR+E0(x.crc32,4)+E0(x.compressedSize,4)+E0(x.uncompressedSize,4),g};function Hg(x,g,_,O){Ll.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=_,this.encodeFileName=O,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}Vl.inherits(Hg,Ll);Hg.prototype.push=function(x){var g=x.meta.percent||0,_=this.entriesCount,O=this._sources.length;if(this.accumulate)this.contentBuffer.push(x);else this.bytesWritten+=x.data.length,Ll.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:_?(g+100*(_-O-1))/_:100}})};Hg.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var g=this.streamFiles&&!x.file.dir;if(g){var _=t5(x,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0};Hg.prototype.closedSource=function(x){this.accumulate=!1;var g=this.streamFiles&&!x.file.dir,_=t5(x,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),g)this.push({data:eF(x),meta:{percent:100}});else{this.push({data:_.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};Hg.prototype.flush=function(){var x=this.bytesWritten;for(var g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var _=this.bytesWritten-x,O=tF(this.dirRecords.length,_,x,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})};Hg.prototype.prepareNextSource=function(){if(this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused)this.previous.pause();else this.previous.resume()};Hg.prototype.registerPrevious=function(x){this._sources.push(x);var g=this;return x.on("data",function(_){g.processChunk(_)}),x.on("end",function(){if(g.closedSource(g.previous.streamInfo),g._sources.length)g.prepareNextSource();else g.end()}),x.on("error",function(_){g.error(_)}),this};Hg.prototype.resume=function(){if(!Ll.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};Hg.prototype.error=function(x){var g=this._sources;if(!Ll.prototype.error.call(this,x))return!1;for(var _=0;_<g.length;_++)try{g[_].error(x)}catch(O){}return!0};Hg.prototype.lock=function(){Ll.prototype.lock.call(this);var x=this._sources;for(var g=0;g<x.length;g++)x[g].lock()};e5.exports=Hg});var gM=k0((OA)=>{var xA=ry(),gA=xM(),_A=function(x,g){var _=x||g,O=xA[_];if(!O)throw new Error(_+" is not a valid compression method !");return O};OA.generateWorker=function(x,g,_){var O=new gA(g.streamFiles,_,g.platform,g.encodeFileName),l=0;try{x.forEach(function(G,w){l++;var W=_A(w.options.compression,g.compression),z=w.options.compressionOptions||g.compressionOptions||{},p=w.dir,o=w.date;w._compressWorker(W,z).withStreamInfo("file",{name:G,dir:p,date:o,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(O)}),O.entriesCount=l}catch(G){O.error(G)}return O}});var OM=k0((AI,_M)=>{var GA=s0(),FW=og();function T9(x,g){FW.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(g)}GA.inherits(T9,FW);T9.prototype._bindStream=function(x){var g=this;this._stream=x,x.pause(),x.on("data",function(_){g.push({data:_,meta:{percent:0}})}).on("error",function(_){if(g.isPaused)this.generatedError=_;else g.error(_)}).on("end",function(){if(g.isPaused)g._upstreamEnded=!0;else g.end()})};T9.prototype.pause=function(){if(!FW.prototype.pause.call(this))return!1;return this._stream.pause(),!0};T9.prototype.resume=function(){if(!FW.prototype.resume.call(this))return!1;if(this._upstreamEnded)this.end();else this._stream.resume();return!0};_M.exports=T9});var NM=k0((uI,yM)=>{var wA=Cl(),s9=s0(),WM=og(),WA=Dv(),pM=Ev(),lM=oW(),pA=Gd(),zA=gM(),GM=X9(),oA=OM(),zM=function(x,g,_){var O=s9.getTypeOf(g),l,G=s9.extend(_||{},pM);if(G.date=G.date||new Date,G.compression!==null)G.compression=G.compression.toUpperCase();if(typeof G.unixPermissions==="string")G.unixPermissions=parseInt(G.unixPermissions,8);if(G.unixPermissions&&G.unixPermissions&16384)G.dir=!0;if(G.dosPermissions&&G.dosPermissions&16)G.dir=!0;if(G.dir)x=oM(x);if(G.createFolders&&(l=vA(x)))vM.call(this,l,!0);var w=O==="string"&&G.binary===!1&&G.base64===!1;if(!_||typeof _.binary==="undefined")G.binary=!w;var W=g instanceof lM&&g.uncompressedSize===0;if(W||G.dir||!g||g.length===0)G.base64=!1,G.binary=!0,g="",G.compression="STORE",O="string";var z=null;if(g instanceof lM||g instanceof WM)z=g;else if(GM.isNode&&GM.isStream(g))z=new oA(x,g);else z=s9.prepareContent(x,g,G.binary,G.optimizedBinaryString,G.base64);var p=new pA(x,z,G);this.files[x]=p},vA=function(x){if(x.slice(-1)==="/")x=x.substring(0,x.length-1);var g=x.lastIndexOf("/");return g>0?x.substring(0,g):""},oM=function(x){if(x.slice(-1)!=="/")x+="/";return x},vM=function(x,g){if(g=typeof g!=="undefined"?g:pM.createFolders,x=oM(x),!this.files[x])zM.call(this,x,null,{dir:!0,createFolders:g});return this.files[x]};function wM(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var yA={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var g,_,O;for(g in this.files)if(O=this.files[g],_=g.slice(this.root.length,g.length),_&&g.slice(0,this.root.length)===this.root)x(_,O)},filter:function(x){var g=[];return this.forEach(function(_,O){if(x(_,O))g.push(O)}),g},file:function(x,g,_){if(arguments.length===1)if(wM(x)){var O=x;return this.filter(function(G,w){return!w.dir&&O.test(G)})}else{var l=this.files[this.root+x];if(l&&!l.dir)return l;else return null}else x=this.root+x,zM.call(this,x,g,_);return this},folder:function(x){if(!x)return this;if(wM(x))return this.filter(function(l,G){return G.dir&&x.test(l)});var g=this.root+x,_=vM.call(this,g),O=this.clone();return O.root=_.name,O},remove:function(x){x=this.root+x;var g=this.files[x];if(!g){if(x.slice(-1)!=="/")x+="/";g=this.files[x]}if(g&&!g.dir)delete this.files[x];else{var _=this.filter(function(l,G){return G.name.slice(0,x.length)===x});for(var O=0;O<_.length;O++)delete this.files[_[O].name]}return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var g,_={};try{if(_=s9.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:wA.utf8encode}),_.type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring")_.type="string";if(!_.type)throw new Error("No output type specified.");if(s9.checkSupport(_.type),_.platform==="darwin"||_.platform==="freebsd"||_.platform==="linux"||_.platform==="sunos")_.platform="UNIX";if(_.platform==="win32")_.platform="DOS";var O=_.comment||this.comment||"";g=zA.generateWorker(this,_,O)}catch(l){g=new WM("error"),g.error(l)}return new WA(g,_.type||"string",_.mimeType)},generateAsync:function(x,g){return this.generateInternalStream(x).accumulate(g)},generateNodeStream:function(x,g){if(x=x||{},!x.type)x.type="nodebuffer";return this.generateInternalStream(x).toNodejsStream(g)}};yM.exports=yA});var jy=k0((SI,qM)=>{var NA=s0();function kM(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}kM.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var g=0,_;this.checkOffset(x);for(_=this.index+x-1;_>=this.index;_--)g=(g<<8)+this.byteAt(_);return this.index+=x,g},readString:function(x){return NA.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC((x>>25&127)+1980,(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(x&31)<<1))}};qM.exports=kM});var Uy=k0((rI,dM)=>{var CM=jy(),kA=s0();function Xl(x){CM.call(this,x);for(var g=0;g<this.data.length;g++)x[g]=x[g]&255}kA.inherits(Xl,CM);Xl.prototype.byteAt=function(x){return this.data[this.zero+x]};Xl.prototype.lastIndexOfSignature=function(x){var g=x.charCodeAt(0),_=x.charCodeAt(1),O=x.charCodeAt(2),l=x.charCodeAt(3);for(var G=this.length-4;G>=0;--G)if(this.data[G]===g&&this.data[G+1]===_&&this.data[G+2]===O&&this.data[G+3]===l)return G-this.zero;return-1};Xl.prototype.readAndCheckSignature=function(x){var g=x.charCodeAt(0),_=x.charCodeAt(1),O=x.charCodeAt(2),l=x.charCodeAt(3),G=this.readData(4);return g===G[0]&&_===G[1]&&O===G[2]&&l===G[3]};Xl.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,g};dM.exports=Xl});var YM=k0((II,fM)=>{var MM=jy(),qA=s0();function Fl(x){MM.call(this,x)}qA.inherits(Fl,MM);Fl.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)};Fl.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero};Fl.prototype.readAndCheckSignature=function(x){var g=this.readData(4);return x===g};Fl.prototype.readData=function(x){this.checkOffset(x);var g=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,g};fM.exports=Fl});var Dy=k0((ZI,hM)=>{var cM=Uy(),CA=s0();function Qy(x){cM.call(this,x)}CA.inherits(Qy,cM);Qy.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,g};hM.exports=Qy});var mM=k0((jI,bM)=>{var KM=Dy(),dA=s0();function Ey(x){KM.call(this,x)}dA.inherits(Ey,KM);Ey.prototype.readData=function(x){this.checkOffset(x);var g=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,g};bM.exports=Ey});var ny=k0((UI,LM)=>{var AW=s0(),VM=xO(),MA=Uy(),fA=YM(),YA=mM(),cA=Dy();LM.exports=function(x){var g=AW.getTypeOf(x);if(AW.checkSupport(g),g==="string"&&!VM.uint8array)return new fA(x);if(g==="nodebuffer")return new YA(x);if(VM.uint8array)return new cA(AW.transformTo("uint8array",x));return new MA(AW.transformTo("array",x))}});var uM=k0((QI,AM)=>{var By=ny(),g6=s0(),hA=oW(),XM=zW(),uW=Cl(),SW=ry(),KA=xO(),bA=0,mA=3,VA=function(x){for(var g in SW){if(!Object.prototype.hasOwnProperty.call(SW,g))continue;if(SW[g].magic===x)return SW[g]}return null};function FM(x,g){this.options=x,this.loadOptions=g}FM.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(x){var g,_;if(x.skip(22),this.fileNameLength=x.readInt(2),_=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(g=VA(this.compressionMethod),g===null)throw new Error("Corrupted zip : compression "+g6.pretty(this.compressionMethod)+" unknown (inner file : "+g6.transformTo("string",this.fileName)+")");this.decompressed=new hA(this.compressedSize,this.uncompressedSize,this.crc32,g,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var g=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(g),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;if(this.dir=this.externalFileAttributes&16?!0:!1,x===bA)this.dosPermissions=this.externalFileAttributes&63;if(x===mA)this.unixPermissions=this.externalFileAttributes>>16&65535;if(!this.dir&&this.fileNameStr.slice(-1)==="/")this.dir=!0},parseZIP64ExtraField:function(){if(!this.extraFields[1])return;var x=By(this.extraFields[1].value);if(this.uncompressedSize===g6.MAX_VALUE_32BITS)this.uncompressedSize=x.readInt(8);if(this.compressedSize===g6.MAX_VALUE_32BITS)this.compressedSize=x.readInt(8);if(this.localHeaderOffset===g6.MAX_VALUE_32BITS)this.localHeaderOffset=x.readInt(8);if(this.diskNumberStart===g6.MAX_VALUE_32BITS)this.diskNumberStart=x.readInt(4)},readExtraFields:function(x){var g=x.index+this.extraFieldsLength,_,O,l;if(!this.extraFields)this.extraFields={};while(x.index+4<g)_=x.readInt(2),O=x.readInt(2),l=x.readData(O),this.extraFields[_]={id:_,length:O,value:l};x.setIndex(g)},handleUTF8:function(){var x=KA.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=uW.utf8decode(this.fileName),this.fileCommentStr=uW.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var _=g6.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var l=g6.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(l)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var g=By(x.value);if(g.readInt(1)!==1)return null;if(XM(this.fileName)!==g.readInt(4))return null;return uW.utf8decode(g.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var g=By(x.value);if(g.readInt(1)!==1)return null;if(XM(this.fileComment)!==g.readInt(4))return null;return uW.utf8decode(g.readData(x.length-5))}return null}};AM.exports=FM});var IM=k0((DI,rM)=>{var LA=ny(),lO=s0(),Jg=Iy(),XA=uM(),FA=xO();function SM(x){this.files=[],this.loadOptions=x}SM.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+lO.pretty(g)+", expected "+lO.pretty(x)+")")}},isSignature:function(x,g){var _=this.reader.index;this.reader.setIndex(x);var O=this.reader.readString(4),l=O===g;return this.reader.setIndex(_),l},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),g=FA.uint8array?"uint8array":"array",_=lO.transformTo(g,x);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var x=this.zip64EndOfCentralSize-44,g=0,_,O,l;while(g<x)_=this.reader.readInt(2),O=this.reader.readInt(4),l=this.reader.readData(O),this.zip64ExtensibleData[_]={id:_,length:O,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,g;for(x=0;x<this.files.length;x++)g=this.files[x],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(Jg.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var x;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(Jg.CENTRAL_FILE_HEADER))x=new XA({zip64:this.zip64},this.loadOptions),x.readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length){if(this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(Jg.CENTRAL_DIRECTORY_END);if(x<0){var g=!this.isSignature(0,Jg.LOCAL_FILE_HEADER);if(g)throw new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");else throw new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(x);var _=x;if(this.checkSignature(Jg.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===lO.MAX_VALUE_16BITS||this.diskWithCentralDirStart===lO.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===lO.MAX_VALUE_16BITS||this.centralDirRecords===lO.MAX_VALUE_16BITS||this.centralDirSize===lO.MAX_VALUE_32BITS||this.centralDirOffset===lO.MAX_VALUE_32BITS){if(this.zip64=!0,x=this.reader.lastIndexOfSignature(Jg.ZIP64_CENTRAL_DIRECTORY_LOCATOR),x<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(Jg.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Jg.ZIP64_CENTRAL_DIRECTORY_END)){if(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Jg.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Jg.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var O=this.centralDirOffset+this.centralDirSize;if(this.zip64)O+=20,O+=12+this.zip64EndOfCentralSize;var l=_-O;if(l>0)if(this.isSignature(_,Jg.CENTRAL_FILE_HEADER));else this.reader.zero=l;else if(l<0)throw new Error("Corrupted zip: missing "+Math.abs(l)+" bytes.")},prepareReader:function(x){this.reader=LA(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};rM.exports=SM});var UM=k0((EI,jM)=>{var $y=s0(),rW=Nl(),AA=Cl(),uA=IM(),SA=$v(),ZM=X9();function rA(x){return new rW.Promise(function(g,_){var O=x.decompressed.getContentWorker().pipe(new SA);O.on("error",function(l){_(l)}).on("end",function(){if(O.streamInfo.crc32!==x.decompressed.crc32)_(new Error("Corrupted zip : CRC32 mismatch"));else g()}).resume()})}jM.exports=function(x,g){var _=this;if(g=$y.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:AA.utf8decode}),ZM.isNode&&ZM.isStream(x))return rW.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."));return $y.prepareContent("the loaded zip file",x,!0,g.optimizedBinaryString,g.base64).then(function(O){var l=new uA(g);return l.load(O),l}).then(function O(l){var G=[rW.Promise.resolve(l)],w=l.files;if(g.checkCRC32)for(var W=0;W<w.length;W++)G.push(rA(w[W]));return rW.Promise.all(G)}).then(function O(l){var G=l.shift(),w=G.files;for(var W=0;W<w.length;W++){var z=w[W],p=z.fileNameStr,o=$y.resolve(z.fileNameStr);if(_.file(o,z.decompressed,{binary:!0,optimizedBinaryString:!0,date:z.date,dir:z.dir,comment:z.fileCommentStr.length?z.fileCommentStr:null,unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions,createFolders:g.createFolders}),!z.dir)_.file(o).unsafeOriginalName=p}if(G.zipComment.length)_.comment=G.zipComment;return _})}});var DM=k0((nI,QM)=>{function rg(){if(!(this instanceof rg))return new rg;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var x=new rg;for(var g in this)if(typeof this[g]!=="function")x[g]=this[g];return x}}rg.prototype=NM();rg.prototype.loadAsync=UM();rg.support=xO();rg.defaults=Ev();rg.version="3.10.1";rg.loadAsync=function(x,g){return new rg().loadAsync(x,g)};rg.external=Nl();QM.exports=rg});var ac=Vp(Kq(),1);dO();var Ob=Symbol.for("react.transitional.element"),lb=Symbol.for("react.fragment");function bq(x,g,_){var O=null;if(_!==void 0&&(O=""+_),g.key!==void 0&&(O=""+g.key),"key"in g){_={};for(var l in g)l!=="key"&&(_[l]=g[l])}else _=g;return g=_.ref,{$$typeof:Ob,type:x,key:O,ref:g!==void 0?g:null,props:_}}var $g=lb,v0=bq,A0=bq;function mq({setFileData:x,setIsProcessing:g,resetStates:_}){let O=Qg(null);function l(G){_(),console.log("entering uploadFiles");let w=G.target.files;if(!w||w.length===0){console.error("No files selected.");return}g(!0),console.log("Files processing:",w.length);for(let W=0;W<w.length;W++){if(console.log("Processing file:",w[W].name),!w[W].type.startsWith("image/png")){console.error("Only PNG files are allowed.");continue}else{console.log("creating fileName");let z=w[W].name.substring(0,w[W].name.lastIndexOf(".")),p=w[W],o=new FileReader;o.onload=(y)=>{console.log("entering reader.onload");let v=y.target?.result;x((k)=>{let M=[...k,{name:z,data:v}];if(M.length===w.length)g(!1),console.log("processing complete");return M})},o.readAsDataURL(p)}console.log("File processed + added to fileData.")}}return v0($g,{children:A0("div",{className:"py-[80px]",children:[v0("button",{onClick:()=>O.current?.click(),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Upload Files"}),v0("p",{className:"italic text-gray-600 pt-[15px]",children:"Requires original .png files"}),A0("p",{className:"italic text-gray-600",children:["Need blank icons?",v0("a",{href:"https://nightlight.gg/packs/default-icons-no-shadow",className:"",target:"_blank",rel:"noopener noreferrer",children:"Download from NightLight"})]}),v0("input",{type:"file",id:"files",name:"files",multiple:!0,accept:"image/png",ref:O,className:"hidden",onChange:l})]})})}var EM=Vp(DM(),1);dO();function nM({files:x}){console.log("Preparing Files for ZIP:",x);let g=Qg(null),_=new EM.default;async function O(){if(!x||x.length===0){alert("No files to download");return}for(let l=0;l<x.length;l++){let w=await(await fetch(x[l].data)).blob();if(_.file(`${x[l].name}.png`,w),l===x.length-1){let W=await _.generateAsync({type:"blob"}),z=URL.createObjectURL(W);if(g.current)g.current.href=z,g.current.download="icons.zip",g.current.click(),setTimeout(()=>URL.revokeObjectURL(z),100)}}}return v0($g,{children:A0("div",{className:"py-5",children:[v0("button",{onClick:O,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Click to Download"}),v0("a",{ref:g,style:{display:"none"}})]})})}function BM({files:x}){return A0($g,{children:[x?.length>0&&A0($g,{children:[v0("h2",{className:"guide",children:"Step 3: Download and Enjoy!"}),v0(nM,{files:x})]}),v0("h2",{className:"title",children:"Generated Icons"}),A0("div",{className:"container pt-0",children:[x?.length===0&&v0("p",{className:"italic text-gray-600",children:"No Files to Display"}),x?.length>0&&v0($g,{children:v0("div",{className:"grid grid-cols-4 gap-4",children:x.map((g)=>v0("img",{src:g.data,alt:`Custom Icon Generated: ${g.name}`,className:"w-[256px] h-auto"},g.name))})})]})]})}dO();var $M="./90s Icon Pack-6qk1xcjd.png";function F(x,g,_){return(g=function(O){var l=function(G,w){if(typeof G!="object"||!G)return G;var W=G[Symbol.toPrimitive];if(W!==void 0){var z=W.call(G,w||"default");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(G)}(O,"string");return typeof l=="symbol"?l:l+""}(g))in x?Object.defineProperty(x,g,{value:_,enumerable:!0,configurable:!0,writable:!0}):x[g]=_,x}function iM(x,g){var _=Object.keys(x);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(x);g&&(O=O.filter(function(l){return Object.getOwnPropertyDescriptor(x,l).enumerable})),_.push.apply(_,O)}return _}function X(x){for(var g=1;g<arguments.length;g++){var _=arguments[g]!=null?arguments[g]:{};g%2?iM(Object(_),!0).forEach(function(O){F(x,O,_[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(_)):iM(Object(_)).forEach(function(O){Object.defineProperty(x,O,Object.getOwnPropertyDescriptor(_,O))})}return x}function a0(x,g){if(x==null)return{};var _,O,l=function(w,W){if(w==null)return{};var z={};for(var p in w)if({}.hasOwnProperty.call(w,p)){if(W.indexOf(p)>=0)continue;z[p]=w[p]}return z}(x,g);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(x);for(O=0;O<G.length;O++)_=G[O],g.indexOf(_)>=0||{}.propertyIsEnumerable.call(x,_)&&(l[_]=x[_])}return l}function z6(x,g){return g||(g=x.slice(0)),Object.freeze(Object.defineProperties(x,{raw:{value:Object.freeze(g)}}))}class _2{constructor(){F(this,"browserShadowBlurConstant",1),F(this,"DPI",96),F(this,"devicePixelRatio",typeof window!="undefined"?window.devicePixelRatio:1),F(this,"perfLimitSizeTotal",2097152),F(this,"maxCacheSideLimit",4096),F(this,"minCacheSideLimit",256),F(this,"disableStyleCopyPaste",!1),F(this,"enableGLFiltering",!0),F(this,"textureSize",4096),F(this,"forceGLPutImageData",!1),F(this,"cachesBoundsOfCurve",!1),F(this,"fontPaths",{}),F(this,"NUM_FRACTION_DIGITS",4)}}var X0=new class extends _2{constructor(x){super(),this.configure(x)}configure(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,x)}addFonts(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=X(X({},this.fontPaths),x)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((x)=>{delete this.fontPaths[x]})}clearFonts(){this.fontPaths={}}restoreDefaults(x){let g=new _2,_=(x==null?void 0:x.reduce((O,l)=>(O[l]=g[l],O),{}))||g;this.configure(_)}},G6=function(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return console[x]("fabric",..._)};class Tg extends Error{constructor(x,g){super("fabric: ".concat(x),g)}}class c2 extends Tg{constructor(x){super("".concat(x," 'options.signal' is in 'aborted' state"))}}class Yf{}class cf extends Yf{testPrecision(x,g){let _="precision ".concat(g,` float;
void main(){}`),O=x.createShader(x.FRAGMENT_SHADER);return!!O&&(x.shaderSource(O,_),x.compileShader(O),!!x.getShaderParameter(O,x.COMPILE_STATUS))}queryWebGL(x){let g=x.getContext("webgl");g&&(this.maxTextureSize=g.getParameter(g.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((_)=>this.testPrecision(g,_)),g.getExtension("WEBGL_lose_context").loseContext(),G6("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(x){return!!this.maxTextureSize&&this.maxTextureSize>=x}}var ZA={},HM;var V_=()=>HM||(HM={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new cf,dispose(){},copyPasteData:ZA}),g7=()=>V_().document,lp=()=>V_().window,hf=()=>{var x;return Math.max((x=X0.devicePixelRatio)!==null&&x!==void 0?x:lp().devicePixelRatio,1)},OG=new class{constructor(){F(this,"charWidthsCache",{}),F(this,"boundsOfCurveCache",{})}getFontCache(x){let{fontFamily:g,fontStyle:_,fontWeight:O}=x;g=g.toLowerCase(),this.charWidthsCache[g]||(this.charWidthsCache[g]={});let l=this.charWidthsCache[g],G="".concat(_.toLowerCase(),"_").concat((O+"").toLowerCase());return l[G]||(l[G]={}),l[G]}clearFontCache(x){(x=(x||"").toLowerCase())?this.charWidthsCache[x]&&delete this.charWidthsCache[x]:this.charWidthsCache={}}limitDimsByArea(x){let{perfLimitSizeTotal:g}=X0,_=Math.sqrt(g*x);return[Math.floor(_),Math.floor(g/_)]}},O2="6.6.1";function o8(){}var w6=Math.PI/2,NO=2*Math.PI,h2=Math.PI/180,nx=Object.freeze([1,0,0,1,0,0]),K2=16,_6=0.4477152502,c0="center",r0="left",sx="top",l2="bottom",Wx="right",tx="none",b2=/\r?\n/,Kf="moving",Gp="scaling",bf="rotating",m2="rotate",mf="skewing",zG="resizing",Vf="modifyPoly",jA="modifyPath",$W="changed",wp="scale",Bx="scaleX",kg="scaleY",_7="skewX",O7="skewY",dx="fill",ex="stroke",iW="modified",Al="json",iy="svg",z0=new class{constructor(){this[Al]=new Map,this[iy]=new Map}has(x){return this[Al].has(x)}getClass(x){let g=this[Al].get(x);if(!g)throw new Tg("No class registered for ".concat(x));return g}setClass(x,g){g?this[Al].set(g,x):(this[Al].set(x.type,x),this[Al].set(x.type.toLowerCase(),x))}getSVGClass(x){return this[iy].get(x)}setSVGClass(x,g){this[iy].set(g!=null?g:x.type.toLowerCase(),x)}},HW=new class extends Array{remove(x){let g=this.indexOf(x);g>-1&&this.splice(g,1)}cancelAll(){let x=this.splice(0);return x.forEach((g)=>g.abort()),x}cancelByCanvas(x){if(!x)return[];let g=this.filter((_)=>{var O;return _.target===x||typeof _.target=="object"&&((O=_.target)===null||O===void 0?void 0:O.canvas)===x});return g.forEach((_)=>_.abort()),g}cancelByTarget(x){if(!x)return[];let g=this.filter((_)=>_.target===x);return g.forEach((_)=>_.abort()),g}};class Lf{constructor(){F(this,"__eventListeners",{})}on(x,g){if(this.__eventListeners||(this.__eventListeners={}),typeof x=="object")return Object.entries(x).forEach((_)=>{let[O,l]=_;this.on(O,l)}),()=>this.off(x);if(g){let _=x;return this.__eventListeners[_]||(this.__eventListeners[_]=[]),this.__eventListeners[_].push(g),()=>this.off(_,g)}return()=>!1}once(x,g){if(typeof x=="object"){let _=[];return Object.entries(x).forEach((O)=>{let[l,G]=O;_.push(this.once(l,G))}),()=>_.forEach((O)=>O())}if(g){let _=this.on(x,function(){for(var O=arguments.length,l=new Array(O),G=0;G<O;G++)l[G]=arguments[G];g.call(this,...l),_()});return _}return()=>!1}_removeEventListener(x,g){if(this.__eventListeners[x])if(g){let _=this.__eventListeners[x],O=_.indexOf(g);O>-1&&_.splice(O,1)}else this.__eventListeners[x]=[]}off(x,g){if(this.__eventListeners)if(x===void 0)for(let _ in this.__eventListeners)this._removeEventListener(_);else typeof x=="object"?Object.entries(x).forEach((_)=>{let[O,l]=_;this._removeEventListener(O,l)}):this._removeEventListener(x,g)}fire(x,g){var _;if(!this.__eventListeners)return;let O=(_=this.__eventListeners[x])===null||_===void 0?void 0:_.concat();if(O)for(let l=0;l<O.length;l++)O[l].call(this,g||{})}}var _8=(x,g)=>{let _=x.indexOf(g);return _!==-1&&x.splice(_,1),x},eg=(x)=>{if(x===0)return 1;switch(Math.abs(x)/w6){case 1:case 3:return 0;case 2:return-1}return Math.cos(x)},x_=(x)=>{if(x===0)return 0;let g=x/w6,_=Math.sign(x);switch(g){case 1:return _;case 2:return 0;case 3:return-_}return Math.sin(x)};class E{constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof x=="object"?(this.x=x.x,this.y=x.y):(this.x=x,this.y=g)}add(x){return new E(this.x+x.x,this.y+x.y)}addEquals(x){return this.x+=x.x,this.y+=x.y,this}scalarAdd(x){return new E(this.x+x,this.y+x)}scalarAddEquals(x){return this.x+=x,this.y+=x,this}subtract(x){return new E(this.x-x.x,this.y-x.y)}subtractEquals(x){return this.x-=x.x,this.y-=x.y,this}scalarSubtract(x){return new E(this.x-x,this.y-x)}scalarSubtractEquals(x){return this.x-=x,this.y-=x,this}multiply(x){return new E(this.x*x.x,this.y*x.y)}scalarMultiply(x){return new E(this.x*x,this.y*x)}scalarMultiplyEquals(x){return this.x*=x,this.y*=x,this}divide(x){return new E(this.x/x.x,this.y/x.y)}scalarDivide(x){return new E(this.x/x,this.y/x)}scalarDivideEquals(x){return this.x/=x,this.y/=x,this}eq(x){return this.x===x.x&&this.y===x.y}lt(x){return this.x<x.x&&this.y<x.y}lte(x){return this.x<=x.x&&this.y<=x.y}gt(x){return this.x>x.x&&this.y>x.y}gte(x){return this.x>=x.x&&this.y>=x.y}lerp(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0.5;return g=Math.max(Math.min(1,g),0),new E(this.x+(x.x-this.x)*g,this.y+(x.y-this.y)*g)}distanceFrom(x){let g=this.x-x.x,_=this.y-x.y;return Math.sqrt(g*g+_*_)}midPointFrom(x){return this.lerp(x)}min(x){return new E(Math.min(this.x,x.x),Math.min(this.y,x.y))}max(x){return new E(Math.max(this.x,x.x),Math.max(this.y,x.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(x,g){return this.x=x,this.y=g,this}setX(x){return this.x=x,this}setY(x){return this.y=x,this}setFromPoint(x){return this.x=x.x,this.y=x.y,this}swap(x){let g=this.x,_=this.y;this.x=x.x,this.y=x.y,x.x=g,x.y=_}clone(){return new E(this.x,this.y)}rotate(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V2,_=x_(x),O=eg(x),l=this.subtract(g);return new E(l.x*O-l.y*_,l.x*_+l.y*O).add(g)}transform(x){let g=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new E(x[0]*this.x+x[2]*this.y+(g?0:x[4]),x[1]*this.x+x[3]*this.y+(g?0:x[5]))}}var V2=new E(0,0),nW=(x)=>!!x&&Array.isArray(x._objects);function Xf(x){class g extends x{constructor(){super(...arguments),F(this,"_objects",[])}_onObjectAdded(_){}_onObjectRemoved(_){}_onStackOrderChanged(_){}add(){for(var _=arguments.length,O=new Array(_),l=0;l<_;l++)O[l]=arguments[l];let G=this._objects.push(...O);return O.forEach((w)=>this._onObjectAdded(w)),G}insertAt(_){for(var O=arguments.length,l=new Array(O>1?O-1:0),G=1;G<O;G++)l[G-1]=arguments[G];return this._objects.splice(_,0,...l),l.forEach((w)=>this._onObjectAdded(w)),this._objects.length}remove(){let _=this._objects,O=[];for(var l=arguments.length,G=new Array(l),w=0;w<l;w++)G[w]=arguments[w];return G.forEach((W)=>{let z=_.indexOf(W);z!==-1&&(_.splice(z,1),O.push(W),this._onObjectRemoved(W))}),O}forEachObject(_){this.getObjects().forEach((O,l,G)=>_(O,l,G))}getObjects(){for(var _=arguments.length,O=new Array(_),l=0;l<_;l++)O[l]=arguments[l];return O.length===0?[...this._objects]:this._objects.filter((G)=>G.isType(...O))}item(_){return this._objects[_]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(_,O){return!!this._objects.includes(_)||!!O&&this._objects.some((l)=>l instanceof g&&l.contains(_,!0))}complexity(){return this._objects.reduce((_,O)=>_+=O.complexity?O.complexity():0,0)}sendObjectToBack(_){return!(!_||_===this._objects[0])&&(_8(this._objects,_),this._objects.unshift(_),this._onStackOrderChanged(_),!0)}bringObjectToFront(_){return!(!_||_===this._objects[this._objects.length-1])&&(_8(this._objects,_),this._objects.push(_),this._onStackOrderChanged(_),!0)}sendObjectBackwards(_,O){if(!_)return!1;let l=this._objects.indexOf(_);if(l!==0){let G=this.findNewLowerIndex(_,l,O);return _8(this._objects,_),this._objects.splice(G,0,_),this._onStackOrderChanged(_),!0}return!1}bringObjectForward(_,O){if(!_)return!1;let l=this._objects.indexOf(_);if(l!==this._objects.length-1){let G=this.findNewUpperIndex(_,l,O);return _8(this._objects,_),this._objects.splice(G,0,_),this._onStackOrderChanged(_),!0}return!1}moveObjectTo(_,O){return _!==this._objects[O]&&(_8(this._objects,_),this._objects.splice(O,0,_),this._onStackOrderChanged(_),!0)}findNewLowerIndex(_,O,l){let G;if(l){G=O;for(let w=O-1;w>=0;--w)if(_.isOverlapping(this._objects[w])){G=w;break}}else G=O-1;return G}findNewUpperIndex(_,O,l){let G;if(l){G=O;for(let w=O+1;w<this._objects.length;++w)if(_.isOverlapping(this._objects[w])){G=w;break}}else G=O+1;return G}collectObjects(_){let{left:O,top:l,width:G,height:w}=_,{includeIntersecting:W=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=[],p=new E(O,l),o=p.add(new E(G,w));for(let y=this._objects.length-1;y>=0;y--){let v=this._objects[y];v.selectable&&v.visible&&(W&&v.intersectsWithRect(p,o)||v.isContainedWithinRect(p,o)||W&&v.containsPoint(p)||W&&v.containsPoint(o))&&z.push(v)}return z}}return g}class L2 extends Lf{_setOptions(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let g in x)this.set(g,x[g])}_setObject(x){for(let g in x)this._set(g,x[g])}set(x,g){return typeof x=="object"?this._setObject(x):this._set(x,g),this}_set(x,g){this[x]=g}toggle(x){let g=this.get(x);return typeof g=="boolean"&&this.set(x,!g),this}get(x){return this[x]}}function lG(x){return lp().requestAnimationFrame(x)}function Ff(x){return lp().cancelAnimationFrame(x)}var UA=0,W6=()=>UA++,jg=()=>{let x=g7().createElement("canvas");if(!x||x.getContext===void 0)throw new Tg("Failed to create `canvas` element");return x},Af=()=>g7().createElement("img"),g_=(x)=>{let g=jg();return g.width=x.width,g.height=x.height,g},X2=(x,g,_)=>x.toDataURL("image/".concat(g),_),F2=(x,g,_)=>new Promise((O,l)=>{x.toBlob(O,"image/".concat(g),_)}),Ox=(x)=>x*h2,p6=(x)=>x/h2,uf=(x)=>x.every((g,_)=>g===nx[_]),rx=(x,g,_)=>new E(x).transform(g,_),Ng=(x)=>{let g=1/(x[0]*x[3]-x[1]*x[2]),_=[g*x[3],-g*x[1],-g*x[2],g*x[0],0,0],{x:O,y:l}=new E(x[4],x[5]).transform(_,!0);return _[4]=-O,_[5]=-l,_},lx=(x,g,_)=>[x[0]*g[0]+x[2]*g[1],x[1]*g[0]+x[3]*g[1],x[0]*g[2]+x[2]*g[3],x[1]*g[2]+x[3]*g[3],_?0:x[0]*g[4]+x[2]*g[5]+x[4],_?0:x[1]*g[4]+x[3]*g[5]+x[5]],Wp=(x,g)=>x.reduceRight((_,O)=>O&&_?lx(O,_,g):O||_,void 0)||nx.concat(),Sf=(x)=>{let[g,_]=x;return Math.atan2(_,g)},sl=(x)=>{let g=Sf(x),_=Math.pow(x[0],2)+Math.pow(x[1],2),O=Math.sqrt(_),l=(x[0]*x[3]-x[2]*x[1])/O,G=Math.atan2(x[0]*x[2]+x[1]*x[3],_);return{angle:p6(g),scaleX:O,scaleY:l,skewX:p6(G),skewY:0,translateX:x[4]||0,translateY:x[5]||0}},l7=function(x){return[1,0,0,1,x,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function G7(){let{angle:x=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:g=0,y:_=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=Ox(x),l=eg(O),G=x_(O);return[l,G,-G,l,g?g-(l*g-G*_):0,_?_-(G*g+l*_):0]}var pp=function(x){return[x,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:x,0,0]},rf=(x)=>Math.tan(Ox(x)),A2=(x)=>[1,0,rf(x),1,0,0],u2=(x)=>[1,rf(x),0,1,0,0],NG=(x)=>{let{scaleX:g=1,scaleY:_=1,flipX:O=!1,flipY:l=!1,skewX:G=0,skewY:w=0}=x,W=pp(O?-g:g,l?-_:_);return G&&(W=lx(W,A2(G),!0)),w&&(W=lx(W,u2(w),!0)),W},If=(x)=>{let{translateX:g=0,translateY:_=0,angle:O=0}=x,l=l7(g,_);O&&(l=lx(l,G7({angle:O})));let G=NG(x);return uf(G)||(l=lx(l,G)),l},GG=function(x){let{signal:g,crossOrigin:_=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(O,l){if(g&&g.aborted)return l(new c2("loadImage"));let G=Af(),w;g&&(w=function(z){G.src="",l(z)},g.addEventListener("abort",w,{once:!0}));let W=function(){G.onload=G.onerror=null,w&&(g==null||g.removeEventListener("abort",w)),O(G)};x?(G.onload=W,G.onerror=function(){w&&(g==null||g.removeEventListener("abort",w)),l(new Tg("Error loading ".concat(G.src)))},_&&(G.crossOrigin=_),G.src=x):W()})},tl=function(x){let{signal:g,reviver:_=o8}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((O,l)=>{let G=[];g&&g.addEventListener("abort",l,{once:!0}),Promise.all(x.map((w)=>z0.getClass(w.type).fromObject(w,{signal:g}).then((W)=>(_(w,W),G.push(W),W)))).then(O).catch((w)=>{G.forEach((W)=>{W.dispose&&W.dispose()}),l(w)}).finally(()=>{g&&g.removeEventListener("abort",l)})})},kG=function(x){let{signal:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((_,O)=>{let l=[];g&&g.addEventListener("abort",O,{once:!0});let G=Object.values(x).map((W)=>W&&W.type&&z0.has(W.type)?tl([W],{signal:g}).then((z)=>{let[p]=z;return l.push(p),p}):W),w=Object.keys(x);Promise.all(G).then((W)=>W.reduce((z,p,o)=>(z[w[o]]=p,z),{})).then(_).catch((W)=>{l.forEach((z)=>{z.dispose&&z.dispose()}),O(W)}).finally(()=>{g&&g.removeEventListener("abort",O)})})},k8=function(x){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((g,_)=>((_ in x)&&(g[_]=x[_]),g),{})},S2=(x,g)=>Object.keys(x).reduce((_,O)=>(g(x[O],O,x)&&(_[O]=x[O]),_),{}),JM={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Hy=(x,g,_)=>(_<0&&(_+=1),_>1&&(_-=1),_<0.16666666666666666?x+6*(g-x)*_:_<0.5?g:_<0.6666666666666666?x+(g-x)*(0.6666666666666666-_)*6:x),aM=(x,g,_,O)=>{x/=255,g/=255,_/=255;let l=Math.max(x,g,_),G=Math.min(x,g,_),w,W,z=(l+G)/2;if(l===G)w=W=0;else{let p=l-G;switch(W=z>0.5?p/(2-l-G):p/(l+G),l){case x:w=(g-_)/p+(g<_?6:0);break;case g:w=(_-x)/p+2;break;case _:w=(x-g)/p+4}w/=6}return[Math.round(360*w),Math.round(100*W),Math.round(100*z),O]},PM=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(x)/(x.endsWith("%")?100:1)},IW=(x)=>Math.min(Math.round(x),255).toString(16).toUpperCase().padStart(2,"0"),RM=(x)=>{let[g,_,O,l=1]=x,G=Math.round(0.3*g+0.59*_+0.11*O);return[G,G,G,l]};class I0{constructor(x){if(F(this,"isUnrecognised",!1),x)if(x instanceof I0)this.setSource([...x._source]);else if(Array.isArray(x)){let[g,_,O,l=1]=x;this.setSource([g,_,O,l])}else this.setSource(this._tryParsingColor(x));else this.setSource([0,0,0,1])}_tryParsingColor(x){return(x=x.toLowerCase())in JM&&(x=JM[x]),x==="transparent"?[255,255,255,0]:I0.sourceFromHex(x)||I0.sourceFromRgb(x)||I0.sourceFromHsl(x)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(x){this._source=x}toRgb(){let[x,g,_]=this.getSource();return"rgb(".concat(x,",").concat(g,",").concat(_,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[x,g,_]=aM(...this.getSource());return"hsl(".concat(x,",").concat(g,"%,").concat(_,"%)")}toHsla(){let[x,g,_,O]=aM(...this.getSource());return"hsla(".concat(x,",").concat(g,"%,").concat(_,"%,").concat(O,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[x,g,_,O]=this.getSource();return"".concat(IW(x)).concat(IW(g)).concat(IW(_)).concat(IW(Math.round(255*O)))}getAlpha(){return this.getSource()[3]}setAlpha(x){return this._source[3]=x,this}toGrayscale(){return this.setSource(RM(this.getSource())),this}toBlackWhite(x){let[g,,,_]=RM(this.getSource()),O=g<(x||127)?0:255;return this.setSource([O,O,O,_]),this}overlayWith(x){x instanceof I0||(x=new I0(x));let g=this.getSource(),_=x.getSource(),[O,l,G]=g.map((w,W)=>Math.round(0.5*w+0.5*_[W]));return this.setSource([O,l,G,g[3]]),this}static fromRgb(x){return I0.fromRgba(x)}static fromRgba(x){return new I0(I0.sourceFromRgb(x))}static sourceFromRgb(x){let g=x.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(g){let[_,O,l]=g.slice(1,4).map((G)=>{let w=parseFloat(G);return G.endsWith("%")?Math.round(2.55*w):w});return[_,O,l,PM(g[4])]}}static fromHsl(x){return I0.fromHsla(x)}static fromHsla(x){return new I0(I0.sourceFromHsl(x))}static sourceFromHsl(x){let g=x.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!g)return;let _=(I0.parseAngletoDegrees(g[1])%360+360)%360/360,O=parseFloat(g[2])/100,l=parseFloat(g[3])/100,G,w,W;if(O===0)G=w=W=l;else{let z=l<=0.5?l*(O+1):l+O-l*O,p=2*l-z;G=Hy(p,z,_+0.3333333333333333),w=Hy(p,z,_),W=Hy(p,z,_-0.3333333333333333)}return[Math.round(255*G),Math.round(255*w),Math.round(255*W),PM(g[4])]}static fromHex(x){return new I0(I0.sourceFromHex(x))}static sourceFromHex(x){if(x.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let g=x.slice(x.indexOf("#")+1),_;_=g.length<=4?g.split("").map((W)=>W+W):g.match(/.{2}/g);let[O,l,G,w=255]=_.map((W)=>parseInt(W,16));return[O,l,G,w/255]}}static parseAngletoDegrees(x){let g=x.toLowerCase(),_=parseFloat(g);return g.includes("rad")?p6(_):g.includes("turn")?360*_:_}}var J0=(x,g)=>parseFloat(Number(x).toFixed(g)),v8=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K2,_=/\D{0,2}$/.exec(x),O=parseFloat(x),l=X0.DPI;switch(_==null?void 0:_[0]){case"mm":return O*l/25.4;case"cm":return O*l/2.54;case"in":return O*l;case"pt":return O*l/72;case"pc":return O*l/72*12;case"em":return O*g;default:return O}},Zf=(x)=>{let[g,_]=x.trim().split(" "),[O,l]=(G=g)&&G!==tx?[G.slice(1,4),G.slice(5,8)]:G===tx?[G,G]:["Mid","Mid"];var G;return{meetOrSlice:_||"meet",alignX:O,alignY:l}},oG=(x)=>"matrix("+x.map((g)=>J0(g,X0.NUM_FRACTION_DIGITS)).join(" ")+")",vG=function(x,g){let _,O,l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(g)if(g.toLive)_="url(#SVGID_".concat(g.id,")");else{let G=new I0(g),w=G.getAlpha();_=G.toRgb(),w!==1&&(O=w.toString())}else _="none";return l?"".concat(x,": ").concat(_,"; ").concat(O?"".concat(x,"-opacity: ").concat(O,"; "):""):"".concat(x,'="').concat(_,'" ').concat(O?"".concat(x,'-opacity="').concat(O,'" '):"")},Zg=(x)=>!!x&&x.toLive!==void 0,TM=(x)=>!!x&&typeof x.toObject=="function",sM=(x)=>!!x&&x.offsetX!==void 0&&("source"in x),O8=(x)=>!!x&&("multiSelectionStacking"in x);function jf(x){let g=x&&Rg(x),_=0,O=0;if(!x||!g)return{left:_,top:O};let l=x,G=g.documentElement,w=g.body||{scrollLeft:0,scrollTop:0};for(;l&&(l.parentNode||l.host)&&(l=l.parentNode||l.host,l===g?(_=w.scrollLeft||G.scrollLeft||0,O=w.scrollTop||G.scrollTop||0):(_+=l.scrollLeft||0,O+=l.scrollTop||0),l.nodeType!==1||l.style.position!=="fixed"););return{left:_,top:O}}var Rg=(x)=>x.ownerDocument||null,Uf=(x)=>{var g;return((g=x.ownerDocument)===null||g===void 0?void 0:g.defaultView)||null},Qf=function(x,g,_){let{width:O,height:l}=_,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;x.width=O,x.height=l,G>1&&(x.setAttribute("width",(O*G).toString()),x.setAttribute("height",(l*G).toString()),g.scale(G,G))},G2=(x,g)=>{let{width:_,height:O}=g;_&&(x.style.width=typeof _=="number"?"".concat(_,"px"):_),O&&(x.style.height=typeof O=="number"?"".concat(O,"px"):O)};function tM(x){return x.onselectstart!==void 0&&(x.onselectstart=()=>!1),x.style.userSelect=tx,x}class r2{constructor(x){F(this,"_originalCanvasStyle",void 0),F(this,"lower",void 0);let g=this.createLowerCanvas(x);this.lower={el:g,ctx:g.getContext("2d")}}createLowerCanvas(x){let g=(_=x)&&_.getContext!==void 0?x:x&&g7().getElementById(x)||jg();var _;if(g.hasAttribute("data-fabric"))throw new Tg("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=g.style.cssText,g.setAttribute("data-fabric","main"),g.classList.add("lower-canvas"),g}cleanupDOM(x){let{width:g,height:_}=x,{el:O}=this.lower;O.classList.remove("lower-canvas"),O.removeAttribute("data-fabric"),O.setAttribute("width","".concat(g)),O.setAttribute("height","".concat(_)),O.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(x,g){let{el:_,ctx:O}=this.lower;Qf(_,O,x,g)}setCSSDimensions(x){G2(this.lower.el,x)}calcOffset(){return function(x){var g;let _=x&&Rg(x),O={left:0,top:0};if(!_)return O;let l=((g=Uf(x))===null||g===void 0?void 0:g.getComputedStyle(x,null))||{};O.left+=parseInt(l.borderLeftWidth,10)||0,O.top+=parseInt(l.borderTopWidth,10)||0,O.left+=parseInt(l.paddingLeft,10)||0,O.top+=parseInt(l.paddingTop,10)||0;let G={left:0,top:0},w=_.documentElement;x.getBoundingClientRect!==void 0&&(G=x.getBoundingClientRect());let W=jf(x);return{left:G.left+W.left-(w.clientLeft||0)+O.left,top:G.top+W.top-(w.clientTop||0)+O.top}}(this.lower.el)}dispose(){V_().dispose(this.lower.el),delete this.lower}}var QA={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...nx]};class qG extends Xf(L2){get lowerCanvasEl(){var x;return(x=this.elements.lower)===null||x===void 0?void 0:x.el}get contextContainer(){var x;return(x=this.elements.lower)===null||x===void 0?void 0:x.ctx}static getDefaults(){return qG.ownDefaults}constructor(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(g),this.initElements(x),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(x){this.elements=new r2(x)}add(){let x=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),x}insertAt(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];let l=super.insertAt(x,..._);return _.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),l}remove(){let x=super.remove(...arguments);return x.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),x}_onObjectAdded(x){x.canvas&&x.canvas!==this&&(G6("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),x.canvas.remove(x)),x._set("canvas",this),x.setCoords(),this.fire("object:added",{target:x}),x.fire("added",{target:this})}_onObjectRemoved(x){x._set("canvas",void 0),this.fire("object:removed",{target:x}),x.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?hf():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(x,g){return this.setDimensions({width:x},g)}setHeight(x,g){return this.setDimensions({height:x},g)}_setDimensionsImpl(x){let{cssOnly:g=!1,backstoreOnly:_=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!g){let O=X({width:this.width,height:this.height},x);this.elements.setDimensions(O,this.getRetinaScaling()),this.hasLostContext=!0,this.width=O.width,this.height=O.height}_||this.elements.setCSSDimensions(x),this.calcOffset()}setDimensions(x,g){this._setDimensionsImpl(x,g),g&&g.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(x){this.viewportTransform=x,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(x,g){let _=x,O=[...this.viewportTransform],l=rx(x,Ng(O));O[0]=g,O[3]=g;let G=rx(l,O);O[4]+=_.x-G.x,O[5]+=_.y-G.y,this.setViewportTransform(O)}setZoom(x){this.zoomToPoint(new E(0,0),x)}absolutePan(x){let g=[...this.viewportTransform];return g[4]=-x.x,g[5]=-x.y,this.setViewportTransform(g)}relativePan(x){return this.absolutePan(new E(-x.x-this.viewportTransform[4],-x.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(x){x.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=lG(()=>this.renderAndReset()))}calcViewportBoundaries(){let x=this.width,g=this.height,_=Ng(this.viewportTransform),O=rx({x:0,y:0},_),l=rx({x,y:g},_),G=O.min(l),w=O.max(l);return this.vptCoords={tl:G,tr:new E(w.x,G.y),bl:new E(G.x,w.y),br:w}}cancelRequestedRender(){this.nextRenderHandle&&(Ff(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(x){}renderCanvas(x,g){if(this.destroyed)return;let _=this.viewportTransform,O=this.clipPath;this.calcViewportBoundaries(),this.clearContext(x),x.imageSmoothingEnabled=this.imageSmoothingEnabled,x.patternQuality="best",this.fire("before:render",{ctx:x}),this._renderBackground(x),x.save(),x.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(x,g),x.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(x),O&&(O._set("canvas",this),O.shouldCache(),O._transformDone=!0,O.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(x,O)),this._renderOverlay(x),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(x),this.fire("after:render",{ctx:x}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(x,g){let _=this.viewportTransform;x.save(),x.transform(..._),x.globalCompositeOperation="destination-in",g.transform(x),x.scale(1/g.zoomX,1/g.zoomY),x.drawImage(g._cacheCanvas,-g.cacheTranslationX,-g.cacheTranslationY),x.restore()}_renderObjects(x,g){for(let _=0,O=g.length;_<O;++_)g[_]&&g[_].render(x)}_renderBackgroundOrOverlay(x,g){let _=this["".concat(g,"Color")],O=this["".concat(g,"Image")],l=this.viewportTransform,G=this["".concat(g,"Vpt")];if(!_&&!O)return;let w=Zg(_);if(_){if(x.save(),x.beginPath(),x.moveTo(0,0),x.lineTo(this.width,0),x.lineTo(this.width,this.height),x.lineTo(0,this.height),x.closePath(),x.fillStyle=w?_.toLive(x):_,G&&x.transform(...l),w){x.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);let W=_.gradientTransform||_.patternTransform;W&&x.transform(...W)}x.fill(),x.restore()}if(O){x.save();let{skipOffscreen:W}=this;this.skipOffscreen=G,G&&x.transform(...l),O.render(x),this.skipOffscreen=W,x.restore()}}_renderBackground(x){this._renderBackgroundOrOverlay(x,"background")}_renderOverlay(x){this._renderBackgroundOrOverlay(x,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new E(this.width/2,this.height/2)}centerObjectH(x){return this._centerObject(x,new E(this.getCenterPoint().x,x.getCenterPoint().y))}centerObjectV(x){return this._centerObject(x,new E(x.getCenterPoint().x,this.getCenterPoint().y))}centerObject(x){return this._centerObject(x,this.getCenterPoint())}viewportCenterObject(x){return this._centerObject(x,this.getVpCenter())}viewportCenterObjectH(x){return this._centerObject(x,new E(this.getVpCenter().x,x.getCenterPoint().y))}viewportCenterObjectV(x){return this._centerObject(x,new E(x.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return rx(this.getCenterPoint(),Ng(this.viewportTransform))}_centerObject(x,g){x.setXY(g,c0,c0),x.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(x){return this.toDatalessObject(x)}toObject(x){return this._toObjectMethod("toObject",x)}toJSON(){return this.toObject()}toDatalessObject(x){return this._toObjectMethod("toDatalessObject",x)}_toObjectMethod(x,g){let _=this.clipPath,O=_&&!_.excludeFromExport?this._toObject(_,x,g):null;return X(X(X({version:O2},k8(this,g)),{},{objects:this._objects.filter((l)=>!l.excludeFromExport).map((l)=>this._toObject(l,x,g))},this.__serializeBgOverlay(x,g)),O?{clipPath:O}:null)}_toObject(x,g,_){let O;this.includeDefaultValues||(O=x.includeDefaultValues,x.includeDefaultValues=!1);let l=x[g](_);return this.includeDefaultValues||(x.includeDefaultValues=!!O),l}__serializeBgOverlay(x,g){let _={},O=this.backgroundImage,l=this.overlayImage,G=this.backgroundColor,w=this.overlayColor;return Zg(G)?G.excludeFromExport||(_.background=G.toObject(g)):G&&(_.background=G),Zg(w)?w.excludeFromExport||(_.overlay=w.toObject(g)):w&&(_.overlay=w),O&&!O.excludeFromExport&&(_.backgroundImage=this._toObject(O,x,g)),l&&!l.excludeFromExport&&(_.overlayImage=this._toObject(l,x,g)),_}toSVG(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1?arguments[1]:void 0;x.reviver=g;let _=[];return this._setSVGPreamble(_,x),this._setSVGHeader(_,x),this.clipPath&&_.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",g),this._setSVGObjects(_,g),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",g),_.push("</svg>"),_.join("")}_setSVGPreamble(x,g){g.suppressPreamble||x.push('<?xml version="1.0" encoding="',g.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(x,g){let _=g.width||"".concat(this.width),O=g.height||"".concat(this.height),l=X0.NUM_FRACTION_DIGITS,G=g.viewBox,w;if(G)w='viewBox="'.concat(G.x," ").concat(G.y," ").concat(G.width," ").concat(G.height,'" ');else if(this.svgViewportTransformation){let W=this.viewportTransform;w='viewBox="'.concat(J0(-W[4]/W[0],l)," ").concat(J0(-W[5]/W[3],l)," ").concat(J0(this.width/W[0],l)," ").concat(J0(this.height/W[3],l),'" ')}else w='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');x.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',O,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",O2,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(g),`</defs>
`)}createSVGClipPathMarkup(x){let g=this.clipPath;return g?(g.clipPathId="CLIPPATH_".concat(W6()),'<clipPath id="'.concat(g.clipPathId,`" >
`).concat(g.toClipPathSVG(x.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((x)=>{let g=this["".concat(x,"Color")];if(Zg(g)){let _=this["".concat(x,"Vpt")],O=this.viewportTransform,l={isType:()=>!1,width:this.width/(_?O[0]:1),height:this.height/(_?O[3]:1)};return g.toSVG(l,{additionalTransform:_?oG(O):""})}}).join("")}createSVGFontFacesMarkup(){let x=[],g={},_=X0.fontPaths;this._objects.forEach(function l(G){x.push(G),nW(G)&&G._objects.forEach(l)}),x.forEach((l)=>{if(!(G=l)||typeof G._renderText!="function")return;var G;let{styles:w,fontFamily:W}=l;!g[W]&&_[W]&&(g[W]=!0,w&&Object.values(w).forEach((z)=>{Object.values(z).forEach((p)=>{let{fontFamily:o=""}=p;!g[o]&&_[o]&&(g[o]=!0)})}))});let O=Object.keys(g).map((l)=>`		@font-face {
			font-family: '`.concat(l,`';
			src: url('`).concat(_[l],`');
		}
`)).join("");return O?`	<style type="text/css"><![CDATA[
`.concat(O,`]]></style>
`):""}_setSVGObjects(x,g){this.forEachObject((_)=>{_.excludeFromExport||this._setSVGObject(x,_,g)})}_setSVGObject(x,g,_){x.push(g.toSVG(_))}_setSVGBgOverlayImage(x,g,_){let O=this[g];O&&!O.excludeFromExport&&O.toSVG&&x.push(O.toSVG(_))}_setSVGBgOverlayColor(x,g){let _=this["".concat(g,"Color")];if(_)if(Zg(_)){let O=_.repeat||"",l=this.width,G=this.height,w=this["".concat(g,"Vpt")]?oG(Ng(this.viewportTransform)):"";x.push('<rect transform="'.concat(w," translate(").concat(l/2,",").concat(G/2,')" x="').concat(_.offsetX-l/2,'" y="').concat(_.offsetY-G/2,'" width="').concat(O!=="repeat-y"&&O!=="no-repeat"||!sM(_)?l:_.source.width,'" height="').concat(O!=="repeat-x"&&O!=="no-repeat"||!sM(_)?G:_.source.height,'" fill="url(#SVGID_').concat(_.id,`)"></rect>
`))}else x.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)}loadFromJSON(x,g){let{signal:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!x)return Promise.reject(new Tg("`json` is undefined"));let O=typeof x=="string"?JSON.parse(x):x,{objects:l=[],backgroundImage:G,background:w,overlayImage:W,overlay:z,clipPath:p}=O,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([tl(l,{reviver:g,signal:_}),kG({backgroundImage:G,backgroundColor:w,overlayImage:W,overlayColor:z,clipPath:p},{signal:_})]).then((y)=>{let[v,k]=y;return this.clear(),this.add(...v),this.set(O),this.set(k),this.renderOnAddRemove=o,this})}clone(x){let g=this.toObject(x);return this.cloneWithoutData().loadFromJSON(g)}cloneWithoutData(){let x=g_(this);return new this.constructor(x)}toDataURL(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:g="png",quality:_=1,multiplier:O=1,enableRetinaScaling:l=!1}=x,G=O*(l?this.getRetinaScaling():1);return X2(this.toCanvasElement(G,x),g,_)}toBlob(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:g="png",quality:_=1,multiplier:O=1,enableRetinaScaling:l=!1}=x,G=O*(l?this.getRetinaScaling():1);return F2(this.toCanvasElement(G,x),g,_)}toCanvasElement(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:g,height:_,left:O,top:l,filter:G}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=(g||this.width)*x,W=(_||this.height)*x,z=this.getZoom(),p=this.width,o=this.height,y=this.skipControlsDrawing,v=z*x,k=this.viewportTransform,M=[v,0,0,v,(k[4]-(O||0))*x,(k[5]-(l||0))*x],f=this.enableRetinaScaling,Y=g_({width:w,height:W}),q=G?this._objects.filter((N)=>G(N)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=M,this.width=w,this.height=W,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(Y.getContext("2d"),q),this.viewportTransform=k,this.width=p,this.height=o,this.calcViewportBoundaries(),this.enableRetinaScaling=f,this.skipControlsDrawing=y,Y}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),HW.cancelByCanvas(this),this.disposed=!0,new Promise((x,g)=>{let _=()=>{this.destroy(),x(!0)};_.kill=g,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?x(!1):this.nextRenderHandle?this.__cleanupTask=_:_()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((x)=>x.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}F(qG,"ownDefaults",QA);var DA=["touchstart","touchmove","touchend"],Df=(x)=>{let g=jf(x.target),_=function(O){let l=O.changedTouches;return l&&l[0]?l[0]:O}(x);return new E(_.clientX+g.left,_.clientY+g.top)},JW=(x)=>DA.includes(x.type)||x.pointerType==="touch",w2=(x)=>{x.preventDefault(),x.stopPropagation()},m_=(x)=>{let g=0,_=0,O=0,l=0;for(let G=0,w=x.length;G<w;G++){let{x:W,y:z}=x[G];(W>O||!G)&&(O=W),(W<g||!G)&&(g=W),(z>l||!G)&&(l=z),(z<_||!G)&&(_=z)}return{left:g,top:_,width:O-g,height:l-_}},EA=["translateX","translateY","scaleX","scaleY"],Ef=(x,g)=>el(x,lx(g,x.calcOwnMatrix())),el=(x,g)=>{let _=sl(g),{translateX:O,translateY:l,scaleX:G,scaleY:w}=_,W=a0(_,EA),z=new E(O,l);x.flipX=!1,x.flipY=!1,Object.assign(x,W),x.set({scaleX:G,scaleY:w}),x.setPositionByOrigin(z,c0,c0)},nf=(x)=>{x.scaleX=1,x.scaleY=1,x.skewX=0,x.skewY=0,x.flipX=!1,x.flipY=!1,x.rotate(0)},I2=(x)=>({scaleX:x.scaleX,scaleY:x.scaleY,skewX:x.skewX,skewY:x.skewY,angle:x.angle,left:x.left,flipX:x.flipX,flipY:x.flipY,top:x.top}),zp=(x,g,_)=>{let O=x/2,l=g/2,G=[new E(-O,-l),new E(O,-l),new E(-O,l),new E(O,l)].map((W)=>W.transform(_)),w=m_(G);return new E(w.width,w.height)},CG=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nx;return lx(Ng(arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx),x)},oO=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nx;return x.transform(CG(g,_))},Bf=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nx,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nx;return x.transform(CG(g,_),!0)},W2=(x,g,_)=>{let O=CG(g,_);return el(x,lx(O,x.calcOwnMatrix())),O},Z2=(x,g)=>{var _;let{transform:{target:O}}=g;(_=O.canvas)===null||_===void 0||_.fire("object:".concat(x),X(X({},g),{},{target:O})),O.fire(x,g)},nA={left:-0.5,top:-0.5,center:0,bottom:0.5,right:0.5},yx=(x)=>typeof x=="string"?nA[x]:x-0.5,aW="not-allowed";function $f(x){return yx(x.originX)===yx(c0)&&yx(x.originY)===yx(c0)}function eM(x){return 0.5-yx(x)}var tg=(x,g)=>x[g],j2=(x,g,_,O)=>({e:x,transform:g,pointer:new E(_,O)});function Hf(x,g){let _=x.getTotalAngle()+p6(Math.atan2(g.y,g.x))+360;return Math.round(_%360/45)}function op(x,g,_,O,l){var G;let{target:w,corner:W}=x,z=w.controls[W],p=((G=w.canvas)===null||G===void 0?void 0:G.getZoom())||1,o=w.padding/p,y=function(v,k,M,f){let Y=v.getRelativeCenterPoint(),q=M!==void 0&&f!==void 0?v.translateToGivenOrigin(Y,c0,c0,M,f):new E(v.left,v.top);return(v.angle?k.rotate(-Ox(v.angle),Y):k).subtract(q)}(w,new E(O,l),g,_);return y.x>=o&&(y.x-=o),y.x<=-o&&(y.x+=o),y.y>=o&&(y.y-=o),y.y<=o&&(y.y+=o),y.x-=z.offsetX,y.y-=z.offsetY,y}var Jf=(x,g,_,O)=>{let{target:l,offsetX:G,offsetY:w}=g,W=_-G,z=O-w,p=!tg(l,"lockMovementX")&&l.left!==W,o=!tg(l,"lockMovementY")&&l.top!==z;return p&&l.set(r0,W),o&&l.set(sx,z),(p||o)&&Z2(Kf,j2(x,g,_,O)),p||o};class U2{getSvgStyles(x){let g=this.fillRule?this.fillRule:"nonzero",_=this.strokeWidth?this.strokeWidth:"0",O=this.strokeDashArray?this.strokeDashArray.join(" "):tx,l=this.strokeDashOffset?this.strokeDashOffset:"0",G=this.strokeLineCap?this.strokeLineCap:"butt",w=this.strokeLineJoin?this.strokeLineJoin:"miter",W=this.strokeMiterLimit?this.strokeMiterLimit:"4",z=this.opacity!==void 0?this.opacity:"1",p=this.visible?"":" visibility: hidden;",o=x?"":this.getSvgFilter(),y=vG(dx,this.fill);return[vG(ex,this.stroke),"stroke-width: ",_,"; ","stroke-dasharray: ",O,"; ","stroke-linecap: ",G,"; ","stroke-dashoffset: ",l,"; ","stroke-linejoin: ",w,"; ","stroke-miterlimit: ",W,"; ",y,"fill-rule: ",g,"; ","opacity: ",z,";",o,p].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",_=x?this.calcTransformMatrix():this.calcOwnMatrix(),O='transform="'.concat(oG(_));return"".concat(O).concat(g,'" ')}_toSVG(x){return[""]}toSVG(x){return this._createBaseSVGMarkup(this._toSVG(x),{reviver:x})}toClipPathSVG(x){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(x),{reviver:x})}_createBaseClipPathSVGMarkup(x){let{reviver:g,additionalTransform:_=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=[this.getSvgTransform(!0,_),this.getSvgCommons()].join(""),l=x.indexOf("COMMON_PARTS");return x[l]=O,g?g(x.join("")):x.join("")}_createBaseSVGMarkup(x){let{noStyle:g,reviver:_,withShadow:O,additionalTransform:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=g?"":'style="'.concat(this.getSvgStyles(),'" '),w=O?'style="'.concat(this.getSvgFilter(),'" '):"",W=this.clipPath,z=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=W&&W.absolutePositioned,o=this.stroke,y=this.fill,v=this.shadow,k=[],M=x.indexOf("COMMON_PARTS"),f;W&&(W.clipPathId="CLIPPATH_".concat(W6()),f='<clipPath id="'.concat(W.clipPathId,`" >
`).concat(W.toClipPathSVG(_),`</clipPath>
`)),p&&k.push("<g ",w,this.getSvgCommons(),` >
`),k.push("<g ",this.getSvgTransform(!1),p?"":w+this.getSvgCommons(),` >
`);let Y=[G,z,g?"":this.addPaintOrder()," ",l?'transform="'.concat(l,'" '):""].join("");return x[M]=Y,Zg(y)&&k.push(y.toSVG(this)),Zg(o)&&k.push(o.toSVG(this)),v&&k.push(v.toSVG(this)),W&&k.push(f),k.push(x.join("")),k.push(`</g>
`),p&&k.push(`</g>
`),_?_(k.join("")):k.join("")}addPaintOrder(){return this.paintFirst!==dx?' paint-order="'.concat(this.paintFirst,'" '):""}}function vp(x){return new RegExp("^("+x.join("|")+")\\b","i")}var xf,sg=String.raw(xf||(xf=z6(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));var BA=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+sg+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+sg+"))?\\s+(.*)"),$A={cx:r0,x:r0,r:"radius",cy:sx,y:sx,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},Jy="font-size",ay="clip-path",RI=vp(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),TI=vp(["symbol","image","marker","pattern","view","svg"]),gf=vp(["symbol","g","a","svg","clipPath","defs"]),sI=new RegExp("^\\s*("+sg+"+)\\s*,?\\s*("+sg+"+)\\s*,?\\s*("+sg+"+)\\s*,?\\s*("+sg+"+)\\s*$"),iA=new E(1,0),af=new E,Q2=(x,g)=>x.rotate(g),PW=(x,g)=>new E(g).subtract(x),RW=(x)=>x.distanceFrom(af),TW=(x,g)=>Math.atan2(Rl(x,g),Rf(x,g)),Pf=(x)=>TW(iA,x),yp=(x)=>x.eq(af)?x:x.scalarDivide(RW(x)),D2=function(x){let g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return yp(new E(-x.y,x.x).scalarMultiply(g?1:-1))},Rl=(x,g)=>x.x*g.y-x.y*g.x,Rf=(x,g)=>x.x*g.x+x.y*g.y,p2=(x,g,_)=>{if(x.eq(g)||x.eq(_))return!0;let O=Rl(g,_),l=Rl(g,x),G=Rl(_,x);return O>=0?l>=0&&G<=0:!(l<=0&&G>=0)},_f="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",Of=new RegExp("(?:\\s|^)"+_f+_f+"("+sg+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class vO{constructor(x){let g=typeof x=="string"?vO.parseShadow(x):x;Object.assign(this,vO.ownDefaults,g),this.id=W6()}static parseShadow(x){let g=x.trim(),[,_=0,O=0,l=0]=(Of.exec(g)||[]).map((G)=>parseFloat(G)||0);return{color:(g.replace(Of,"")||"rgb(0,0,0)").trim(),offsetX:_,offsetY:O,blur:l}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(x){let g=Q2(new E(this.offsetX,this.offsetY),Ox(-x.angle)),_=new I0(this.color),O=40,l=40;return x.width&&x.height&&(O=100*J0((Math.abs(g.x)+this.blur)/x.width,X0.NUM_FRACTION_DIGITS)+20,l=100*J0((Math.abs(g.y)+this.blur)/x.height,X0.NUM_FRACTION_DIGITS)+20),x.flipX&&(g.x*=-1),x.flipY&&(g.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(l,'%" height="').concat(100+2*l,'%" x="-').concat(O,'%" width="').concat(100+2*O,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(J0(this.blur?this.blur/2:0,X0.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(J0(g.x,X0.NUM_FRACTION_DIGITS),'" dy="').concat(J0(g.y,X0.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(_.toRgb(),'" flood-opacity="').concat(_.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let x={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},g=vO.ownDefaults;return this.includeDefaultValues?x:S2(x,(_,O)=>_!==g[O])}static async fromObject(x){return new this(x)}}F(vO,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),F(vO,"type","shadow"),z0.setClass(vO,"shadow");var y8=(x,g,_)=>Math.max(x,Math.min(g,_)),HA=[sx,r0,Bx,kg,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",_7,O7],kO=[dx,ex,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],JA={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:r0,originY:sx,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:dx,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Py=(x,g,_,O)=>(x<Math.abs(g)?(x=g,O=_/4):O=g===0&&x===0?_/NO*Math.asin(1):_/NO*Math.asin(g/x),{a:x,c:g,p:_,s:O}),lf=(x,g,_,O,l)=>x*Math.pow(2,10*(O-=1))*Math.sin((O*l-g)*NO/_),Tf=(x,g,_,O)=>-_*Math.cos(x/O*w6)+_+g,z2=(x,g,_,O)=>(x/=O)<0.36363636363636365?_*(7.5625*x*x)+g:x<0.7272727272727273?_*(7.5625*(x-=0.5454545454545454)*x+0.75)+g:x<0.9090909090909091?_*(7.5625*(x-=0.8181818181818182)*x+0.9375)+g:_*(7.5625*(x-=0.9545454545454546)*x+0.984375)+g,Gf=(x,g,_,O)=>_-z2(O-x,0,_,O)+g,aA=Object.freeze({__proto__:null,defaultEasing:Tf,easeInBack:function(x,g,_,O){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return _*(x/=O)*x*((l+1)*x-l)+g},easeInBounce:Gf,easeInCirc:(x,g,_,O)=>-_*(Math.sqrt(1-(x/=O)*x)-1)+g,easeInCubic:(x,g,_,O)=>_*(x/O)**3+g,easeInElastic:(x,g,_,O)=>{let l=_,G=0;if(x===0)return g;if((x/=O)===1)return g+_;G||(G=0.3*O);let{a:w,s:W,p:z}=Py(l,_,G,1.70158);return-lf(w,W,z,x,O)+g},easeInExpo:(x,g,_,O)=>x===0?g:_*2**(10*(x/O-1))+g,easeInOutBack:function(x,g,_,O){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(x/=O/2)<1?_/2*(x*x*((1+(l*=1.525))*x-l))+g:_/2*((x-=2)*x*((1+(l*=1.525))*x+l)+2)+g},easeInOutBounce:(x,g,_,O)=>x<O/2?0.5*Gf(2*x,0,_,O)+g:0.5*z2(2*x-O,0,_,O)+0.5*_+g,easeInOutCirc:(x,g,_,O)=>(x/=O/2)<1?-_/2*(Math.sqrt(1-x**2)-1)+g:_/2*(Math.sqrt(1-(x-=2)*x)+1)+g,easeInOutCubic:(x,g,_,O)=>(x/=O/2)<1?_/2*x**3+g:_/2*((x-2)**3+2)+g,easeInOutElastic:(x,g,_,O)=>{let l=_,G=0;if(x===0)return g;if((x/=O/2)===2)return g+_;G||(G=O*0.44999999999999996);let{a:w,s:W,p:z,c:p}=Py(l,_,G,1.70158);return x<1?-0.5*lf(w,W,z,x,O)+g:w*Math.pow(2,-10*(x-=1))*Math.sin((x*O-W)*NO/z)*0.5+p+g},easeInOutExpo:(x,g,_,O)=>x===0?g:x===O?g+_:(x/=O/2)<1?_/2*2**(10*(x-1))+g:_/2*-(2**(-10*--x)+2)+g,easeInOutQuad:(x,g,_,O)=>(x/=O/2)<1?_/2*x**2+g:-_/2*(--x*(x-2)-1)+g,easeInOutQuart:(x,g,_,O)=>(x/=O/2)<1?_/2*x**4+g:-_/2*((x-=2)*x**3-2)+g,easeInOutQuint:(x,g,_,O)=>(x/=O/2)<1?_/2*x**5+g:_/2*((x-2)**5+2)+g,easeInOutSine:(x,g,_,O)=>-_/2*(Math.cos(Math.PI*x/O)-1)+g,easeInQuad:(x,g,_,O)=>_*(x/=O)*x+g,easeInQuart:(x,g,_,O)=>_*(x/=O)*x**3+g,easeInQuint:(x,g,_,O)=>_*(x/O)**5+g,easeInSine:(x,g,_,O)=>-_*Math.cos(x/O*w6)+_+g,easeOutBack:function(x,g,_,O){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return _*((x=x/O-1)*x*((l+1)*x+l)+1)+g},easeOutBounce:z2,easeOutCirc:(x,g,_,O)=>_*Math.sqrt(1-(x=x/O-1)*x)+g,easeOutCubic:(x,g,_,O)=>_*((x/O-1)**3+1)+g,easeOutElastic:(x,g,_,O)=>{let l=_,G=0;if(x===0)return g;if((x/=O)===1)return g+_;G||(G=0.3*O);let{a:w,s:W,p:z,c:p}=Py(l,_,G,1.70158);return w*2**(-10*x)*Math.sin((x*O-W)*NO/z)+p+g},easeOutExpo:(x,g,_,O)=>x===O?g+_:_*-(2**(-10*x/O)+1)+g,easeOutQuad:(x,g,_,O)=>-_*(x/=O)*(x-2)+g,easeOutQuart:(x,g,_,O)=>-_*((x=x/O-1)*x**3-1)+g,easeOutQuint:(x,g,_,O)=>_*((x/O-1)**5+1)+g,easeOutSine:(x,g,_,O)=>_*Math.sin(x/O*w6)+g}),PA=()=>!1;class Np{constructor(x){let{startValue:g,byValue:_,duration:O=500,delay:l=0,easing:G=Tf,onStart:w=o8,onChange:W=o8,onComplete:z=o8,abort:p=PA,target:o}=x;F(this,"_state","pending"),F(this,"durationProgress",0),F(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=O,this.delay=l,this.easing=G,this._onStart=w,this._onChange=W,this._onComplete=z,this._abort=p,this.target=o,this.startValue=g,this.byValue=_,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let x=(g)=>{this._state==="pending"&&(this.startTime=g||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>lG(x),this.delay):lG(x)}tick(x){let g=(x||+new Date)-this.startTime,_=Math.min(g,this.duration);this.durationProgress=_/this.duration;let{value:O,valueProgress:l}=this.calculate(_);this.value=Object.freeze(O),this.valueProgress=l,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):g>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),lG(this.tick)))}register(){HW.push(this)}unregister(){HW.remove(this)}abort(){this._state="aborted",this.unregister()}}var RA=["startValue","endValue"];class sf extends Np{constructor(x){let{startValue:g=0,endValue:_=100}=x;super(X(X({},a0(x,RA)),{},{startValue:g,byValue:_-g}))}calculate(x){let g=this.easing(x,this.startValue,this.byValue,this.duration);return{value:g,valueProgress:Math.abs((g-this.startValue)/this.byValue)}}}var TA=["startValue","endValue"];class tf extends Np{constructor(x){let{startValue:g=[0],endValue:_=[100]}=x;super(X(X({},a0(x,TA)),{},{startValue:g,byValue:_.map((O,l)=>O-g[l])}))}calculate(x){let g=this.startValue.map((_,O)=>this.easing(x,_,this.byValue[O],this.duration,O));return{value:g,valueProgress:Math.abs((g[0]-this.startValue[0])/this.byValue[0])}}}var sA=["startValue","endValue","easing","onChange","onComplete","abort"],tA=(x,g,_,O)=>g+_*(1-Math.cos(x/O*w6)),Ry=(x)=>x&&((g,_,O)=>x(new I0(g).toRgba(),_,O));class ef extends Np{constructor(x){let{startValue:g,endValue:_,easing:O=tA,onChange:l,onComplete:G,abort:w}=x,W=a0(x,sA),z=new I0(g).getSource(),p=new I0(_).getSource();super(X(X({},W),{},{startValue:z,byValue:p.map((o,y)=>o-z[y]),easing:O,onChange:Ry(l),onComplete:Ry(G),abort:Ry(w)}))}calculate(x){let[g,_,O,l]=this.startValue.map((w,W)=>this.easing(x,w,this.byValue[W],this.duration,W)),G=[...[g,_,O].map(Math.round),y8(0,l,1)];return{value:G,valueProgress:G.map((w,W)=>this.byValue[W]!==0?Math.abs((w-this.startValue[W])/this.byValue[W]):0).find((w)=>w!==0)||0}}}function E2(x){let g=((_)=>Array.isArray(_.startValue)||Array.isArray(_.endValue))(x)?new tf(x):new sf(x);return g.start(),g}function xY(x){let g=new ef(x);return g.start(),g}class t0{constructor(x){this.status=x,this.points=[]}includes(x){return this.points.some((g)=>g.eq(x))}append(){for(var x=arguments.length,g=new Array(x),_=0;_<x;_++)g[_]=arguments[_];return this.points=this.points.concat(g.filter((O)=>!this.includes(O))),this}static isPointContained(x,g,_){let O=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(g.eq(_))return x.eq(g);if(g.x===_.x)return x.x===g.x&&(O||x.y>=Math.min(g.y,_.y)&&x.y<=Math.max(g.y,_.y));if(g.y===_.y)return x.y===g.y&&(O||x.x>=Math.min(g.x,_.x)&&x.x<=Math.max(g.x,_.x));{let l=PW(g,_),G=PW(g,x).divide(l);return O?Math.abs(G.x)===Math.abs(G.y):G.x===G.y&&G.x>=0&&G.x<=1}}static isPointInPolygon(x,g){let _=new E(x).setX(Math.min(x.x-1,...g.map((l)=>l.x))),O=0;for(let l=0;l<g.length;l++){let G=this.intersectSegmentSegment(g[l],g[(l+1)%g.length],x,_);if(G.includes(x))return!0;O+=Number(G.status==="Intersection")}return O%2==1}static intersectLineLine(x,g,_,O){let l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],G=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],w=g.x-x.x,W=g.y-x.y,z=O.x-_.x,p=O.y-_.y,o=x.x-_.x,y=x.y-_.y,v=z*y-p*o,k=w*y-W*o,M=p*w-z*W;if(M!==0){let f=v/M,Y=k/M;return(l||0<=f&&f<=1)&&(G||0<=Y&&Y<=1)?new t0("Intersection").append(new E(x.x+f*w,x.y+f*W)):new t0}if(v===0||k===0){let f=l||G||t0.isPointContained(x,_,O)||t0.isPointContained(g,_,O)||t0.isPointContained(_,x,g)||t0.isPointContained(O,x,g);return new t0(f?"Coincident":void 0)}return new t0("Parallel")}static intersectSegmentLine(x,g,_,O){return t0.intersectLineLine(x,g,_,O,!1,!0)}static intersectSegmentSegment(x,g,_,O){return t0.intersectLineLine(x,g,_,O,!1,!1)}static intersectLinePolygon(x,g,_){let O=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=new t0,G=_.length;for(let w,W,z,p=0;p<G;p++){if(w=_[p],W=_[(p+1)%G],z=t0.intersectLineLine(x,g,w,W,O,!1),z.status==="Coincident")return z;l.append(...z.points)}return l.points.length>0&&(l.status="Intersection"),l}static intersectSegmentPolygon(x,g,_){return t0.intersectLinePolygon(x,g,_,!1)}static intersectPolygonPolygon(x,g){let _=new t0,O=x.length,l=[];for(let G=0;G<O;G++){let w=x[G],W=x[(G+1)%O],z=t0.intersectSegmentPolygon(w,W,g);z.status==="Coincident"?(l.push(z),_.append(w,W)):_.append(...z.points)}return l.length>0&&l.length===x.length?new t0("Coincident"):(_.points.length>0&&(_.status="Intersection"),_)}static intersectPolygonRectangle(x,g,_){let O=g.min(_),l=g.max(_),G=new E(l.x,O.y),w=new E(O.x,l.y);return t0.intersectPolygonPolygon(x,[O,G,l,w])}}class gY extends L2{getX(){return this.getXY().x}setX(x){this.setXY(this.getXY().setX(x))}getY(){return this.getXY().y}setY(x){this.setXY(this.getXY().setY(x))}getRelativeX(){return this.left}setRelativeX(x){this.left=x}getRelativeY(){return this.top}setRelativeY(x){this.top=x}getXY(){let x=this.getRelativeXY();return this.group?rx(x,this.group.calcTransformMatrix()):x}setXY(x,g,_){this.group&&(x=rx(x,Ng(this.group.calcTransformMatrix()))),this.setRelativeXY(x,g,_)}getRelativeXY(){return new E(this.left,this.top)}setRelativeXY(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(x,g,_)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:x,tr:g,br:_,bl:O}=this.aCoords||(this.aCoords=this.calcACoords()),l=[x,g,_,O];if(this.group){let G=this.group.calcTransformMatrix();return l.map((w)=>rx(w,G))}return l}intersectsWithRect(x,g){return t0.intersectPolygonRectangle(this.getCoords(),x,g).status==="Intersection"}intersectsWithObject(x){let g=t0.intersectPolygonPolygon(this.getCoords(),x.getCoords());return g.status==="Intersection"||g.status==="Coincident"||x.isContainedWithinObject(this)||this.isContainedWithinObject(x)}isContainedWithinObject(x){return this.getCoords().every((g)=>x.containsPoint(g))}isContainedWithinRect(x,g){let{left:_,top:O,width:l,height:G}=this.getBoundingRect();return _>=x.x&&_+l<=g.x&&O>=x.y&&O+G<=g.y}isOverlapping(x){return this.intersectsWithObject(x)||this.isContainedWithinObject(x)||x.isContainedWithinObject(this)}containsPoint(x){return t0.isPointInPolygon(x,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:x,br:g}=this.canvas.vptCoords;return!!this.getCoords().some((_)=>_.x<=g.x&&_.x>=x.x&&_.y<=g.y&&_.y>=x.y)||(!!this.intersectsWithRect(x,g)||this.containsPoint(x.midPointFrom(g)))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:x,br:g}=this.canvas.vptCoords;if(this.intersectsWithRect(x,g))return!0;return this.getCoords().every((_)=>(_.x>=g.x||_.x<=x.x)&&(_.y>=g.y||_.y<=x.y))&&this.containsPoint(x.midPointFrom(g))}getBoundingRect(){return m_(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(x){this._set(Bx,x),this._set(kg,x),this.setCoords()}scaleToWidth(x){let g=this.getBoundingRect().width/this.getScaledWidth();return this.scale(x/this.width/g)}scaleToHeight(x){let g=this.getBoundingRect().height/this.getScaledHeight();return this.scale(x/this.height/g)}getCanvasRetinaScaling(){var x;return((x=this.canvas)===null||x===void 0?void 0:x.getRetinaScaling())||1}getTotalAngle(){return this.group?p6(Sf(this.calcTransformMatrix())):this.angle}getViewportTransform(){var x;return((x=this.canvas)===null||x===void 0?void 0:x.viewportTransform)||nx.concat()}calcACoords(){let x=G7({angle:this.angle}),{x:g,y:_}=this.getRelativeCenterPoint(),O=l7(g,_),l=lx(O,x),G=this._getTransformedDimensions(),w=G.x/2,W=G.y/2;return{tl:rx({x:-w,y:-W},l),tr:rx({x:w,y:-W},l),bl:rx({x:-w,y:W},l),br:rx({x:w,y:W},l)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let x=arguments.length>0&&arguments[0]!==void 0&&arguments[0],g=[];return!x&&this.group&&(g=this.group.transformMatrixKey(x)),g.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,yx(this.originX),yx(this.originY)),g}calcTransformMatrix(){let x=arguments.length>0&&arguments[0]!==void 0&&arguments[0],g=this.calcOwnMatrix();if(x||!this.group)return g;let _=this.transformMatrixKey(x),O=this.matrixCache;return O&&O.key.every((l,G)=>l===_[G])?O.value:(this.group&&(g=lx(this.group.calcTransformMatrix(!1),g)),this.matrixCache={key:_,value:g},g)}calcOwnMatrix(){let x=this.transformMatrixKey(!0),g=this.ownMatrixCache;if(g&&g.key===x)return g.value;let _=this.getRelativeCenterPoint(),O={angle:this.angle,translateX:_.x,translateY:_.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},l=If(O);return this.ownMatrixCache={key:x,value:l},l}_getNonTransformedDimensions(){return new E(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(x){return this._getTransformedDimensions(x).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=X({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},x),_=g.strokeWidth,O=_,l=0;this.strokeUniform&&(O=0,l=_);let G=g.width+O,w=g.height+O,W;return W=g.skewX===0&&g.skewY===0?new E(G*g.scaleX,w*g.scaleY):zp(G,w,NG(g)),W.scalarAdd(l)}translateToGivenOrigin(x,g,_,O,l){let{x:G,y:w}=x,W=yx(O)-yx(g),z=yx(l)-yx(_);if(W||z){let p=this._getTransformedDimensions();G+=W*p.x,w+=z*p.y}return new E(G,w)}translateToCenterPoint(x,g,_){if(g===c0&&_===c0)return x;let O=this.translateToGivenOrigin(x,g,_,c0,c0);return this.angle?O.rotate(Ox(this.angle),x):O}translateToOriginPoint(x,g,_){let O=this.translateToGivenOrigin(x,c0,c0,g,_);return this.angle?O.rotate(Ox(this.angle),x):O}getCenterPoint(){let x=this.getRelativeCenterPoint();return this.group?rx(x,this.group.calcTransformMatrix()):x}getRelativeCenterPoint(){return this.translateToCenterPoint(new E(this.left,this.top),this.originX,this.originY)}getPointByOrigin(x,g){return this.translateToOriginPoint(this.getRelativeCenterPoint(),x,g)}setPositionByOrigin(x,g,_){let O=this.translateToCenterPoint(x,g,_),l=this.translateToOriginPoint(O,this.originX,this.originY);this.set({left:l.x,top:l.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),r0,sx)}}var eA=["type"],xu=["extraParam"],GO=class x extends gY{static getDefaults(){return x.ownDefaults}get type(){let g=this.constructor.type;return g==="FabricObject"?"object":g.toLowerCase()}set type(g){G6("warn","Setting type has no effect",g)}constructor(g){super(),F(this,"_cacheContext",null),Object.assign(this,x.ownDefaults),this.setOptions(g)}_createCacheCanvas(){this._cacheCanvas=jg(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(g){let{width:_,height:O}=g,l=X0.maxCacheSideLimit,G=X0.minCacheSideLimit;if(_<=l&&O<=l&&_*O<=X0.perfLimitSizeTotal)return _<G&&(g.width=G),O<G&&(g.height=G),g;let w=_/O,[W,z]=OG.limitDimsByArea(w),p=y8(G,W,l),o=y8(G,z,l);return _>p&&(g.zoomX/=_/p,g.width=p,g.capped=!0),O>o&&(g.zoomY/=O/o,g.height=o,g.capped=!0),g}_getCacheCanvasDimensions(){let g=this.getTotalObjectScaling(),_=this._getTransformedDimensions({skewX:0,skewY:0}),O=_.x*g.x/this.scaleX,l=_.y*g.y/this.scaleY;return{width:Math.ceil(O+2),height:Math.ceil(l+2),zoomX:g.x,zoomY:g.y,x:O,y:l}}_updateCacheCanvas(){let g=this._cacheCanvas,_=this._cacheContext,{width:O,height:l,zoomX:G,zoomY:w,x:W,y:z}=this._limitCacheSize(this._getCacheCanvasDimensions()),p=O!==g.width||l!==g.height,o=this.zoomX!==G||this.zoomY!==w;if(!g||!_)return!1;if(p||o){O!==g.width||l!==g.height?(g.width=O,g.height=l):(_.setTransform(1,0,0,1,0,0),_.clearRect(0,0,g.width,g.height));let y=W/2,v=z/2;return this.cacheTranslationX=Math.round(g.width/2-y)+y,this.cacheTranslationY=Math.round(g.height/2-v)+v,_.translate(this.cacheTranslationX,this.cacheTranslationY),_.scale(G,w),this.zoomX=G,this.zoomY=w,!0}return!1}setOptions(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(g)}transform(g){let _=this.group&&!this.group._transformDone||this.group&&this.canvas&&g===this.canvas.contextTop,O=this.calcTransformMatrix(!_);g.transform(O[0],O[1],O[2],O[3],O[4],O[5])}getObjectScaling(){if(!this.group)return new E(Math.abs(this.scaleX),Math.abs(this.scaleY));let g=sl(this.calcTransformMatrix());return new E(Math.abs(g.scaleX),Math.abs(g.scaleY))}getTotalObjectScaling(){let g=this.getObjectScaling();if(this.canvas){let _=this.canvas.getZoom(),O=this.getCanvasRetinaScaling();return g.scalarMultiply(_*O)}return g}getObjectOpacity(){let g=this.opacity;return this.group&&(g*=this.group.getObjectOpacity()),g}_constrainScale(g){return Math.abs(g)<this.minScaleLimit?g<0?-this.minScaleLimit:this.minScaleLimit:g===0?0.0001:g}_set(g,_){g!==Bx&&g!==kg||(_=this._constrainScale(_)),g===Bx&&_<0?(this.flipX=!this.flipX,_*=-1):g==="scaleY"&&_<0?(this.flipY=!this.flipY,_*=-1):g!=="shadow"||!_||_ instanceof vO||(_=new vO(_));let O=this[g]!==_;return this[g]=_,O&&this.constructor.cacheProperties.includes(g)&&(this.dirty=!0),this.parent&&(this.dirty||O&&this.constructor.stateProperties.includes(g))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(g){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(g.save(),this._setupCompositeOperation(g),this.drawSelectionBackground(g),this.transform(g),this._setOpacity(g),this._setShadow(g),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(g)):(this._removeCacheCanvas(),this.drawObject(g,!1,{}),this.dirty=!1),g.restore())}drawSelectionBackground(g){}renderCache(g){if(g=g||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){let{zoomX:_,zoomY:O,cacheTranslationX:l,cacheTranslationY:G}=this,{width:w,height:W}=this._cacheCanvas;this.drawObject(this._cacheContext,g.forClipping,{zoomX:_,zoomY:O,cacheTranslationX:l,cacheTranslationY:G,width:w,height:W,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===ex&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(g,_,O){g.save(),_.inverted?g.globalCompositeOperation="destination-out":g.globalCompositeOperation="destination-in",g.setTransform(1,0,0,1,0,0),g.drawImage(O,0,0),g.restore()}drawObject(g,_,O){let l=this.fill,G=this.stroke;_?(this.fill="black",this.stroke="",this._setClippingProperties(g)):this._renderBackground(g),this._render(g),this._drawClipPath(g,this.clipPath,O),this.fill=l,this.stroke=G}createClipPathLayer(g,_){let O=g_(_),l=O.getContext("2d");if(l.translate(_.cacheTranslationX,_.cacheTranslationY),l.scale(_.zoomX,_.zoomY),g._cacheCanvas=O,_.parentClipPaths.forEach((G)=>{G.transform(l)}),_.parentClipPaths.push(g),g.absolutePositioned){let G=Ng(this.calcTransformMatrix());l.transform(G[0],G[1],G[2],G[3],G[4],G[5])}return g.transform(l),g.drawObject(l,!0,_),O}_drawClipPath(g,_,O){if(!_)return;_._transformDone=!0;let l=this.createClipPathLayer(_,O);this.drawClipPathOnCache(g,_,l)}drawCacheOnCanvas(g){g.scale(1/this.zoomX,1/this.zoomY),g.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let g=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let _=this._cacheCanvas,O=this._cacheContext;return!(!_||!O||g||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(_&&O&&!g&&(O.save(),O.setTransform(1,0,0,1,0,0),O.clearRect(0,0,_.width,_.height),O.restore()),!0)}_renderBackground(g){if(!this.backgroundColor)return;let _=this._getNonTransformedDimensions();g.fillStyle=this.backgroundColor,g.fillRect(-_.x/2,-_.y/2,_.x,_.y),this._removeShadow(g)}_setOpacity(g){this.group&&!this.group._transformDone?g.globalAlpha=this.getObjectOpacity():g.globalAlpha*=this.opacity}_setStrokeStyles(g,_){let O=_.stroke;O&&(g.lineWidth=_.strokeWidth,g.lineCap=_.strokeLineCap,g.lineDashOffset=_.strokeDashOffset,g.lineJoin=_.strokeLineJoin,g.miterLimit=_.strokeMiterLimit,Zg(O)?O.gradientUnits==="percentage"||O.gradientTransform||O.patternTransform?this._applyPatternForTransformedGradient(g,O):(g.strokeStyle=O.toLive(g),this._applyPatternGradientTransform(g,O)):g.strokeStyle=_.stroke)}_setFillStyles(g,_){let{fill:O}=_;O&&(Zg(O)?(g.fillStyle=O.toLive(g),this._applyPatternGradientTransform(g,O)):g.fillStyle=O)}_setClippingProperties(g){g.globalAlpha=1,g.strokeStyle="transparent",g.fillStyle="#000000"}_setLineDash(g,_){_&&_.length!==0&&g.setLineDash(_)}_setShadow(g){if(!this.shadow)return;let _=this.shadow,O=this.canvas,l=this.getCanvasRetinaScaling(),[G,,,w]=(O==null?void 0:O.viewportTransform)||nx,W=G*l,z=w*l,p=_.nonScaling?new E(1,1):this.getObjectScaling();g.shadowColor=_.color,g.shadowBlur=_.blur*X0.browserShadowBlurConstant*(W+z)*(p.x+p.y)/4,g.shadowOffsetX=_.offsetX*W*p.x,g.shadowOffsetY=_.offsetY*z*p.y}_removeShadow(g){this.shadow&&(g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0)}_applyPatternGradientTransform(g,_){if(!Zg(_))return{offsetX:0,offsetY:0};let O=_.gradientTransform||_.patternTransform,l=-this.width/2+_.offsetX||0,G=-this.height/2+_.offsetY||0;return _.gradientUnits==="percentage"?g.transform(this.width,0,0,this.height,l,G):g.transform(1,0,0,1,l,G),O&&g.transform(O[0],O[1],O[2],O[3],O[4],O[5]),{offsetX:l,offsetY:G}}_renderPaintInOrder(g){this.paintFirst===ex?(this._renderStroke(g),this._renderFill(g)):(this._renderFill(g),this._renderStroke(g))}_render(g){}_renderFill(g){this.fill&&(g.save(),this._setFillStyles(g,this),this.fillRule==="evenodd"?g.fill("evenodd"):g.fill(),g.restore())}_renderStroke(g){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(g),g.save(),this.strokeUniform){let _=this.getObjectScaling();g.scale(1/_.x,1/_.y)}this._setLineDash(g,this.strokeDashArray),this._setStrokeStyles(g,this),g.stroke(),g.restore()}}_applyPatternForTransformedGradient(g,_){var O;let l=this._limitCacheSize(this._getCacheCanvasDimensions()),G=this.getCanvasRetinaScaling(),w=l.x/this.scaleX/G,W=l.y/this.scaleY/G,z=g_({width:Math.ceil(w),height:Math.ceil(W)}),p=z.getContext("2d");p&&(p.beginPath(),p.moveTo(0,0),p.lineTo(w,0),p.lineTo(w,W),p.lineTo(0,W),p.closePath(),p.translate(w/2,W/2),p.scale(l.zoomX/this.scaleX/G,l.zoomY/this.scaleY/G),this._applyPatternGradientTransform(p,_),p.fillStyle=_.toLive(g),p.fill(),g.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),g.scale(G*this.scaleX/l.zoomX,G*this.scaleY/l.zoomY),g.strokeStyle=(O=p.createPattern(z,"no-repeat"))!==null&&O!==void 0?O:"")}_findCenterFromElement(){return new E(this.left+this.width/2,this.top+this.height/2)}clone(g){let _=this.toObject(g);return this.constructor.fromObject(_)}cloneAsImage(g){let _=this.toCanvasElement(g);return new(z0.getClass("image"))(_)}toCanvasElement(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=I2(this),O=this.group,l=this.shadow,G=Math.abs,w=g.enableRetinaScaling?hf():1,W=(g.multiplier||1)*w,z=g.canvasProvider||((N)=>new qG(N,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,g.withoutTransform&&nf(this),g.withoutShadow&&(this.shadow=null),g.viewportTransform&&W2(this,this.getViewportTransform()),this.setCoords();let p=jg(),o=this.getBoundingRect(),y=this.shadow,v=new E;if(y){let N=y.blur,C=y.nonScaling?new E(1,1):this.getObjectScaling();v.x=2*Math.round(G(y.offsetX)+N)*G(C.x),v.y=2*Math.round(G(y.offsetY)+N)*G(C.y)}let k=o.width+v.x,M=o.height+v.y;p.width=Math.ceil(k),p.height=Math.ceil(M);let f=z(p);g.format==="jpeg"&&(f.backgroundColor="#fff"),this.setPositionByOrigin(new E(f.width/2,f.height/2),c0,c0);let Y=this.canvas;f._objects=[this],this.set("canvas",f),this.setCoords();let q=f.toCanvasElement(W||1,g);return this.set("canvas",Y),this.shadow=l,O&&(this.group=O),this.set(_),this.setCoords(),f._objects=[],f.destroy(),q}toDataURL(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return X2(this.toCanvasElement(g),g.format||"png",g.quality||1)}toBlob(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return F2(this.toCanvasElement(g),g.format||"png",g.quality||1)}isType(){for(var g=arguments.length,_=new Array(g),O=0;O<g;O++)_[O]=arguments[O];return _.includes(this.constructor.type)||_.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(g){let{centeredRotation:_,originX:O,originY:l}=this;if(_){let{x:G,y:w}=this.getRelativeCenterPoint();this.originX=c0,this.originY=c0,this.left=G,this.top=w}if(this.set("angle",g),_){let{x:G,y:w}=this.translateToOriginPoint(this.getRelativeCenterPoint(),O,l);this.left=G,this.top=w,this.originX=O,this.originY=l}}setOnGroup(){}_setupCompositeOperation(g){this.globalCompositeOperation&&(g.globalCompositeOperation=this.globalCompositeOperation)}dispose(){HW.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&V_().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(g,_){return Object.entries(g).reduce((O,l)=>{let[G,w]=l;return O[G]=this._animate(G,w,_),O},{})}_animate(g,_){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=g.split("."),G=this.constructor.colorProperties.includes(l[l.length-1]),{abort:w,startValue:W,onChange:z,onComplete:p}=O,o=X(X({},O),{},{target:this,startValue:W!=null?W:l.reduce((y,v)=>y[v],this),endValue:_,abort:w==null?void 0:w.bind(this),onChange:(y,v,k)=>{l.reduce((M,f,Y)=>(Y===l.length-1&&(M[f]=y),M[f]),this),z&&z(y,v,k)},onComplete:(y,v,k)=>{this.setCoords(),p&&p(y,v,k)}});return G?xY(o):E2(o)}isDescendantOf(g){let{parent:_,group:O}=this;return _===g||O===g||!!_&&_.isDescendantOf(g)||!!O&&O!==_&&O.isDescendantOf(g)}getAncestors(){let g=[],_=this;do _=_.parent,_&&g.push(_);while(_);return g}findCommonAncestors(g){if(this===g)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let _=this.getAncestors(),O=g.getAncestors();if(_.length===0&&O.length>0&&this===O[O.length-1])return{fork:[],otherFork:[g,...O.slice(0,O.length-1)],common:[this]};for(let l,G=0;G<_.length;G++){if(l=_[G],l===g)return{fork:[this,..._.slice(0,G)],otherFork:[],common:_.slice(G)};for(let w=0;w<O.length;w++){if(this===O[w])return{fork:[],otherFork:[g,...O.slice(0,w)],common:[this,..._]};if(l===O[w])return{fork:[this,..._.slice(0,G)],otherFork:[g,...O.slice(0,w)],common:_.slice(G)}}}return{fork:[this,..._],otherFork:[g,...O],common:[]}}hasCommonAncestors(g){let _=this.findCommonAncestors(g);return _&&!!_.common.length}isInFrontOf(g){if(this===g)return;let _=this.findCommonAncestors(g);if(_.fork.includes(g))return!0;if(_.otherFork.includes(this))return!1;let O=_.common[0]||this.canvas;if(!O)return;let l=_.fork.pop(),G=_.otherFork.pop(),w=O._objects.indexOf(l),W=O._objects.indexOf(G);return w>-1&&w>W}toObject(){let g=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(x.customProperties,this.constructor.customProperties||[]),_,O=X0.NUM_FRACTION_DIGITS,{clipPath:l,fill:G,stroke:w,shadow:W,strokeDashArray:z,left:p,top:o,originX:y,originY:v,width:k,height:M,strokeWidth:f,strokeLineCap:Y,strokeDashOffset:q,strokeLineJoin:N,strokeUniform:C,strokeMiterLimit:d,scaleX:c,scaleY:A,angle:b,flipX:j,flipY:Q,opacity:V,visible:u,backgroundColor:r,fillRule:L,paintFirst:D,globalCompositeOperation:S,skewX:T,skewY:t}=this;l&&!l.excludeFromExport&&(_=l.toObject(g.concat("inverted","absolutePositioned")));let e=(B)=>J0(B,O),C0=X(X({},k8(this,g)),{},{type:this.constructor.type,version:O2,originX:y,originY:v,left:e(p),top:e(o),width:e(k),height:e(M),fill:TM(G)?G.toObject():G,stroke:TM(w)?w.toObject():w,strokeWidth:e(f),strokeDashArray:z?z.concat():z,strokeLineCap:Y,strokeDashOffset:q,strokeLineJoin:N,strokeUniform:C,strokeMiterLimit:e(d),scaleX:e(c),scaleY:e(A),angle:e(b),flipX:j,flipY:Q,opacity:e(V),shadow:W?W.toObject():W,visible:u,backgroundColor:r,fillRule:L,paintFirst:D,globalCompositeOperation:S,skewX:e(T),skewY:e(t)},_?{clipPath:_}:null);return this.includeDefaultValues?C0:this._removeDefaultValues(C0)}toDatalessObject(g){return this.toObject(g)}_removeDefaultValues(g){let _=this.constructor.getDefaults(),O=Object.keys(_).length>0?_:Object.getPrototypeOf(this);return S2(g,(l,G)=>{if(G===r0||G===sx||G==="type")return!0;let w=O[G];return l!==w&&!(Array.isArray(l)&&Array.isArray(w)&&l.length===0&&w.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(g){let _=a0(g,eA),O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:l}=O,G=a0(O,xu);return kG(_,G).then((w)=>l?(delete w[l],new this(_[l],w)):new this(w))}static fromObject(g,_){return this._fromObject(g,_)}};F(GO,"stateProperties",HA),F(GO,"cacheProperties",kO),F(GO,"ownDefaults",JA),F(GO,"type","FabricObject"),F(GO,"colorProperties",[dx,ex,"backgroundColor"]),F(GO,"customProperties",[]),z0.setClass(GO),z0.setClass(GO,"object");var o6=(x,g,_)=>(O,l,G,w)=>{let W=g(O,l,G,w);return W&&Z2(x,X(X({},j2(O,l,G,w)),_)),W};function q8(x){return(g,_,O,l)=>{let{target:G,originX:w,originY:W}=_,z=G.getRelativeCenterPoint(),p=G.translateToOriginPoint(z,w,W),o=x(g,_,O,l);return G.setPositionByOrigin(p,_.originX,_.originY),o}}var o2=o6(zG,q8((x,g,_,O)=>{let l=op(g,g.originX,g.originY,_,O);if(yx(g.originX)===yx(c0)||yx(g.originX)===yx(Wx)&&l.x<0||yx(g.originX)===yx(r0)&&l.x>0){let{target:G}=g,w=G.strokeWidth/(G.strokeUniform?G.scaleX:1),W=$f(g)?2:1,z=G.width,p=Math.abs(l.x*W/G.scaleX)-w;return G.set("width",Math.max(p,1)),z!==G.width}return!1}));function _Y(x,g,_,O,l){O=O||{};let G=this.sizeX||O.cornerSize||l.cornerSize,w=this.sizeY||O.cornerSize||l.cornerSize,W=O.transparentCorners!==void 0?O.transparentCorners:l.transparentCorners,z=W?ex:dx,p=!W&&(O.cornerStrokeColor||l.cornerStrokeColor),o,y=g,v=_;x.save(),x.fillStyle=O.cornerColor||l.cornerColor||"",x.strokeStyle=O.cornerStrokeColor||l.cornerStrokeColor||"",G>w?(o=G,x.scale(1,w/G),v=_*G/w):w>G?(o=w,x.scale(G/w,1),y=g*w/G):o=G,x.beginPath(),x.arc(y,v,o/2,0,NO,!1),x[z](),p&&x.stroke(),x.restore()}function OY(x,g,_,O,l){O=O||{};let G=this.sizeX||O.cornerSize||l.cornerSize,w=this.sizeY||O.cornerSize||l.cornerSize,W=O.transparentCorners!==void 0?O.transparentCorners:l.transparentCorners,z=W?ex:dx,p=!W&&(O.cornerStrokeColor||l.cornerStrokeColor),o=G/2,y=w/2;x.save(),x.fillStyle=O.cornerColor||l.cornerColor||"",x.strokeStyle=O.cornerStrokeColor||l.cornerStrokeColor||"",x.translate(g,_);let v=l.getTotalAngle();x.rotate(Ox(v)),x["".concat(z,"Rect")](-o,-y,G,w),p&&x.strokeRect(-o,-y,G,w),x.restore()}class Tx{constructor(x){F(this,"visible",!0),F(this,"actionName",wp),F(this,"angle",0),F(this,"x",0),F(this,"y",0),F(this,"offsetX",0),F(this,"offsetY",0),F(this,"sizeX",0),F(this,"sizeY",0),F(this,"touchSizeX",0),F(this,"touchSizeY",0),F(this,"cursorStyle","crosshair"),F(this,"withConnection",!1),Object.assign(this,x)}shouldActivate(x,g,_,O){var l;let{tl:G,tr:w,br:W,bl:z}=O;return((l=g.canvas)===null||l===void 0?void 0:l.getActiveObject())===g&&g.isControlVisible(x)&&t0.isPointInPolygon(_,[G,w,W,z])}getActionHandler(x,g,_){return this.actionHandler}getMouseDownHandler(x,g,_){return this.mouseDownHandler}getMouseUpHandler(x,g,_){return this.mouseUpHandler}cursorStyleHandler(x,g,_){return g.cursorStyle}getActionName(x,g,_){return g.actionName}getVisibility(x,g){var _,O;return(_=(O=x._controlsVisibility)===null||O===void 0?void 0:O[g])!==null&&_!==void 0?_:this.visible}setVisibility(x,g,_){this.visible=x}positionHandler(x,g,_,O){return new E(this.x*x.x+this.offsetX,this.y*x.y+this.offsetY).transform(g)}calcCornerCoords(x,g,_,O,l,G){let w=Wp([l7(_,O),G7({angle:x}),pp((l?this.touchSizeX:this.sizeX)||g,(l?this.touchSizeY:this.sizeY)||g)]);return{tl:new E(-0.5,-0.5).transform(w),tr:new E(0.5,-0.5).transform(w),br:new E(0.5,0.5).transform(w),bl:new E(-0.5,0.5).transform(w)}}render(x,g,_,O,l){if(((O=O||{}).cornerStyle||l.cornerStyle)==="circle")_Y.call(this,x,g,_,O,l);else OY.call(this,x,g,_,O,l)}}var lY=(x,g,_)=>_.lockRotation?aW:g.cursorStyle,GY=o6(bf,q8((x,g,_,O)=>{let{target:l,ex:G,ey:w,theta:W,originX:z,originY:p}=g,o=l.translateToOriginPoint(l.getRelativeCenterPoint(),z,p);if(tg(l,"lockRotation"))return!1;let y=Math.atan2(w-o.y,G-o.x),v=Math.atan2(O-o.y,_-o.x),k=p6(v-y+W);if(l.snapAngle&&l.snapAngle>0){let f=l.snapAngle,Y=l.snapThreshold||f,q=Math.ceil(k/f)*f,N=Math.floor(k/f)*f;Math.abs(k-N)<Y?k=N:Math.abs(k-q)<Y&&(k=q)}k<0&&(k=360+k),k%=360;let M=l.angle!==k;return l.angle=k,M}));function wY(x,g){let _=g.canvas,O=x[_.uniScaleKey];return _.uniformScaling&&!O||!_.uniformScaling&&O}function WY(x,g,_){let O=tg(x,"lockScalingX"),l=tg(x,"lockScalingY");if(O&&l)return!0;if(!g&&(O||l)&&_)return!0;if(O&&g==="x")return!0;if(l&&g==="y")return!0;let{width:G,height:w,strokeWidth:W}=x;return G===0&&W===0&&g!=="y"||w===0&&W===0&&g!=="x"}var gu=["e","se","s","sw","w","nw","n","ne","e"],Sl=(x,g,_)=>{let O=wY(x,_);if(WY(_,g.x!==0&&g.y===0?"x":g.x===0&&g.y!==0?"y":"",O))return aW;let l=Hf(_,g);return"".concat(gu[l],"-resize")};function n2(x,g,_,O){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},G=g.target,w=l.by,W=wY(x,G),z,p,o,y,v,k;if(WY(G,w,W))return!1;if(g.gestureScale)p=g.scaleX*g.gestureScale,o=g.scaleY*g.gestureScale;else{if(z=op(g,g.originX,g.originY,_,O),v=w!=="y"?Math.sign(z.x||g.signX||1):1,k=w!=="x"?Math.sign(z.y||g.signY||1):1,g.signX||(g.signX=v),g.signY||(g.signY=k),tg(G,"lockScalingFlip")&&(g.signX!==v||g.signY!==k))return!1;if(y=G._getTransformedDimensions(),W&&!w){let Y=Math.abs(z.x)+Math.abs(z.y),{original:q}=g,N=Y/(Math.abs(y.x*q.scaleX/G.scaleX)+Math.abs(y.y*q.scaleY/G.scaleY));p=q.scaleX*N,o=q.scaleY*N}else p=Math.abs(z.x*G.scaleX/y.x),o=Math.abs(z.y*G.scaleY/y.y);$f(g)&&(p*=2,o*=2),g.signX!==v&&w!=="y"&&(g.originX=eM(g.originX),p*=-1,g.signX=v),g.signY!==k&&w!=="x"&&(g.originY=eM(g.originY),o*=-1,g.signY=k)}let{scaleX:M,scaleY:f}=G;return w?(w==="x"&&G.set(Bx,p),w==="y"&&G.set(kg,o)):(!tg(G,"lockScalingX")&&G.set(Bx,p),!tg(G,"lockScalingY")&&G.set(kg,o)),M!==G.scaleX||f!==G.scaleY}var e9=o6(Gp,q8((x,g,_,O)=>n2(x,g,_,O))),pY=o6(Gp,q8((x,g,_,O)=>n2(x,g,_,O,{by:"x"}))),zY=o6(Gp,q8((x,g,_,O)=>n2(x,g,_,O,{by:"y"}))),_u=["target","ex","ey","skewingSide"],Ty={x:{counterAxis:"y",scale:Bx,skew:_7,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:kg,skew:O7,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},Ou=["ns","nesw","ew","nwse"],oY=(x,g,_)=>{if(g.x!==0&&tg(_,"lockSkewingY"))return aW;if(g.y!==0&&tg(_,"lockSkewingX"))return aW;let O=Hf(_,g)%4;return"".concat(Ou[O],"-resize")};function vY(x,g,_,O,l){let{target:G}=_,{counterAxis:w,origin:W,lockSkewing:z,skew:p,flip:o}=Ty[x];if(tg(G,z))return!1;let{origin:y,flip:v}=Ty[w],k=yx(_[y])*(G[v]?-1:1),M=-Math.sign(k)*(G[o]?-1:1),f=0.5*-((G[p]===0&&op(_,c0,c0,O,l)[x]>0||G[p]>0?1:-1)*M)+0.5;return o6(mf,q8((q,N,C,d)=>function(c,A,b){let{target:j,ex:Q,ey:V,skewingSide:u}=A,r=a0(A,_u),{skew:L}=Ty[c],D=b.subtract(new E(Q,V)).divide(new E(j.scaleX,j.scaleY))[c],S=j[L],T=r[L],t=Math.tan(Ox(T)),e=c==="y"?j._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:j._getTransformedDimensions({scaleX:1,scaleY:1}).y,C0=2*D*u/Math.max(e,1)+t,B=p6(Math.atan(C0));j.set(L,B);let o0=S!==j[L];if(o0&&c==="y"){let{skewX:m,scaleX:J}=j,O0=j._getTransformedDimensions({skewY:S}),i=j._getTransformedDimensions(),p0=m!==0?O0.x/i.x:1;p0!==1&&j.set(Bx,p0*J)}return o0}(x,N,new E(C,d))))(g,X(X({},_),{},{[W]:f,skewingSide:M}),O,l)}var yY=(x,g,_,O)=>vY("x",x,g,_,O),NY=(x,g,_,O)=>vY("y",x,g,_,O);function kp(x,g){return x[g.canvas.altActionKey]}var xG=(x,g,_)=>{let O=kp(x,_);return g.x===0?O?_7:kg:g.y===0?O?O7:Bx:""},w8=(x,g,_)=>kp(x,_)?oY(0,g,_):Sl(x,g,_),v2=(x,g,_,O)=>kp(x,g.target)?NY(x,g,_,O):pY(x,g,_,O),y2=(x,g,_,O)=>kp(x,g.target)?yY(x,g,_,O):zY(x,g,_,O),B2=()=>({ml:new Tx({x:-0.5,y:0,cursorStyleHandler:w8,actionHandler:v2,getActionName:xG}),mr:new Tx({x:0.5,y:0,cursorStyleHandler:w8,actionHandler:v2,getActionName:xG}),mb:new Tx({x:0,y:0.5,cursorStyleHandler:w8,actionHandler:y2,getActionName:xG}),mt:new Tx({x:0,y:-0.5,cursorStyleHandler:w8,actionHandler:y2,getActionName:xG}),tl:new Tx({x:-0.5,y:-0.5,cursorStyleHandler:Sl,actionHandler:e9}),tr:new Tx({x:0.5,y:-0.5,cursorStyleHandler:Sl,actionHandler:e9}),bl:new Tx({x:-0.5,y:0.5,cursorStyleHandler:Sl,actionHandler:e9}),br:new Tx({x:0.5,y:0.5,cursorStyleHandler:Sl,actionHandler:e9}),mtr:new Tx({x:0,y:-0.5,actionHandler:GY,cursorStyleHandler:lY,offsetY:-40,withConnection:!0,actionName:m2})}),kY=()=>({mr:new Tx({x:0.5,y:0,actionHandler:o2,cursorStyleHandler:w8,actionName:zG}),ml:new Tx({x:-0.5,y:0,actionHandler:o2,cursorStyleHandler:w8,actionName:zG})}),qY=()=>X(X({},B2()),kY());class yG extends GO{static getDefaults(){return X(X({},super.getDefaults()),yG.ownDefaults)}constructor(x){super(),Object.assign(this,this.constructor.createControls(),yG.ownDefaults),this.setOptions(x)}static createControls(){return{controls:B2()}}_updateCacheCanvas(){let x=this.canvas;if(this.noScaleCache&&x&&x._currentTransform){let g=x._currentTransform,_=g.target,O=g.action;if(this===_&&O&&O.startsWith(wp))return!1}return super._updateCacheCanvas()}getActiveControl(){let x=this.__corner;return x?{key:x,control:this.controls[x],coord:this.oCoords[x]}:void 0}findControl(x){let g=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let _=Object.entries(this.oCoords);for(let O=_.length-1;O>=0;O--){let[l,G]=_[O],w=this.controls[l];if(w.shouldActivate(l,this,x,g?G.touchCorner:G.corner))return this.__corner=l,{key:l,control:w,coord:this.oCoords[l]}}}calcOCoords(){let x=this.getViewportTransform(),g=this.getCenterPoint(),_=l7(g.x,g.y),O=G7({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),l=lx(_,O),G=lx(x,l),w=lx(G,[1/x[0],0,0,1/x[3],0,0]),W=this.group?sl(this.calcTransformMatrix()):void 0;W&&(W.scaleX=Math.abs(W.scaleX),W.scaleY=Math.abs(W.scaleY));let z=this._calculateCurrentDimensions(W),p={};return this.forEachControl((o,y)=>{let v=o.positionHandler(z,w,this,o);p[y]=Object.assign(v,this._calcCornerCoords(o,v))}),p}_calcCornerCoords(x,g){let _=this.getTotalAngle();return{corner:x.calcCornerCoords(_,this.cornerSize,g.x,g.y,!1,this),touchCorner:x.calcCornerCoords(_,this.touchCornerSize,g.x,g.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(x){for(let g in this.controls)x(this.controls[g],g,this)}drawSelectionBackground(x){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;x.save();let g=this.getRelativeCenterPoint(),_=this._calculateCurrentDimensions(),O=this.getViewportTransform();x.translate(g.x,g.y),x.scale(1/O[0],1/O[3]),x.rotate(Ox(this.angle)),x.fillStyle=this.selectionBackgroundColor,x.fillRect(-_.x/2,-_.y/2,_.x,_.y),x.restore()}strokeBorders(x,g){x.strokeRect(-g.x/2,-g.y/2,g.x,g.y)}_drawBorders(x,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=X({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},_);x.save(),x.strokeStyle=O.borderColor,this._setLineDash(x,O.borderDashArray),this.strokeBorders(x,g),O.hasControls&&this.drawControlsConnectingLines(x,g),x.restore()}_renderControls(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:_,hasControls:O}=this,l=X({hasBorders:_,hasControls:O},g),G=this.getViewportTransform(),w=l.hasBorders,W=l.hasControls,z=lx(G,this.calcTransformMatrix()),p=sl(z);x.save(),x.translate(p.translateX,p.translateY),x.lineWidth=this.borderScaleFactor,this.group===this.parent&&(x.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(p.angle-=180),x.rotate(Ox(this.group?p.angle:this.angle)),w&&this.drawBorders(x,p,g),W&&this.drawControls(x,g),x.restore()}drawBorders(x,g,_){let O;if(_&&_.forActiveSelection||this.group){let l=zp(this.width,this.height,NG(g)),G=this.isStrokeAccountedForInDimensions()?V2:(this.strokeUniform?new E().scalarAdd(this.canvas?this.canvas.getZoom():1):new E(g.scaleX,g.scaleY)).scalarMultiply(this.strokeWidth);O=l.add(G).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else O=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(x,O,_)}drawControlsConnectingLines(x,g){let _=!1;x.beginPath(),this.forEachControl((O,l)=>{O.withConnection&&O.getVisibility(this,l)&&(_=!0,x.moveTo(O.x*g.x,O.y*g.y),x.lineTo(O.x*g.x+O.offsetX,O.y*g.y+O.offsetY))}),_&&x.stroke()}drawControls(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};x.save();let _=this.getCanvasRetinaScaling(),{cornerStrokeColor:O,cornerDashArray:l,cornerColor:G}=this,w=X({cornerStrokeColor:O,cornerDashArray:l,cornerColor:G},g);x.setTransform(_,0,0,_,0,0),x.strokeStyle=x.fillStyle=w.cornerColor,this.transparentCorners||(x.strokeStyle=w.cornerStrokeColor),this._setLineDash(x,w.cornerDashArray),this.forEachControl((W,z)=>{if(W.getVisibility(this,z)){let p=this.oCoords[z];W.render(x,p.x,p.y,w,this)}}),x.restore()}isControlVisible(x){return this.controls[x]&&this.controls[x].getVisibility(this,x)}setControlVisible(x,g){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[x]=g}setControlsVisibility(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(x).forEach((g)=>{let[_,O]=g;return this.setControlVisible(_,O)})}clearContextTop(x){if(!this.canvas)return;let g=this.canvas.contextTop;if(!g)return;let _=this.canvas.viewportTransform;g.save(),g.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this.transform(g);let O=this.width+4,l=this.height+4;return g.clearRect(-O/2,-l/2,O,l),x||g.restore(),g}onDeselect(x){return!1}onSelect(x){return!1}shouldStartDragging(x){return!1}onDragStart(x){return!1}canDrop(x){return!1}renderDragSourceEffect(x){}renderDropTargetEffect(x){}}function CY(x,g){return g.forEach((_)=>{Object.getOwnPropertyNames(_.prototype).forEach((O)=>{O!=="constructor"&&Object.defineProperty(x.prototype,O,Object.getOwnPropertyDescriptor(_.prototype,O)||Object.create(null))})}),x}F(yG,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:0.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class Lx extends yG{}CY(Lx,[U2]),z0.setClass(Lx),z0.setClass(Lx,"object");var dY=(x,g,_,O)=>{let l=2*(O=Math.round(O))+1,{data:G}=x.getImageData(g-O,_-O,l,l);for(let w=3;w<G.length;w+=4)if(G[w]>0)return!1;return!0};class $2{constructor(x){this.options=x,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new E(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new E(1/this.options.scaleX,1/this.options.scaleY):new E(1,1)}createSideVector(x,g){let _=PW(x,g);return this.options.strokeUniform?_.multiply(this.scale):_}projectOrthogonally(x,g,_){return this.applySkew(x.add(this.calcOrthogonalProjection(x,g,_)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(x){let g=new E(x);return g.y+=g.x*Math.tan(Ox(this.options.skewY)),g.x+=g.y*Math.tan(Ox(this.options.skewX)),g}scaleUnitVector(x,g){return x.multiply(this.strokeUniformScalar).scalarMultiply(g)}}var lu=new E;class Tl extends $2{static getOrthogonalRotationFactor(x,g){let _=g?TW(x,g):Pf(x);return Math.abs(_)<w6?-1:1}constructor(x,g,_,O){super(O),F(this,"AB",void 0),F(this,"AC",void 0),F(this,"alpha",void 0),F(this,"bisector",void 0),this.A=new E(x),this.B=new E(g),this.C=new E(_),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=TW(this.AB,this.AC),this.bisector=yp(Q2(this.AB.eq(lu)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(x,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,O=this.createSideVector(x,g),l=D2(O),G=Tl.getOrthogonalRotationFactor(l,this.bisector);return this.scaleUnitVector(l,_*G)}projectBevel(){let x=[];return(this.alpha%NO==0?[this.B]:[this.B,this.C]).forEach((g)=>{x.push(this.projectOrthogonally(this.A,g)),x.push(this.projectOrthogonally(this.A,g,-this.strokeProjectionMagnitude))}),x}projectMiter(){let x=[],g=Math.abs(this.alpha),_=1/Math.sin(g/2),O=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*_),l=this.options.strokeUniform?RW(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return RW(O)/this.strokeProjectionMagnitude<=l&&x.push(this.applySkew(this.A.add(O))),x.push(...this.projectBevel()),x}projectRoundNoSkew(x,g){let _=[],O=new E(Tl.getOrthogonalRotationFactor(this.bisector),Tl.getOrthogonalRotationFactor(new E(this.bisector.y,this.bisector.x)));return[new E(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(O),new E(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(O)].forEach((l)=>{p2(l,x,g)&&_.push(this.A.add(l))}),_}projectRoundWithSkew(x,g){let _=[],{skewX:O,skewY:l,scaleX:G,scaleY:w,strokeUniform:W}=this.options,z=new E(Math.tan(Ox(O)),Math.tan(Ox(l))),p=this.strokeProjectionMagnitude,o=W?p/w/Math.sqrt(1/w**2+1/G**2*z.y**2):p/Math.sqrt(1+z.y**2),y=new E(Math.sqrt(Math.max(p**2-o**2,0)),o),v=W?p/Math.sqrt(1+z.x**2*(1/w)**2/(1/G+1/G*z.x*z.y)**2):p/Math.sqrt(1+z.x**2/(1+z.x*z.y)**2),k=new E(v,Math.sqrt(Math.max(p**2-v**2,0)));return[k,k.scalarMultiply(-1),y,y.scalarMultiply(-1)].map((M)=>this.applySkew(W?M.multiply(this.strokeUniformScalar):M)).forEach((M)=>{p2(M,x,g)&&_.push(this.applySkew(this.A).add(M))}),_}projectRound(){let x=[];x.push(...this.projectBevel());let g=this.alpha%NO==0,_=this.applySkew(this.A),O=x[g?0:2].subtract(_),l=x[g?1:0].subtract(_),G=g?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),w=Rl(O,G)>0,W=w?O:l,z=w?l:O;return this.isSkewed()?x.push(...this.projectRoundWithSkew(W,z)):x.push(...this.projectRoundNoSkew(W,z)),x}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((x)=>({originPoint:this.A,projectedPoint:x,angle:this.alpha,bisector:this.bisector}))}}class N2 extends $2{constructor(x,g,_){super(_),this.A=new E(x),this.T=new E(g)}calcOrthogonalProjection(x,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,O=this.createSideVector(x,g);return this.scaleUnitVector(D2(O),_)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let x=[];if(!this.isSkewed()&&this.A.eq(this.T)){let g=new E(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);x.push(this.applySkew(this.A.add(g)),this.applySkew(this.A.subtract(g)))}else x.push(...new Tl(this.A,this.T,this.T,this.options).projectRound());return x}projectSquare(){let x=[];if(this.A.eq(this.T)){let g=new E(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);x.push(this.A.add(g),this.A.subtract(g))}else{let g=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),_=this.scaleUnitVector(yp(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),O=this.A.add(_);x.push(O.add(g),O.subtract(g))}return x.map((g)=>this.applySkew(g))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((x)=>({originPoint:this.A,projectedPoint:x}))}}var MY=function(x,g){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2],O=[];if(x.length===0)return O;let l=x.reduce((G,w)=>(G[G.length-1].eq(w)||G.push(new E(w)),G),[new E(x[0])]);if(l.length===1)_=!0;else if(!_){let G=l[0],w=((W,z)=>{for(let p=W.length-1;p>=0;p--)if(z(W[p],p,W))return p;return-1})(l,(W)=>!W.eq(G));l.splice(w+1)}return l.forEach((G,w,W)=>{let z,p;w===0?(p=W[1],z=_?G:W[W.length-1]):w===W.length-1?(z=W[w-1],p=_?G:W[0]):(z=W[w-1],p=W[w+1]),_&&W.length===1?O.push(...new N2(G,G,g).project()):!_||w!==0&&w!==W.length-1?O.push(...new Tl(G,z,p,g).project()):O.push(...new N2(G,w===0?p:z,g).project())}),O},i2=(x)=>{let g={};return Object.keys(x).forEach((_)=>{g[_]={},Object.keys(x[_]).forEach((O)=>{g[_][O]=X({},x[_][O])})}),g},fY=(x)=>x.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),qp=(x)=>{let g=[];for(let _,O=0;O<x.length;O++)(_=Gu(x,O))!==!1&&g.push(_);return g},Gu=(x,g)=>{let _=x.charCodeAt(g);if(isNaN(_))return"";if(_<55296||_>57343)return x.charAt(g);if(55296<=_&&_<=56319){if(x.length<=g+1)throw"High surrogate without following low surrogate";let l=x.charCodeAt(g+1);if(56320>l||l>57343)throw"High surrogate without following low surrogate";return x.charAt(g)+x.charAt(g+1)}if(g===0)throw"Low surrogate without preceding high surrogate";let O=x.charCodeAt(g-1);if(55296>O||O>56319)throw"Low surrogate without preceding high surrogate";return!1},wu=Object.freeze({__proto__:null,capitalize:function(x){let g=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(x.charAt(0).toUpperCase()).concat(g?x.slice(1):x.slice(1).toLowerCase())},escapeXml:fY,graphemeSplit:qp}),Cp=function(x,g){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return x.fill!==g.fill||x.stroke!==g.stroke||x.strokeWidth!==g.strokeWidth||x.fontSize!==g.fontSize||x.fontFamily!==g.fontFamily||x.fontWeight!==g.fontWeight||x.fontStyle!==g.fontStyle||x.textBackgroundColor!==g.textBackgroundColor||x.deltaY!==g.deltaY||_&&(x.overline!==g.overline||x.underline!==g.underline||x.linethrough!==g.linethrough)},YY=(x,g)=>{let _=g.split(`
`),O=[],l=-1,G={};x=i2(x);for(let w=0;w<_.length;w++){let W=qp(_[w]);if(x[w])for(let z=0;z<W.length;z++){l++;let p=x[w][z];p&&Object.keys(p).length>0&&(Cp(G,p,!0)?O.push({start:l,end:l+1,style:p}):O[O.length-1].end++),G=p||{}}else l+=W.length,G={}}return O},cY=(x,g)=>{if(!Array.isArray(x))return i2(x);let _=g.split(b2),O={},l=-1,G=0;for(let w=0;w<_.length;w++){let W=qp(_[w]);for(let z=0;z<W.length;z++)l++,x[G]&&x[G].start<=l&&l<x[G].end&&(O[w]=O[w]||{},O[w][z]=X({},x[G].style),l===x[G].end-1&&G++)}return O},v6=["display","transform",dx,"fill-opacity","fill-rule","opacity",ex,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function wf(x,g){let _=x.nodeName,O=x.getAttribute("class"),l=x.getAttribute("id"),w;if(w=new RegExp("^"+_,"i"),g=g.replace(w,""),l&&g.length&&(w=new RegExp("#"+l+"(?![a-zA-Z\\-]+)","i"),g=g.replace(w,"")),O&&g.length){let W=O.split(" ");for(let z=W.length;z--;)w=new RegExp("\\."+W[z]+"(?![a-zA-Z\\-]+)","i"),g=g.replace(w,"")}return g.length===0}function Wu(x,g){let _=!0,O=wf(x,g.pop());return O&&g.length&&(_=function(l,G){let w,W=!0;for(;l.parentElement&&l.parentElement.nodeType===1&&G.length;)W&&(w=G.pop()),W=wf(l=l.parentElement,w);return G.length===0}(x,g)),O&&_&&g.length===0}var pu=(x)=>{var g;return(g=$A[x])!==null&&g!==void 0?g:x},zu=new RegExp("(".concat(sg,")"),"gi"),ou=(x)=>x.replace(zu," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),Wf,pf,zf,of,vf,yf,Nf,Ex="(".concat(sg,")"),vu=String.raw(Wf||(Wf=z6(["(skewX)(",")"],["(skewX)\\(","\\)"])),Ex),yu=String.raw(pf||(pf=z6(["(skewY)(",")"],["(skewY)\\(","\\)"])),Ex),Nu=String.raw(zf||(zf=z6(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),Ex,Ex,Ex),ku=String.raw(of||(of=z6(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),Ex,Ex),qu=String.raw(vf||(vf=z6(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),Ex,Ex),Cu=String.raw(yf||(yf=z6(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),Ex,Ex,Ex,Ex,Ex,Ex),H2="(?:".concat(Cu,"|").concat(qu,"|").concat(Nu,"|").concat(ku,"|").concat(vu,"|").concat(yu,")"),du="(?:".concat(H2,"*)"),Mu=String.raw(Nf||(Nf=z6(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),du),fu=new RegExp(Mu),Yu=new RegExp(H2),cu=new RegExp(H2,"g");function k2(x){let g=[];if(!(x=ou(x).replace(/\s*([()])\s*/gi,"$1"))||x&&!fu.test(x))return[...nx];for(let _ of x.matchAll(cu)){let O=Yu.exec(_[0]);if(!O)continue;let l=nx,G=O.filter((M)=>!!M),[,w,...W]=G,[z,p,o,y,v,k]=W.map((M)=>parseFloat(M));switch(w){case"translate":l=l7(z,p);break;case m2:l=G7({angle:z},{x:p,y:o});break;case wp:l=pp(z,p);break;case _7:l=A2(z);break;case O7:l=u2(z);break;case"matrix":l=[z,p,o,y,v,k]}g.push(l)}return Wp(g)}function hu(x,g,_,O){let l=Array.isArray(g),G,w=g;if(x!==dx&&x!==ex||g!==tx){if(x==="strokeUniform")return g==="non-scaling-stroke";if(x==="strokeDashArray")w=g===tx?null:g.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(x==="transformMatrix")w=_&&_.transformMatrix?lx(_.transformMatrix,k2(g)):k2(g);else if(x==="visible")w=g!==tx&&g!=="hidden",_&&_.visible===!1&&(w=!1);else if(x==="opacity")w=parseFloat(g),_&&_.opacity!==void 0&&(w*=_.opacity);else if(x==="textAnchor")w=g==="start"?r0:g==="end"?Wx:c0;else if(x==="charSpacing")G=v8(g,O)/O*1000;else if(x==="paintFirst"){let W=g.indexOf(dx),z=g.indexOf(ex);w=dx,(W>-1&&z>-1&&z<W||W===-1&&z>-1)&&(w=ex)}else{if(x==="href"||x==="xlink:href"||x==="font"||x==="id")return g;if(x==="imageSmoothing")return g==="optimizeQuality";G=l?g.map(v8):v8(g,O)}}else w="";return!l&&isNaN(G)?w:G}function Ku(x,g){let _=x.match(BA);if(!_)return;let O=_[1],l=_[3],G=_[4],w=_[5],W=_[6];O&&(g.fontStyle=O),l&&(g.fontWeight=isNaN(parseFloat(l))?l:parseFloat(l)),G&&(g.fontSize=v8(G)),W&&(g.fontFamily=W),w&&(g.lineHeight=w==="normal"?1:w)}function bu(x,g){x.replace(/;\s*$/,"").split(";").forEach((_)=>{if(!_)return;let[O,l]=_.split(":");g[O.trim().toLowerCase()]=l.trim()})}function mu(x){let g={},_=x.getAttribute("style");return _?(typeof _=="string"?bu(_,g):function(O,l){Object.entries(O).forEach((G)=>{let[w,W]=G;W!==void 0&&(l[w.toLowerCase()]=W)})}(_,g),g):g}var Vu={stroke:"strokeOpacity",fill:"fillOpacity"};function qO(x,g,_){if(!x)return{};let O,l={},G=K2;x.parentNode&&gf.test(x.parentNode.nodeName)&&(l=qO(x.parentElement,g,_),l.fontSize&&(O=G=v8(l.fontSize)));let w=X(X(X({},g.reduce((p,o)=>{let y=x.getAttribute(o);return y&&(p[o]=y),p},{})),function(p){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y={};for(let v in o)Wu(p,v.split(" "))&&(y=X(X({},y),o[v]));return y}(x,_)),mu(x));w[ay]&&x.setAttribute(ay,w[ay]),w[Jy]&&(O=v8(w[Jy],G),w[Jy]="".concat(O));let W={};for(let p in w){let o=pu(p),y=hu(o,w[p],l,O);W[o]=y}W&&W.font&&Ku(W.font,W);let z=X(X({},l),W);return gf.test(x.nodeName)?z:function(p){let o=Lx.getDefaults();return Object.entries(Vu).forEach((y)=>{let[v,k]=y;if(p[k]===void 0||p[v]==="")return;if(p[v]===void 0){if(!o[v])return;p[v]=o[v]}if(p[v].indexOf("url(")===0)return;let M=new I0(p[v]);p[v]=M.setAlpha(J0(M.getAlpha()*p[k],2)).toRgba()}),p}(z)}var Lu=["left","top","width","height","visible"],hY=["rx","ry"];class K_ extends Lx{static getDefaults(){return X(X({},super.getDefaults()),K_.ownDefaults)}constructor(x){super(),Object.assign(this,K_.ownDefaults),this.setOptions(x),this._initRxRy()}_initRxRy(){let{rx:x,ry:g}=this;x&&!g?this.ry=x:g&&!x&&(this.rx=g)}_render(x){let{width:g,height:_}=this,O=-g/2,l=-_/2,G=this.rx?Math.min(this.rx,g/2):0,w=this.ry?Math.min(this.ry,_/2):0,W=G!==0||w!==0;x.beginPath(),x.moveTo(O+G,l),x.lineTo(O+g-G,l),W&&x.bezierCurveTo(O+g-_6*G,l,O+g,l+_6*w,O+g,l+w),x.lineTo(O+g,l+_-w),W&&x.bezierCurveTo(O+g,l+_-_6*w,O+g-_6*G,l+_,O+g-G,l+_),x.lineTo(O+G,l+_),W&&x.bezierCurveTo(O+_6*G,l+_,O,l+_-_6*w,O,l+_-w),x.lineTo(O,l+w),W&&x.bezierCurveTo(O,l+_6*w,O+_6*G,l,O+G,l),x.closePath(),this._renderPaintInOrder(x)}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...hY,...x])}_toSVG(){let{width:x,height:g,rx:_,ry:O}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-x/2,'" y="').concat(-g/2,'" rx="').concat(_,'" ry="').concat(O,'" width="').concat(x,'" height="').concat(g,`" />
`)]}static async fromElement(x,g,_){let O=qO(x,this.ATTRIBUTE_NAMES,_),{left:l=0,top:G=0,width:w=0,height:W=0,visible:z=!0}=O,p=a0(O,Lu);return new this(X(X(X({},g),p),{},{left:l,top:G,width:w,height:W,visible:Boolean(z&&w&&W)}))}}F(K_,"type","Rect"),F(K_,"cacheProperties",[...kO,...hY]),F(K_,"ownDefaults",{rx:0,ry:0}),F(K_,"ATTRIBUTE_NAMES",[...v6,"x","y","rx","ry","width","height"]),z0.setClass(K_),z0.setSVGClass(K_);var pO="initialization",sW="added",J2="removed",tW="imperative",KY=(x,g)=>{let{strokeUniform:_,strokeWidth:O,width:l,height:G,group:w}=g,W=w&&w!==x?CG(w.calcTransformMatrix(),x.calcTransformMatrix()):null,z=W?g.getRelativeCenterPoint().transform(W):g.getRelativeCenterPoint(),p=!g.isStrokeAccountedForInDimensions(),o=_&&p?Bf(new E(O,O),void 0,x.calcTransformMatrix()):V2,y=!_&&p?O:0,v=zp(l+y,G+y,Wp([W,g.calcOwnMatrix()],!0)).add(o).scalarDivide(2);return[z.subtract(v),z.add(v)]};class dG{calcLayoutResult(x,g){if(this.shouldPerformLayout(x))return this.calcBoundingBox(g,x)}shouldPerformLayout(x){let{type:g,prevStrategy:_,strategy:O}=x;return g===pO||g===tW||!!_&&O!==_}shouldLayoutClipPath(x){let{type:g,target:{clipPath:_}}=x;return g!==pO&&_&&!_.absolutePositioned}getInitialSize(x,g){return g.size}calcBoundingBox(x,g){let{type:_,target:O}=g;if(_===tW&&g.overrides)return g.overrides;if(x.length===0)return;let{left:l,top:G,width:w,height:W}=m_(x.map((o)=>KY(O,o)).reduce((o,y)=>o.concat(y),[])),z=new E(w,W),p=new E(l,G).add(z.scalarDivide(2));if(_===pO){let o=this.getInitialSize(g,{size:z,center:p});return{center:p,relativeCorrection:new E(0,0),size:o}}return{center:p.transform(O.calcOwnMatrix()),size:z}}}F(dG,"type","strategy");class eW extends dG{shouldPerformLayout(x){return!0}}F(eW,"type","fit-content"),z0.setClass(eW);var Xu=["strategy"],Fu=["target","strategy","bubbles","prevStrategy"],bY="layoutManager";class x7{constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new eW;F(this,"strategy",void 0),this.strategy=x,this._subscriptions=new Map}performLayout(x){let g=X(X({bubbles:!0,strategy:this.strategy},x),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(g);let _=this.getLayoutResult(g);_&&this.commitLayout(g,_),this.onAfterLayout(g,_),this._prevLayoutStrategy=g.strategy}attachHandlers(x,g){let{target:_}=g;return[iW,Kf,zG,bf,Gp,mf,$W,Vf,jA].map((O)=>x.on(O,(l)=>this.performLayout(O===iW?{type:"object_modified",trigger:O,e:l,target:_}:{type:"object_modifying",trigger:O,e:l,target:_})))}subscribe(x,g){this.unsubscribe(x,g);let _=this.attachHandlers(x,g);this._subscriptions.set(x,_)}unsubscribe(x,g){(this._subscriptions.get(x)||[]).forEach((_)=>_()),this._subscriptions.delete(x)}unsubscribeTargets(x){x.targets.forEach((g)=>this.unsubscribe(g,x))}subscribeTargets(x){x.targets.forEach((g)=>this.subscribe(g,x))}onBeforeLayout(x){let{target:g,type:_}=x,{canvas:O}=g;if(_===pO||_===sW?this.subscribeTargets(x):_===J2&&this.unsubscribeTargets(x),g.fire("layout:before",{context:x}),O&&O.fire("object:layout:before",{target:g,context:x}),_===tW&&x.deep){let l=a0(x,Xu);g.forEachObject((G)=>G.layoutManager&&G.layoutManager.performLayout(X(X({},l),{},{bubbles:!1,target:G})))}}getLayoutResult(x){let{target:g,strategy:_,type:O}=x,l=_.calcLayoutResult(x,g.getObjects());if(!l)return;let G=O===pO?new E:g.getRelativeCenterPoint(),{center:w,correction:W=new E,relativeCorrection:z=new E}=l,p=G.subtract(w).add(W).transform(O===pO?nx:Ng(g.calcOwnMatrix()),!0).add(z);return{result:l,prevCenter:G,nextCenter:w,offset:p}}commitLayout(x,g){let{target:_}=x,{result:{size:O},nextCenter:l}=g;var G,w;(_.set({width:O.x,height:O.y}),this.layoutObjects(x,g),x.type===pO)?_.set({left:(G=x.x)!==null&&G!==void 0?G:l.x+O.x*yx(_.originX),top:(w=x.y)!==null&&w!==void 0?w:l.y+O.y*yx(_.originY)}):(_.setPositionByOrigin(l,c0,c0),_.setCoords(),_.set("dirty",!0))}layoutObjects(x,g){let{target:_}=x;_.forEachObject((O)=>{O.group===_&&this.layoutObject(x,g,O)}),x.strategy.shouldLayoutClipPath(x)&&this.layoutObject(x,g,_.clipPath)}layoutObject(x,g,_){let{offset:O}=g;_.set({left:_.left+O.x,top:_.top+O.y})}onAfterLayout(x,g){let{target:_,strategy:O,bubbles:l,prevStrategy:G}=x,w=a0(x,Fu),{canvas:W}=_;_.fire("layout:after",{context:x,result:g}),W&&W.fire("object:layout:after",{context:x,result:g,target:_});let z=_.parent;l&&z!=null&&z.layoutManager&&((w.path||(w.path=[])).push(_),z.layoutManager.performLayout(X(X({},w),{},{target:z}))),_.set("dirty",!0)}dispose(){let{_subscriptions:x}=this;x.forEach((g)=>g.forEach((_)=>_())),x.clear()}toObject(){return{type:bY,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}z0.setClass(x7,bY);var Au=["type","objects","layoutManager"];class mY extends x7{performLayout(){}}class yO extends Xf(Lx){static getDefaults(){return X(X({},super.getDefaults()),yO.ownDefaults)}constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),F(this,"_activeObjects",[]),F(this,"__objectSelectionTracker",void 0),F(this,"__objectSelectionDisposer",void 0),Object.assign(this,yO.ownDefaults),this.setOptions(g),this.groupInit(x,g)}groupInit(x,g){var _;this._objects=[...x],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((O)=>{this.enterGroup(O,!1)}),this.layoutManager=(_=g.layoutManager)!==null&&_!==void 0?_:new x7,this.layoutManager.performLayout({type:pO,target:this,targets:[...x],x:g.left,y:g.top})}canEnterGroup(x){return x===this||this.isDescendantOf(x)?(G6("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(x)===-1||(G6("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(x){return x.filter((g,_,O)=>this.canEnterGroup(g)&&O.indexOf(g)===_)}add(){for(var x=arguments.length,g=new Array(x),_=0;_<x;_++)g[_]=arguments[_];let O=this._filterObjectsBeforeEnteringGroup(g),l=super.add(...O);return this._onAfterObjectsChange(sW,O),l}insertAt(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];let l=this._filterObjectsBeforeEnteringGroup(_),G=super.insertAt(x,...l);return this._onAfterObjectsChange(sW,l),G}remove(){let x=super.remove(...arguments);return this._onAfterObjectsChange(J2,x),x}_onObjectAdded(x){this.enterGroup(x,!0),this.fire("object:added",{target:x}),x.fire("added",{target:this})}_onObjectRemoved(x,g){this.exitGroup(x,g),this.fire("object:removed",{target:x}),x.fire("removed",{target:this})}_onAfterObjectsChange(x,g){this.layoutManager.performLayout({type:x,targets:g,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(x,g){let _=this[x];return super._set(x,g),x==="canvas"&&_!==g&&(this._objects||[]).forEach((O)=>{O._set(x,g)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(x,g){let{target:_}=g,O=this._activeObjects;if(x)O.push(_),this._set("dirty",!0);else if(O.length>0){let l=O.indexOf(_);l>-1&&(O.splice(l,1),this._set("dirty",!0))}}_watchObject(x,g){x&&this._watchObject(!1,g),x?(g.on("selected",this.__objectSelectionTracker),g.on("deselected",this.__objectSelectionDisposer)):(g.off("selected",this.__objectSelectionTracker),g.off("deselected",this.__objectSelectionDisposer))}enterGroup(x,g){x.group&&x.group.remove(x),x._set("parent",this),this._enterGroup(x,g)}_enterGroup(x,g){g&&el(x,lx(Ng(this.calcTransformMatrix()),x.calcTransformMatrix())),this._shouldSetNestedCoords()&&x.setCoords(),x._set("group",this),x._set("canvas",this.canvas),this._watchObject(!0,x);let _=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();_&&(_===x||x.isDescendantOf(_))&&this._activeObjects.push(x)}exitGroup(x,g){this._exitGroup(x,g),x._set("parent",void 0),x._set("canvas",void 0)}_exitGroup(x,g){x._set("group",void 0),g||(el(x,lx(this.calcTransformMatrix(),x.calcTransformMatrix())),x.setCoords()),this._watchObject(!1,x);let _=this._activeObjects.length>0?this._activeObjects.indexOf(x):-1;_>-1&&this._activeObjects.splice(_,1)}shouldCache(){let x=Lx.prototype.shouldCache.call(this);if(x){for(let g=0;g<this._objects.length;g++)if(this._objects[g].willDrawShadow())return this.ownCaching=!1,!1}return x}willDrawShadow(){if(super.willDrawShadow())return!0;for(let x=0;x<this._objects.length;x++)if(this._objects[x].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(x,g,_){this._renderBackground(x);for(let l=0;l<this._objects.length;l++){var O;let G=this._objects[l];(O=this.canvas)!==null&&O!==void 0&&O.preserveObjectStacking&&G.group!==this?(x.save(),x.transform(...Ng(this.calcTransformMatrix())),G.render(x),x.restore()):G.group===this&&G.render(x)}this._drawClipPath(x,this.clipPath,_)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((x)=>x.setCoords())}triggerLayout(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(X({target:this,type:tW},x))}render(x){this._transformDone=!0,super.render(x),this._transformDone=!1}__serializeObjects(x,g){let _=this.includeDefaultValues;return this._objects.filter(function(O){return!O.excludeFromExport}).map(function(O){let l=O.includeDefaultValues;O.includeDefaultValues=_;let G=O[x||"toObject"](g);return O.includeDefaultValues=l,G})}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=this.layoutManager.toObject();return X(X(X({},super.toObject(["subTargetCheck","interactive",...x])),g.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:g}:{}),{},{objects:this.__serializeObjects("toObject",x)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((x)=>{this._watchObject(!1,x),x.dispose()}),super.dispose()}_createSVGBgRect(x){if(!this.backgroundColor)return"";let g=K_.prototype._toSVG.call(this),_=g.indexOf("COMMON_PARTS");g[_]='for="group" ';let O=g.join("");return x?x(O):O}_toSVG(x){let g=["<g ","COMMON_PARTS",` >
`],_=this._createSVGBgRect(x);_&&g.push("\t\t",_);for(let O=0;O<this._objects.length;O++)g.push("\t\t",this._objects[O].toSVG(x));return g.push(`</g>
`),g}getSvgStyles(){let x=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",g=this.visible?"":" visibility: hidden;";return[x,this.getSvgFilter(),g].join("")}toClipPathSVG(x){let g=[],_=this._createSVGBgRect(x);_&&g.push("\t",_);for(let O=0;O<this._objects.length;O++)g.push("\t",this._objects[O].toClipPathSVG(x));return this._createBaseClipPathSVGMarkup(g,{reviver:x})}static fromObject(x,g){let{type:_,objects:O=[],layoutManager:l}=x,G=a0(x,Au);return Promise.all([tl(O,g),kG(G,g)]).then((w)=>{let[W,z]=w,p=new this(W,X(X(X({},G),z),{},{layoutManager:new mY}));if(l){let o=z0.getClass(l.type),y=z0.getClass(l.strategy);p.layoutManager=new o(new y)}else p.layoutManager=new x7;return p.layoutManager.subscribeTargets({type:pO,target:p,targets:p.getObjects()}),p.setCoords(),p})}}F(yO,"type","Group"),F(yO,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),z0.setClass(yO);var VY=(x,g)=>Math.min(g.width/x.width,g.height/x.height),LY=(x,g)=>Math.max(g.width/x.width,g.height/x.height),q2="\\s*,?\\s*",t9="".concat(q2,"(").concat(sg,")"),uu="".concat(t9).concat(t9).concat(t9).concat(q2,"([01])").concat(q2,"([01])").concat(t9).concat(t9),Su={m:"l",M:"L"},ru=(x,g,_,O,l,G,w,W,z,p,o)=>{let y=eg(x),v=x_(x),k=eg(g),M=x_(g),f=_*l*k-O*G*M+w,Y=O*l*k+_*G*M+W;return["C",p+z*(-_*l*v-O*G*y),o+z*(-O*l*v+_*G*y),f+z*(_*l*M+O*G*k),Y+z*(O*l*M-_*G*k),f,Y]},kf=(x,g,_,O)=>{let l=Math.atan2(g,x),G=Math.atan2(O,_);return G>=l?G-l:2*Math.PI-(l-G)};function C2(x,g,_,O,l,G,w,W){let z;if(X0.cachesBoundsOfCurve&&(z=[...arguments].join(),OG.boundsOfCurveCache[z]))return OG.boundsOfCurveCache[z];let{sqrt:p,abs:o}=Math,y=[],v=[[0,0],[0,0]],k=6*x-12*_+6*l,M=-3*x+9*_-9*l+3*w,f=3*_-3*x;for(let d=0;d<2;++d){if(d>0&&(k=6*g-12*O+6*G,M=-3*g+9*O-9*G+3*W,f=3*O-3*g),o(M)<0.000000000001){if(o(k)<0.000000000001)continue;let Q=-f/k;0<Q&&Q<1&&y.push(Q);continue}let c=k*k-4*f*M;if(c<0)continue;let A=p(c),b=(-k+A)/(2*M);0<b&&b<1&&y.push(b);let j=(-k-A)/(2*M);0<j&&j<1&&y.push(j)}let Y=y.length,q=Y,N=FY(x,g,_,O,l,G,w,W);for(;Y--;){let{x:d,y:c}=N(y[Y]);v[0][Y]=d,v[1][Y]=c}v[0][q]=x,v[1][q]=g,v[0][q+1]=w,v[1][q+1]=W;let C=[new E(Math.min(...v[0]),Math.min(...v[1])),new E(Math.max(...v[0]),Math.max(...v[1]))];return X0.cachesBoundsOfCurve&&(OG.boundsOfCurveCache[z]=C),C}var Iu=(x,g,_)=>{let[O,l,G,w,W,z,p,o]=_,y=((v,k,M,f,Y,q,N)=>{if(M===0||f===0)return[];let C=0,d=0,c=0,A=Math.PI,b=N*h2,j=x_(b),Q=eg(b),V=0.5*(-Q*v-j*k),u=0.5*(-Q*k+j*v),r=M**2,L=f**2,D=u**2,S=V**2,T=r*L-r*D-L*S,t=Math.abs(M),e=Math.abs(f);if(T<0){let H=Math.sqrt(1-T/(r*L));t*=H,e*=H}else c=(Y===q?-1:1)*Math.sqrt(T/(r*D+L*S));let C0=c*t*u/e,B=-c*e*V/t,o0=Q*C0-j*B+0.5*v,m=j*C0+Q*B+0.5*k,J=kf(1,0,(V-C0)/t,(u-B)/e),O0=kf((V-C0)/t,(u-B)/e,(-V-C0)/t,(-u-B)/e);q===0&&O0>0?O0-=2*A:q===1&&O0<0&&(O0+=2*A);let i=Math.ceil(Math.abs(O0/A*2)),p0=[],N0=O0/i,K0=2.6666666666666665*Math.sin(N0/4)*Math.sin(N0/4)/Math.sin(N0/2),f0=J+N0;for(let H=0;H<i;H++)p0[H]=ru(J,f0,Q,j,t,e,o0,m,K0,C,d),C=p0[H][5],d=p0[H][6],J=f0,f0+=N0;return p0})(p-x,o-g,l,G,W,z,w);for(let v=0,k=y.length;v<k;v++)y[v][1]+=x,y[v][2]+=g,y[v][3]+=x,y[v][4]+=g,y[v][5]+=x,y[v][6]+=g;return y},XY=(x)=>{let g=0,_=0,O=0,l=0,G=[],w,W=0,z=0;for(let p of x){let o=[...p],y;switch(o[0]){case"l":o[1]+=g,o[2]+=_;case"L":g=o[1],_=o[2],y=["L",g,_];break;case"h":o[1]+=g;case"H":g=o[1],y=["L",g,_];break;case"v":o[1]+=_;case"V":_=o[1],y=["L",g,_];break;case"m":o[1]+=g,o[2]+=_;case"M":g=o[1],_=o[2],O=o[1],l=o[2],y=["M",g,_];break;case"c":o[1]+=g,o[2]+=_,o[3]+=g,o[4]+=_,o[5]+=g,o[6]+=_;case"C":W=o[3],z=o[4],g=o[5],_=o[6],y=["C",o[1],o[2],W,z,g,_];break;case"s":o[1]+=g,o[2]+=_,o[3]+=g,o[4]+=_;case"S":w==="C"?(W=2*g-W,z=2*_-z):(W=g,z=_),g=o[3],_=o[4],y=["C",W,z,o[1],o[2],g,_],W=y[3],z=y[4];break;case"q":o[1]+=g,o[2]+=_,o[3]+=g,o[4]+=_;case"Q":W=o[1],z=o[2],g=o[3],_=o[4],y=["Q",W,z,g,_];break;case"t":o[1]+=g,o[2]+=_;case"T":w==="Q"?(W=2*g-W,z=2*_-z):(W=g,z=_),g=o[1],_=o[2],y=["Q",W,z,g,_];break;case"a":o[6]+=g,o[7]+=_;case"A":Iu(g,_,o).forEach((v)=>G.push(v)),g=o[6],_=o[7];break;case"z":case"Z":g=O,_=l,y=["Z"]}y?(G.push(y),w=y[0]):w=""}return G},xp=(x,g,_,O)=>Math.sqrt((_-x)**2+(O-g)**2),FY=(x,g,_,O,l,G,w,W)=>(z)=>{let p=z**3,o=((k)=>3*k**2*(1-k))(z),y=((k)=>3*k*(1-k)**2)(z),v=((k)=>(1-k)**3)(z);return new E(w*p+l*o+_*y+x*v,W*p+G*o+O*y+g*v)},AY=(x)=>x**2,uY=(x)=>2*x*(1-x),SY=(x)=>(1-x)**2,Zu=(x,g,_,O,l,G,w,W)=>(z)=>{let p=AY(z),o=uY(z),y=SY(z),v=3*(y*(_-x)+o*(l-_)+p*(w-l)),k=3*(y*(O-g)+o*(G-O)+p*(W-G));return Math.atan2(k,v)},ju=(x,g,_,O,l,G)=>(w)=>{let W=AY(w),z=uY(w),p=SY(w);return new E(l*W+_*z+x*p,G*W+O*z+g*p)},Uu=(x,g,_,O,l,G)=>(w)=>{let W=1-w,z=2*(W*(_-x)+w*(l-_)),p=2*(W*(O-g)+w*(G-O));return Math.atan2(p,z)},qf=(x,g,_)=>{let O=new E(g,_),l=0;for(let G=1;G<=100;G+=1){let w=x(G/100);l+=xp(O.x,O.y,w.x,w.y),O=w}return l},Qu=(x,g)=>{let _,O=0,l=0,G={x:x.x,y:x.y},w=X({},G),W=0.01,z=0,p=x.iterator,o=x.angleFinder;for(;l<g&&W>0.0001;)w=p(O),z=O,_=xp(G.x,G.y,w.x,w.y),_+l>g?(O-=W,W/=2):(G=w,O+=W,l+=_);return X(X({},w),{},{angle:o(z)})},a2=(x)=>{let g,_,O=0,l=0,G=0,w=0,W=0,z=[];for(let p of x){let o={x:l,y:G,command:p[0],length:0};switch(p[0]){case"M":_=o,_.x=w=l=p[1],_.y=W=G=p[2];break;case"L":_=o,_.length=xp(l,G,p[1],p[2]),l=p[1],G=p[2];break;case"C":g=FY(l,G,p[1],p[2],p[3],p[4],p[5],p[6]),_=o,_.iterator=g,_.angleFinder=Zu(l,G,p[1],p[2],p[3],p[4],p[5],p[6]),_.length=qf(g,l,G),l=p[5],G=p[6];break;case"Q":g=ju(l,G,p[1],p[2],p[3],p[4]),_=o,_.iterator=g,_.angleFinder=Uu(l,G,p[1],p[2],p[3],p[4]),_.length=qf(g,l,G),l=p[3],G=p[4];break;case"Z":_=o,_.destX=w,_.destY=W,_.length=xp(l,G,w,W),l=w,G=W}O+=_.length,z.push(_)}return z.push({length:O,x:l,y:G}),z},rY=function(x,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a2(x),O=0;for(;g-_[O].length>0&&O<_.length-2;)g-=_[O].length,O++;let l=_[O],G=g/l.length,w=x[O];switch(l.command){case"M":return{x:l.x,y:l.y,angle:0};case"Z":return X(X({},new E(l.x,l.y).lerp(new E(l.destX,l.destY),G)),{},{angle:Math.atan2(l.destY-l.y,l.destX-l.x)});case"L":return X(X({},new E(l.x,l.y).lerp(new E(w[1],w[2]),G)),{},{angle:Math.atan2(w[2]-l.y,w[1]-l.x)});case"C":case"Q":return Qu(l,g)}},Du=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Cf=new RegExp(uu,"g"),Eu=new RegExp(sg,"gi"),nu={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},IY=(x)=>{var g;let _=[],O=(g=x.match(Du))!==null&&g!==void 0?g:[];for(let l of O){let G=l[0];if(G==="z"||G==="Z"){_.push([G]);continue}let w=nu[G.toLowerCase()],W=[];if(G==="a"||G==="A"){Cf.lastIndex=0;for(let z=null;z=Cf.exec(l);)W.push(...z.slice(1))}else W=l.match(Eu)||[];for(let z=0;z<W.length;z+=w){let p=new Array(w),o=Su[G];p[0]=z>0&&o?o:G;for(let y=0;y<w;y++)p[y+1]=parseFloat(W[z+y]);_.push(p)}}return _},Bu=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=new E(x[0]),O=new E(x[1]),l=1,G=0,w=[],W=x.length,z=W>2,p;for(z&&(l=x[2].x<O.x?-1:x[2].x===O.x?0:1,G=x[2].y<O.y?-1:x[2].y===O.y?0:1),w.push(["M",_.x-l*g,_.y-G*g]),p=1;p<W;p++){if(!_.eq(O)){let o=_.midPointFrom(O);w.push(["Q",_.x,_.y,o.x,o.y])}_=x[p],p+1<x.length&&(O=x[p+1])}return z&&(l=_.x>x[p-2].x?1:_.x===x[p-2].x?0:-1,G=_.y>x[p-2].y?1:_.y===x[p-2].y?0:-1),w.push(["L",_.x+l*g,_.y+G*g]),w},ZY=(x,g)=>x.map((_)=>_.map((O,l)=>l===0||g===void 0?O:J0(O,g)).join(" ")).join(" ");function gp(x,g){let _=x.style;_&&g&&(typeof g=="string"?_.cssText+=";"+g:Object.entries(g).forEach((O)=>{let[l,G]=O;return _.setProperty(l,G)}))}var $u=(x,g)=>Math.floor(Math.random()*(g-x+1))+x;function iu(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=g.onComplete||o8,O=new(lp()).XMLHttpRequest,l=g.signal,G=function(){O.abort()},w=function(){l&&l.removeEventListener("abort",G),O.onerror=O.ontimeout=o8};if(l&&l.aborted)throw new c2("request");return l&&l.addEventListener("abort",G,{once:!0}),O.onreadystatechange=function(){O.readyState===4&&(w(),_(O),O.onreadystatechange=o8)},O.onerror=O.ontimeout=w,O.open("get",x,!0),O.send(),O}var Hu=(x,g)=>{let _=x._findCenterFromElement();x.transformMatrix&&(((O)=>{if(O.transformMatrix){let{scaleX:l,scaleY:G,angle:w,skewX:W}=sl(O.transformMatrix);O.flipX=!1,O.flipY=!1,O.set(Bx,l),O.set(kg,G),O.angle=w,O.skewX=W,O.skewY=0}})(x),_=_.transform(x.transformMatrix)),delete x.transformMatrix,g&&(x.scaleX*=g.scaleX,x.scaleY*=g.scaleY,x.cropX=g.cropX,x.cropY=g.cropY,_.x+=g.offsetLeft,_.y+=g.offsetTop,x.width=g.width,x.height=g.height),x.setPositionByOrigin(_,c0,c0)},tI=Object.freeze({__proto__:null,addTransformToObject:Ef,animate:E2,animateColor:xY,applyTransformToObject:el,calcAngleBetweenVectors:TW,calcDimensionsMatrix:NG,calcPlaneChangeMatrix:CG,calcVectorRotation:Pf,cancelAnimFrame:Ff,capValue:y8,composeMatrix:If,copyCanvasElement:(x)=>{var g;let _=g_(x);return(g=_.getContext("2d"))===null||g===void 0||g.drawImage(x,0,0),_},cos:eg,createCanvasElement:jg,createImage:Af,createRotateMatrix:G7,createScaleMatrix:pp,createSkewXMatrix:A2,createSkewYMatrix:u2,createTranslateMatrix:l7,createVector:PW,crossProduct:Rl,degreesToRadians:Ox,dotProduct:Rf,ease:aA,enlivenObjectEnlivables:kG,enlivenObjects:tl,findScaleToCover:LY,findScaleToFit:VY,getBoundsOfCurve:C2,getOrthonormalVector:D2,getPathSegmentsInfo:a2,getPointOnPath:rY,getPointer:Df,getRandomInt:$u,getRegularPolygonPath:(x,g)=>{let _=2*Math.PI/x,O=-w6;x%2==0&&(O+=_/2);let l=new Array(x+1);for(let G=0;G<x;G++){let w=G*_+O,{x:W,y:z}=new E(eg(w),x_(w)).scalarMultiply(g);l[G]=[G===0?"M":"L",W,z]}return l[x]=["Z"],l},getSmoothPathFromPoints:Bu,getSvgAttributes:(x)=>{let g=["instantiated_by_use","style","id","class"];switch(x){case"linearGradient":return g.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return g.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return g.concat(["offset","stop-color","stop-opacity"])}return g},getUnitVector:yp,groupSVGElements:(x,g)=>x&&x.length===1?x[0]:new yO(x,g),hasStyleChanged:Cp,invertTransform:Ng,isBetweenVectors:p2,isIdentityMatrix:uf,isTouchEvent:JW,isTransparent:dY,joinPath:ZY,loadImage:GG,magnitude:RW,makeBoundingBoxFromPoints:m_,makePathSimpler:XY,matrixToSVG:oG,mergeClipPaths:(x,g)=>{var _;let O=x,l=g;O.inverted&&!l.inverted&&(O=g,l=x),W2(l,(_=l.group)===null||_===void 0?void 0:_.calcTransformMatrix(),O.calcTransformMatrix());let G=O.inverted&&l.inverted;return G&&(O.inverted=l.inverted=!1),new yO([O],{clipPath:l,inverted:G})},multiplyTransformMatrices:lx,multiplyTransformMatrixArray:Wp,parsePath:IY,parsePreserveAspectRatioAttribute:Zf,parseUnit:v8,pick:k8,projectStrokeOnPoints:MY,qrDecompose:sl,radiansToDegrees:p6,removeFromArray:_8,removeTransformFromObject:(x,g)=>{let _=Ng(g),O=lx(_,x.calcOwnMatrix());el(x,O)},removeTransformMatrixForSvgParsing:Hu,request:iu,requestAnimFrame:lG,resetObjectTransform:nf,rotatePoint:(x,g,_)=>x.rotate(_,g),rotateVector:Q2,saveObjectTransform:I2,sendObjectToPlane:W2,sendPointToPlane:oO,sendVectorToPlane:Bf,setStyle:gp,sin:x_,sizeAfterTransform:zp,string:wu,stylesFromArray:cY,stylesToArray:YY,toBlob:F2,toDataURL:X2,toFixed:J0,transformPath:(x,g,_)=>(_&&(g=lx(g,[1,0,0,1,-_.x,-_.y])),x.map((O)=>{let l=[...O];for(let G=1;G<O.length-1;G+=2){let{x:w,y:W}=rx({x:O[G],y:O[G+1]},g);l[G]=w,l[G+1]=W}return l})),transformPoint:rx});class jY extends r2{constructor(x){let{allowTouchScrolling:g=!1,containerClass:_=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(x),F(this,"upper",void 0),F(this,"container",void 0);let{el:O}=this.lower,l=this.createUpperCanvas();this.upper={el:l,ctx:l.getContext("2d")},this.applyCanvasStyle(O,{allowTouchScrolling:g}),this.applyCanvasStyle(l,{allowTouchScrolling:g,styles:{position:"absolute",left:"0",top:"0"}});let G=this.createContainerElement();G.classList.add(_),O.parentNode&&O.parentNode.replaceChild(G,O),G.append(O,l),this.container=G}createUpperCanvas(){let{el:x}=this.lower,g=jg();return g.className=x.className,g.classList.remove("lower-canvas"),g.classList.add("upper-canvas"),g.setAttribute("data-fabric","top"),g.style.cssText=x.style.cssText,g.setAttribute("draggable","true"),g}createContainerElement(){let x=g7().createElement("div");return x.setAttribute("data-fabric","wrapper"),gp(x,{position:"relative"}),tM(x),x}applyCanvasStyle(x,g){let{styles:_,allowTouchScrolling:O}=g;gp(x,X(X({},_),{},{"touch-action":O?"manipulation":tx})),tM(x)}setDimensions(x,g){super.setDimensions(x,g);let{el:_,ctx:O}=this.upper;Qf(_,O,x,g)}setCSSDimensions(x){super.setCSSDimensions(x),G2(this.upper.el,x),G2(this.container,x)}cleanupDOM(x){let g=this.container,{el:_}=this.lower,{el:O}=this.upper;super.cleanupDOM(x),g.removeChild(O),g.removeChild(_),g.parentNode&&g.parentNode.replaceChild(_,g)}dispose(){super.dispose(),V_().dispose(this.upper.el),delete this.upper,delete this.container}}class dp extends qG{constructor(){super(...arguments),F(this,"targets",[]),F(this,"_hoveredTargets",[]),F(this,"_objectsToRender",void 0),F(this,"_currentTransform",null),F(this,"_groupSelector",null),F(this,"contextTopDirty",!1)}static getDefaults(){return X(X({},super.getDefaults()),dp.ownDefaults)}get upperCanvasEl(){var x;return(x=this.elements.upper)===null||x===void 0?void 0:x.el}get contextTop(){var x;return(x=this.elements.upper)===null||x===void 0?void 0:x.ctx}get wrapperEl(){return this.elements.container}initElements(x){this.elements=new jY(x,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(x){this._objectsToRender=void 0,super._onObjectAdded(x)}_onObjectRemoved(x){this._objectsToRender=void 0,x===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[x]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[x]}),x.fire("deselected",{target:x})),x===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(x)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let x=this._activeObject;return!this.preserveObjectStacking&&x?this._objects.filter((g)=>!g.group&&g!==x).concat(x):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(x){x.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(x),this.contextTopDirty=!0),x.restore()}renderTop(){let x=this.contextTop;this.clearContext(x),this.renderTopLayer(x),this.fire("after:render",{ctx:x})}setTargetFindTolerance(x){x=Math.round(x),this.targetFindTolerance=x;let g=this.getRetinaScaling(),_=Math.ceil((2*x+1)*g);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=_,this.pixelFindContext.scale(g,g)}isTargetTransparent(x,g,_){let O=this.targetFindTolerance,l=this.pixelFindContext;this.clearContext(l),l.save(),l.translate(-g+O,-_+O),l.transform(...this.viewportTransform);let G=x.selectionBackgroundColor;x.selectionBackgroundColor="",x.render(l),x.selectionBackgroundColor=G,l.restore();let w=Math.round(O*this.getRetinaScaling());return dY(l,w,w,w)}_isSelectionKeyPressed(x){let g=this.selectionKey;return!!g&&(Array.isArray(g)?!!g.find((_)=>!!_&&x[_]===!0):x[g])}_shouldClearSelection(x,g){let _=this.getActiveObjects(),O=this._activeObject;return!!(!g||g&&O&&_.length>1&&_.indexOf(g)===-1&&O!==g&&!this._isSelectionKeyPressed(x)||g&&!g.evented||g&&!g.selectable&&O&&O!==g)}_shouldCenterTransform(x,g,_){if(!x)return;let O;return g===wp||g===Bx||g===kg||g===zG?O=this.centeredScaling||x.centeredScaling:g===m2&&(O=this.centeredRotation||x.centeredRotation),O?!_:_}_getOriginFromCorner(x,g){let _={x:x.originX,y:x.originY};return g?(["ml","tl","bl"].includes(g)?_.x=Wx:["mr","tr","br"].includes(g)&&(_.x=r0),["tl","mt","tr"].includes(g)?_.y=l2:["bl","mb","br"].includes(g)&&(_.y=sx),_):_}_setupCurrentTransform(x,g,_){var O;let l=g.group?oO(this.getScenePoint(x),void 0,g.group.calcTransformMatrix()):this.getScenePoint(x),{key:G="",control:w}=g.getActiveControl()||{},W=_&&w?(O=w.getActionHandler(x,g,w))===null||O===void 0?void 0:O.bind(w):Jf,z=((v,k,M,f)=>{if(!k||!v)return"drag";let Y=f.controls[k];return Y.getActionName(M,Y,f)})(_,G,x,g),p=x[this.centeredKey],o=this._shouldCenterTransform(g,z,p)?{x:c0,y:c0}:this._getOriginFromCorner(g,G),y={target:g,action:z,actionHandler:W,actionPerformed:!1,corner:G,scaleX:g.scaleX,scaleY:g.scaleY,skewX:g.skewX,skewY:g.skewY,offsetX:l.x-g.left,offsetY:l.y-g.top,originX:o.x,originY:o.y,ex:l.x,ey:l.y,lastX:l.x,lastY:l.y,theta:Ox(g.angle),width:g.width,height:g.height,shiftKey:x.shiftKey,altKey:p,original:X(X({},I2(g)),{},{originX:o.x,originY:o.y})};this._currentTransform=y,this.fire("before:transform",{e:x,transform:y})}setCursor(x){this.upperCanvasEl.style.cursor=x}_drawSelection(x){let{x:g,y:_,deltaX:O,deltaY:l}=this._groupSelector,G=new E(g,_).transform(this.viewportTransform),w=new E(g+O,_+l).transform(this.viewportTransform),W=this.selectionLineWidth/2,z=Math.min(G.x,w.x),p=Math.min(G.y,w.y),o=Math.max(G.x,w.x),y=Math.max(G.y,w.y);this.selectionColor&&(x.fillStyle=this.selectionColor,x.fillRect(z,p,o-z,y-p)),this.selectionLineWidth&&this.selectionBorderColor&&(x.lineWidth=this.selectionLineWidth,x.strokeStyle=this.selectionBorderColor,z+=W,p+=W,o-=W,y-=W,Lx.prototype._setLineDash.call(this,x,this.selectionDashArray),x.strokeRect(z,p,o-z,y-p))}findTarget(x){if(this.skipTargetFind)return;let g=this.getViewportPoint(x),_=this._activeObject,O=this.getActiveObjects();if(this.targets=[],_&&O.length>=1){if(_.findControl(g,JW(x)))return _;if(O.length>1&&this.searchPossibleTargets([_],g))return _;if(_===this.searchPossibleTargets([_],g)){if(this.preserveObjectStacking){let l=this.targets;this.targets=[];let G=this.searchPossibleTargets(this._objects,g);return x[this.altSelectionKey]&&G&&G!==_?(this.targets=l,_):G}return _}}return this.searchPossibleTargets(this._objects,g)}_pointIsInObjectSelectionArea(x,g){let _=x.getCoords(),O=this.getZoom(),l=x.padding/O;if(l){let[G,w,W,z]=_,p=Math.atan2(w.y-G.y,w.x-G.x),o=eg(p)*l,y=x_(p)*l,v=o+y,k=o-y;_=[new E(G.x-k,G.y-v),new E(w.x+v,w.y-k),new E(W.x+k,W.y+v),new E(z.x-v,z.y+k)]}return t0.isPointInPolygon(g,_)}_checkTarget(x,g){if(x&&x.visible&&x.evented&&this._pointIsInObjectSelectionArea(x,oO(g,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!x.perPixelTargetFind||x.isEditing)return!0;if(!this.isTargetTransparent(x,g.x,g.y))return!0}return!1}_searchPossibleTargets(x,g){let _=x.length;for(;_--;){let O=x[_];if(this._checkTarget(O,g)){if(nW(O)&&O.subTargetCheck){let l=this._searchPossibleTargets(O._objects,g);l&&this.targets.push(l)}return O}}}searchPossibleTargets(x,g){let _=this._searchPossibleTargets(x,g);if(_&&nW(_)&&_.interactive&&this.targets[0]){let O=this.targets;for(let l=O.length-1;l>0;l--){let G=O[l];if(!nW(G)||!G.interactive)return G}return O[0]}return _}getViewportPoint(x){return this._pointer?this._pointer:this.getPointer(x,!0)}getScenePoint(x){return this._absolutePointer?this._absolutePointer:this.getPointer(x)}getPointer(x){let g=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_=this.upperCanvasEl,O=_.getBoundingClientRect(),l=Df(x),G=O.width||0,w=O.height||0;G&&w||((sx in O)&&(l2 in O)&&(w=Math.abs(O.top-O.bottom)),(Wx in O)&&(r0 in O)&&(G=Math.abs(O.right-O.left))),this.calcOffset(),l.x=l.x-this._offset.left,l.y=l.y-this._offset.top,g||(l=oO(l,void 0,this.viewportTransform));let W=this.getRetinaScaling();W!==1&&(l.x/=W,l.y/=W);let z=G===0||w===0?new E(1,1):new E(_.width/G,_.height/w);return l.multiply(z)}_setDimensionsImpl(x,g){this._resetTransformEventData(),super._setDimensionsImpl(x,g),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=jg(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let x=this._activeObject;return O8(x)?x.getObjects():x?[x]:[]}_fireSelectionEvents(x,g){let _=!1,O=!1,l=this.getActiveObjects(),G=[],w=[];x.forEach((W)=>{l.includes(W)||(_=!0,W.fire("deselected",{e:g,target:W}),w.push(W))}),l.forEach((W)=>{x.includes(W)||(_=!0,W.fire("selected",{e:g,target:W}),G.push(W))}),x.length>0&&l.length>0?(O=!0,_&&this.fire("selection:updated",{e:g,selected:G,deselected:w})):l.length>0?(O=!0,this.fire("selection:created",{e:g,selected:G})):x.length>0&&(O=!0,this.fire("selection:cleared",{e:g,deselected:w})),O&&(this._objectsToRender=void 0)}setActiveObject(x,g){let _=this.getActiveObjects(),O=this._setActiveObject(x,g);return this._fireSelectionEvents(_,g),O}_setActiveObject(x,g){let _=this._activeObject;return _!==x&&(!(!this._discardActiveObject(g,x)&&this._activeObject)&&(!x.onSelect({e:g})&&(this._activeObject=x,O8(x)&&_!==x&&x.set("canvas",this),x.setCoords(),!0)))}_discardActiveObject(x,g){let _=this._activeObject;return!!_&&(!_.onDeselect({e:x,object:g})&&(this._currentTransform&&this._currentTransform.target===_&&this.endCurrentTransform(x),O8(_)&&_===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0))}discardActiveObject(x){let g=this.getActiveObjects(),_=this.getActiveObject();g.length&&this.fire("before:selection:cleared",{e:x,deselected:[_]});let O=this._discardActiveObject(x);return this._fireSelectionEvents(g,x),O}endCurrentTransform(x){let g=this._currentTransform;this._finalizeCurrentTransform(x),g&&g.target&&(g.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(x){let g=this._currentTransform,_=g.target,O={e:x,target:_,transform:g,action:g.action};_._scaling&&(_._scaling=!1),_.setCoords(),g.actionPerformed&&(this.fire("object:modified",O),_.fire(iW,O))}setViewportTransform(x){super.setViewportTransform(x);let g=this._activeObject;g&&g.setCoords()}destroy(){let x=this._activeObject;O8(x)&&(x.removeAll(),x.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(x){let g=this._activeObject;g&&g._renderControls(x)}_toObject(x,g,_){let O=this._realizeGroupTransformOnObject(x),l=super._toObject(x,g,_);return x.set(O),l}_realizeGroupTransformOnObject(x){let{group:g}=x;if(g&&O8(g)&&this._activeObject===g){let _=k8(x,["angle","flipX","flipY",r0,Bx,kg,_7,O7,sx]);return Ef(x,g.calcOwnMatrix()),_}return{}}_setSVGObject(x,g,_){let O=this._realizeGroupTransformOnObject(g);super._setSVGObject(x,g,_),g.set(O)}}F(dp,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class UY{constructor(x){F(this,"targets",[]),F(this,"__disposer",void 0);let g=()=>{let{hiddenTextarea:O}=x.getActiveObject()||{};O&&O.focus()},_=x.upperCanvasEl;_.addEventListener("click",g),this.__disposer=()=>_.removeEventListener("click",g)}exitTextEditing(){this.target=void 0,this.targets.forEach((x)=>{x.isEditing&&x.exitEditing()})}add(x){this.targets.push(x)}remove(x){this.unregister(x),_8(this.targets,x)}register(x){this.target=x}unregister(x){x===this.target&&(this.target=void 0)}onMouseMove(x){var g;((g=this.target)===null||g===void 0?void 0:g.isEditing)&&this.target.updateSelectionOnMouseMove(x)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}var Ju=["target","oldTarget","fireCanvas","e"],yg={passive:!1},ul=(x,g)=>{let _=x.getViewportPoint(g),O=x.getScenePoint(g);return{viewportPoint:_,scenePoint:O,pointer:_,absolutePointer:O}},O6=function(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return x.addEventListener(..._)},Ig=function(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return x.removeEventListener(..._)},au={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class N8 extends dp{constructor(x){super(x,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),F(this,"_isClick",void 0),F(this,"textEditingManager",new UY(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((g)=>{this[g]=this[g].bind(this)}),this.addOrRemove(O6,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(x,g){let _=this.upperCanvasEl,O=this._getEventPrefix();x(Uf(_),"resize",this._onResize),x(_,O+"down",this._onMouseDown),x(_,"".concat(O,"move"),this._onMouseMove,yg),x(_,"".concat(O,"out"),this._onMouseOut),x(_,"".concat(O,"enter"),this._onMouseEnter),x(_,"wheel",this._onMouseWheel),x(_,"contextmenu",this._onContextMenu),x(_,"dblclick",this._onDoubleClick),x(_,"dragstart",this._onDragStart),x(_,"dragend",this._onDragEnd),x(_,"dragover",this._onDragOver),x(_,"dragenter",this._onDragEnter),x(_,"dragleave",this._onDragLeave),x(_,"drop",this._onDrop),this.enablePointerEvents||x(_,"touchstart",this._onTouchStart,yg)}removeListeners(){this.addOrRemove(Ig,"remove");let x=this._getEventPrefix(),g=Rg(this.upperCanvasEl);Ig(g,"".concat(x,"up"),this._onMouseUp),Ig(g,"touchend",this._onTouchEnd,yg),Ig(g,"".concat(x,"move"),this._onMouseMove,yg),Ig(g,"touchmove",this._onMouseMove,yg),clearTimeout(this._willAddMouseDown)}_onMouseWheel(x){this.__onMouseWheel(x)}_onMouseOut(x){let g=this._hoveredTarget,_=X({e:x},ul(this,x));this.fire("mouse:out",X(X({},_),{},{target:g})),this._hoveredTarget=void 0,g&&g.fire("mouseout",X({},_)),this._hoveredTargets.forEach((O)=>{this.fire("mouse:out",X(X({},_),{},{target:O})),O&&O.fire("mouseout",X({},_))}),this._hoveredTargets=[]}_onMouseEnter(x){this._currentTransform||this.findTarget(x)||(this.fire("mouse:over",X({e:x},ul(this,x))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(x){this._isClick=!1;let g=this.getActiveObject();if(g&&g.onDragStart(x)){this._dragSource=g;let _={e:x,target:g};return this.fire("dragstart",_),g.fire("dragstart",_),void O6(this.upperCanvasEl,"drag",this._onDragProgress)}w2(x)}_renderDragEffects(x,g,_){let O=!1,l=this._dropTarget;l&&l!==g&&l!==_&&(l.clearContextTop(),O=!0),g==null||g.clearContextTop(),_!==g&&(_==null||_.clearContextTop());let G=this.contextTop;G.save(),G.transform(...this.viewportTransform),g&&(G.save(),g.transform(G),g.renderDragSourceEffect(x),G.restore(),O=!0),_&&(G.save(),_.transform(G),_.renderDropTargetEffect(x),G.restore(),O=!0),G.restore(),O&&(this.contextTopDirty=!0)}_onDragEnd(x){let g=!!x.dataTransfer&&x.dataTransfer.dropEffect!==tx,_=g?this._activeObject:void 0,O={e:x,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:g,dropTarget:_};Ig(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",O),this._dragSource&&this._dragSource.fire("dragend",O),delete this._dragSource,this._onMouseUp(x)}_onDragProgress(x){let g={e:x,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",g),this._dragSource&&this._dragSource.fire("drag",g)}findDragTargets(x){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(x)),targets:[...this.targets]}}_onDragOver(x){let{target:_,targets:O}=this.findDragTargets(x),l=this._dragSource,G={e:x,target:_,subTargets:O,dragSource:l,canDrop:!1,dropTarget:void 0},w;this.fire("dragover",G),this._fireEnterLeaveEvents(_,G),_&&(_.canDrop(x)&&(w=_),_.fire("dragover",G));for(let W=0;W<O.length;W++){let z=O[W];z.canDrop(x)&&(w=z),z.fire("dragover",G)}this._renderDragEffects(x,l,w),this._dropTarget=w}_onDragEnter(x){let{target:g,targets:_}=this.findDragTargets(x),O={e:x,target:g,subTargets:_,dragSource:this._dragSource};this.fire("dragenter",O),this._fireEnterLeaveEvents(g,O)}_onDragLeave(x){let g={e:x,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",g),this._fireEnterLeaveEvents(void 0,g),this._renderDragEffects(x,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(x){let{target:g,targets:_}=this.findDragTargets(x),O=this._basicEventHandler("drop:before",X({e:x,target:g,subTargets:_,dragSource:this._dragSource},ul(this,x)));O.didDrop=!1,O.dropTarget=void 0,this._basicEventHandler("drop",O),this.fire("drop:after",O)}_onContextMenu(x){let g=this.findTarget(x),_=this.targets||[],O=this._basicEventHandler("contextmenu:before",{e:x,target:g,subTargets:_});return this.stopContextMenu&&w2(x),this._basicEventHandler("contextmenu",O),!1}_onDoubleClick(x){this._cacheTransformEventData(x),this._handleEvent(x,"dblclick"),this._resetTransformEventData()}getPointerId(x){let g=x.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?x.pointerId:-1}_isMainEvent(x){return x.isPrimary===!0||x.isPrimary!==!1&&(x.type==="touchend"&&x.touches.length===0||(!x.changedTouches||x.changedTouches[0].identifier===this.mainTouchId))}_onTouchStart(x){let g=!this.allowTouchScrolling,_=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(x)),this.__onMouseDown(x),(this.isDrawingMode||_&&this._target===_)&&(g=!0),g&&x.preventDefault(),this._resetTransformEventData();let O=this.upperCanvasEl,l=this._getEventPrefix(),G=Rg(O);O6(G,"touchend",this._onTouchEnd,yg),g&&O6(G,"touchmove",this._onMouseMove,yg),Ig(O,"".concat(l,"down"),this._onMouseDown)}_onMouseDown(x){this.__onMouseDown(x),this._resetTransformEventData();let g=this.upperCanvasEl,_=this._getEventPrefix();Ig(g,"".concat(_,"move"),this._onMouseMove,yg);let O=Rg(g);O6(O,"".concat(_,"up"),this._onMouseUp),O6(O,"".concat(_,"move"),this._onMouseMove,yg)}_onTouchEnd(x){if(x.touches.length>0)return;this.__onMouseUp(x),this._resetTransformEventData(),delete this.mainTouchId;let g=this._getEventPrefix(),_=Rg(this.upperCanvasEl);Ig(_,"touchend",this._onTouchEnd,yg),Ig(_,"touchmove",this._onMouseMove,yg),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{O6(this.upperCanvasEl,"".concat(g,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(x){this.__onMouseUp(x),this._resetTransformEventData();let g=this.upperCanvasEl,_=this._getEventPrefix();if(this._isMainEvent(x)){let O=Rg(this.upperCanvasEl);Ig(O,"".concat(_,"up"),this._onMouseUp),Ig(O,"".concat(_,"move"),this._onMouseMove,yg),O6(g,"".concat(_,"move"),this._onMouseMove,yg)}}_onMouseMove(x){let g=this.getActiveObject();!this.allowTouchScrolling&&(!g||!g.shouldStartDragging(x))&&x.preventDefault&&x.preventDefault(),this.__onMouseMove(x)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(x){let g=this.getActiveObject();return!!g!=!!x||g&&x&&g!==x}__onMouseUp(x){var g;this._cacheTransformEventData(x),this._handleEvent(x,"up:before");let _=this._currentTransform,O=this._isClick,l=this._target,{button:G}=x;if(G)return(this.fireMiddleClick&&G===1||this.fireRightClick&&G===2)&&this._handleEvent(x,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(x);if(!this._isMainEvent(x))return;let w,W,z=!1;if(_&&(this._finalizeCurrentTransform(x),z=_.actionPerformed),!O){let p=l===this._activeObject;this.handleSelection(x),z||(z=this._shouldRender(l)||!p&&l===this._activeObject)}if(l){let p=l.findControl(this.getViewportPoint(x),JW(x)),{key:o,control:y}=p||{};if(W=o,l.selectable&&l!==this._activeObject&&l.activeOn==="up")this.setActiveObject(l,x),z=!0;else if(y){let v=y.getMouseUpHandler(x,l,y);v&&(w=this.getScenePoint(x),v.call(y,x,_,w.x,w.y))}l.isMoving=!1}if(_&&(_.target!==l||_.corner!==W)){let p=_.target&&_.target.controls[_.corner],o=p&&p.getMouseUpHandler(x,_.target,p);w=w||this.getScenePoint(x),o&&o.call(p,x,_,w.x,w.y)}this._setCursorFromEvent(x,l),this._handleEvent(x,"up"),this._groupSelector=null,this._currentTransform=null,l&&(l.__corner=void 0),z?this.requestRenderAll():O||(g=this._activeObject)!==null&&g!==void 0&&g.isEditing||this.renderTop()}_basicEventHandler(x,g){let{target:_,subTargets:O=[]}=g;this.fire(x,g),_&&_.fire(x,g);for(let l=0;l<O.length;l++)O[l]!==_&&O[l].fire(x,g);return g}_handleEvent(x,g){let _=this._target,O=this.targets||[],l=X(X({e:x,target:_,subTargets:O},ul(this,x)),{},{transform:this._currentTransform},g==="up:before"||g==="up"?{isClick:this._isClick,currentTarget:this.findTarget(x),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(g),l),_&&_.fire("mouse".concat(g),l);for(let G=0;G<O.length;G++)O[G]!==_&&O[G].fire("mouse".concat(g),l)}_onMouseDownInDrawingMode(x){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(x),this.requestRenderAll());let g=this.getScenePoint(x);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(g,{e:x,pointer:g}),this._handleEvent(x,"down")}_onMouseMoveInDrawingMode(x){if(this._isCurrentlyDrawing){let g=this.getScenePoint(x);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(g,{e:x,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(x,"move")}_onMouseUpInDrawingMode(x){let g=this.getScenePoint(x);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:x,pointer:g}):this._isCurrentlyDrawing=!1,this._handleEvent(x,"up")}__onMouseDown(x){this._isClick=!0,this._cacheTransformEventData(x),this._handleEvent(x,"down:before");let g=this._target,{button:_}=x;if(_)return(this.fireMiddleClick&&_===1||this.fireRightClick&&_===2)&&this._handleEvent(x,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(x);if(!this._isMainEvent(x))return;if(this._currentTransform)return;let O=this._shouldRender(g),l=!1;if(this.handleMultiSelection(x,g)?(g=this._activeObject,l=!0,O=!0):this._shouldClearSelection(x,g)&&this.discardActiveObject(x),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)){let G=this.getScenePoint(x);this._groupSelector={x:G.x,y:G.y,deltaY:0,deltaX:0}}if(g){let G=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,x);let w=g.findControl(this.getViewportPoint(x),JW(x));if(g===this._activeObject&&(w||!l)){this._setupCurrentTransform(x,g,G);let W=w?w.control:void 0,z=this.getScenePoint(x),p=W&&W.getMouseDownHandler(x,g,W);p&&p.call(W,x,this._currentTransform,z.x,z.y)}}O&&(this._objectsToRender=void 0),this._handleEvent(x,"down"),O&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(x){this._resetTransformEventData(),this._pointer=this.getViewportPoint(x),this._absolutePointer=oO(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(x)}__onMouseMove(x){if(this._isClick=!1,this._cacheTransformEventData(x),this._handleEvent(x,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(x);if(!this._isMainEvent(x))return;let g=this._groupSelector;if(g){let _=this.getScenePoint(x);g.deltaX=_.x-g.x,g.deltaY=_.y-g.y,this.renderTop()}else if(this._currentTransform)this._transformObject(x);else{let _=this.findTarget(x);this._setCursorFromEvent(x,_),this._fireOverOutEvents(x,_)}this.textEditingManager.onMouseMove(x),this._handleEvent(x,"move"),this._resetTransformEventData()}_fireOverOutEvents(x,g){let _=this._hoveredTarget,O=this._hoveredTargets,l=this.targets,G=Math.max(O.length,l.length);this.fireSyntheticInOutEvents("mouse",{e:x,target:g,oldTarget:_,fireCanvas:!0});for(let w=0;w<G;w++)this.fireSyntheticInOutEvents("mouse",{e:x,target:l[w],oldTarget:O[w]});this._hoveredTarget=g,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(x,g){let _=this._draggedoverTarget,O=this._hoveredTargets,l=this.targets,G=Math.max(O.length,l.length);this.fireSyntheticInOutEvents("drag",X(X({},g),{},{target:x,oldTarget:_,fireCanvas:!0}));for(let w=0;w<G;w++)this.fireSyntheticInOutEvents("drag",X(X({},g),{},{target:l[w],oldTarget:O[w]}));this._draggedoverTarget=x}fireSyntheticInOutEvents(x,g){let{target:_,oldTarget:O,fireCanvas:l,e:G}=g,w=a0(g,Ju),{targetIn:W,targetOut:z,canvasIn:p,canvasOut:o}=au[x],y=O!==_;if(O&&y){let v=X(X({},w),{},{e:G,target:O,nextTarget:_},ul(this,G));l&&this.fire(o,v),O.fire(z,v)}if(_&&y){let v=X(X({},w),{},{e:G,target:_,previousTarget:O},ul(this,G));l&&this.fire(p,v),_.fire(W,v)}}__onMouseWheel(x){this._cacheTransformEventData(x),this._handleEvent(x,"wheel"),this._resetTransformEventData()}_transformObject(x){let g=this.getScenePoint(x),_=this._currentTransform,O=_.target,l=O.group?oO(g,void 0,O.group.calcTransformMatrix()):g;_.shiftKey=x.shiftKey,_.altKey=!!this.centeredKey&&x[this.centeredKey],this._performTransformAction(x,_,l),_.actionPerformed&&this.requestRenderAll()}_performTransformAction(x,g,_){let{action:O,actionHandler:l,target:G}=g,w=!!l&&l(x,g,_.x,_.y);w&&G.setCoords(),O==="drag"&&w&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||w}_setCursorFromEvent(x,g){if(!g)return void this.setCursor(this.defaultCursor);let _=g.hoverCursor||this.hoverCursor,O=O8(this._activeObject)?this._activeObject:null,l=(!O||g.group!==O)&&g.findControl(this.getViewportPoint(x));if(l){let G=l.control;this.setCursor(G.cursorStyleHandler(x,G,g))}else g.subTargetCheck&&this.targets.concat().reverse().map((G)=>{_=G.hoverCursor||_}),this.setCursor(_)}handleMultiSelection(x,g){let _=this._activeObject,O=O8(_);if(_&&this._isSelectionKeyPressed(x)&&this.selection&&g&&g.selectable&&(_!==g||O)&&(O||!g.isDescendantOf(_)&&!_.isDescendantOf(g))&&!g.onSelect({e:x})&&!_.getActiveControl()){if(O){let l=_.getObjects();if(g===_){let G=this.getViewportPoint(x);if(!(g=this.searchPossibleTargets(l,G)||this.searchPossibleTargets(this._objects,G))||!g.selectable)return!1}g.group===_?(_.remove(g),this._hoveredTarget=g,this._hoveredTargets=[...this.targets],_.size()===1&&this._setActiveObject(_.item(0),x)):(_.multiSelectAdd(g),this._hoveredTarget=_,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(l,x)}else{_.isEditing&&_.exitEditing();let l=new(z0.getClass("ActiveSelection"))([],{canvas:this});l.multiSelectAdd(_,g),this._hoveredTarget=l,this._setActiveObject(l,x),this._fireSelectionEvents([_],x)}return!0}return!1}handleSelection(x){if(!this.selection||!this._groupSelector)return!1;let{x:g,y:_,deltaX:O,deltaY:l}=this._groupSelector,G=new E(g,_),w=G.add(new E(O,l)),W=G.min(w),z=G.max(w).subtract(W),p=this.collectObjects({left:W.x,top:W.y,width:z.x,height:z.y},{includeIntersecting:!this.selectionFullyContained}),o=G.eq(w)?p[0]?[p[0]]:[]:p.length>1?p.filter((y)=>!y.onSelect({e:x})).reverse():p;if(o.length===1)this.setActiveObject(o[0],x);else if(o.length>1){let y=z0.getClass("ActiveSelection");this.setActiveObject(new y(o,{canvas:this}),x)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}var QY={x1:0,y1:0,x2:0,y2:0},Pu=X(X({},QY),{},{r1:0,r2:0}),rl=(x,g)=>isNaN(x)&&typeof g=="number"?g:x,Ru=/^(\d+\.\d+)%|(\d+)%$/;function DY(x){return x&&Ru.test(x)}function EY(x,g){let _=typeof x=="number"?x:typeof x=="string"?parseFloat(x)/(DY(x)?100:1):NaN;return y8(0,rl(_,g),1)}var Tu=/\s*;\s*/,su=/\s*:\s*/;function tu(x,g){let _,O,l=x.getAttribute("style");if(l){let w=l.split(Tu);w[w.length-1]===""&&w.pop();for(let W=w.length;W--;){let[z,p]=w[W].split(su).map((o)=>o.trim());z==="stop-color"?_=p:z==="stop-opacity"&&(O=p)}}let G=new I0(_||x.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:EY(x.getAttribute("offset"),0),color:G.toRgb(),opacity:rl(parseFloat(O||x.getAttribute("stop-opacity")||""),1)*G.getAlpha()*g}}function eu(x,g){let _=[],O=x.getElementsByTagName("stop"),l=EY(g,1);for(let G=O.length;G--;)_.push(tu(O[G],l));return _}function nY(x){return x.nodeName==="linearGradient"||x.nodeName==="LINEARGRADIENT"?"linear":"radial"}function BY(x){return x.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function ag(x,g){return x.getAttribute(g)}function xS(x,g){return function(_,O){let l,{width:G,height:w,gradientUnits:W}=O;return Object.keys(_).reduce((z,p)=>{let o=_[p];return o==="Infinity"?l=1:o==="-Infinity"?l=0:(l=typeof o=="string"?parseFloat(o):o,typeof o=="string"&&DY(o)&&(l*=0.01,W==="pixels"&&(p!=="x1"&&p!=="x2"&&p!=="r2"||(l*=G),p!=="y1"&&p!=="y2"||(l*=w)))),z[p]=l,z},{})}(nY(x)==="linear"?function(_){return{x1:ag(_,"x1")||0,y1:ag(_,"y1")||0,x2:ag(_,"x2")||"100%",y2:ag(_,"y2")||0}}(x):function(_){return{x1:ag(_,"fx")||ag(_,"cx")||"50%",y1:ag(_,"fy")||ag(_,"cy")||"50%",r1:0,x2:ag(_,"cx")||"50%",y2:ag(_,"cy")||"50%",r2:ag(_,"r")||"50%"}}(x),X(X({},g),{},{gradientUnits:BY(x)}))}class gG{constructor(x){let{type:g="linear",gradientUnits:_="pixels",coords:O={},colorStops:l=[],offsetX:G=0,offsetY:w=0,gradientTransform:W,id:z}=x||{};Object.assign(this,{type:g,gradientUnits:_,coords:X(X({},g==="radial"?Pu:QY),O),colorStops:l,offsetX:G,offsetY:w,gradientTransform:W,id:z?"".concat(z,"_").concat(W6()):W6()})}addColorStop(x){for(let g in x){let _=new I0(x[g]);this.colorStops.push({offset:parseFloat(g),color:_.toRgb(),opacity:_.getAlpha()})}return this}toObject(x){return X(X({},k8(this,x)),{},{type:this.type,coords:X({},this.coords),colorStops:this.colorStops.map((g)=>X({},g)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(x){let{additionalTransform:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=[],O=this.gradientTransform?this.gradientTransform.concat():nx.concat(),l=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",G=this.colorStops.map((o)=>X({},o)).sort((o,y)=>o.offset-y.offset),w=-this.offsetX,W=-this.offsetY;var z;l==="objectBoundingBox"?(w/=x.width,W/=x.height):(w+=x.width/2,W+=x.height/2),(z=x)&&typeof z._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(w-=x.pathOffset.x,W-=x.pathOffset.y),O[4]-=w,O[5]-=W;let p=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(l,'"'),'gradientTransform="'.concat(g?g+" ":"").concat(oG(O),'"'),""].join(" ");if(this.type==="linear"){let{x1:o,y1:y,x2:v,y2:k}=this.coords;_.push("<linearGradient ",p,' x1="',o,'" y1="',y,'" x2="',v,'" y2="',k,`">
`)}else if(this.type==="radial"){let{x1:o,y1:y,x2:v,y2:k,r1:M,r2:f}=this.coords,Y=M>f;_.push("<radialGradient ",p,' cx="',Y?o:v,'" cy="',Y?y:k,'" r="',Y?M:f,'" fx="',Y?v:o,'" fy="',Y?k:y,`">
`),Y&&(G.reverse(),G.forEach((N)=>{N.offset=1-N.offset}));let q=Math.min(M,f);if(q>0){let N=q/Math.max(M,f);G.forEach((C)=>{C.offset+=N*(1-C.offset)})}}return G.forEach((o)=>{let{color:y,offset:v,opacity:k}=o;_.push("<stop ",'offset="',100*v+"%",'" style="stop-color:',y,k!==void 0?";stop-opacity: "+k:";",`"/>
`)}),_.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),_.join("")}toLive(x){let{x1:g,y1:_,x2:O,y2:l,r1:G,r2:w}=this.coords,W=this.type==="linear"?x.createLinearGradient(g,_,O,l):x.createRadialGradient(g,_,G,O,l,w);return this.colorStops.forEach((z)=>{let{color:p,opacity:o,offset:y}=z;W.addColorStop(y,o!==void 0?new I0(p).setAlpha(o).toRgba():p)}),W}static async fromObject(x){let{colorStops:g,gradientTransform:_}=x;return new this(X(X({},x),{},{colorStops:g?g.map((O)=>X({},O)):void 0,gradientTransform:_?[..._]:void 0}))}static fromElement(x,g,_){let O=BY(x),l=g._findCenterFromElement();return new this(X({id:x.getAttribute("id")||void 0,type:nY(x),coords:xS(x,{width:_.viewBoxWidth||_.width,height:_.viewBoxHeight||_.height}),colorStops:eu(x,_.opacity),gradientUnits:O,gradientTransform:k2(x.getAttribute("gradientTransform")||"")},O==="pixels"?{offsetX:g.width/2-l.x,offsetY:g.height/2-l.y}:{offsetX:0,offsetY:0}))}}F(gG,"type","Gradient"),z0.setClass(gG,"gradient"),z0.setClass(gG,"linear"),z0.setClass(gG,"radial");var gS=["type","source","patternTransform"];class BW{get type(){return"pattern"}set type(x){G6("warn","Setting type has no effect",x)}constructor(x){F(this,"repeat","repeat"),F(this,"offsetX",0),F(this,"offsetY",0),F(this,"crossOrigin",""),this.id=W6(),Object.assign(this,x)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(x){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?x.createPattern(this.source,this.repeat):null}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:g,crossOrigin:_}=this;return X(X({},k8(this,x)),{},{type:"pattern",source:this.sourceToString(),repeat:g,crossOrigin:_,offsetX:J0(this.offsetX,X0.NUM_FRACTION_DIGITS),offsetY:J0(this.offsetY,X0.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(x){let{width:g,height:_}=x,{source:O,repeat:l,id:G}=this,w=rl(this.offsetX/g,0),W=rl(this.offsetY/_,0),z=l==="repeat-y"||l==="no-repeat"?1+Math.abs(w||0):rl(O.width/g,0),p=l==="repeat-x"||l==="no-repeat"?1+Math.abs(W||0):rl(O.height/_,0);return['<pattern id="SVGID_'.concat(G,'" x="').concat(w,'" y="').concat(W,'" width="').concat(z,'" height="').concat(p,'">'),'<image x="0" y="0" width="'.concat(O.width,'" height="').concat(O.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(x,g){let{type:_,source:O,patternTransform:l}=x,G=a0(x,gS),w=await GG(O,X(X({},g),{},{crossOrigin:G.crossOrigin}));return new this(X(X({},G),{},{patternTransform:l&&l.slice(0),source:w}))}}F(BW,"type","Pattern"),z0.setClass(BW),z0.setClass(BW,"pattern");var _S=["path","left","top"],OS=["d"];class l8 extends Lx{constructor(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:_,left:O,top:l}=g,G=a0(g,_S);super(),Object.assign(this,l8.ownDefaults),this.setOptions(G),this._setPath(x||[],!0),typeof O=="number"&&this.set(r0,O),typeof l=="number"&&this.set(sx,l)}_setPath(x,g){this.path=XY(Array.isArray(x)?x:IY(x)),this.setBoundingBox(g)}_findCenterFromElement(){let x=this._calcBoundsFromPath();return new E(x.left+x.width/2,x.top+x.height/2)}_renderPathCommands(x){let g=-this.pathOffset.x,_=-this.pathOffset.y;x.beginPath();for(let O of this.path)switch(O[0]){case"L":x.lineTo(O[1]+g,O[2]+_);break;case"M":x.moveTo(O[1]+g,O[2]+_);break;case"C":x.bezierCurveTo(O[1]+g,O[2]+_,O[3]+g,O[4]+_,O[5]+g,O[6]+_);break;case"Q":x.quadraticCurveTo(O[1]+g,O[2]+_,O[3]+g,O[4]+_);break;case"Z":x.closePath()}}_render(x){this._renderPathCommands(x),this._renderPaintInOrder(x)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X(X({},super.toObject(x)),{},{path:this.path.map((g)=>g.slice())})}toDatalessObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=this.toObject(x);return this.sourcePath&&(delete g.path,g.sourcePath=this.sourcePath),g}_toSVG(){let x=ZY(this.path,X0.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(x,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let x=X0.NUM_FRACTION_DIGITS;return" translate(".concat(J0(-this.pathOffset.x,x),", ").concat(J0(-this.pathOffset.y,x),")")}toClipPathSVG(x){let g=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:x,additionalTransform:g})}toSVG(x){let g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:x,additionalTransform:g})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(x){let{width:g,height:_,pathOffset:O}=this._calcDimensions();this.set({width:g,height:_,pathOffset:O}),x&&this.setPositionByOrigin(O,c0,c0)}_calcBoundsFromPath(){let x=[],g=0,_=0,O=0,l=0;for(let G of this.path)switch(G[0]){case"L":O=G[1],l=G[2],x.push({x:g,y:_},{x:O,y:l});break;case"M":O=G[1],l=G[2],g=O,_=l;break;case"C":x.push(...C2(O,l,G[1],G[2],G[3],G[4],G[5],G[6])),O=G[5],l=G[6];break;case"Q":x.push(...C2(O,l,G[1],G[2],G[1],G[2],G[3],G[4])),O=G[3],l=G[4];break;case"Z":O=g,l=_}return m_(x)}_calcDimensions(){let x=this._calcBoundsFromPath();return X(X({},x),{},{pathOffset:new E(x.left+x.width/2,x.top+x.height/2)})}static fromObject(x){return this._fromObject(x,{extraParam:"path"})}static async fromElement(x,g,_){let O=qO(x,this.ATTRIBUTE_NAMES,_),{d:l}=O;return new this(l,X(X(X({},a0(O,OS)),g),{},{left:void 0,top:void 0}))}}F(l8,"type","Path"),F(l8,"cacheProperties",[...kO,"path","fillRule"]),F(l8,"ATTRIBUTE_NAMES",[...v6,"d"]),z0.setClass(l8),z0.setSVGClass(l8);var lS=["left","top","radius"],$Y=["radius","startAngle","endAngle","counterClockwise"];class wO extends Lx{static getDefaults(){return X(X({},super.getDefaults()),wO.ownDefaults)}constructor(x){super(),Object.assign(this,wO.ownDefaults),this.setOptions(x)}_set(x,g){return super._set(x,g),x==="radius"&&this.setRadius(g),this}_render(x){x.beginPath(),x.arc(0,0,this.radius,Ox(this.startAngle),Ox(this.endAngle),this.counterClockwise),this._renderPaintInOrder(x)}getRadiusX(){return this.get("radius")*this.get(Bx)}getRadiusY(){return this.get("radius")*this.get(kg)}setRadius(x){this.radius=x,this.set({width:2*x,height:2*x})}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...$Y,...x])}_toSVG(){let x=(this.endAngle-this.startAngle)%360;if(x===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:g}=this,_=Ox(this.startAngle),O=Ox(this.endAngle),l=eg(_)*g,G=x_(_)*g,w=eg(O)*g,W=x_(O)*g,z=x>180?1:0,p=this.counterClockwise?0:1;return['<path d="M '.concat(l," ").concat(G," A ").concat(g," ").concat(g," 0 ").concat(z," ").concat(p," ").concat(w," ").concat(W,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(x,g,_){let O=qO(x,this.ATTRIBUTE_NAMES,_),{left:l=0,top:G=0,radius:w=0}=O;return new this(X(X({},a0(O,lS)),{},{radius:w,left:l-w,top:G-w}))}static fromObject(x){return super._fromObject(x)}}F(wO,"type","Circle"),F(wO,"cacheProperties",[...kO,...$Y]),F(wO,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),F(wO,"ATTRIBUTE_NAMES",["cx","cy","r",...v6]),z0.setClass(wO),z0.setSVGClass(wO);var GS=["x1","y1","x2","y2"],wS=["x1","y1","x2","y2"],d2=["x1","x2","y1","y2"];class G8 extends Lx{constructor(){let[x,g,_,O]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,G8.ownDefaults),this.setOptions(l),this.x1=x,this.x2=_,this.y1=g,this.y2=O,this._setWidthHeight();let{left:G,top:w}=l;typeof G=="number"&&this.set(r0,G),typeof w=="number"&&this.set(sx,w)}_setWidthHeight(){let{x1:x,y1:g,x2:_,y2:O}=this;this.width=Math.abs(_-x),this.height=Math.abs(O-g);let{left:l,top:G,width:w,height:W}=m_([{x,y:g},{x:_,y:O}]),z=new E(l+w/2,G+W/2);this.setPositionByOrigin(z,c0,c0)}_set(x,g){return super._set(x,g),d2.includes(x)&&this._setWidthHeight(),this}_render(x){x.beginPath();let g=this.calcLinePoints();x.moveTo(g.x1,g.y1),x.lineTo(g.x2,g.y2),x.lineWidth=this.strokeWidth;let _=x.strokeStyle;var O;Zg(this.stroke)?x.strokeStyle=this.stroke.toLive(x):x.strokeStyle=(O=this.stroke)!==null&&O!==void 0?O:x.fillStyle,this.stroke&&this._renderStroke(x),x.strokeStyle=_}_findCenterFromElement(){return new E((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X(X({},super.toObject(x)),this.calcLinePoints())}_getNonTransformedDimensions(){let x=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(x.y-=this.strokeWidth),this.height===0&&(x.x-=this.strokeWidth)),x}calcLinePoints(){let{x1:x,x2:g,y1:_,y2:O,width:l,height:G}=this,w=x<=g?-1:1,W=_<=O?-1:1;return{x1:w*l/2,x2:w*-l/2,y1:W*G/2,y2:W*-G/2}}_toSVG(){let{x1:x,x2:g,y1:_,y2:O}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(x,'" y1="').concat(_,'" x2="').concat(g,'" y2="').concat(O,`" />
`)]}static async fromElement(x,g,_){let O=qO(x,this.ATTRIBUTE_NAMES,_),{x1:l=0,y1:G=0,x2:w=0,y2:W=0}=O;return new this([l,G,w,W],a0(O,GS))}static fromObject(x){let{x1:g,y1:_,x2:O,y2:l}=x,G=a0(x,wS);return this._fromObject(X(X({},G),{},{points:[g,_,O,l]}),{extraParam:"points"})}}F(G8,"type","Line"),F(G8,"cacheProperties",[...kO,...d2]),F(G8,"ATTRIBUTE_NAMES",v6.concat(d2)),z0.setClass(G8),z0.setSVGClass(G8);class W8 extends Lx{static getDefaults(){return X(X({},super.getDefaults()),W8.ownDefaults)}constructor(x){super(),Object.assign(this,W8.ownDefaults),this.setOptions(x)}_render(x){let g=this.width/2,_=this.height/2;x.beginPath(),x.moveTo(-g,_),x.lineTo(0,-_),x.lineTo(g,_),x.closePath(),this._renderPaintInOrder(x)}_toSVG(){let x=this.width/2,g=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-x," ").concat(g,",0 ").concat(-g,",").concat(x," ").concat(g),'" />']}}F(W8,"type","Triangle"),F(W8,"ownDefaults",{width:100,height:100}),z0.setClass(W8),z0.setSVGClass(W8);var iY=["rx","ry"];class WO extends Lx{static getDefaults(){return X(X({},super.getDefaults()),WO.ownDefaults)}constructor(x){super(),Object.assign(this,WO.ownDefaults),this.setOptions(x)}_set(x,g){switch(super._set(x,g),x){case"rx":this.rx=g,this.set("width",2*g);break;case"ry":this.ry=g,this.set("height",2*g)}return this}getRx(){return this.get("rx")*this.get(Bx)}getRy(){return this.get("ry")*this.get(kg)}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...iY,...x])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(x){x.beginPath(),x.save(),x.transform(1,0,0,this.ry/this.rx,0,0),x.arc(0,0,this.rx,0,NO,!1),x.restore(),this._renderPaintInOrder(x)}static async fromElement(x,g,_){let O=qO(x,this.ATTRIBUTE_NAMES,_);return O.left=(O.left||0)-O.rx,O.top=(O.top||0)-O.ry,new this(O)}}function WS(x){if(!x)return[];let g=x.replace(/,/g," ").trim().split(/\s+/),_=[];for(let O=0;O<g.length;O+=2)_.push({x:parseFloat(g[O]),y:parseFloat(g[O+1])});return _}F(WO,"type","Ellipse"),F(WO,"cacheProperties",[...kO,...iY]),F(WO,"ownDefaults",{rx:0,ry:0}),F(WO,"ATTRIBUTE_NAMES",[...v6,"cx","cy","rx","ry"]),z0.setClass(WO),z0.setSVGClass(WO);var pS=["left","top"],HY={exactBoundingBox:!1};class Pg extends Lx{static getDefaults(){return X(X({},super.getDefaults()),Pg.ownDefaults)}constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),F(this,"strokeDiff",void 0),Object.assign(this,Pg.ownDefaults),this.setOptions(g),this.points=x;let{left:_,top:O}=g;this.initialized=!0,this.setBoundingBox(!0),typeof _=="number"&&this.set(r0,_),typeof O=="number"&&this.set(sx,O)}isOpen(){return!0}_projectStrokeOnPoints(x){return MY(this.points,x,this.isOpen())}_calcDimensions(x){x=X({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},x||{});let g=this.exactBoundingBox?this._projectStrokeOnPoints(x).map((z)=>z.projectedPoint):this.points;if(g.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new E,strokeOffset:new E,strokeDiff:new E};let _=m_(g),O=NG(X(X({},x),{},{scaleX:1,scaleY:1})),l=m_(this.points.map((z)=>rx(z,O,!0))),G=new E(this.scaleX,this.scaleY),w=_.left+_.width/2,W=_.top+_.height/2;return this.exactBoundingBox&&(w-=W*Math.tan(Ox(this.skewX)),W-=w*Math.tan(Ox(this.skewY))),X(X({},_),{},{pathOffset:new E(w,W),strokeOffset:new E(l.left,l.top).subtract(new E(_.left,_.top)).multiply(G),strokeDiff:new E(_.width,_.height).subtract(new E(l.width,l.height)).multiply(G)})}_findCenterFromElement(){let x=m_(this.points);return new E(x.left+x.width/2,x.top+x.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(x){let{left:g,top:_,width:O,height:l,pathOffset:G,strokeOffset:w,strokeDiff:W}=this._calcDimensions();this.set({width:O,height:l,pathOffset:G,strokeOffset:w,strokeDiff:W}),x&&this.setPositionByOrigin(new E(g+O/2,_+l/2),c0,c0)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new E(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let G;if(Object.keys(x).some((w)=>this.strokeUniform||this.constructor.layoutProperties.includes(w))){var g,_;let{width:w,height:W}=this._calcDimensions(x);G=new E((g=x.width)!==null&&g!==void 0?g:w,(_=x.height)!==null&&_!==void 0?_:W)}else{var O,l;G=new E((O=x.width)!==null&&O!==void 0?O:this.width,(l=x.height)!==null&&l!==void 0?l:this.height)}return G.multiply(new E(x.scaleX||this.scaleX,x.scaleY||this.scaleY))}return super._getTransformedDimensions(x)}_set(x,g){let _=this.initialized&&this[x]!==g,O=super._set(x,g);return this.exactBoundingBox&&_&&((x===Bx||x===kg)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(x))&&this.setDimensions(),O}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X(X({},super.toObject(x)),{},{points:this.points.map((g)=>{let{x:_,y:O}=g;return{x:_,y:O}})})}_toSVG(){let x=[],g=this.pathOffset.x,_=this.pathOffset.y,O=X0.NUM_FRACTION_DIGITS;for(let l=0,G=this.points.length;l<G;l++)x.push(J0(this.points[l].x-g,O),",",J0(this.points[l].y-_,O)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(x.join(""),`" />
`)]}_render(x){let g=this.points.length,_=this.pathOffset.x,O=this.pathOffset.y;if(g&&!isNaN(this.points[g-1].y)){x.beginPath(),x.moveTo(this.points[0].x-_,this.points[0].y-O);for(let l=0;l<g;l++){let G=this.points[l];x.lineTo(G.x-_,G.y-O)}!this.isOpen()&&x.closePath(),this._renderPaintInOrder(x)}}complexity(){return this.points.length}static async fromElement(x,g,_){return new this(WS(x.getAttribute("points")),X(X({},a0(qO(x,this.ATTRIBUTE_NAMES,_),pS)),g))}static fromObject(x){return this._fromObject(x,{extraParam:"points"})}}F(Pg,"ownDefaults",HY),F(Pg,"type","Polyline"),F(Pg,"layoutProperties",[_7,O7,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),F(Pg,"cacheProperties",[...kO,"points"]),F(Pg,"ATTRIBUTE_NAMES",[...v6]),z0.setClass(Pg),z0.setSVGClass(Pg);class _G extends Pg{isOpen(){return!1}}F(_G,"ownDefaults",HY),F(_G,"type","Polygon"),z0.setClass(_G),z0.setSVGClass(_G);var JY=["fontSize","fontWeight","fontFamily","fontStyle"],aY=["underline","overline","linethrough"],PY=[...JY,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],RY=[...PY,...aY,"textBackgroundColor","direction"],zS=[...JY,...aY,ex,"strokeWidth",dx,"deltaY","textBackgroundColor"],oS={_reNewline:b2,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:r0,fontStyle:"normal",lineHeight:1.16,superscript:{size:0.6,baseline:-0.35},subscript:{size:0.6,baseline:0.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:r0,pathAlign:"baseline",_fontSizeFraction:0.222,offsets:{underline:0.1,linethrough:-0.315,overline:-0.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},b_="justify",_p="justify-left",wG="justify-right",WG="justify-center";class P2 extends Lx{isEmptyStyles(x){if(!this.styles)return!0;if(x!==void 0&&!this.styles[x])return!0;let g=x===void 0?this.styles:{line:this.styles[x]};for(let _ in g)for(let O in g[_])for(let l in g[_][O])return!1;return!0}styleHas(x,g){if(!this.styles)return!1;if(g!==void 0&&!this.styles[g])return!1;let _=g===void 0?this.styles:{0:this.styles[g]};for(let O in _)for(let l in _[O])if(_[O][l][x]!==void 0)return!0;return!1}cleanStyle(x){if(!this.styles)return!1;let g=this.styles,_,O,l=0,G=!0,w=0;for(let W in g){_=0;for(let z in g[W]){let p=g[W][z]||{};l++,p[x]!==void 0?(O?p[x]!==O&&(G=!1):O=p[x],p[x]===this[x]&&delete p[x]):G=!1,Object.keys(p).length!==0?_++:delete g[W][z]}_===0&&delete g[W]}for(let W=0;W<this._textLines.length;W++)w+=this._textLines[W].length;G&&l===w&&(this[x]=O,this.removeStyle(x))}removeStyle(x){if(!this.styles)return;let g=this.styles,_,O,l;for(O in g){for(l in _=g[O],_)delete _[l][x],Object.keys(_[l]).length===0&&delete _[l];Object.keys(_).length===0&&delete g[O]}}_extendStyles(x,g){let{lineIndex:_,charIndex:O}=this.get2DCursorLocation(x);this._getLineStyle(_)||this._setLineStyle(_);let l=S2(X(X({},this._getStyleDeclaration(_,O)),g),(G)=>G!==void 0);this._setStyleDeclaration(_,O,l)}getSelectionStyles(x,g,_){let O=[];for(let l=x;l<(g||x);l++)O.push(this.getStyleAtPosition(l,_));return O}getStyleAtPosition(x,g){let{lineIndex:_,charIndex:O}=this.get2DCursorLocation(x);return g?this.getCompleteStyleDeclaration(_,O):this._getStyleDeclaration(_,O)}setSelectionStyles(x,g,_){for(let O=g;O<(_||g);O++)this._extendStyles(O,x);this._forceClearCache=!0}_getStyleDeclaration(x,g){var _;let O=this.styles&&this.styles[x];return O&&(_=O[g])!==null&&_!==void 0?_:{}}getCompleteStyleDeclaration(x,g){return X(X({},k8(this,this.constructor._styleProperties)),this._getStyleDeclaration(x,g))}_setStyleDeclaration(x,g,_){this.styles[x][g]=_}_deleteStyleDeclaration(x,g){delete this.styles[x][g]}_getLineStyle(x){return!!this.styles[x]}_setLineStyle(x){this.styles[x]={}}_deleteLineStyle(x){delete this.styles[x]}}F(P2,"_styleProperties",zS);var vS=/  +/g,yS=/"/g;function sy(x,g,_,O,l){return"\t\t".concat(function(G,w){let{left:W,top:z,width:p,height:o}=w,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:X0.NUM_FRACTION_DIGITS,v=vG(dx,G,!1),[k,M,f,Y]=[W,z,p,o].map((q)=>J0(q,y));return"<rect ".concat(v,' x="').concat(k,'" y="').concat(M,'" width="').concat(f,'" height="').concat(Y,'"></rect>')}(x,{left:g,top:_,width:O,height:l}),`
`)}var NS=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],ty;class Dx extends P2{static getDefaults(){return X(X({},super.getDefaults()),Dx.ownDefaults)}constructor(x,g){super(),F(this,"__charBounds",[]),Object.assign(this,Dx.ownDefaults),this.setOptions(g),this.styles||(this.styles={}),this.text=x,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let x=this.path;x&&(x.segmentsInfo=a2(x.path))}_splitText(){let x=this._splitTextIntoLines(this.text);return this.textLines=x.lines,this._textLines=x.graphemeLines,this._unwrappedTextLines=x._unwrappedLines,this._text=x.graphemeText,x}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(b_)&&this.enlargeSpaces()}enlargeSpaces(){let x,g,_,O,l,G,w;for(let W=0,z=this._textLines.length;W<z;W++)if((this.textAlign===b_||W!==z-1&&!this.isEndOfWrapping(W))&&(O=0,l=this._textLines[W],g=this.getLineWidth(W),g<this.width&&(w=this.textLines[W].match(this._reSpacesAndTabs)))){_=w.length,x=(this.width-g)/_;for(let p=0;p<=l.length;p++)G=this.__charBounds[W][p],this._reSpaceAndTab.test(l[p])?(G.width+=x,G.kernedWidth+=x,G.left+=O,O+=x):G.left+=O}}isEndOfWrapping(x){return x===this._textLines.length-1}missingNewlineOffset(x){return 1}get2DCursorLocation(x,g){let _=g?this._unwrappedTextLines:this._textLines,O;for(O=0;O<_.length;O++){if(x<=_[O].length)return{lineIndex:O,charIndex:x};x-=_[O].length+this.missingNewlineOffset(O,g)}return{lineIndex:O-1,charIndex:_[O-1].length<x?_[O-1].length:x}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let x=super._getCacheCanvasDimensions(),g=this.fontSize;return x.width+=g*x.zoomX,x.height+=g*x.zoomY,x}_render(x){let g=this.path;g&&!g.isNotVisible()&&g._render(x),this._setTextStyles(x),this._renderTextLinesBackground(x),this._renderTextDecoration(x,"underline"),this._renderText(x),this._renderTextDecoration(x,"overline"),this._renderTextDecoration(x,"linethrough")}_renderText(x){this.paintFirst===ex?(this._renderTextStroke(x),this._renderTextFill(x)):(this._renderTextFill(x),this._renderTextStroke(x))}_setTextStyles(x,g,_){if(x.textBaseline="alphabetic",this.path)switch(this.pathAlign){case c0:x.textBaseline="middle";break;case"ascender":x.textBaseline=sx;break;case"descender":x.textBaseline=l2}x.font=this._getFontDeclaration(g,_)}calcTextWidth(){let x=this.getLineWidth(0);for(let g=1,_=this._textLines.length;g<_;g++){let O=this.getLineWidth(g);O>x&&(x=O)}return x}_renderTextLine(x,g,_,O,l,G){this._renderChars(x,g,_,O,l,G)}_renderTextLinesBackground(x){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let g=x.fillStyle,_=this._getLeftOffset(),O=this._getTopOffset();for(let l=0,G=this._textLines.length;l<G;l++){let w=this.getHeightOfLine(l);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",l)){O+=w;continue}let W=this._textLines[l].length,z=this._getLineLeftOffset(l),p,o,y=0,v=0,k=this.getValueOfPropertyAt(l,0,"textBackgroundColor");for(let M=0;M<W;M++){let f=this.__charBounds[l][M];o=this.getValueOfPropertyAt(l,M,"textBackgroundColor"),this.path?(x.save(),x.translate(f.renderLeft,f.renderTop),x.rotate(f.angle),x.fillStyle=o,o&&x.fillRect(-f.width/2,-w/this.lineHeight*(1-this._fontSizeFraction),f.width,w/this.lineHeight),x.restore()):o!==k?(p=_+z+v,this.direction==="rtl"&&(p=this.width-p-y),x.fillStyle=k,k&&x.fillRect(p,O,y,w/this.lineHeight),v=f.left,y=f.width,k=o):y+=f.kernedWidth}o&&!this.path&&(p=_+z+v,this.direction==="rtl"&&(p=this.width-p-y),x.fillStyle=o,x.fillRect(p,O,y,w/this.lineHeight)),O+=w}x.fillStyle=g,this._removeShadow(x)}_measureChar(x,g,_,O){let l=OG.getFontCache(g),G=this._getFontDeclaration(g),w=_+x,W=_&&G===this._getFontDeclaration(O),z=g.fontSize/this.CACHE_FONT_SIZE,p,o,y,v;if(_&&l[_]!==void 0&&(y=l[_]),l[x]!==void 0&&(v=p=l[x]),W&&l[w]!==void 0&&(o=l[w],v=o-y),p===void 0||y===void 0||o===void 0){let k=function(){if(!ty)ty=g_({width:0,height:0}).getContext("2d");return ty}();this._setTextStyles(k,g,!0),p===void 0&&(v=p=k.measureText(x).width,l[x]=p),y===void 0&&W&&_&&(y=k.measureText(_).width,l[_]=y),W&&o===void 0&&(o=k.measureText(w).width,l[w]=o,v=o-y)}return{width:p*z,kernedWidth:v*z}}getHeightOfChar(x,g){return this.getValueOfPropertyAt(x,g,"fontSize")}measureLine(x){let g=this._measureLine(x);return this.charSpacing!==0&&(g.width-=this._getWidthOfCharSpacing()),g.width<0&&(g.width=0),g}_measureLine(x){let g,_,O=0,l=this.pathSide===Wx,G=this.path,w=this._textLines[x],W=w.length,z=new Array(W);this.__charBounds[x]=z;for(let p=0;p<W;p++){let o=w[p];_=this._getGraphemeBox(o,x,p,g),z[p]=_,O+=_.kernedWidth,g=o}if(z[W]={left:_?_.left+_.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},G&&G.segmentsInfo){let p=0,o=G.segmentsInfo[G.segmentsInfo.length-1].length;switch(this.textAlign){case r0:p=l?o-O:0;break;case c0:p=(o-O)/2;break;case Wx:p=l?0:o-O}p+=this.pathStartOffset*(l?-1:1);for(let y=l?W-1:0;l?y>=0:y<W;l?y--:y++)_=z[y],p>o?p%=o:p<0&&(p+=o),this._setGraphemeOnPath(p,_),p+=_.kernedWidth}return{width:O,numOfSpaces:0}}_setGraphemeOnPath(x,g){let _=x+g.kernedWidth/2,O=this.path,l=rY(O.path,_,O.segmentsInfo);g.renderLeft=l.x-O.pathOffset.x,g.renderTop=l.y-O.pathOffset.y,g.angle=l.angle+(this.pathSide===Wx?Math.PI:0)}_getGraphemeBox(x,g,_,O,l){let G=this.getCompleteStyleDeclaration(g,_),w=O?this.getCompleteStyleDeclaration(g,_-1):{},W=this._measureChar(x,G,O,w),z,p=W.kernedWidth,o=W.width;this.charSpacing!==0&&(z=this._getWidthOfCharSpacing(),o+=z,p+=z);let y={width:o,left:0,height:G.fontSize,kernedWidth:p,deltaY:G.deltaY};if(_>0&&!l){let v=this.__charBounds[g][_-1];y.left=v.left+v.width+W.kernedWidth-W.width}return y}getHeightOfLine(x){if(this.__lineHeights[x])return this.__lineHeights[x];let g=this.getHeightOfChar(x,0);for(let _=1,O=this._textLines[x].length;_<O;_++)g=Math.max(this.getHeightOfChar(x,_),g);return this.__lineHeights[x]=g*this.lineHeight*this._fontSizeMult}calcTextHeight(){let x,g=0;for(let _=0,O=this._textLines.length;_<O;_++)x=this.getHeightOfLine(_),g+=_===O-1?x/this.lineHeight:x;return g}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(x,g){x.save();let _=0,O=this._getLeftOffset(),l=this._getTopOffset();for(let G=0,w=this._textLines.length;G<w;G++){let W=this.getHeightOfLine(G),z=W/this.lineHeight,p=this._getLineLeftOffset(G);this._renderTextLine(g,x,this._textLines[G],O+p,l+_+z,G),_+=W}x.restore()}_renderTextFill(x){(this.fill||this.styleHas(dx))&&this._renderTextCommon(x,"fillText")}_renderTextStroke(x){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(x),x.save(),this._setLineDash(x,this.strokeDashArray),x.beginPath(),this._renderTextCommon(x,"strokeText"),x.closePath(),x.restore())}_renderChars(x,g,_,O,l,G){let w=this.getHeightOfLine(G),W=this.textAlign.includes(b_),z=this.path,p=!W&&this.charSpacing===0&&this.isEmptyStyles(G)&&!z,o=this.direction==="ltr",y=this.direction==="ltr"?1:-1,v=g.direction,k,M,f,Y,q,N="",C=0;if(g.save(),v!==this.direction&&(g.canvas.setAttribute("dir",o?"ltr":"rtl"),g.direction=o?"ltr":"rtl",g.textAlign=o?r0:Wx),l-=w*this._fontSizeFraction/this.lineHeight,p)return this._renderChar(x,g,G,0,_.join(""),O,l),void g.restore();for(let d=0,c=_.length-1;d<=c;d++)Y=d===c||this.charSpacing||z,N+=_[d],f=this.__charBounds[G][d],C===0?(O+=y*(f.kernedWidth-f.width),C+=f.width):C+=f.kernedWidth,W&&!Y&&this._reSpaceAndTab.test(_[d])&&(Y=!0),Y||(k=k||this.getCompleteStyleDeclaration(G,d),M=this.getCompleteStyleDeclaration(G,d+1),Y=Cp(k,M,!1)),Y&&(z?(g.save(),g.translate(f.renderLeft,f.renderTop),g.rotate(f.angle),this._renderChar(x,g,G,d,N,-C/2,0),g.restore()):(q=O,this._renderChar(x,g,G,d,N,q,l)),N="",k=M,O+=y*C,C=0);g.restore()}_applyPatternGradientTransformText(x){let g=this.width+this.strokeWidth,_=this.height+this.strokeWidth,O=g_({width:g,height:_}),l=O.getContext("2d");return O.width=g,O.height=_,l.beginPath(),l.moveTo(0,0),l.lineTo(g,0),l.lineTo(g,_),l.lineTo(0,_),l.closePath(),l.translate(g/2,_/2),l.fillStyle=x.toLive(l),this._applyPatternGradientTransform(l,x),l.fill(),l.createPattern(O,"no-repeat")}handleFiller(x,g,_){let O,l;return Zg(_)?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?(O=-this.width/2,l=-this.height/2,x.translate(O,l),x[g]=this._applyPatternGradientTransformText(_),{offsetX:O,offsetY:l}):(x[g]=_.toLive(x),this._applyPatternGradientTransform(x,_)):(x[g]=_,{offsetX:0,offsetY:0})}_setStrokeStyles(x,g){let{stroke:_,strokeWidth:O}=g;return x.lineWidth=O,x.lineCap=this.strokeLineCap,x.lineDashOffset=this.strokeDashOffset,x.lineJoin=this.strokeLineJoin,x.miterLimit=this.strokeMiterLimit,this.handleFiller(x,"strokeStyle",_)}_setFillStyles(x,g){let{fill:_}=g;return this.handleFiller(x,"fillStyle",_)}_renderChar(x,g,_,O,l,G,w){let W=this._getStyleDeclaration(_,O),z=this.getCompleteStyleDeclaration(_,O),p=x==="fillText"&&z.fill,o=x==="strokeText"&&z.stroke&&z.strokeWidth;if(o||p){if(g.save(),g.font=this._getFontDeclaration(z),W.textBackgroundColor&&this._removeShadow(g),W.deltaY&&(w+=W.deltaY),p){let y=this._setFillStyles(g,z);g.fillText(l,G-y.offsetX,w-y.offsetY)}if(o){let y=this._setStrokeStyles(g,z);g.strokeText(l,G-y.offsetX,w-y.offsetY)}g.restore()}}setSuperscript(x,g){this._setScript(x,g,this.superscript)}setSubscript(x,g){this._setScript(x,g,this.subscript)}_setScript(x,g,_){let O=this.get2DCursorLocation(x,!0),l=this.getValueOfPropertyAt(O.lineIndex,O.charIndex,"fontSize"),G=this.getValueOfPropertyAt(O.lineIndex,O.charIndex,"deltaY"),w={fontSize:l*_.size,deltaY:G+l*_.baseline};this.setSelectionStyles(w,x,g)}_getLineLeftOffset(x){let g=this.getLineWidth(x),_=this.width-g,O=this.textAlign,l=this.direction,G=this.isEndOfWrapping(x),w=0;return O===b_||O===WG&&!G||O===wG&&!G||O===_p&&!G?0:(O===c0&&(w=_/2),O===Wx&&(w=_),O===WG&&(w=_/2),O===wG&&(w=_),l==="rtl"&&(O===Wx||O===b_||O===wG?w=0:O===r0||O===_p?w=-_:O!==c0&&O!==WG||(w=-_/2)),w)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(x){if(this.__lineWidths[x]!==void 0)return this.__lineWidths[x];let{width:g}=this.measureLine(x);return this.__lineWidths[x]=g,g}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1000:0}getValueOfPropertyAt(x,g,_){var O;return(O=this._getStyleDeclaration(x,g)[_])!==null&&O!==void 0?O:this[_]}_renderTextDecoration(x,g){if(!this[g]&&!this.styleHas(g))return;let _=this._getTopOffset(),O=this._getLeftOffset(),l=this.path,G=this._getWidthOfCharSpacing(),w=this.offsets[g];for(let W=0,z=this._textLines.length;W<z;W++){let p=this.getHeightOfLine(W);if(!this[g]&&!this.styleHas(g,W)){_+=p;continue}let o=this._textLines[W],y=p/this.lineHeight,v=this._getLineLeftOffset(W),k,M,f=0,Y=0,q=this.getValueOfPropertyAt(W,0,g),N=this.getValueOfPropertyAt(W,0,dx),C=_+y*(1-this._fontSizeFraction),d=this.getHeightOfChar(W,0),c=this.getValueOfPropertyAt(W,0,"deltaY");for(let b=0,j=o.length;b<j;b++){let Q=this.__charBounds[W][b];k=this.getValueOfPropertyAt(W,b,g),M=this.getValueOfPropertyAt(W,b,dx);let V=this.getHeightOfChar(W,b),u=this.getValueOfPropertyAt(W,b,"deltaY");if(l&&k&&M)x.save(),x.fillStyle=N,x.translate(Q.renderLeft,Q.renderTop),x.rotate(Q.angle),x.fillRect(-Q.kernedWidth/2,w*V+u,Q.kernedWidth,this.fontSize/15),x.restore();else if((k!==q||M!==N||V!==d||u!==c)&&Y>0){let r=O+v+f;this.direction==="rtl"&&(r=this.width-r-Y),q&&N&&(x.fillStyle=N,x.fillRect(r,C+w*d+c,Y,this.fontSize/15)),f=Q.left,Y=Q.width,q=k,N=M,d=V,c=u}else Y+=Q.kernedWidth}let A=O+v+f;this.direction==="rtl"&&(A=this.width-A-Y),x.fillStyle=M,k&&M&&x.fillRect(A,C+w*d+c,Y-G,this.fontSize/15),_+=p}this._removeShadow(x)}_getFontDeclaration(){let{fontFamily:x=this.fontFamily,fontStyle:g=this.fontStyle,fontWeight:_=this.fontWeight,fontSize:O=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0,G=x.includes("'")||x.includes('"')||x.includes(",")||Dx.genericFonts.includes(x.toLowerCase())?x:'"'.concat(x,'"');return[g,_,"".concat(l?this.CACHE_FONT_SIZE:O,"px"),G].join(" ")}render(x){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(x)))}graphemeSplit(x){return qp(x)}_splitTextIntoLines(x){let g=x.split(this._reNewline),_=new Array(g.length),O=[`
`],l=[];for(let G=0;G<g.length;G++)_[G]=this.graphemeSplit(g[G]),l=l.concat(_[G],O);return l.pop(),{_unwrappedLines:_,lines:g,graphemeText:l,graphemeLines:_}}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return X(X({},super.toObject([...RY,...x])),{},{styles:YY(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(x,g){let{textLayoutProperties:_}=this.constructor;super.set(x,g);let O=!1,l=!1;if(typeof x=="object")for(let G in x)G==="path"&&this.setPathInfo(),O=O||_.includes(G),l=l||G==="path";else O=_.includes(x),l=x==="path";return l&&this.setPathInfo(),O&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(x,g,_){let O=qO(x,Dx.ATTRIBUTE_NAMES,_),l=X(X({},g),O),{textAnchor:G=r0,textDecoration:w="",dx:W=0,dy:z=0,top:p=0,left:o=0,fontSize:y=K2,strokeWidth:v=1}=l,k=a0(l,NS),M=new this((x.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),X({left:o+W,top:p+z,underline:w.includes("underline"),overline:w.includes("overline"),linethrough:w.includes("line-through"),strokeWidth:0,fontSize:y},k)),f=M.getScaledHeight()/M.height,Y=((M.height+M.strokeWidth)*M.lineHeight-M.height)*f,q=M.getScaledHeight()+Y,N=0;return G===c0&&(N=M.getScaledWidth()/2),G===Wx&&(N=M.getScaledWidth()),M.set({left:M.left-N,top:M.top-(q-M.fontSize*(0.07+M._fontSizeFraction))/M.lineHeight,strokeWidth:v}),M}static fromObject(x){return this._fromObject(X(X({},x),{},{styles:cY(x.styles||{},x.text)}),{extraParam:"text"})}}F(Dx,"textLayoutProperties",PY),F(Dx,"cacheProperties",[...kO,...RY]),F(Dx,"ownDefaults",oS),F(Dx,"type","Text"),F(Dx,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),F(Dx,"ATTRIBUTE_NAMES",v6.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),CY(Dx,[class extends U2{_toSVG(){let x=this._getSVGLeftTopOffsets(),g=this._getSVGTextAndBg(x.textTop,x.textLeft);return this._wrapSVGTextAndBg(g)}toSVG(x){return this._createBaseSVGMarkup(this._toSVG(),{reviver:x,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(x){let{textBgRects:g,textSpans:_}=x,O=this.getSvgTextDecoration(this);return[g.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(yS,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",O?'text-decoration="'.concat(O,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",_.join(""),`</text>
`]}_getSVGTextAndBg(x,g){let _=[],O=[],l,G=x;this.backgroundColor&&O.push(...sy(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let w=0,W=this._textLines.length;w<W;w++)l=this._getLineLeftOffset(w),this.direction==="rtl"&&(l+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",w))&&this._setSVGTextLineBg(O,w,g+l,G),this._setSVGTextLineText(_,w,g+l,G),G+=this.getHeightOfLine(w);return{textSpans:_,textBgRects:O}}_createTextCharSpan(x,g,_,O){let l=this.getSvgSpanStyles(g,x!==x.trim()||!!x.match(vS)),G=l?'style="'.concat(l,'"'):"",w=g.deltaY,W=w?' dy="'.concat(J0(w,X0.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(J0(_,X0.NUM_FRACTION_DIGITS),'" y="').concat(J0(O,X0.NUM_FRACTION_DIGITS),'" ').concat(W).concat(G,">").concat(fY(x),"</tspan>")}_setSVGTextLineText(x,g,_,O){let l=this.getHeightOfLine(g),G=this.textAlign.includes(b_),w=this._textLines[g],W,z,p,o,y,v="",k=0;O+=l*(1-this._fontSizeFraction)/this.lineHeight;for(let M=0,f=w.length-1;M<=f;M++)y=M===f||this.charSpacing,v+=w[M],p=this.__charBounds[g][M],k===0?(_+=p.kernedWidth-p.width,k+=p.width):k+=p.kernedWidth,G&&!y&&this._reSpaceAndTab.test(w[M])&&(y=!0),y||(W=W||this.getCompleteStyleDeclaration(g,M),z=this.getCompleteStyleDeclaration(g,M+1),y=Cp(W,z,!0)),y&&(o=this._getStyleDeclaration(g,M),x.push(this._createTextCharSpan(v,o,_,O)),v="",W=z,this.direction==="rtl"?_-=k:_+=k,k=0)}_setSVGTextLineBg(x,g,_,O){let l=this._textLines[g],G=this.getHeightOfLine(g)/this.lineHeight,w,W=0,z=0,p=this.getValueOfPropertyAt(g,0,"textBackgroundColor");for(let o=0;o<l.length;o++){let{left:y,width:v,kernedWidth:k}=this.__charBounds[g][o];w=this.getValueOfPropertyAt(g,o,"textBackgroundColor"),w!==p?(p&&x.push(...sy(p,_+z,O,W,G)),z=y,W=v,p=w):W+=k}w&&x.push(...sy(p,_+z,O,W,G))}_getSVGLineTopOffset(x){let g,_=0;for(g=0;g<x;g++)_+=this.getHeightOfLine(g);let O=this.getHeightOfLine(g);return{lineTop:_,offset:(this._fontSizeMult-this._fontSizeFraction)*O/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(x){return"".concat(super.getSvgStyles(x)," white-space: pre;")}getSvgSpanStyles(x,g){let{fontFamily:_,strokeWidth:O,stroke:l,fill:G,fontSize:w,fontStyle:W,fontWeight:z,deltaY:p}=x,o=this.getSvgTextDecoration(x);return[l?vG(ex,l):"",O?"stroke-width: ".concat(O,"; "):"",_?"font-family: ".concat(_.includes("'")||_.includes('"')?_:"'".concat(_,"'"),"; "):"",w?"font-size: ".concat(w,"px; "):"",W?"font-style: ".concat(W,"; "):"",z?"font-weight: ".concat(z,"; "):"",o?"text-decoration: ".concat(o,"; "):o,G?vG(dx,G):"",p?"baseline-shift: ".concat(-p,"; "):"",g?"white-space: pre; ":""].join("")}getSvgTextDecoration(x){return["overline","underline","line-through"].filter((g)=>x[g.replace("-","")]).join(" ")}}]),z0.setClass(Dx),z0.setSVGClass(Dx);class TY{constructor(x){F(this,"target",void 0),F(this,"__mouseDownInPlace",!1),F(this,"__dragStartFired",!1),F(this,"__isDraggingOver",!1),F(this,"__dragStartSelection",void 0),F(this,"__dragImageDisposer",void 0),F(this,"_dispose",void 0),this.target=x;let g=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{g.forEach((_)=>_()),this._dispose=void 0}}isPointerOverSelection(x){let g=this.target,_=g.getSelectionStartFromPointer(x);return g.isEditing&&_>=g.selectionStart&&_<=g.selectionEnd&&g.selectionStart<g.selectionEnd}start(x){return this.__mouseDownInPlace=this.isPointerOverSelection(x)}isActive(){return this.__mouseDownInPlace}end(x){let g=this.isActive();return g&&!this.__dragStartFired&&(this.target.setCursorByClick(x),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,g}getDragStartSelection(){return this.__dragStartSelection}setDragImage(x,g){var _;let{selectionStart:O,selectionEnd:l}=g,G=this.target,w=G.canvas,W=new E(G.flipX?-1:1,G.flipY?-1:1),z=G._getCursorBoundaries(O),p=new E(z.left+z.leftOffset,z.top+z.topOffset).multiply(W).transform(G.calcTransformMatrix()),o=w.getScenePoint(x).subtract(p),y=G.getCanvasRetinaScaling(),v=G.getBoundingRect(),k=p.subtract(new E(v.left,v.top)),M=w.viewportTransform,f=k.add(o).transform(M,!0),Y=G.backgroundColor,q=i2(G.styles);G.backgroundColor="";let N={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};G.setSelectionStyles(N,0,O),G.setSelectionStyles(N,l,G.text.length),G.dirty=!0;let C=G.toCanvasElement({enableRetinaScaling:w.enableRetinaScaling,viewportTransform:!0});G.backgroundColor=Y,G.styles=q,G.dirty=!0,gp(C,{position:"fixed",left:"".concat(-C.width,"px"),border:tx,width:"".concat(C.width/y,"px"),height:"".concat(C.height/y,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{C.remove()},Rg(x.target||this.target.hiddenTextarea).body.appendChild(C),(_=x.dataTransfer)===null||_===void 0||_.setDragImage(C,f.x,f.y)}onDragStart(x){this.__dragStartFired=!0;let g=this.target,_=this.isActive();if(_&&x.dataTransfer){let O=this.__dragStartSelection={selectionStart:g.selectionStart,selectionEnd:g.selectionEnd},l=g._text.slice(O.selectionStart,O.selectionEnd).join(""),G=X({text:g.text,value:l},O);x.dataTransfer.setData("text/plain",l),x.dataTransfer.setData("application/fabric",JSON.stringify({value:l,styles:g.getSelectionStyles(O.selectionStart,O.selectionEnd,!0)})),x.dataTransfer.effectAllowed="copyMove",this.setDragImage(x,G)}return g.abortCursorAnimation(),_}canDrop(x){if(this.target.editable&&!this.target.getActiveControl()&&!x.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let g=this.target.getSelectionStartFromPointer(x),_=this.__dragStartSelection;return g<_.selectionStart||g>_.selectionEnd}return!0}return!1}targetCanDrop(x){return this.target.canDrop(x)}dragEnterHandler(x){let{e:g}=x,_=this.targetCanDrop(g);!this.__isDraggingOver&&_&&(this.__isDraggingOver=!0)}dragOverHandler(x){let{e:g}=x,_=this.targetCanDrop(g);!this.__isDraggingOver&&_?this.__isDraggingOver=!0:this.__isDraggingOver&&!_&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(g.preventDefault(),x.canDrop=!0,x.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(x){var g;let{e:_}=x,O=_.defaultPrevented;this.__isDraggingOver=!1,_.preventDefault();let l=(g=_.dataTransfer)===null||g===void 0?void 0:g.getData("text/plain");if(l&&!O){let G=this.target,w=G.canvas,W=G.getSelectionStartFromPointer(_),{styles:z}=_.dataTransfer.types.includes("application/fabric")?JSON.parse(_.dataTransfer.getData("application/fabric")):{},p=l[Math.max(0,l.length-1)],o=0;if(this.__dragStartSelection){let y=this.__dragStartSelection.selectionStart,v=this.__dragStartSelection.selectionEnd;W>y&&W<=v?W=y:W>v&&(W-=v-y),G.removeChars(y,v),delete this.__dragStartSelection}G._reNewline.test(p)&&(G._reNewline.test(G._text[W])||W===G._text.length)&&(l=l.trimEnd()),x.didDrop=!0,x.dropTarget=G,G.insertChars(l,z,W),w.setActiveObject(G),G.enterEditing(_),G.selectionStart=Math.min(W+o,G._text.length),G.selectionEnd=Math.min(G.selectionStart+l.length,G._text.length),G.hiddenTextarea.value=G.text,G._updateTextarea(),G.hiddenTextarea.focus(),G.fire($W,{index:W+o,action:"drop"}),w.fire("text:changed",{target:G}),w.contextTopDirty=!0,w.requestRenderAll()}}dragEndHandler(x){let{e:g}=x;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var _;let O=this.target,l=this.target.canvas,{selectionStart:G,selectionEnd:w}=this.__dragStartSelection,W=((_=g.dataTransfer)===null||_===void 0?void 0:_.dropEffect)||tx;W===tx?(O.selectionStart=G,O.selectionEnd=w,O._updateTextarea(),O.hiddenTextarea.focus()):(O.clearContextTop(),W==="move"&&(O.removeChars(G,w),O.selectionStart=O.selectionEnd=G,O.hiddenTextarea&&(O.hiddenTextarea.value=O.text),O._updateTextarea(),O.fire($W,{index:G,action:"dragend"}),l.fire("text:changed",{target:O}),l.requestRenderAll()),O.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}var df=/[ \n\.,;!\?\-]/;class sY extends Dx{constructor(){super(...arguments),F(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(x){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(x)}_animateCursor(x){let{toValue:g,duration:_,delay:O,onComplete:l}=x;return E2({startValue:this._currentCursorOpacity,endValue:g,duration:_,delay:O,onComplete:l,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:(G)=>{this._currentCursorOpacity=G,this.renderCursorOrSelection()}})}_tick(x){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(x||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var x;(x=this._currentTickCompleteState)===null||x===void 0||x.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(x){this.abortCursorAnimation(),this._tick(x?0:this.cursorDelay)}abortCursorAnimation(){let x=!1;[this._currentTickState,this._currentTickCompleteState].forEach((g)=>{g&&!g.isDone()&&(x=!0,g.abort())}),this._currentCursorOpacity=1,x&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((x)=>!x||x.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(x){let g=0,_=x-1;if(this._reSpace.test(this._text[_]))for(;this._reSpace.test(this._text[_]);)g++,_--;for(;/\S/.test(this._text[_])&&_>-1;)g++,_--;return x-g}findWordBoundaryRight(x){let g=0,_=x;if(this._reSpace.test(this._text[_]))for(;this._reSpace.test(this._text[_]);)g++,_++;for(;/\S/.test(this._text[_])&&_<this._text.length;)g++,_++;return x+g}findLineBoundaryLeft(x){let g=0,_=x-1;for(;!/\n/.test(this._text[_])&&_>-1;)g++,_--;return x-g}findLineBoundaryRight(x){let g=0,_=x;for(;!/\n/.test(this._text[_])&&_<this._text.length;)g++,_++;return x+g}searchWordBoundary(x,g){let _=this._text,O=x>0&&this._reSpace.test(_[x])&&(g===-1||!b2.test(_[x-1]))?x-1:x,l=_[O];for(;O>0&&O<_.length&&!df.test(l);)O+=g,l=_[O];return g===-1&&df.test(l)&&O++,O}selectWord(x){x=x||this.selectionStart;let g=this.searchWordBoundary(x,-1),_=Math.max(g,this.searchWordBoundary(x,1));this.selectionStart=g,this.selectionEnd=_,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(x){x=x||this.selectionStart;let g=this.findLineBoundaryLeft(x),_=this.findLineBoundaryRight(x);return this.selectionStart=g,this.selectionEnd=_,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(x){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",x?{e:x}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:x}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(x){if(this.getActiveControl())return;let g=this.hiddenTextarea;Rg(g).activeElement!==g&&g.focus();let _=this.getSelectionStartFromPointer(x),O=this.selectionStart,l=this.selectionEnd;(_===this.__selectionStartOnMouseDown&&O!==l||O!==_&&l!==_)&&(_>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=_):(this.selectionStart=_,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===O&&this.selectionEnd===l||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(x,g,_){let O=_.slice(0,x),l=this.graphemeSplit(O).length;if(x===g)return{selectionStart:l,selectionEnd:l};let G=_.slice(x,g);return{selectionStart:l,selectionEnd:l+this.graphemeSplit(G).length}}fromGraphemeToStringSelection(x,g,_){let O=_.slice(0,x).join("").length;if(x===g)return{selectionStart:O,selectionEnd:O};return{selectionStart:O,selectionEnd:O+_.slice(x,g).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let x=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=x.selectionStart,this.hiddenTextarea.selectionEnd=x.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let x=this.hiddenTextarea;this.text=x.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let g=this.fromStringToGraphemeSelection(x.selectionStart,x.selectionEnd,x.value);this.selectionEnd=this.selectionStart=g.selectionEnd,this.inCompositionMode||(this.selectionStart=g.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let x=this._calcTextareaPosition();this.hiddenTextarea.style.left=x.left,this.hiddenTextarea.style.top=x.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let x=this.inCompositionMode?this.compositionStart:this.selectionStart,g=this._getCursorBoundaries(x),_=this.get2DCursorLocation(x),O=_.lineIndex,l=_.charIndex,G=this.getValueOfPropertyAt(O,l,"fontSize")*this.lineHeight,w=g.leftOffset,W=this.getCanvasRetinaScaling(),z=this.canvas.upperCanvasEl,p=z.width/W,o=z.height/W,y=p-G,v=o-G,k=new E(g.left+w,g.top+g.topOffset+G).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new E(z.clientWidth/p,z.clientHeight/o));return k.x<0&&(k.x=0),k.x>y&&(k.x=y),k.y<0&&(k.y=0),k.y>v&&(k.y=v),k.x+=this.canvas._offset.left,k.y+=this.canvas._offset.top,{left:"".concat(k.x,"px"),top:"".concat(k.y,"px"),fontSize:"".concat(G,"px"),charHeight:G}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let x=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,x&&(x.blur&&x.blur(),x.parentNode&&x.parentNode.removeChild(x)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){let x=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),x&&this.fire(iW),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),x&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let x in this.styles)this._textLines[x]||delete this.styles[x]}removeStyleFromTo(x,g){let{lineIndex:_,charIndex:O}=this.get2DCursorLocation(x,!0),{lineIndex:l,charIndex:G}=this.get2DCursorLocation(g,!0);if(_!==l){if(this.styles[_])for(let w=O;w<this._unwrappedTextLines[_].length;w++)delete this.styles[_][w];if(this.styles[l])for(let w=G;w<this._unwrappedTextLines[l].length;w++){let W=this.styles[l][w];W&&(this.styles[_]||(this.styles[_]={}),this.styles[_][O+w-G]=W)}for(let w=_+1;w<=l;w++)delete this.styles[w];this.shiftLineStyles(l,_-l)}else if(this.styles[_]){let w=this.styles[_],W=G-O;for(let z=O;z<G;z++)delete w[z];for(let z in this.styles[_]){let p=parseInt(z,10);p>=G&&(w[p-W]=w[z],delete w[z])}}}shiftLineStyles(x,g){let _=Object.assign({},this.styles);for(let O in this.styles){let l=parseInt(O,10);l>x&&(this.styles[l+g]=_[l],_[l-g]||delete this.styles[l])}}insertNewlineStyleObject(x,g,_,O){let l={},G=this._unwrappedTextLines[x].length,w=G===g,W=!1;_||(_=1),this.shiftLineStyles(x,_);let z=this.styles[x]?this.styles[x][g===0?g:g-1]:void 0;for(let o in this.styles[x]){let y=parseInt(o,10);y>=g&&(W=!0,l[y-g]=this.styles[x][o],w&&g===0||delete this.styles[x][o])}let p=!1;for(W&&!w&&(this.styles[x+_]=l,p=!0),(p||G>g)&&_--;_>0;)O&&O[_-1]?this.styles[x+_]={0:X({},O[_-1])}:z?this.styles[x+_]={0:X({},z)}:delete this.styles[x+_],_--;this._forceClearCache=!0}insertCharStyleObject(x,g,_,O){this.styles||(this.styles={});let l=this.styles[x],G=l?X({},l):{};_||(_=1);for(let W in G){let z=parseInt(W,10);z>=g&&(l[z+_]=G[z],G[z-_]||delete l[z])}if(this._forceClearCache=!0,O){for(;_--;)Object.keys(O[_]).length&&(this.styles[x]||(this.styles[x]={}),this.styles[x][g+_]=X({},O[_]));return}if(!l)return;let w=l[g?g-1:1];for(;w&&_--;)this.styles[x][g+_]=X({},w)}insertNewStyleBlock(x,g,_){let O=this.get2DCursorLocation(g,!0),l=[0],G,w=0;for(let W=0;W<x.length;W++)x[W]===`
`?(w++,l[w]=0):l[w]++;for(l[0]>0&&(this.insertCharStyleObject(O.lineIndex,O.charIndex,l[0],_),_=_&&_.slice(l[0]+1)),w&&this.insertNewlineStyleObject(O.lineIndex,O.charIndex+l[0],w),G=1;G<w;G++)l[G]>0?this.insertCharStyleObject(O.lineIndex+G,0,l[G],_):_&&this.styles[O.lineIndex+G]&&_[0]&&(this.styles[O.lineIndex+G][0]=_[0]),_=_&&_.slice(l[G]+1);l[G]>0&&this.insertCharStyleObject(O.lineIndex+G,0,l[G],_)}removeChars(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x+1;this.removeStyleFromTo(x,g),this._text.splice(x,g-x),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(x,g,_){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_;O>_&&this.removeStyleFromTo(_,O);let l=this.graphemeSplit(x);this.insertNewStyleBlock(l,_,g),this._text=[...this._text.slice(0,_),...l,...this._text.slice(O)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(x,g,_){_<=x?(g===x?this._selectionDirection=r0:this._selectionDirection===Wx&&(this._selectionDirection=r0,this.selectionEnd=x),this.selectionStart=_):_>x&&_<g?this._selectionDirection===Wx?this.selectionEnd=_:this.selectionStart=_:(g===x?this._selectionDirection=Wx:this._selectionDirection===r0&&(this._selectionDirection=Wx,this.selectionStart=g),this.selectionEnd=_)}}class tY extends sY{initHiddenTextarea(){let x=this.canvas&&Rg(this.canvas.getElement())||g7(),g=x.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map((G)=>{let[w,W]=G;return g.setAttribute(w,W)});let{top:_,left:O,fontSize:l}=this._calcTextareaPosition();g.style.cssText="position: absolute; top: ".concat(_,"; left: ").concat(O,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(l,";"),(this.hiddenTextareaContainer||x.body).appendChild(g),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((G)=>{let[w,W]=G;return g.addEventListener(w,this[W].bind(this))}),this.hiddenTextarea=g}blur(){this.abortCursorAnimation()}onKeyDown(x){if(!this.isEditing)return;let g=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(x.keyCode in g)this[g[x.keyCode]](x);else{if(!(x.keyCode in this.ctrlKeysMapDown)||!x.ctrlKey&&!x.metaKey)return;this[this.ctrlKeysMapDown[x.keyCode]](x)}x.stopImmediatePropagation(),x.preventDefault(),x.keyCode>=33&&x.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(x){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:(x.keyCode in this.ctrlKeysMapUp)&&(x.ctrlKey||x.metaKey)&&(this[this.ctrlKeysMapUp[x.keyCode]](x),x.stopImmediatePropagation(),x.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(x){let g=this.fromPaste;if(this.fromPaste=!1,x&&x.stopPropagation(),!this.isEditing)return;let _=()=>{this.updateFromTextArea(),this.fire($W),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void _();let O=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,G=O.length,w=this.selectionStart,W=this.selectionEnd,z=w!==W,p,o,y,v,k=G-l,M=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),f=w>M.selectionStart;z?(o=this._text.slice(w,W),k+=W-w):G<l&&(o=f?this._text.slice(W+k,W):this._text.slice(w,w-k));let Y=O.slice(M.selectionEnd-k,M.selectionEnd);if(o&&o.length&&(Y.length&&(p=this.getSelectionStyles(w,w+1,!1),p=Y.map(()=>p[0])),z?(y=w,v=W):f?(y=W-o.length,v=W):(y=W,v=W+o.length),this.removeStyleFromTo(y,v)),Y.length){let{copyPasteData:q}=V_();g&&Y.join("")===q.copiedText&&!X0.disableStyleCopyPaste&&(p=q.copiedTextStyle),this.insertNewStyleBlock(Y,w,p)}_()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(x){let{target:g}=x,{selectionStart:_,selectionEnd:O}=g;this.compositionStart=_,this.compositionEnd=O,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:x}=V_();x.copiedText=this.getSelectedText(),X0.disableStyleCopyPaste?x.copiedTextStyle=void 0:x.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(x,g){let _,O=this._getLineLeftOffset(x);return g>0&&(_=this.__charBounds[x][g-1],O+=_.left+_.width),O}getDownCursorOffset(x,g){let _=this._getSelectionForOffset(x,g),O=this.get2DCursorLocation(_),l=O.lineIndex;if(l===this._textLines.length-1||x.metaKey||x.keyCode===34)return this._text.length-_;let G=O.charIndex,w=this._getWidthBeforeCursor(l,G),W=this._getIndexOnLine(l+1,w);return this._textLines[l].slice(G).length+W+1+this.missingNewlineOffset(l)}_getSelectionForOffset(x,g){return x.shiftKey&&this.selectionStart!==this.selectionEnd&&g?this.selectionEnd:this.selectionStart}getUpCursorOffset(x,g){let _=this._getSelectionForOffset(x,g),O=this.get2DCursorLocation(_),l=O.lineIndex;if(l===0||x.metaKey||x.keyCode===33)return-_;let G=O.charIndex,w=this._getWidthBeforeCursor(l,G),W=this._getIndexOnLine(l-1,w),z=this._textLines[l].slice(0,G),p=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+W-z.length+(1-p)}_getIndexOnLine(x,g){let _=this._textLines[x],O,l,G=this._getLineLeftOffset(x),w=0;for(let W=0,z=_.length;W<z;W++)if(O=this.__charBounds[x][W].width,G+=O,G>g){l=!0;let p=G-O,o=G,y=Math.abs(p-g);w=Math.abs(o-g)<y?W:W-1;break}return l||(w=_.length-1),w}moveCursorDown(x){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",x)}moveCursorUp(x){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",x)}_moveCursorUpOrDown(x,g){let _=this["get".concat(x,"CursorOffset")](g,this._selectionDirection===Wx);if(g.shiftKey?this.moveCursorWithShift(_):this.moveCursorWithoutShift(_),_!==0){let O=this.text.length;this.selectionStart=y8(0,this.selectionStart,O),this.selectionEnd=y8(0,this.selectionEnd,O),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(x){let g=this._selectionDirection===r0?this.selectionStart+x:this.selectionEnd+x;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,g),x!==0}moveCursorWithoutShift(x){return x<0?(this.selectionStart+=x,this.selectionEnd=this.selectionStart):(this.selectionEnd+=x,this.selectionStart=this.selectionEnd),x!==0}moveCursorLeft(x){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",x)}_move(x,g,_){let O;if(x.altKey)O=this["findWordBoundary".concat(_)](this[g]);else{if(!x.metaKey&&x.keyCode!==35&&x.keyCode!==36)return this[g]+=_==="Left"?-1:1,!0;O=this["findLineBoundary".concat(_)](this[g])}return O!==void 0&&this[g]!==O&&(this[g]=O,!0)}_moveLeft(x,g){return this._move(x,g,"Left")}_moveRight(x,g){return this._move(x,g,"Right")}moveCursorLeftWithoutShift(x){let g=!0;return this._selectionDirection=r0,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(g=this._moveLeft(x,"selectionStart")),this.selectionEnd=this.selectionStart,g}moveCursorLeftWithShift(x){return this._selectionDirection===Wx&&this.selectionStart!==this.selectionEnd?this._moveLeft(x,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=r0,this._moveLeft(x,"selectionStart")):void 0}moveCursorRight(x){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",x)}_moveCursorLeftOrRight(x,g){let _="moveCursor".concat(x).concat(g.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[_](g)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(x){return this._selectionDirection===r0&&this.selectionStart!==this.selectionEnd?this._moveRight(x,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=Wx,this._moveRight(x,"selectionEnd")):void 0}moveCursorRightWithoutShift(x){let g=!0;return this._selectionDirection=Wx,this.selectionStart===this.selectionEnd?(g=this._moveRight(x,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,g}}var ey=(x)=>!!x.button;class eY extends tY{constructor(){super(...arguments),F(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new TY(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(x){return this.draggableTextDelegate.onDragStart(x)}canDrop(x){return this.draggableTextDelegate.canDrop(x)}onMouseDown(x){if(!this.canvas)return;this.__newClickTime=+new Date;let g=x.pointer;this.isTripleClick(g)&&(this.fire("tripleclick",x),w2(x.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=g,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(x){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===x.x&&this.__lastPointer.y===x.y}doubleClickHandler(x){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(x.e))}tripleClickHandler(x){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(x.e))}_mouseDownHandler(x){let{e:g}=x;this.canvas&&this.editable&&!ey(g)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(g)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(g)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(x){let{e:g}=x;this.canvas&&this.editable&&!ey(g)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(x){let{e:g,transform:_}=x,O=this.draggableTextDelegate.end(g);if(this.canvas){this.canvas.textEditingManager.unregister(this);let l=this.canvas._activeObject;if(l&&l!==this)return}!this.editable||this.group&&!this.group.interactive||_&&_.actionPerformed||ey(g)||O||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(g),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(x){let g=this.getSelectionStartFromPointer(x),_=this.selectionStart,O=this.selectionEnd;x.shiftKey?this.setSelectionStartEndWithShift(_,O,g):(this.selectionStart=g,this.selectionEnd=g),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(x){let g=this.canvas.getScenePoint(x).transform(Ng(this.calcTransformMatrix())).add(new E(-this._getLeftOffset(),-this._getTopOffset())),_=0,O=0,l=0;for(let z=0;z<this._textLines.length&&_<=g.y;z++)_+=this.getHeightOfLine(z),l=z,z>0&&(O+=this._textLines[z-1].length+this.missingNewlineOffset(z-1));let G=Math.abs(this._getLineLeftOffset(l)),w=this._textLines[l].length,W=this.__charBounds[l];for(let z=0;z<w;z++){let p=G+W[z].kernedWidth;if(g.x<=p){Math.abs(g.x-p)<=Math.abs(g.x-G)&&O++;break}G=p,O++}return Math.min(this.flipX?w-O:O,this._text.length)}}var ZW="moveCursorUp",jW="moveCursorDown",UW="moveCursorLeft",QW="moveCursorRight",DW="exitEditing",kS=X({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1000,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:DW,27:DW,33:ZW,34:jW,35:QW,36:UW,37:UW,38:ZW,39:QW,40:jW},keysMapRtl:{9:DW,27:DW,33:ZW,34:jW,35:UW,36:QW,37:QW,38:ZW,39:UW,40:jW},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class zO extends eY{static getDefaults(){return X(X({},super.getDefaults()),zO.ownDefaults)}get type(){let x=super.type;return x==="itext"?"i-text":x}constructor(x,g){super(x,X(X({},zO.ownDefaults),g)),this.initBehavior()}_set(x,g){return this.isEditing&&this._savedProps&&x in this._savedProps?(this._savedProps[x]=g,this):(x==="canvas"&&(this.canvas instanceof N8&&this.canvas.textEditingManager.remove(this),g instanceof N8&&g.textEditingManager.add(this)),super._set(x,g))}setSelectionStart(x){x=Math.max(x,0),this._updateAndFire("selectionStart",x)}setSelectionEnd(x){x=Math.min(x,this.text.length),this._updateAndFire("selectionEnd",x)}_updateAndFire(x,g){this[x]!==g&&(this._fireSelectionChanged(),this[x]=g),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,_=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(x,g,_)}setSelectionStyles(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(x,g,_)}get2DCursorLocation(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,g=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(x,g)}render(x){super.render(x),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(x){let g=this.isEditing;this.isEditing=!1;let _=super.toCanvasElement(x);return this.isEditing=g,_}renderCursorOrSelection(){if(!this.isEditing)return;let x=this.clearContextTop(!0);if(!x)return;let g=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(x,g):this.renderCursor(x,g),this.canvas.contextTopDirty=!0,x.restore()}_getCursorBoundaries(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,g=arguments.length>1?arguments[1]:void 0,_=this._getLeftOffset(),O=this._getTopOffset(),l=this._getCursorBoundariesOffsets(x,g);return{left:_,top:O,leftOffset:l.left,topOffset:l.top}}_getCursorBoundariesOffsets(x,g){return g?this.__getCursorBoundariesOffsets(x):this.cursorOffsetCache&&("top"in this.cursorOffsetCache)?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(x)}__getCursorBoundariesOffsets(x){let g=0,_=0,{charIndex:O,lineIndex:l}=this.get2DCursorLocation(x);for(let z=0;z<l;z++)g+=this.getHeightOfLine(z);let G=this._getLineLeftOffset(l),w=this.__charBounds[l][O];w&&(_=w.left),this.charSpacing!==0&&O===this._textLines[l].length&&(_-=this._getWidthOfCharSpacing());let W={top:g,left:G+(_>0?_:0)};return this.direction==="rtl"&&(this.textAlign===Wx||this.textAlign===b_||this.textAlign===wG?W.left*=-1:this.textAlign===r0||this.textAlign===_p?W.left=G-(_>0?_:0):this.textAlign!==c0&&this.textAlign!==WG||(W.left=G-(_>0?_:0))),W}renderCursorAt(x){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(x,!0),x)}renderCursor(x,g){this._renderCursor(x,g,this.selectionStart)}getCursorRenderingData(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(x),_=this.get2DCursorLocation(x),O=_.lineIndex,l=_.charIndex>0?_.charIndex-1:0,G=this.getValueOfPropertyAt(O,l,"fontSize"),w=this.getObjectScaling().x*this.canvas.getZoom(),W=this.cursorWidth/w,z=this.getValueOfPropertyAt(O,l,"deltaY"),p=g.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(O)/this.lineHeight-G*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(O,l,"fill"),opacity:this._currentCursorOpacity,left:g.left+g.leftOffset-W/2,top:p+g.top+z,width:W,height:G}}_renderCursor(x,g,_){let{color:O,opacity:l,left:G,top:w,width:W,height:z}=this.getCursorRenderingData(_,g);x.fillStyle=O,x.globalAlpha=l,x.fillRect(G,w,W,z)}renderSelection(x,g){let _={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(x,_,g)}renderDragSourceEffect(){let x=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,x,this._getCursorBoundaries(x.selectionStart,!0))}renderDropTargetEffect(x){let g=this.getSelectionStartFromPointer(x);this.renderCursorAt(g)}_renderSelection(x,g,_){let{selectionStart:O,selectionEnd:l}=g,G=this.textAlign.includes(b_),w=this.get2DCursorLocation(O),W=this.get2DCursorLocation(l),z=w.lineIndex,p=W.lineIndex,o=w.charIndex<0?0:w.charIndex,y=W.charIndex<0?0:W.charIndex;for(let v=z;v<=p;v++){let k=this._getLineLeftOffset(v)||0,M=this.getHeightOfLine(v),f=0,Y=0,q=0;if(v===z&&(Y=this.__charBounds[z][o].left),v>=z&&v<p)q=G&&!this.isEndOfWrapping(v)?this.width:this.getLineWidth(v)||5;else if(v===p)if(y===0)q=this.__charBounds[p][y].left;else{let A=this._getWidthOfCharSpacing();q=this.__charBounds[p][y-1].left+this.__charBounds[p][y-1].width-A}f=M,(this.lineHeight<1||v===p&&this.lineHeight>1)&&(M/=this.lineHeight);let N=_.left+k+Y,C=M,d=0,c=q-Y;this.inCompositionMode?(x.fillStyle=this.compositionColor||"black",C=1,d=M):x.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===Wx||this.textAlign===b_||this.textAlign===wG?N=this.width-N-c:this.textAlign===r0||this.textAlign===_p?N=_.left+k-q:this.textAlign!==c0&&this.textAlign!==WG||(N=_.left+k-q)),x.fillRect(N,_.top+_.topOffset+d,c,C),_.topOffset+=f}}getCurrentCharFontSize(){let x=this._getCurrentCharIndex();return this.getValueOfPropertyAt(x.l,x.c,"fontSize")}getCurrentCharColor(){let x=this._getCurrentCharIndex();return this.getValueOfPropertyAt(x.l,x.c,dx)}_getCurrentCharIndex(){let x=this.get2DCursorLocation(this.selectionStart,!0),g=x.charIndex>0?x.charIndex-1:0;return{l:x.lineIndex,c:g}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}F(zO,"ownDefaults",kS),F(zO,"type","IText"),z0.setClass(zO),z0.setClass(zO,"i-text");class p8 extends zO{static getDefaults(){return X(X({},super.getDefaults()),p8.ownDefaults)}constructor(x,g){super(x,X(X({},p8.ownDefaults),g))}static createControls(){return{controls:qY()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(b_)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(x){let g=0,_=0,O=0,l={};for(let G=0;G<x.graphemeLines.length;G++)x.graphemeText[O]===`
`&&G>0?(_=0,O++,g++):!this.splitByGrapheme&&this._reSpaceAndTab.test(x.graphemeText[O])&&G>0&&(_++,O++),l[G]={line:g,offset:_},O+=x.graphemeLines[G].length,_+=x.graphemeLines[G].length;return l}styleHas(x,g){if(this._styleMap&&!this.isWrapping){let _=this._styleMap[g];_&&(g=_.line)}return super.styleHas(x,g)}isEmptyStyles(x){if(!this.styles)return!0;let g,_=0,O=x+1,l=!1,G=this._styleMap[x],w=this._styleMap[x+1];G&&(x=G.line,_=G.offset),w&&(O=w.line,l=O===x,g=w.offset);let W=x===void 0?this.styles:{line:this.styles[x]};for(let z in W)for(let p in W[z]){let o=parseInt(p,10);if(o>=_&&(!l||o<g))for(let y in W[z][p])return!1}return!0}_getStyleDeclaration(x,g){if(this._styleMap&&!this.isWrapping){let _=this._styleMap[x];if(!_)return{};x=_.line,g=_.offset+g}return super._getStyleDeclaration(x,g)}_setStyleDeclaration(x,g,_){let O=this._styleMap[x];super._setStyleDeclaration(O.line,O.offset+g,_)}_deleteStyleDeclaration(x,g){let _=this._styleMap[x];super._deleteStyleDeclaration(_.line,_.offset+g)}_getLineStyle(x){let g=this._styleMap[x];return!!this.styles[g.line]}_setLineStyle(x){let g=this._styleMap[x];super._setLineStyle(g.line)}_wrapText(x,g){this.isWrapping=!0;let _=this.getGraphemeDataForRender(x),O=[];for(let l=0;l<_.wordsData.length;l++)O.push(...this._wrapLine(l,g,_));return this.isWrapping=!1,O}getGraphemeDataForRender(x){let g=this.splitByGrapheme,_=g?"":" ",O=0;return{wordsData:x.map((l,G)=>{let w=0,W=g?this.graphemeSplit(l):this.wordSplit(l);return W.length===0?[{word:[],width:0}]:W.map((z)=>{let p=g?[z]:this.graphemeSplit(z),o=this._measureWord(p,G,w);return O=Math.max(o,O),w+=p.length+_.length,{word:p,width:o}})}),largestWordWidth:O}}_measureWord(x,g){let _,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=0;for(let G=0,w=x.length;G<w;G++)l+=this._getGraphemeBox(x[G],g,G+O,_,!0).kernedWidth,_=x[G];return l}wordSplit(x){return x.split(this._wordJoiners)}_wrapLine(x,g,_){let{largestWordWidth:O,wordsData:l}=_,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,w=this._getWidthOfCharSpacing(),W=this.splitByGrapheme,z=[],p=W?"":" ",o=0,y=[],v=0,k=0,M=!0;g-=G;let f=Math.max(g,O,this.dynamicMinWidth),Y=l[x],q;for(v=0,q=0;q<Y.length;q++){let{word:N,width:C}=Y[q];v+=N.length,o+=k+C-w,o>f&&!M?(z.push(y),y=[],o=C,M=!0):o+=w,M||W||y.push(p),y=y.concat(N),k=W?0:this._measureWord([p],x,v),v++,M=!1}return q&&z.push(y),O+G>this.dynamicMinWidth&&(this.dynamicMinWidth=O-w+G),z}isEndOfWrapping(x){return!this._styleMap[x+1]||this._styleMap[x+1].line!==this._styleMap[x].line}missingNewlineOffset(x,g){return this.splitByGrapheme&&!g?this.isEndOfWrapping(x)?1:0:1}_splitTextIntoLines(x){let g=super._splitTextIntoLines(x),_=this._wrapText(g.lines,this.width),O=new Array(_.length);for(let l=0;l<_.length;l++)O[l]=_[l].join("");return g.lines=O,g.graphemeLines=_,g}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let x=new Map;for(let g in this._styleMap){let _=parseInt(g,10);if(this._textLines[_]){let O=this._styleMap[g].line;x.set("".concat(O),!0)}}for(let g in this.styles)x.has(g)||delete this.styles[g]}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...x])}}F(p8,"type","Textbox"),F(p8,"textLayoutProperties",[...zO.textLayoutProperties,"width"]),F(p8,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),z0.setClass(p8);class M2 extends dG{shouldPerformLayout(x){return!!x.target.clipPath&&super.shouldPerformLayout(x)}shouldLayoutClipPath(){return!1}calcLayoutResult(x,g){let{target:_}=x,{clipPath:O,group:l}=_;if(!O||!this.shouldPerformLayout(x))return;let{width:G,height:w}=m_(KY(_,O)),W=new E(G,w);if(O.absolutePositioned)return{center:oO(O.getRelativeCenterPoint(),void 0,l?l.calcTransformMatrix():void 0),size:W};{let z=O.getRelativeCenterPoint().transform(_.calcOwnMatrix(),!0);if(this.shouldPerformLayout(x)){let{center:p=new E,correction:o=new E}=this.calcBoundingBox(g,x)||{};return{center:p.add(z),correction:o.subtract(z),size:W}}return{center:_.getRelativeCenterPoint().add(z),size:W}}}}F(M2,"type","clip-path"),z0.setClass(M2);class f2 extends dG{getInitialSize(x,g){let{target:_}=x,{size:O}=g;return new E(_.width||O.x,_.height||O.y)}}F(f2,"type","fixed"),z0.setClass(f2);class xc extends x7{subscribeTargets(x){let g=x.target;x.targets.reduce((_,O)=>(O.parent&&_.add(O.parent),_),new Set).forEach((_)=>{_.layoutManager.subscribeTargets({target:_,targets:[g]})})}unsubscribeTargets(x){let g=x.target,_=g.getObjects();x.targets.reduce((O,l)=>(l.parent&&O.add(l.parent),O),new Set).forEach((O)=>{!_.some((l)=>l.parent===O)&&O.layoutManager.unsubscribeTargets({target:O,targets:[g]})})}}class z8 extends yO{static getDefaults(){return X(X({},super.getDefaults()),z8.ownDefaults)}constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,z8.ownDefaults),this.setOptions(g);let{left:_,top:O,layoutManager:l}=g;this.groupInit(x,{left:_,top:O,layoutManager:l!=null?l:new xc})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var x=arguments.length,g=new Array(x),_=0;_<x;_++)g[_]=arguments[_];this.multiSelectionStacking==="selection-order"?this.add(...g):g.forEach((O)=>{let l=this._objects.findIndex((w)=>w.isInFrontOf(O)),G=l===-1?this.size():l;this.insertAt(G,O)})}canEnterGroup(x){return this.getObjects().some((g)=>g.isDescendantOf(x)||x.isDescendantOf(g))?(G6("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(x)}enterGroup(x,g){x.parent&&x.parent===x.group?x.parent._exitGroup(x):x.group&&x.parent!==x.group&&x.group.remove(x),this._enterGroup(x,g)}exitGroup(x,g){this._exitGroup(x,g),x.parent&&x.parent._enterGroup(x,!0)}_onAfterObjectsChange(x,g){super._onAfterObjectsChange(x,g);let _=new Set;g.forEach((O)=>{let{parent:l}=O;l&&_.add(l)}),x===J2?_.forEach((O)=>{O._onAfterObjectsChange(sW,g)}):_.forEach((O)=>{O._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(x,g,_){x.save(),x.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let O=X(X({hasControls:!1},_),{},{forActiveSelection:!0});for(let l=0;l<this._objects.length;l++)this._objects[l]._renderControls(x,O);super._renderControls(x,g),x.restore()}}F(z8,"type","ActiveSelection"),F(z8,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),z0.setClass(z8),z0.setClass(z8,"activeSelection");class gc{constructor(){F(this,"resources",{})}applyFilters(x,g,_,O,l){let G=l.getContext("2d");if(!G)return;G.drawImage(g,0,0,_,O);let w={sourceWidth:_,sourceHeight:O,imageData:G.getImageData(0,0,_,O),originalEl:g,originalImageData:G.getImageData(0,0,_,O),canvasEl:l,ctx:G,filterBackend:this};x.forEach((z)=>{z.applyTo(w)});let{imageData:W}=w;return W.width===_&&W.height===O||(l.width=W.width,l.height=W.height),G.putImageData(W,0,0),w}}class R2{constructor(){let{tileSize:x=X0.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};F(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),F(this,"resources",{}),this.tileSize=x,this.setupGLContext(x,x),this.captureGPUInfo()}setupGLContext(x,g){this.dispose(),this.createWebGLCanvas(x,g)}createWebGLCanvas(x,g){let _=g_({width:x,height:g}),O=_.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});O&&(O.clearColor(0,0,0,0),this.canvas=_,this.gl=O)}applyFilters(x,g,_,O,l,G){let w=this.gl,W=l.getContext("2d");if(!w||!W)return;let z;G&&(z=this.getCachedTexture(G,g));let p={originalWidth:g.width||g.naturalWidth||0,originalHeight:g.height||g.naturalHeight||0,sourceWidth:_,sourceHeight:O,destinationWidth:_,destinationHeight:O,context:w,sourceTexture:this.createTexture(w,_,O,z?void 0:g),targetTexture:this.createTexture(w,_,O),originalTexture:z||this.createTexture(w,_,O,z?void 0:g),passes:x.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:l},o=w.createFramebuffer();return w.bindFramebuffer(w.FRAMEBUFFER,o),x.forEach((y)=>{y&&y.applyTo(p)}),function(y){let v=y.targetCanvas,k=v.width,M=v.height,f=y.destinationWidth,Y=y.destinationHeight;k===f&&M===Y||(v.width=f,v.height=Y)}(p),this.copyGLTo2D(w,p),w.bindTexture(w.TEXTURE_2D,null),w.deleteTexture(p.sourceTexture),w.deleteTexture(p.targetTexture),w.deleteFramebuffer(o),W.setTransform(1,0,0,1,0,0),p}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(x,g,_,O,l){let{NEAREST:G,TEXTURE_2D:w,RGBA:W,UNSIGNED_BYTE:z,CLAMP_TO_EDGE:p,TEXTURE_MAG_FILTER:o,TEXTURE_MIN_FILTER:y,TEXTURE_WRAP_S:v,TEXTURE_WRAP_T:k}=x,M=x.createTexture();return x.bindTexture(w,M),x.texParameteri(w,o,l||G),x.texParameteri(w,y,l||G),x.texParameteri(w,v,p),x.texParameteri(w,k,p),O?x.texImage2D(w,0,W,W,z,O):x.texImage2D(w,0,W,g,_,0,W,z,null),M}getCachedTexture(x,g,_){let{textureCache:O}=this;if(O[x])return O[x];{let l=this.createTexture(this.gl,g.width,g.height,g,_);return l&&(O[x]=l),l}}evictCachesForKey(x){this.textureCache[x]&&(this.gl.deleteTexture(this.textureCache[x]),delete this.textureCache[x])}copyGLTo2D(x,g){let _=x.canvas,O=g.targetCanvas,l=O.getContext("2d");if(!l)return;l.translate(0,O.height),l.scale(1,-1);let G=_.height-O.height;l.drawImage(_,0,G,O.width,O.height,0,0,O.width,O.height)}copyGLTo2DPutImageData(x,g){let _=g.targetCanvas.getContext("2d"),O=g.destinationWidth,l=g.destinationHeight,G=O*l*4;if(!_)return;let w=new Uint8Array(this.imageBuffer,0,G),W=new Uint8ClampedArray(this.imageBuffer,0,G);x.readPixels(0,0,O,l,x.RGBA,x.UNSIGNED_BYTE,w);let z=new ImageData(W,O,l);_.putImageData(z,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let x=this.gl,g={renderer:"",vendor:""};if(!x)return g;let _=x.getExtension("WEBGL_debug_renderer_info");if(_){let O=x.getParameter(_.UNMASKED_RENDERER_WEBGL),l=x.getParameter(_.UNMASKED_VENDOR_WEBGL);O&&(g.renderer=O.toLowerCase()),l&&(g.vendor=l.toLowerCase())}return this.gpuInfo=g,g}}var x2;function qS(){let{WebGLProbe:x}=V_();return x.queryWebGL(jg()),X0.enableGLFiltering&&x.isSupported(X0.textureSize)?new R2({tileSize:X0.textureSize}):new gc}function g2(){return!x2&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(x2=qS()),x2}var CS=["filters","resizeFilter","src","crossOrigin","type"],_c=["cropX","cropY"];class _x extends Lx{static getDefaults(){return X(X({},super.getDefaults()),_x.ownDefaults)}constructor(x,g){super(),F(this,"_lastScaleX",1),F(this,"_lastScaleY",1),F(this,"_filterScalingX",1),F(this,"_filterScalingY",1),this.filters=[],Object.assign(this,_x.ownDefaults),this.setOptions(g),this.cacheKey="texture".concat(W6()),this.setElement(typeof x=="string"?(this.canvas&&Rg(this.canvas.getElement())||g7()).getElementById(x):x,g)}getElement(){return this._element}setElement(x){var g;let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=x,this._originalElement=x,this._setWidthHeight(_),(g=x.classList)===null||g===void 0||g.add(_x.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(x){let g=g2(!1);g instanceof R2&&g.evictCachesForKey(x)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((x)=>{let g=this[x];g&&V_().dispose(g),this[x]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let x=this.getElement();return x?{width:x.naturalWidth||x.width,height:x.naturalHeight||x.height}:{width:0,height:0}}_stroke(x){if(!this.stroke||this.strokeWidth===0)return;let g=this.width/2,_=this.height/2;x.beginPath(),x.moveTo(-g,-_),x.lineTo(g,-_),x.lineTo(g,_),x.lineTo(-g,_),x.lineTo(-g,-_),x.closePath()}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=[];return this.filters.forEach((_)=>{_&&g.push(_.toObject())}),X(X({},super.toObject([..._c,...x])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:g},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let x=[],g=this._element,_=-this.width/2,O=-this.height/2,l=[],G=[],w="",W="";if(!g)return[];if(this.hasCrop()){let z=W6();l.push('<clipPath id="imageCrop_'+z+`">
`,'\t<rect x="'+_+'" y="'+O+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),w=' clip-path="url(#imageCrop_'+z+')" '}if(this.imageSmoothing||(W=' image-rendering="optimizeSpeed"'),x.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(_-this.cropX,'" y="').concat(O-this.cropY,'" width="').concat(g.width||g.naturalWidth,'" height="').concat(g.height||g.naturalHeight,'"').concat(W).concat(w,`></image>
`)),this.stroke||this.strokeDashArray){let z=this.fill;this.fill=null,G=['\t<rect x="'.concat(_,'" y="').concat(O,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=z}return l=this.paintFirst!==dx?l.concat(G,x):l.concat(x,G),l}getSrc(x){let g=x?this._element:this._originalElement;return g?g.toDataURL?g.toDataURL():this.srcFromAttribute?g.getAttribute("src")||"":g.src:this.src||""}getSvgSrc(x){return this.getSrc(x)}setSrc(x){let{crossOrigin:g,signal:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return GG(x,{crossOrigin:g,signal:_}).then((O)=>{g!==void 0&&this.set({crossOrigin:g}),this.setElement(O)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let x=this.resizeFilter,g=this.minimumScaleTrigger,_=this.getTotalObjectScaling(),O=_.x,l=_.y,G=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!x||O>g&&l>g)return this._element=G,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=O,void(this._lastScaleY=l);let w=g_(G),{width:W,height:z}=G;this._element=w,this._lastScaleX=x.scaleX=O,this._lastScaleY=x.scaleY=l,g2().applyFilters([x],G,W,z,this._element),this._filterScalingX=w.width/this._originalElement.width,this._filterScalingY=w.height/this._originalElement.height}applyFilters(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(x=x.filter((l)=>l&&!l.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),x.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let g=this._originalElement,_=g.naturalWidth||g.width,O=g.naturalHeight||g.height;if(this._element===this._originalElement){let l=g_({width:_,height:O});this._element=l,this._filteredEl=l}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,_,O),this._lastScaleX=1,this._lastScaleY=1);g2().applyFilters(x,this._originalElement,_,O,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(x){x.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(x),this._renderPaintInOrder(x)}drawCacheOnCanvas(x){x.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(x)}shouldCache(){return this.needsItsOwnCache()}_renderFill(x){let g=this._element;if(!g)return;let _=this._filterScalingX,O=this._filterScalingY,l=this.width,G=this.height,w=Math.max(this.cropX,0),W=Math.max(this.cropY,0),z=g.naturalWidth||g.width,p=g.naturalHeight||g.height,o=w*_,y=W*O,v=Math.min(l*_,z-o),k=Math.min(G*O,p-y),M=-l/2,f=-G/2,Y=Math.min(l,z/_-w),q=Math.min(G,p/O-W);g&&x.drawImage(g,o,y,v,k,M,f,Y,q)}_needsResize(){let x=this.getTotalObjectScaling();return x.x!==this._lastScaleX||x.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:x,height:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=this.getOriginalSize();this.width=x||_.width,this.height=g||_.height}parsePreserveAspectRatioAttribute(){let x=Zf(this.preserveAspectRatio||""),g=this.width,_=this.height,O={width:g,height:_},l,G=this._element.width,w=this._element.height,W=1,z=1,p=0,o=0,y=0,v=0;return!x||x.alignX===tx&&x.alignY===tx?(W=g/G,z=_/w):(x.meetOrSlice==="meet"&&(W=z=VY(this._element,O),l=(g-G*W)/2,x.alignX==="Min"&&(p=-l),x.alignX==="Max"&&(p=l),l=(_-w*z)/2,x.alignY==="Min"&&(o=-l),x.alignY==="Max"&&(o=l)),x.meetOrSlice==="slice"&&(W=z=LY(this._element,O),l=G-g/W,x.alignX==="Mid"&&(y=l/2),x.alignX==="Max"&&(y=l),l=w-_/z,x.alignY==="Mid"&&(v=l/2),x.alignY==="Max"&&(v=l),G=g/W,w=_/z)),{width:G,height:w,scaleX:W,scaleY:z,offsetLeft:p,offsetTop:o,cropX:y,cropY:v}}static fromObject(x,g){let{filters:_,resizeFilter:O,src:l,crossOrigin:G,type:w}=x,W=a0(x,CS);return Promise.all([GG(l,X(X({},g),{},{crossOrigin:G})),_&&tl(_,g),O&&tl([O],g),kG(W,g)]).then((z)=>{let[p,o=[],[y]=[],v={}]=z;return new this(p,X(X({},W),{},{src:l,filters:o,resizeFilter:y},v))})}static fromURL(x){let{crossOrigin:g=null,signal:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=arguments.length>2?arguments[2]:void 0;return GG(x,{crossOrigin:g,signal:_}).then((l)=>new this(l,O))}static async fromElement(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2?arguments[2]:void 0,O=qO(x,this.ATTRIBUTE_NAMES,_);return this.fromURL(O["xlink:href"],g,O).catch((l)=>(G6("log","Unable to parse Image",l),null))}}F(_x,"type","Image"),F(_x,"cacheProperties",[...kO,..._c]),F(_x,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:0.5,cropX:0,cropY:0,imageSmoothing:!0}),F(_x,"CSS_CANVAS","canvas-img"),F(_x,"ATTRIBUTE_NAMES",[...v6,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),z0.setClass(_x),z0.setSVGClass(_x);var eI=vp(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var Oc=Vf,Mf=(x)=>function(g,_,O){let{points:l,pathOffset:G}=O;return new E(l[x]).subtract(G).transform(lx(O.getViewportTransform(),O.calcTransformMatrix()))},lc=(x,g,_,O)=>{let{target:l,pointIndex:G}=g,w=l,W=oO(new E(_,O),void 0,w.calcOwnMatrix());return w.points[G]=W.add(w.pathOffset),w.setDimensions(),!0},Gc=(x,g)=>function(_,O,l,G){let w=O.target,W=new E(w.points[(x>0?x:w.points.length)-1]),z=W.subtract(w.pathOffset).transform(w.calcOwnMatrix()),p=g(_,X(X({},O),{},{pointIndex:x}),l,G),o=W.subtract(w.pathOffset).transform(w.calcOwnMatrix()).subtract(z);return w.left-=o.x,w.top-=o.y,p},ff=(x)=>o6(Oc,Gc(x,lc)),Y2=(x,g,_)=>{let{path:O,pathOffset:l}=x,G=O[g];return new E(G[_]-l.x,G[_+1]-l.y).transform(lx(x.getViewportTransform(),x.calcTransformMatrix()))};function dS(x,g,_){let{commandIndex:O,pointIndex:l}=this;return Y2(_,O,l)}function MS(x,g,_,O){let{target:l}=g,{commandIndex:G,pointIndex:w}=this,W=((z,p,o,y,v)=>{let{path:k,pathOffset:M}=z,f=k[(y>0?y:k.length)-1],Y=new E(f[v],f[v+1]),q=Y.subtract(M).transform(z.calcOwnMatrix()),N=oO(new E(p,o),void 0,z.calcOwnMatrix());k[y][v]=N.x+M.x,k[y][v+1]=N.y+M.y,z.setDimensions();let C=Y.subtract(z.pathOffset).transform(z.calcOwnMatrix()).subtract(q);return z.left-=C.x,z.top-=C.y,z.set("dirty",!0),!0})(l,_,O,G,w);return Z2(this.actionName,X(X({},j2(x,g,_,O)),{},{commandIndex:G,pointIndex:w})),W}class T2 extends Tx{constructor(x){super(x)}render(x,g,_,O,l){let G=X(X({},O),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(x,g,_,G,l)}}class wc extends T2{constructor(x){super(x)}render(x,g,_,O,l){let{path:G}=l,{commandIndex:w,pointIndex:W,connectToCommandIndex:z,connectToPointIndex:p}=this;x.save(),x.strokeStyle=this.controlStroke,this.connectionDashArray&&x.setLineDash(this.connectionDashArray);let[o]=G[w],y=Y2(l,z,p);if(o==="Q"){let v=Y2(l,w,W+2);x.moveTo(v.x,v.y),x.lineTo(g,_)}else x.moveTo(g,_);x.lineTo(y.x,y.y),x.stroke(),x.restore(),super.render(x,g,_,O,l)}}var EW=(x,g,_,O,l,G)=>new(_?wc:T2)(X(X({commandIndex:x,pointIndex:g,actionName:"modifyPath",positionHandler:dS,actionHandler:MS,connectToCommandIndex:l,connectToPointIndex:G},O),_?O.controlPointStyle:O.pointStyle)),xZ=Object.freeze({__proto__:null,changeWidth:o2,createObjectDefaultControls:B2,createPathControls:function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_={},O="M";return x.path.forEach((l,G)=>{let w=l[0];switch(w!=="Z"&&(_["c_".concat(G,"_").concat(w)]=EW(G,l.length-2,!1,g)),w){case"C":_["c_".concat(G,"_C_CP_1")]=EW(G,1,!0,g,G-1,((W)=>W==="C"?5:W==="Q"?3:1)(O)),_["c_".concat(G,"_C_CP_2")]=EW(G,3,!0,g,G,5);break;case"Q":_["c_".concat(G,"_Q_CP_1")]=EW(G,1,!0,g,G,3)}O=w}),_},createPolyActionHandler:ff,createPolyControls:function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_={};for(let O=0;O<(typeof x=="number"?x:x.points.length);O++)_["p".concat(O)]=new Tx(X({actionName:Oc,positionHandler:Mf(O),actionHandler:ff(O)},g));return _},createPolyPositionHandler:Mf,createResizeControls:kY,createTextboxDefaultControls:qY,dragHandler:Jf,factoryPolyActionHandler:Gc,getLocalPoint:op,polyActionHandler:lc,renderCircleControl:_Y,renderSquareControl:OY,rotationStyleHandler:lY,rotationWithSnapping:GY,scaleCursorStyleHandler:Sl,scaleOrSkewActionName:xG,scaleSkewCursorStyleHandler:w8,scalingEqually:e9,scalingX:pY,scalingXOrSkewingY:v2,scalingY:zY,scalingYOrSkewingX:y2,skewCursorStyleHandler:oY,skewHandlerX:yY,skewHandlerY:NY,wrapWithFireEvent:o6,wrapWithFixedAnchor:q8}),Mp=(x)=>x.webgl!==void 0;var s2="precision highp float",fS=`
    `.concat(s2,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),YS=["type"],cS=["type"],hS=new RegExp(s2,"g");class px{get type(){return this.constructor.type}constructor(){let x=a0(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},YS);Object.assign(this,this.constructor.defaults,x)}getFragmentSource(){return fS}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:O="highp"}}=V_();O!=="highp"&&(g=g.replace(hS,s2.replace("highp",O)));let l=x.createShader(x.VERTEX_SHADER),G=x.createShader(x.FRAGMENT_SHADER),w=x.createProgram();if(!l||!G||!w)throw new Tg("Vertex, fragment shader or program creation error");if(x.shaderSource(l,_),x.compileShader(l),!x.getShaderParameter(l,x.COMPILE_STATUS))throw new Tg("Vertex shader compile error for ".concat(this.type,": ").concat(x.getShaderInfoLog(l)));if(x.shaderSource(G,g),x.compileShader(G),!x.getShaderParameter(G,x.COMPILE_STATUS))throw new Tg("Fragment shader compile error for ".concat(this.type,": ").concat(x.getShaderInfoLog(G)));if(x.attachShader(w,l),x.attachShader(w,G),x.linkProgram(w),!x.getProgramParameter(w,x.LINK_STATUS))throw new Tg('Shader link error for "'.concat(this.type,'" ').concat(x.getProgramInfoLog(w)));let W=this.getUniformLocations(x,w)||{};return W.uStepW=x.getUniformLocation(w,"uStepW"),W.uStepH=x.getUniformLocation(w,"uStepH"),{program:w,attributeLocations:this.getAttributeLocations(x,w),uniformLocations:W}}getAttributeLocations(x,g){return{aPosition:x.getAttribLocation(g,"aPosition")}}getUniformLocations(x,g){let _=this.constructor.uniformLocations,O={};for(let l=0;l<_.length;l++)O[_[l]]=x.getUniformLocation(g,_[l]);return O}sendAttributeData(x,g,_){let O=g.aPosition,l=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,l),x.enableVertexAttribArray(O),x.vertexAttribPointer(O,2,x.FLOAT,!1,0,0),x.bufferData(x.ARRAY_BUFFER,_,x.STATIC_DRAW)}_setupFrameBuffer(x){let g=x.context;if(x.passes>1){let{destinationWidth:_,destinationHeight:O}=x;x.sourceWidth===_&&x.sourceHeight===O||(g.deleteTexture(x.targetTexture),x.targetTexture=x.filterBackend.createTexture(g,_,O)),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,x.targetTexture,0)}else g.bindFramebuffer(g.FRAMEBUFFER,null),g.finish()}_swapTextures(x){x.passes--,x.pass++;let g=x.targetTexture;x.targetTexture=x.sourceTexture,x.sourceTexture=g}isNeutralState(x){return!1}applyTo(x){Mp(x)?(this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x)):this.applyTo2d(x)}applyTo2d(x){}getCacheKey(){return this.type}retrieveShader(x){let g=this.getCacheKey();return x.programCache[g]||(x.programCache[g]=this.createProgram(x.context)),x.programCache[g]}applyToWebGL(x){let g=x.context,_=this.retrieveShader(x);x.pass===0&&x.originalTexture?g.bindTexture(g.TEXTURE_2D,x.originalTexture):g.bindTexture(g.TEXTURE_2D,x.sourceTexture),g.useProgram(_.program),this.sendAttributeData(g,_.attributeLocations,x.aPosition),g.uniform1f(_.uniformLocations.uStepW,1/x.sourceWidth),g.uniform1f(_.uniformLocations.uStepH,1/x.sourceHeight),this.sendUniformData(g,_.uniformLocations),g.viewport(0,0,x.destinationWidth,x.destinationHeight),g.drawArrays(g.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(x,g,_){x.activeTexture(_),x.bindTexture(x.TEXTURE_2D,g),x.activeTexture(x.TEXTURE0)}unbindAdditionalTexture(x,g){x.activeTexture(g),x.bindTexture(x.TEXTURE_2D,null),x.activeTexture(x.TEXTURE0)}sendUniformData(x,g){}createHelpLayer(x){if(!x.helpLayer){let{sourceWidth:g,sourceHeight:_}=x,O=g_({width:g,height:_});x.helpLayer=O}}toObject(){let x=Object.keys(this.constructor.defaults||{});return X({type:this.type},x.reduce((g,_)=>(g[_]=this[_],g),{}))}toJSON(){return this.toObject()}static async fromObject(x,g){return new this(a0(x,cS))}}F(px,"type","BaseFilter"),F(px,"uniformLocations",[]);var KS={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Il extends px{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(KS[this.mode],`
        }
      }
      `)}applyTo2d(x){let{imageData:{data:g}}=x,_=new I0(this.color).getSource(),O=this.alpha,l=_[0]*O,G=_[1]*O,w=_[2]*O,W=1-O;for(let z=0;z<g.length;z+=4){let p=g[z],o=g[z+1],y=g[z+2],v,k,M;switch(this.mode){case"multiply":v=p*l/255,k=o*G/255,M=y*w/255;break;case"screen":v=255-(255-p)*(255-l)/255,k=255-(255-o)*(255-G)/255,M=255-(255-y)*(255-w)/255;break;case"add":v=p+l,k=o+G,M=y+w;break;case"difference":v=Math.abs(p-l),k=Math.abs(o-G),M=Math.abs(y-w);break;case"subtract":v=p-l,k=o-G,M=y-w;break;case"darken":v=Math.min(p,l),k=Math.min(o,G),M=Math.min(y,w);break;case"lighten":v=Math.max(p,l),k=Math.max(o,G),M=Math.max(y,w);break;case"overlay":v=l<128?2*p*l/255:255-2*(255-p)*(255-l)/255,k=G<128?2*o*G/255:255-2*(255-o)*(255-G)/255,M=w<128?2*y*w/255:255-2*(255-y)*(255-w)/255;break;case"exclusion":v=l+p-2*l*p/255,k=G+o-2*G*o/255,M=w+y-2*w*y/255;break;case"tint":v=l+p*W,k=G+o*W,M=w+y*W}g[z]=v,g[z+1]=k,g[z+2]=M}}sendUniformData(x,g){let _=new I0(this.color).getSource();_[0]=this.alpha*_[0]/255,_[1]=this.alpha*_[1]/255,_[2]=this.alpha*_[2]/255,_[3]=this.alpha,x.uniform4fv(g.uColor,_)}}F(Il,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),F(Il,"type","BlendColor"),F(Il,"uniformLocations",["uColor"]),z0.setClass(Il);var bS={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},mS=["type","image"];class Zl extends px{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return bS[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(x){let g=x.context,_=this.createTexture(x.filterBackend,this.image);this.bindAdditionalTexture(g,_,g.TEXTURE1),super.applyToWebGL(x),this.unbindAdditionalTexture(g,g.TEXTURE1)}createTexture(x,g){return x.getCachedTexture(g.cacheKey,g.getElement())}calculateMatrix(){let x=this.image,{width:g,height:_}=x.getElement();return[1/x.scaleX,0,0,0,1/x.scaleY,0,-x.left/g,-x.top/_,1]}applyTo2d(x){let{imageData:{data:g,width:_,height:O},filterBackend:{resources:l}}=x,G=this.image;l.blendImage||(l.blendImage=jg());let w=l.blendImage,W=w.getContext("2d");w.width!==_||w.height!==O?(w.width=_,w.height=O):W.clearRect(0,0,_,O),W.setTransform(G.scaleX,0,0,G.scaleY,G.left,G.top),W.drawImage(G.getElement(),0,0,_,O);let z=W.getImageData(0,0,_,O).data;for(let p=0;p<g.length;p+=4){let o=g[p],y=g[p+1],v=g[p+2],k=g[p+3],M=z[p],f=z[p+1],Y=z[p+2],q=z[p+3];switch(this.mode){case"multiply":g[p]=o*M/255,g[p+1]=y*f/255,g[p+2]=v*Y/255,g[p+3]=k*q/255;break;case"mask":g[p+3]=q}}}sendUniformData(x,g){let _=this.calculateMatrix();x.uniform1i(g.uImage,1),x.uniformMatrix3fv(g.uTransformMatrix,!1,_)}toObject(){return X(X({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(x,g){let{type:_,image:O}=x,l=a0(x,mS);return _x.fromObject(O,g).then((G)=>new this(X(X({},l),{},{image:G})))}}F(Zl,"type","BlendImage"),F(Zl,"defaults",{mode:"multiply",alpha:1}),F(Zl,"uniformLocations",["uTransformMatrix","uImage"]),z0.setClass(Zl);class jl extends px{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(x){Mp(x)?(this.aspectRatio=x.sourceWidth/x.sourceHeight,x.passes++,this._setupFrameBuffer(x),this.horizontal=!0,this.applyToWebGL(x),this._swapTextures(x),this._setupFrameBuffer(x),this.horizontal=!1,this.applyToWebGL(x),this._swapTextures(x)):this.applyTo2d(x)}applyTo2d(x){x.imageData=this.simpleBlur(x)}simpleBlur(x){let{ctx:g,imageData:_,filterBackend:{resources:O}}=x,{width:l,height:G}=_;O.blurLayer1||(O.blurLayer1=jg(),O.blurLayer2=jg());let{blurLayer1:w,blurLayer2:W}=O;w.width===l&&w.height===G||(W.width=w.width=l,W.height=w.height=G);let z=w.getContext("2d"),p=W.getContext("2d"),o=15,y=0.06*this.blur*0.5,v,k,M,f;for(z.putImageData(_,0,0),p.clearRect(0,0,l,G),f=-15;f<=o;f++)v=(Math.random()-0.5)/4,k=f/o,M=y*k*l+v,p.globalAlpha=1-Math.abs(k),p.drawImage(w,M,v),z.drawImage(W,0,0),p.globalAlpha=1,p.clearRect(0,0,W.width,W.height);for(f=-15;f<=o;f++)v=(Math.random()-0.5)/4,k=f/o,M=y*k*G+v,p.globalAlpha=1-Math.abs(k),p.drawImage(w,v,M),z.drawImage(W,0,0),p.globalAlpha=1,p.clearRect(0,0,W.width,W.height);g.drawImage(w,0,0);let Y=g.getImageData(0,0,w.width,w.height);return z.globalAlpha=1,z.clearRect(0,0,w.width,w.height),Y}sendUniformData(x,g){let _=this.chooseRightDelta();x.uniform2fv(g.uDelta,_)}isNeutralState(){return this.blur===0}chooseRightDelta(){let x=1,g=[0,0];this.horizontal?this.aspectRatio>1&&(x=1/this.aspectRatio):this.aspectRatio<1&&(x=this.aspectRatio);let _=x*this.blur*0.12;return this.horizontal?g[0]=_:g[1]=_,g}}F(jl,"type","Blur"),F(jl,"defaults",{blur:0}),F(jl,"uniformLocations",["uDelta"]),z0.setClass(jl);class Ul extends px{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(x){let{imageData:{data:g}}=x,_=Math.round(255*this.brightness);for(let O=0;O<g.length;O+=4)g[O]+=_,g[O+1]+=_,g[O+2]+=_}isNeutralState(){return this.brightness===0}sendUniformData(x,g){x.uniform1f(g.uBrightness,this.brightness)}}F(Ul,"type","Brightness"),F(Ul,"defaults",{brightness:0}),F(Ul,"uniformLocations",["uBrightness"]),z0.setClass(Ul);var Wc={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class l6 extends px{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(x){let g=x.imageData.data,_=this.matrix,O=this.colorsOnly;for(let l=0;l<g.length;l+=4){let G=g[l],w=g[l+1],W=g[l+2];if(g[l]=G*_[0]+w*_[1]+W*_[2]+255*_[4],g[l+1]=G*_[5]+w*_[6]+W*_[7]+255*_[9],g[l+2]=G*_[10]+w*_[11]+W*_[12]+255*_[14],!O){let z=g[l+3];g[l]+=z*_[3],g[l+1]+=z*_[8],g[l+2]+=z*_[13],g[l+3]=G*_[15]+w*_[16]+W*_[17]+z*_[18]+255*_[19]}}}sendUniformData(x,g){let _=this.matrix,O=[_[0],_[1],_[2],_[3],_[5],_[6],_[7],_[8],_[10],_[11],_[12],_[13],_[15],_[16],_[17],_[18]],l=[_[4],_[9],_[14],_[19]];x.uniformMatrix4fv(g.uColorMatrix,!1,O),x.uniform4fv(g.uConstants,l)}toObject(){return X(X({},super.toObject()),{},{matrix:[...this.matrix]})}}function C8(x,g){var _;let O=(F(_=class extends l6{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",x),F(_,"defaults",{colorsOnly:!1,matrix:g}),_);return z0.setClass(O,x),O}F(l6,"type","ColorMatrix"),F(l6,"defaults",Wc),F(l6,"uniformLocations",["uColorMatrix","uConstants"]),z0.setClass(l6);var VS=C8("Brownie",[0.5997,0.34553,-0.27082,0,0.186,-0.0377,0.86095,0.15059,0,-0.1449,0.24113,-0.07441,0.44972,0,-0.02965,0,0,0,1,0]),LS=C8("Vintage",[0.62793,0.32021,-0.03965,0,0.03784,0.02578,0.64411,0.03259,0,0.02926,0.0466,-0.08512,0.52416,0,0.02023,0,0,0,1,0]),XS=C8("Kodachrome",[1.12855,-0.39673,-0.03992,0,0.24991,-0.16404,1.08352,-0.05498,0,0.09698,-0.16786,-0.56034,1.60148,0,0.13972,0,0,0,1,0]),FS=C8("Technicolor",[1.91252,-0.85453,-0.09155,0,0.04624,-0.30878,1.76589,-0.10601,0,-0.27589,-0.2311,-0.75018,1.84759,0,0.12137,0,0,0,1,0]),AS=C8("Polaroid",[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0]),uS=C8("Sepia",[0.393,0.769,0.189,0,0,0.349,0.686,0.168,0,0,0.272,0.534,0.131,0,0,0,0,0,1,0]),SS=C8("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class Op extends px{constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(x),this.subFilters=x.subFilters||[]}applyTo(x){Mp(x)&&(x.passes+=this.subFilters.length-1),this.subFilters.forEach((g)=>{g.applyTo(x)})}toObject(){return{type:this.type,subFilters:this.subFilters.map((x)=>x.toObject())}}isNeutralState(){return!this.subFilters.some((x)=>!x.isNeutralState())}static fromObject(x,g){return Promise.all((x.subFilters||[]).map((_)=>z0.getClass(_.type).fromObject(_,g))).then((_)=>new this({subFilters:_}))}}F(Op,"type","Composed"),z0.setClass(Op);class Ql extends px{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(x){let{imageData:{data:g}}=x,_=Math.floor(255*this.contrast),O=259*(_+255)/(255*(259-_));for(let l=0;l<g.length;l+=4)g[l]=O*(g[l]-128)+128,g[l+1]=O*(g[l+1]-128)+128,g[l+2]=O*(g[l+2]-128)+128}sendUniformData(x,g){x.uniform1f(g.uContrast,this.contrast)}}F(Ql,"type","Contrast"),F(Ql,"defaults",{contrast:0}),F(Ql,"uniformLocations",["uContrast"]),z0.setClass(Ql);var rS={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Dl extends px{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return rS[this.getCacheKey()]}applyTo2d(x){let g=x.imageData,_=g.data,O=this.matrix,l=Math.round(Math.sqrt(O.length)),G=Math.floor(l/2),w=g.width,W=g.height,z=x.ctx.createImageData(w,W),p=z.data,o=this.opaque?1:0,y,v,k,M,f,Y,q,N,C,d,c,A,b;for(c=0;c<W;c++)for(d=0;d<w;d++){for(f=4*(c*w+d),y=0,v=0,k=0,M=0,b=0;b<l;b++)for(A=0;A<l;A++)q=c+b-G,Y=d+A-G,q<0||q>=W||Y<0||Y>=w||(N=4*(q*w+Y),C=O[b*l+A],y+=_[N]*C,v+=_[N+1]*C,k+=_[N+2]*C,o||(M+=_[N+3]*C));p[f]=y,p[f+1]=v,p[f+2]=k,p[f+3]=o?_[f+3]:M}x.imageData=z}sendUniformData(x,g){x.uniform1fv(g.uMatrix,this.matrix)}toObject(){return X(X({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}F(Dl,"type","Convolute"),F(Dl,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),F(Dl,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),z0.setClass(Dl);var pc="Gamma";class El extends px{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(x),this.gamma=x.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(x){let{imageData:{data:g}}=x,_=this.gamma,O=1/_[0],l=1/_[1],G=1/_[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let w=this.rgbValues;for(let W=0;W<256;W++)w.r[W]=255*Math.pow(W/255,O),w.g[W]=255*Math.pow(W/255,l),w.b[W]=255*Math.pow(W/255,G);for(let W=0;W<g.length;W+=4)g[W]=w.r[g[W]],g[W+1]=w.g[g[W+1]],g[W+2]=w.b[g[W+2]]}sendUniformData(x,g){x.uniform3fv(g.uGamma,this.gamma)}isNeutralState(){let{gamma:x}=this;return x[0]===1&&x[1]===1&&x[2]===1}toObject(){return{type:pc,gamma:this.gamma.concat()}}}F(El,"type",pc),F(El,"defaults",{gamma:[1,1,1]}),F(El,"uniformLocations",["uGamma"]),z0.setClass(El);var IS={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class nl extends px{applyTo2d(x){let{imageData:{data:g}}=x;for(let _,O=0;O<g.length;O+=4){let l=g[O],G=g[O+1],w=g[O+2];switch(this.mode){case"average":_=(l+G+w)/3;break;case"lightness":_=(Math.min(l,G,w)+Math.max(l,G,w))/2;break;case"luminosity":_=0.21*l+0.72*G+0.07*w}g[O+2]=g[O+1]=g[O]=_}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return IS[this.mode]}sendUniformData(x,g){x.uniform1i(g.uMode,1)}isNeutralState(){return!1}}F(nl,"type","Grayscale"),F(nl,"defaults",{mode:"average"}),F(nl,"uniformLocations",["uMode"]),z0.setClass(nl);var ZS=X(X({},Wc),{},{rotation:0});class pG extends l6{calculateMatrix(){let x=this.rotation*Math.PI,g=eg(x),_=x_(x),l=Math.sqrt(0.3333333333333333)*_,G=1-g;this.matrix=[g+G/3,0.3333333333333333*G-l,0.3333333333333333*G+l,0,0,0.3333333333333333*G+l,g+0.3333333333333333*G,0.3333333333333333*G-l,0,0,0.3333333333333333*G-l,0.3333333333333333*G+l,g+0.3333333333333333*G,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(x){this.calculateMatrix(),super.applyTo(x)}toObject(){return{type:this.type,rotation:this.rotation}}}F(pG,"type","HueRotation"),F(pG,"defaults",ZS),z0.setClass(pG);class Bl extends px{applyTo2d(x){let{imageData:{data:g}}=x;for(let _=0;_<g.length;_+=4)g[_]=255-g[_],g[_+1]=255-g[_+1],g[_+2]=255-g[_+2],this.alpha&&(g[_+3]=255-g[_+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(x,g){x.uniform1i(g.uInvert,Number(this.invert)),x.uniform1i(g.uAlpha,Number(this.alpha))}}F(Bl,"type","Invert"),F(Bl,"defaults",{alpha:!1,invert:!0}),F(Bl,"uniformLocations",["uInvert","uAlpha"]),z0.setClass(Bl);class $l extends px{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(x){let{imageData:{data:g}}=x,_=this.noise;for(let O=0;O<g.length;O+=4){let l=(0.5-Math.random())*_;g[O]+=l,g[O+1]+=l,g[O+2]+=l}}sendUniformData(x,g){x.uniform1f(g.uNoise,this.noise/255),x.uniform1f(g.uSeed,Math.random())}isNeutralState(){return this.noise===0}}F($l,"type","Noise"),F($l,"defaults",{noise:0}),F($l,"uniformLocations",["uNoise","uSeed"]),z0.setClass($l);class il extends px{applyTo2d(x){let{imageData:{data:g,width:_,height:O}}=x;for(let l=0;l<O;l+=this.blocksize)for(let G=0;G<_;G+=this.blocksize){let w=4*l*_+4*G,W=g[w],z=g[w+1],p=g[w+2],o=g[w+3];for(let y=l;y<Math.min(l+this.blocksize,O);y++)for(let v=G;v<Math.min(G+this.blocksize,_);v++){let k=4*y*_+4*v;g[k]=W,g[k+1]=z,g[k+2]=p,g[k+3]=o}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(x,g){x.uniform1f(g.uBlocksize,this.blocksize)}}F(il,"type","Pixelate"),F(il,"defaults",{blocksize:4}),F(il,"uniformLocations",["uBlocksize"]),z0.setClass(il);class Hl extends px{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(x){let{imageData:{data:g}}=x,_=255*this.distance,O=new I0(this.color).getSource(),l=[O[0]-_,O[1]-_,O[2]-_],G=[O[0]+_,O[1]+_,O[2]+_];for(let w=0;w<g.length;w+=4){let W=g[w],z=g[w+1],p=g[w+2];W>l[0]&&z>l[1]&&p>l[2]&&W<G[0]&&z<G[1]&&p<G[2]&&(g[w+3]=0)}}sendUniformData(x,g){let _=new I0(this.color).getSource(),O=this.distance,l=[0+_[0]/255-O,0+_[1]/255-O,0+_[2]/255-O,1],G=[_[0]/255+O,_[1]/255+O,_[2]/255+O,1];x.uniform4fv(g.uLow,l),x.uniform4fv(g.uHigh,G)}}F(Hl,"type","RemoveColor"),F(Hl,"defaults",{color:"#FFFFFF",distance:0.02,useAlpha:!1}),F(Hl,"uniformLocations",["uLow","uHigh"]),z0.setClass(Hl);class Jl extends px{sendUniformData(x,g){x.uniform2fv(g.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),x.uniform1fv(g.uTaps,this.taps)}getFilterWindow(){let x=this.tempScale;return Math.ceil(this.lanczosLobes/x)}getCacheKey(){let x=this.getFilterWindow();return"".concat(this.type,"_").concat(x)}getFragmentSource(){let x=this.getFilterWindow();return this.generateShader(x)}getTaps(){let x=this.lanczosCreate(this.lanczosLobes),g=this.tempScale,_=this.getFilterWindow(),O=new Array(_);for(let l=1;l<=_;l++)O[l-1]=x(l*g);return O}generateShader(x){let g=new Array(x);for(let _=1;_<=x;_++)g[_-1]="".concat(_,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(x,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(g.map((_,O)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(_,") * uTaps[").concat(O,"] + texture2D(uTexture, vTexCoord - ").concat(_,") * uTaps[").concat(O,`];
              sum += 2.0 * uTaps[`).concat(O,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(x){x.passes++,this.width=x.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=x.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),x.destinationWidth=this.dW,super.applyTo(x),x.sourceWidth=x.destinationWidth,this.height=x.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),x.destinationHeight=this.dH,super.applyTo(x),x.sourceHeight=x.destinationHeight}applyTo(x){Mp(x)?this.applyToForWebgl(x):this.applyTo2d(x)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(x){return(g)=>{if(g>=x||g<=-x)return 0;if(g<0.00000011920929&&g>-0.00000011920929)return 1;let _=(g*=Math.PI)/x;return Math.sin(g)/g*Math.sin(_)/_}}applyTo2d(x){let g=x.imageData,_=this.scaleX,O=this.scaleY;this.rcpScaleX=1/_,this.rcpScaleY=1/O;let{width:l,height:G}=g,w=Math.round(l*_),W=Math.round(G*O),z;z=this.resizeType==="sliceHack"?this.sliceByTwo(x,l,G,w,W):this.resizeType==="hermite"?this.hermiteFastResize(x,l,G,w,W):this.resizeType==="bilinear"?this.bilinearFiltering(x,l,G,w,W):this.resizeType==="lanczos"?this.lanczosResize(x,l,G,w,W):new ImageData(w,W),x.imageData=z}sliceByTwo(x,g,_,O,l){let G=x.imageData,W=!1,z=!1,p=g*0.5,o=_*0.5,y=x.filterBackend.resources,v=0,k=0,M=g,f=0;y.sliceByTwo||(y.sliceByTwo=jg());let Y=y.sliceByTwo;(Y.width<1.5*g||Y.height<_)&&(Y.width=1.5*g,Y.height=_);let q=Y.getContext("2d");for(q.clearRect(0,0,1.5*g,_),q.putImageData(G,0,0),O=Math.floor(O),l=Math.floor(l);!W||!z;)g=p,_=o,O<Math.floor(p*0.5)?p=Math.floor(p*0.5):(p=O,W=!0),l<Math.floor(o*0.5)?o=Math.floor(o*0.5):(o=l,z=!0),q.drawImage(Y,v,k,g,_,M,f,p,o),v=M,k=f,f+=o;return q.getImageData(v,k,O,l)}lanczosResize(x,g,_,O,l){let G=x.imageData.data,w=x.ctx.createImageData(O,l),W=w.data,z=this.lanczosCreate(this.lanczosLobes),p=this.rcpScaleX,o=this.rcpScaleY,y=2/this.rcpScaleX,v=2/this.rcpScaleY,k=Math.ceil(p*this.lanczosLobes/2),M=Math.ceil(o*this.lanczosLobes/2),f={},Y={x:0,y:0},q={x:0,y:0};return function N(C){let d,c,A,b,j,Q,V,u,r,L,D;for(Y.x=(C+0.5)*p,q.x=Math.floor(Y.x),d=0;d<l;d++){for(Y.y=(d+0.5)*o,q.y=Math.floor(Y.y),j=0,Q=0,V=0,u=0,r=0,c=q.x-k;c<=q.x+k;c++)if(!(c<0||c>=g)){L=Math.floor(1000*Math.abs(c-Y.x)),f[L]||(f[L]={});for(let S=q.y-M;S<=q.y+M;S++)S<0||S>=_||(D=Math.floor(1000*Math.abs(S-Y.y)),f[L][D]||(f[L][D]=z(Math.sqrt(Math.pow(L*y,2)+Math.pow(D*v,2))/1000)),A=f[L][D],A>0&&(b=4*(S*g+c),j+=A,Q+=A*G[b],V+=A*G[b+1],u+=A*G[b+2],r+=A*G[b+3]))}b=4*(d*O+C),W[b]=Q/j,W[b+1]=V/j,W[b+2]=u/j,W[b+3]=r/j}return++C<O?N(C):w}(0)}bilinearFiltering(x,g,_,O,l){let G,w,W,z,p,o,y,v,k,M,f,Y,q,N=0,C=this.rcpScaleX,d=this.rcpScaleY,c=4*(g-1),A=x.imageData.data,b=x.ctx.createImageData(O,l),j=b.data;for(y=0;y<l;y++)for(v=0;v<O;v++)for(p=Math.floor(C*v),o=Math.floor(d*y),k=C*v-p,M=d*y-o,q=4*(o*g+p),f=0;f<4;f++)G=A[q+f],w=A[q+4+f],W=A[q+c+f],z=A[q+c+4+f],Y=G*(1-k)*(1-M)+w*k*(1-M)+W*M*(1-k)+z*k*M,j[N++]=Y;return b}hermiteFastResize(x,g,_,O,l){let G=this.rcpScaleX,w=this.rcpScaleY,W=Math.ceil(G/2),z=Math.ceil(w/2),p=x.imageData.data,o=x.ctx.createImageData(O,l),y=o.data;for(let v=0;v<l;v++)for(let k=0;k<O;k++){let M=4*(k+v*O),f=0,Y=0,q=0,N=0,C=0,d=0,c=0,A=(v+0.5)*w;for(let b=Math.floor(v*w);b<(v+1)*w;b++){let j=Math.abs(A-(b+0.5))/z,Q=(k+0.5)*G,V=j*j;for(let u=Math.floor(k*G);u<(k+1)*G;u++){let r=Math.abs(Q-(u+0.5))/W,L=Math.sqrt(V+r*r);L>1&&L<-1||(f=2*L*L*L-3*L*L+1,f>0&&(r=4*(u+b*g),c+=f*p[r+3],q+=f,p[r+3]<255&&(f=f*p[r+3]/250),N+=f*p[r],C+=f*p[r+1],d+=f*p[r+2],Y+=f))}}y[M]=N/Y,y[M+1]=C/Y,y[M+2]=d/Y,y[M+3]=c/q}return o}}F(Jl,"type","Resize"),F(Jl,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),F(Jl,"uniformLocations",["uDelta","uTaps"]),z0.setClass(Jl);class al extends px{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(x){let{imageData:{data:g}}=x,_=-this.saturation;for(let O=0;O<g.length;O+=4){let l=g[O],G=g[O+1],w=g[O+2],W=Math.max(l,G,w);g[O]+=W!==l?(W-l)*_:0,g[O+1]+=W!==G?(W-G)*_:0,g[O+2]+=W!==w?(W-w)*_:0}}sendUniformData(x,g){x.uniform1f(g.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}F(al,"type","Saturation"),F(al,"defaults",{saturation:0}),F(al,"uniformLocations",["uSaturation"]),z0.setClass(al);class Pl extends px{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(x){let{imageData:{data:g}}=x,_=-this.vibrance;for(let O=0;O<g.length;O+=4){let l=g[O],G=g[O+1],w=g[O+2],W=Math.max(l,G,w),z=(l+G+w)/3,p=2*Math.abs(W-z)/255*_;g[O]+=W!==l?(W-l)*p:0,g[O+1]+=W!==G?(W-G)*p:0,g[O+2]+=W!==w?(W-w)*p:0}}sendUniformData(x,g){x.uniform1f(g.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}F(Pl,"type","Vibrance"),F(Pl,"defaults",{vibrance:0}),F(Pl,"uniformLocations",["uVibrance"]),z0.setClass(Pl);var gZ=Object.freeze({__proto__:null,BaseFilter:px,BlackWhite:SS,BlendColor:Il,BlendImage:Zl,Blur:jl,Brightness:Ul,Brownie:VS,ColorMatrix:l6,Composed:Op,Contrast:Ql,Convolute:Dl,Gamma:El,Grayscale:nl,HueRotation:pG,Invert:Bl,Kodachrome:XS,Noise:$l,Pixelate:il,Polaroid:AS,RemoveColor:Hl,Resize:Jl,Saturation:al,Sepia:uS,Technicolor:FS,Vibrance:Pl,Vintage:LS});dO();var zc={clear(){console.log("todo")},drawImage(){console.log("todo")}},oc={clear(x){x.clearRect(0,0,x.canvas.width,x.canvas.height)},drawImage(x,g,_,O){x.drawImage(g,_,O)}},t2={clear(x){if(x instanceof CanvasRenderingContext2D)oc.clear(x);else if(x instanceof WebGLRenderingContext)zc.clear(x)},drawImage(x,g,_,O){if(x instanceof CanvasRenderingContext2D)oc.drawImage(x,g,_,O);else if(x instanceof WebGLRenderingContext)zc.drawImage(x,g,_,O)}};class w7{constructor(x){this.canvas=null,this.use(x)}use(x){this.method=x}make(x,g){if(!this.canvas)this.canvas=document.createElement("canvas");let{canvas:_}=this,O=this.getContext(),l=g.thickness*2,[G,w]=[x.width,x.height].map((W)=>W+l);if(G!==_.width||w!==_.height)_.width=G,_.height=w;return t2.clear(O),this.method.exec(O,x,g),t2.drawImage(O,x,g.thickness,g.thickness),_}getContext(){switch(this.method.context){case"gl":return this.canvas.getContext("gl");case"2d":return this.canvas.getContext("2d")}}}var fp={context:"2d",exec(x,g,_){x.save();for(let O=0;O<360;O++)x.drawImage(g,_.thickness*(1+Math.cos(O)),_.thickness*(1+Math.sin(O)));x.globalCompositeOperation="source-in",x.fillStyle=_.color,x.fillRect(0,0,x.canvas.width,x.canvas.height),x.restore()}};function Yp({files:x,setCanvasURLs:g,jsonEndpoint:_,getBackgroundImage:O,isPerk:l=!1}){let G=Qg(null),w=Qg(null),[W,z]=_g(null),[p,o]=_g(""),[y,v]=_g([]);G_(()=>{if(G.current){let Y=new N8(G.current);z(Y)}},[]),G_(()=>{if(x&&W)W.clear(),x.forEach((Y)=>{console.log("Checking JSON for matches: ",Y.name);let q=y.filter((N)=>Y.name+".png"===N.name);if(q.length>0){let N=q[0].details.rarity;f(Y.data,Y.name,W,o,M,N)}})},[x,W]),G_(()=>{fetch(_).then((Y)=>Y.json()).then((Y)=>v(Y)).catch((Y)=>console.error("Error loading data:",Y))},[]);function k(){if(w.current&&p)w.current.href=p,w.current.download=x?.[0]?.name+".png"}let M=(Y,q)=>{g((N)=>{if(N.some((d)=>d.name===Y))return N.map((d)=>d.name===Y?{...d,data:q}:d);return[...N,{name:Y,data:q,id:N.length}]})};function f(Y,q,N,C,d,c){let A=new Image,b=new Image,j=new Image,Q=!1,V=!1,u=!1,r=!1;function L(){if(r||!Q||!V||!u)return;r=!0;let D=new _x(j,{left:0,top:0,selectable:!1}),S=new _x(b,{clipPath:new _x(A,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1}),T=S.toDataURL();N.remove(S);let t=new Image;t.src=T,t.onload=()=>{let e=new w7;e.use(fp);let C0=e.make(t,{thickness:2,color:"black"}),B=new _x(C0,{left:0,top:0,width:256,height:256,selectable:!1});N.add(B),N.backgroundImage=D,N.renderAll();let o0=N.toDataURL();C(o0),d(q,o0),N.remove(B)}}A.onload=()=>{Q=!0,L()},b.onload=()=>{V=!0,L()},j.onload=()=>{u=!0,L()},A.src=Y,b.src=O(c||"common").grad,j.src=O(c||"common").bg}return A0("div",{className:"absolute invisible pointer-events-none",children:[v0("canvas",{ref:G,width:256,height:256}),v0("a",{ref:w,onClick:k,children:"Download"})]})}var vc="./addonBrown-ghry9js0.png";var yc="./addonBlue-8gj2cgxc.png";var Nc="./addonGreen-c6r8pjam.png";var kc="./addonPurple-pgwpstx9.png";var qc="./addonPink-v6vfn79j.png";var Cc="./addonEvent-wxa8jczh.png";var dc="./addonBrownGrad-q98265yw.png";var Mc="./addonBlueGrad-t3rh7d83.png";var fc="./addonGreenGrad-cggcndxd.png";var Yc="./addonPurpleGrad-pnsx0mz4.png";var cc="./addonPinkGrad-wxvwmt5r.png";var hc="./addonEventGrad-bk496cty.png";var Kc="./itemBrown-53hy1n4b.png";var bc="./itemBlue-tfvz89yb.png";var mc="./itemGreen-4k0e3aqy.png";var Vc="./itemPurple-1f49wh9p.png";var Lc="./itemPink-4xh395sg.png";var Xc="./itemEvent-6n8hwq2m.png";var Fc="./ItemBrownGrad-azatdwes.png";var Ac="./itemBlueGrad-ef3y4s2x.png";var uc="./itemGreenGrad-v8d4mdam.png";var Sc="./itemPurpleGrad-7j0scnhp.png";var rc="./itemPinkGrad-rpc1d674.png";var Ic="./itemEventGrad-jg5zvn7r.png";var Ug="./offeringbg-89h8cfah.png";var Zc="./offeringBrownGrad-11vbfqjc.png";var jc="./offeringBlueGrad-vsy00j61.png";var Uc="./offeringGreenGrad-tbs9qkjc.png";var Qc="./offeringPurpleGrad-n3pxp345.png";var Dc="./offeringPinkGrad-zxj1k8t3.png";var Ec="./offeringEventGrad-s7rg4v6a.png";var d8={addon:{backgrounds:{common:vc,uncommon:Nc,rare:yc,very_rare:kc,ultra_rare:qc,event:Cc},gradients:{common:dc,uncommon:fc,rare:Mc,very_rare:Yc,ultra_rare:cc,event:hc}},item:{backgrounds:{common:Kc,uncommon:mc,rare:bc,very_rare:Vc,ultra_rare:Lc,event:Xc},gradients:{common:Fc,uncommon:uc,rare:Ac,very_rare:Sc,ultra_rare:rc,event:Ic}},offering:{backgrounds:{common:Ug,uncommon:Ug,rare:Ug,very_rare:Ug,ultra_rare:Ug,event:Ug},gradients:{common:Zc,uncommon:Uc,rare:jc,very_rare:Qc,ultra_rare:Dc,event:Ec}}};dO();var nc="./perkbg-re54prrp.png";var Bc="./gradient-tr2q6j2h.png";function $c({files:x,setCanvasURLs:g}){let _=Qg(null),O=Qg(null),[l,G]=_g(null),[w,W]=_g("");G_(()=>{if(_.current){let o=new N8(_.current);G(o)}},[]),G_(()=>{if(l)e2(l)},[l]),G_(()=>{if(x&&l)console.log("PerkCanvas received files:",x.length),l.clear(),e2(l),x.forEach((o)=>{console.log("PerkCanvas processing file:",o.name),qr(o.data,o.name,l,W,p)})},[x,l]),G_(()=>{if(l)e2(l)},[l]);function z(){if(O.current&&w)O.current.href=w,O.current.download=x?.[0]?.name+".png"}let p=(o,y)=>{g((v)=>{if(v.some((M)=>M.name===o))return console.log("File already exists in canvasURLs:",o),v.map((M)=>M.name===o?{...M,data:y}:M);return[...v,{name:o,data:y,id:v.length}]})};return A0("div",{className:"absolute invisible pointer-events-none",children:[v0("canvas",{ref:_,width:256,height:256}),v0("a",{ref:O,onClick:z,children:"Download"})]})}function qr(x,g,_,O,l){let G=new Image,w=new Image,W=!1,z=!1,p=!1;function o(){if(p||!W||!z)return;p=!0,console.log("Processing images for:",g);let y=new _x(w,{clipPath:new _x(G,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",g);let v=y.toDataURL();console.log("Data URL created for:",g),_.remove(y);let k=new Image;function M(){console.log("htmlImage loaded for:",g);let f=new w7;f.use(fp);let Y=f.make(k,{thickness:2,color:"black"}),q=new _x(Y,{left:0,top:0,width:256,height:256,selectable:!1});_.add(q),_.renderAll();let N=_.toDataURL();O(N),console.log("Canvas URL created for",g),l(g,N),_.remove(q)}if(k.onload=M,k.src=v,k.complete)M()}if(G.onload=()=>{console.log("iconImage loaded for:",g),W=!0,o()},w.onload=()=>{console.log("gradImage loaded for:",g),z=!0,o()},G.src=x,w.src=Bc,G.complete)console.log("iconImage already loaded for:",g),W=!0;if(w.complete)console.log("gradImage already loaded for:",g),z=!0;o()}function e2(x){let g=new Image;g.src=nc,g.onload=()=>{console.log("background loaded successfully");let _=new _x(g,{left:0,top:0,selectable:!1});x.backgroundImage=_,x.renderAll()}}function ic(){return v0($g,{children:A0("footer",{className:"mt-16 mb-8 text-center",children:[v0("p",{className:"text-gray-400 mb-4",children:"Need help or found an issue?"}),A0("div",{className:"flex justify-center gap-6",children:[v0("a",{href:"https://github.com/michaelexile/90s-Pack-Generator",target:"_blank",rel:"noopener noreferrer",className:"text-pink-400 hover:text-pink-300 transition-colors",children:"GitHub"}),v0("a",{href:"https://twitter.com/michaelexile",target:"_blank",rel:"noopener noreferrer",className:"text-pink-400 hover:text-pink-300 transition-colors",children:"Twitter"})]})]})})}function Hc(){let[x,g]=_g([]),[_,O]=_g([]),[l,G]=_g(!1),[w,W]=_g("perk"),z=(o)=>{if(o)W(o);g([]),O([]),G(!1)};return A0("div",{className:"max-w-7xl mx-auto text-center relative z-10",children:[v0("h1",{className:"visually-hidden",children:"PERK CREATOR"}),v0("div",{className:"flex justify-center items-center gap-8 mb-8",children:v0("img",{src:$M,alt:"3D image",className:"p-6 transition-all duration-300 hover:drop-shadow-[0_0_2em_#646cffaa] w-[512px]"})}),v0("div",{className:"mb-8",children:v0("button",{className:"text-white font-bold py-2 px-4 rounded",onClick:()=>{let o=document.getElementById("instructions");if(o)o.style.display=o.style.display==="none"?"block":"none"},children:"Getting Started"})}),A0("div",{id:"instructions",style:{display:"none"},className:"max-w-2xl mx-auto mb-8 p-6 bg-gray-800 rounded-lg text-left",children:[v0("h3",{className:"text-xl font-bold mb-4 text-pink-400",children:"How to Use This Tool"}),A0("ol",{className:"space-y-2 text-gray-200",children:[A0("li",{children:["Before you start: There is a full pack available in the"," ",v0("a",{href:"https://nightlight.gg/packs/90s-perk-pack",className:"text-pink-400 hover:text-pink-300",target:"_blank",rel:"noopener noreferrer",children:"90s Pack Download"})," on NightLight. Use this tool for missing icons if I have not already updated the pack."]}),v0("li",{children:"1. Select the type of icon you want to create (Perk, Item, Addon, or Offering)"}),v0("li",{children:"2. Upload your PNG image(s) using the upload button"}),v0("li",{children:"3. Wait for the processing to complete"}),v0("li",{children:"4. Download your customized icons!"})]}),A0("p",{className:"mt-4 text-gray-400 italic",children:["Note: You can get blank icons from"," ",v0("a",{href:"https://nightlight.gg/packs/default-icons-no-shadow",className:"text-pink-400 hover:text-pink-300",target:"_blank",rel:"noopener noreferrer",children:"NightLight"})]})]}),v0("div",{className:"menu flex justify-center",children:A0("div",{className:"w-[600px] items-center radio",children:[A0("label",{children:[v0("input",{type:"radio",name:"tab",value:"perk",onChange:()=>z("perk"),defaultChecked:!0}),A0("span",{className:"option",children:["Perks",v0("span",{className:"click"})]})]}),A0("label",{children:[v0("input",{type:"radio",name:"tab",value:"item",onChange:()=>z("item")}),A0("span",{className:"option",children:["Items",v0("span",{className:"click"})]})]}),A0("label",{children:[v0("input",{type:"radio",name:"tab",value:"addon",onChange:()=>z("addon")}),A0("span",{className:"option",children:["Addons",v0("span",{className:"click"})]})]}),A0("label",{children:[v0("input",{type:"radio",name:"tab",value:"offering",onChange:()=>z("offering")}),A0("span",{className:"option",children:["Offerings",v0("span",{className:"click"})]})]}),w==="perk"&&v0($c,{files:l?[]:x,setCanvasURLs:O}),w==="item"&&v0(Yp,{files:l?[]:x,setCanvasURLs:O,jsonEndpoint:"https://michaelexile.github.io/DBD-IconsJSON/dbdItems.json",getBackgroundImage:(o)=>({bg:d8.item.backgrounds[o],grad:d8.item.gradients[o]})}),w==="addon"&&v0(Yp,{files:l?[]:x,setCanvasURLs:O,jsonEndpoint:"https://michaelexile.github.io/DBD-IconsJSON/dbdItemAddons.json",getBackgroundImage:(o)=>({bg:d8.addon.backgrounds[o],grad:d8.addon.gradients[o]})}),w==="offering"&&v0(Yp,{files:l?[]:x,setCanvasURLs:O,jsonEndpoint:"https://michaelexile.github.io/DBD-IconsJSON/dbdOfferings.json",getBackgroundImage:(o)=>({bg:d8.offering.backgrounds[o],grad:d8.offering.gradients[o]})})]})}),v0("div",{className:"flex justify-center items-center",children:v0(mq,{setFileData:(o)=>{g(o)},setIsProcessing:G,resetStates:z})}),v0("div",{className:"w-full",children:v0(BM,{files:_})}),v0(ic,{})]})}function Jc(){ac.createRoot(document.getElementById("root")).render(v0(Hc,{}))}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",Jc);else Jc();

//# debugId=2AE12F6FD83208FB64756E2164756E21
//# sourceMappingURL=chunk-rjn32nsh.js.map
