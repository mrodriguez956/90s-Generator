var OT=Object.create;var{getPrototypeOf:wT,defineProperty:kx,getOwnPropertyNames:B5,getOwnPropertyDescriptor:vT}=Object,D5=Object.prototype.hasOwnProperty;var d2=(P,p,X)=>{X=P!=null?OT(wT(P)):{};let H=p||!P||!P.__esModule?kx(X,"default",{value:P,enumerable:!0}):X;for(let A of B5(P))if(!D5.call(H,A))kx(H,A,{get:()=>P[A],enumerable:!0});return H},x5=new WeakMap,h5=(P)=>{var p=x5.get(P),X;if(p)return p;if(p=kx({},"__esModule",{value:!0}),P&&typeof P==="object"||typeof P==="function")B5(P).map((H)=>!D5.call(p,H)&&kx(p,H,{get:()=>P[H],enumerable:!(X=vT(P,H))||X.enumerable}));return x5.set(P,p),p},x0=(P,p)=>()=>(p||P((p={exports:{}}).exports,p),p.exports);var _T=(P,p)=>{for(var X in p)kx(P,X,{get:p[X],enumerable:!0,configurable:!0,set:(H)=>p[X]=()=>H})};var g2=(P,p)=>()=>(P&&(p=P(P=0)),p);function c2(P,p){var X=P.length;P.push(p);P:for(;0<X;){var H=X-1>>>1,A=P[H];if(0<v1(A,p))P[H]=p,P[X]=A,X=H;else break P}}function mp(P){return P.length===0?null:P[0]}function c1(P){if(P.length===0)return null;var p=P[0],X=P.pop();if(X!==p){P[0]=X;P:for(var H=0,A=P.length,x=A>>>1;H<x;){var B=2*(H+1)-1,D=P[B],$=B+1,h=P[$];if(0>v1(D,X))$<A&&0>v1(h,D)?(P[H]=h,P[$]=X,H=$):(P[H]=D,P[B]=X,H=B);else if($<A&&0>v1(h,X))P[H]=h,P[$]=X,H=$;else break P}}return p}function v1(P,p){var X=P.sortIndex-p.sortIndex;return X!==0?X:P.id-p.id}function g1(P){for(var p=mp(sX);p!==null;){if(p.callback===null)c1(sX);else if(p.startTime<=P)c1(sX),p.sortIndex=p.expirationTime,c2(FX,p);else break;p=mp(sX)}}function i2(P){if(Ox=!1,g1(P),!Nx)if(mp(FX)!==null)Nx=!0,Q5();else{var p=mp(sX);p!==null&&o2(i2,p.startTime-P)}}function F5(){return up()-C5<gT?!1:!0}function y2(){if(l1){var P=up();C5=P;var p=!0;try{P:{Nx=!1,Ox&&(Ox=!1,Z5(wx),wx=-1),u2=!0;var X=d1;try{p:{g1(P);for(hp=mp(FX);hp!==null&&!(hp.expirationTime>P&&F5());){var H=hp.callback;if(typeof H==="function"){hp.callback=null,d1=hp.priorityLevel;var A=H(hp.expirationTime<=P);if(P=up(),typeof A==="function"){hp.callback=A,g1(P),p=!0;break p}hp===mp(FX)&&c1(FX),g1(P)}else c1(FX);hp=mp(FX)}if(hp!==null)p=!0;else{var x=mp(sX);x!==null&&o2(i2,x.startTime-P),p=!1}}break P}finally{hp=null,d1=X,u2=!1}p=void 0}}finally{p?Gx():l1=!1}}}function Q5(){l1||(l1=!0,Gx())}function o2(P,p){wx=L5(function(){P(up())},p)}var up=void 0,l2,_1,m2,FX,sX,dT=1,hp=null,d1=3,u2=!1,Nx=!1,Ox=!1,L5,Z5,$5,l1=!1,wx=-1,gT=5,C5=-1,Gx,y1,a2,n2=5,r2=1,s2=4,o8=3,e2=2,t2=function(P){P.callback=null},P$=function(){return d1},p$=function(){},n8=function(P,p,X){var H=up();switch(typeof X==="object"&&X!==null?(X=X.delay,X=typeof X==="number"&&0<X?H+X:H):X=H,P){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5000}return A=X+A,P={id:dT++,callback:p,priorityLevel:P,startTime:X,expirationTime:A,sortIndex:-1},X>H?(P.sortIndex=X,c2(sX,P),mp(FX)===null&&P===mp(sX)&&(Ox?(Z5(wx),wx=-1):Ox=!0,o2(i2,X-H))):(P.sortIndex=A,c2(FX,P),Nx||u2||(Nx=!0,Q5())),P},X$;var V5=g2(()=>{if(typeof performance==="object"&&typeof performance.now==="function")l2=performance,up=function(){return l2.now()};else _1=Date,m2=_1.now(),up=function(){return _1.now()-m2};FX=[],sX=[],L5=typeof setTimeout==="function"?setTimeout:null,Z5=typeof clearTimeout==="function"?clearTimeout:null,$5=typeof setImmediate!=="undefined"?setImmediate:null;if(typeof $5==="function")Gx=function(){$5(y2)};else if(typeof MessageChannel!=="undefined")y1=new MessageChannel,a2=y1.port2,y1.port1.onmessage=y2,Gx=function(){a2.postMessage(null)};else Gx=function(){L5(y2,0)};X$=F5});function vx(P,p,X){this.props=P,this.context=p,this.refs=q5,this.updater=X||j5}function Y5(){}function T5(P,p,X){this.props=P,this.context=p,this.refs=q5,this.updater=X||j5}var ZS,CS,FS,QS,VS,jS,qS,YS,TS,IS,bS,j5,cT,q5,H$,ES,m1,_x,dx=function(P,p){return m1.H.useEffect(P,p)},eX=function(P){return m1.H.useRef(P)},tX=function(P){return m1.H.useState(P)},A$="19.0.0";var iH=g2(()=>{ZS=Symbol.for("react.transitional.element"),CS=Symbol.for("react.portal"),FS=Symbol.for("react.fragment"),QS=Symbol.for("react.strict_mode"),VS=Symbol.for("react.profiler"),jS=Symbol.for("react.consumer"),qS=Symbol.for("react.context"),YS=Symbol.for("react.forward_ref"),TS=Symbol.for("react.suspense"),IS=Symbol.for("react.memo"),bS=Symbol.for("react.lazy"),j5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cT=Object.assign,q5={};vx.prototype.isReactComponent={};vx.prototype.setState=function(P,p){if(typeof P!=="object"&&typeof P!=="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,p,"setState")};vx.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};Y5.prototype=vx.prototype;H$=T5.prototype=new Y5;H$.constructor=T5;cT(H$,vx.prototype);H$.isPureReactComponent=!0;ES=Array.isArray,m1={H:null,A:null,T:null,S:null};_x=m1});var E5=x0((uT)=>{iH();function b5(P){var p="https://react.dev/errors/"+P;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var X=2;X<arguments.length;X++)p+="&args[]="+encodeURIComponent(arguments[X])}return"Minified React error #"+P+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function PH(){}var UP={d:{f:PH,r:function(){throw Error(b5(522))},D:PH,C:PH,L:PH,m:PH,X:PH,S:PH,M:PH},p:0,findDOMNode:null},lT=Symbol.for("react.portal");function mT(P,p,X){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lT,key:H==null?null:""+H,children:P,containerInfo:p,implementation:X}}var gx=_x;function u1(P,p){if(P==="font")return"";if(typeof p==="string")return p==="use-credentials"?p:""}uT.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=UP;uT.createPortal=function(P,p){var X=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(b5(299));return mT(P,p,null,X)};uT.flushSync=function(P){var p=gx.T,X=UP.p;try{if(gx.T=null,UP.p=2,P)return P()}finally{gx.T=p,UP.p=X,UP.d.f()}};uT.preconnect=function(P,p){typeof P==="string"&&(p?(p=p.crossOrigin,p=typeof p==="string"?p==="use-credentials"?p:"":void 0):p=null,UP.d.C(P,p))};uT.prefetchDNS=function(P){typeof P==="string"&&UP.d.D(P)};uT.preinit=function(P,p){if(typeof P==="string"&&p&&typeof p.as==="string"){var X=p.as,H=u1(X,p.crossOrigin),A=typeof p.integrity==="string"?p.integrity:void 0,x=typeof p.fetchPriority==="string"?p.fetchPriority:void 0;X==="style"?UP.d.S(P,typeof p.precedence==="string"?p.precedence:void 0,{crossOrigin:H,integrity:A,fetchPriority:x}):X==="script"&&UP.d.X(P,{crossOrigin:H,integrity:A,fetchPriority:x,nonce:typeof p.nonce==="string"?p.nonce:void 0})}};uT.preinitModule=function(P,p){if(typeof P==="string")if(typeof p==="object"&&p!==null){if(p.as==null||p.as==="script"){var X=u1(p.as,p.crossOrigin);UP.d.M(P,{crossOrigin:X,integrity:typeof p.integrity==="string"?p.integrity:void 0,nonce:typeof p.nonce==="string"?p.nonce:void 0})}}else p==null&&UP.d.M(P)};uT.preload=function(P,p){if(typeof P==="string"&&typeof p==="object"&&p!==null&&typeof p.as==="string"){var X=p.as,H=u1(X,p.crossOrigin);UP.d.L(P,X,{crossOrigin:H,integrity:typeof p.integrity==="string"?p.integrity:void 0,nonce:typeof p.nonce==="string"?p.nonce:void 0,type:typeof p.type==="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority==="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy==="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet==="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes==="string"?p.imageSizes:void 0,media:typeof p.media==="string"?p.media:void 0})}};uT.preloadModule=function(P,p){if(typeof P==="string")if(p){var X=u1(p.as,p.crossOrigin);UP.d.m(P,{as:typeof p.as==="string"&&p.as!=="script"?p.as:void 0,crossOrigin:X,integrity:typeof p.integrity==="string"?p.integrity:void 0})}else UP.d.m(P)};uT.requestFormReset=function(P){UP.d.r(P)};uT.unstable_batchedUpdates=function(P,p){return P(p)};uT.useFormState=function(P,p,X){return gx.H.useFormState(P,p,X)};uT.useFormStatus=function(){return gx.H.useHostTransitionStatus()};uT.version="19.0.0"});var J5=x0((MS,M5)=>{function W5(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W5)}catch(P){console.error(P)}}W5(),M5.exports=E5()});var YQ=x0((UE)=>{V5();iH();var c6=d2(J5(),1);function r(P){var p="https://react.dev/errors/"+P;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var X=2;X<arguments.length;X++)p+="&args[]="+encodeURIComponent(arguments[X])}return"Minified React error #"+P+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l6(P){return!(!P||P.nodeType!==1&&P.nodeType!==9&&P.nodeType!==11)}var BI=Symbol.for("react.element"),a1=Symbol.for("react.transitional.element"),ox=Symbol.for("react.portal"),XA=Symbol.for("react.fragment"),m6=Symbol.for("react.strict_mode"),O$=Symbol.for("react.profiler"),DI=Symbol.for("react.provider"),u6=Symbol.for("react.consumer"),bX=Symbol.for("react.context"),zL=Symbol.for("react.forward_ref"),w$=Symbol.for("react.suspense"),v$=Symbol.for("react.suspense_list"),UL=Symbol.for("react.memo"),HH=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var a6=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var hI=Symbol.for("react.memo_cache_sentinel"),K5=Symbol.iterator;function yx(P){if(P===null||typeof P!=="object")return null;return P=K5&&P[K5]||P["@@iterator"],typeof P==="function"?P:null}var $I=Symbol.for("react.client.reference");function _$(P){if(P==null)return null;if(typeof P==="function")return P.$$typeof===$I?null:P.displayName||P.name||null;if(typeof P==="string")return P;switch(P){case XA:return"Fragment";case ox:return"Portal";case O$:return"Profiler";case m6:return"StrictMode";case w$:return"Suspense";case v$:return"SuspenseList"}if(typeof P==="object")switch(P.$$typeof){case bX:return(P.displayName||"Context")+".Provider";case u6:return(P._context.displayName||"Context")+".Consumer";case zL:var p=P.render;return P=P.displayName,P||(P=p.displayName||p.name||"",P=P!==""?"ForwardRef("+P+")":"ForwardRef"),P;case UL:return p=P.displayName||null,p!==null?p:_$(P.type)||"Memo";case HH:p=P._payload,P=P._init;try{return _$(P(p))}catch(X){}}return null}var $0=_x,l0=Object.assign,x$,f5;function nx(P){if(x$===void 0)try{throw Error()}catch(X){var p=X.stack.trim().match(/\n( *(at )?)/);x$=p&&p[1]||"",f5=-1<X.stack.indexOf(`
    at`)?" (<anonymous>)":-1<X.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x$+P+f5}var B$=!1;function D$(P,p){if(!P||B$)return"";B$=!0;var X=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var H={DetermineComponentFrameRoot:function(){try{if(p){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(j){var Q=j}Reflect.construct(P,[],F)}else{try{F.call()}catch(j){Q=j}P.call(F.prototype)}}else{try{throw Error()}catch(j){Q=j}(F=P())&&typeof F.catch==="function"&&F.catch(function(){})}}catch(j){if(j&&Q&&typeof j.stack==="string")return[j.stack,Q.stack]}return[null,null]}};H.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(H.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(H.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=H.DetermineComponentFrameRoot(),B=x[0],D=x[1];if(B&&D){var $=B.split(`
`),h=D.split(`
`);for(A=H=0;H<$.length&&!$[H].includes("DetermineComponentFrameRoot");)H++;for(;A<h.length&&!h[A].includes("DetermineComponentFrameRoot");)A++;if(H===$.length||A===h.length)for(H=$.length-1,A=h.length-1;1<=H&&0<=A&&$[H]!==h[A];)A--;for(;1<=H&&0<=A;H--,A--)if($[H]!==h[A]){if(H!==1||A!==1)do if(H--,A--,0>A||$[H]!==h[A]){var Z=`
`+$[H].replace(" at new "," at ");return P.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",P.displayName)),Z}while(1<=H&&0<=A);break}}}finally{B$=!1,Error.prepareStackTrace=X}return(X=P?P.displayName||P.name:"")?nx(X):""}function LI(P){switch(P.tag){case 26:case 27:case 5:return nx(P.type);case 16:return nx("Lazy");case 13:return nx("Suspense");case 19:return nx("SuspenseList");case 0:case 15:return P=D$(P.type,!1),P;case 11:return P=D$(P.type.render,!1),P;case 1:return P=D$(P.type,!0),P;default:return""}}function R5(P){try{var p="";do p+=LI(P),P=P.return;while(P);return p}catch(X){return`
Error generating stack: `+X.message+`
`+X.stack}}function zA(P){var p=P,X=P;if(P.alternate)for(;p.return;)p=p.return;else{P=p;do p=P,(p.flags&4098)!==0&&(X=p.return),P=p.return;while(P)}return p.tag===3?X:null}function i6(P){if(P.tag===13){var p=P.memoizedState;if(p===null&&(P=P.alternate,P!==null&&(p=P.memoizedState)),p!==null)return p.dehydrated}return null}function S5(P){if(zA(P)!==P)throw Error(r(188))}function ZI(P){var p=P.alternate;if(!p){if(p=zA(P),p===null)throw Error(r(188));return p!==P?null:P}for(var X=P,H=p;;){var A=X.return;if(A===null)break;var x=A.alternate;if(x===null){if(H=A.return,H!==null){X=H;continue}break}if(A.child===x.child){for(x=A.child;x;){if(x===X)return S5(A),P;if(x===H)return S5(A),p;x=x.sibling}throw Error(r(188))}if(X.return!==H.return)X=A,H=x;else{for(var B=!1,D=A.child;D;){if(D===X){B=!0,X=A,H=x;break}if(D===H){B=!0,H=A,X=x;break}D=D.sibling}if(!B){for(D=x.child;D;){if(D===X){B=!0,X=x,H=A;break}if(D===H){B=!0,H=x,X=A;break}D=D.sibling}if(!B)throw Error(r(189))}}if(X.alternate!==H)throw Error(r(190))}if(X.tag!==3)throw Error(r(188));return X.stateNode.current===X?P:p}function o6(P){var p=P.tag;if(p===5||p===26||p===27||p===6)return P;for(P=P.child;P!==null;){if(p=o6(P),p!==null)return p;P=P.sibling}return null}var rx=Array.isArray,c0=c6.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,p8={pending:!1,data:null,method:null,action:null},d$=[],HA=-1;function ep(P){return{current:P}}function IP(P){0>HA||(P.current=d$[HA],d$[HA]=null,HA--)}function m0(P,p){HA++,d$[HA]=P.current,P.current=p}var op=ep(null),YB=ep(null),ZH=ep(null),TD=ep(null);function ID(P,p){switch(m0(ZH,p),m0(YB,P),m0(op,null),P=p.nodeType,P){case 9:case 11:p=(p=p.documentElement)?(p=p.namespaceURI)?S6(p):0:0;break;default:if(P=P===8?p.parentNode:p,p=P.tagName,P=P.namespaceURI)P=S6(P),p=BQ(P,p);else switch(p){case"svg":p=1;break;case"math":p=2;break;default:p=0}}IP(op),m0(op,p)}function bA(){IP(op),IP(YB),IP(ZH)}function g$(P){P.memoizedState!==null&&m0(TD,P);var p=op.current,X=BQ(p,P.type);p!==X&&(m0(YB,P),m0(op,X))}function bD(P){YB.current===P&&(IP(op),IP(YB)),TD.current===P&&(IP(TD),SB._currentValue=p8)}var y$=Object.prototype.hasOwnProperty,kL=n8,h$=t2,CI=X$,FI=p$,np=up,QI=P$,n6=r2,r6=e2,ED=o8,VI=s2,s6=n2,jI=void 0,qI=void 0,GB=null,tP=null;function YI(P){if(tP&&typeof tP.onCommitFiberRoot==="function")try{tP.onCommitFiberRoot(GB,P,void 0,(P.current.flags&128)===128)}catch(p){}}function $H(P){if(typeof jI==="function"&&qI(P),tP&&typeof tP.setStrictMode==="function")try{tP.setStrictMode(GB,P)}catch(p){}}var Pp=Math.clz32?Math.clz32:bI,TI=Math.log,II=Math.LN2;function bI(P){return P>>>=0,P===0?32:31-(TI(P)/II|0)|0}var i1=128,o1=4194304;function nH(P){var p=P&42;if(p!==0)return p;switch(P&-P){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return P&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return P&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return P}}function iD(P,p){var X=P.pendingLanes;if(X===0)return 0;var H=0,A=P.suspendedLanes,x=P.pingedLanes,B=P.warmLanes;P=P.finishedLanes!==0;var D=X&134217727;return D!==0?(X=D&~A,X!==0?H=nH(X):(x&=D,x!==0?H=nH(x):P||(B=D&~B,B!==0&&(H=nH(B))))):(D=X&~A,D!==0?H=nH(D):x!==0?H=nH(x):P||(B=X&~B,B!==0&&(H=nH(B)))),H===0?0:p!==0&&p!==H&&(p&A)===0&&(A=H&-H,B=p&-p,A>=B||A===32&&(B&4194176)!==0)?p:H}function NB(P,p){return(P.pendingLanes&~(P.suspendedLanes&~P.pingedLanes)&p)===0}function EI(P,p){switch(P){case 1:case 2:case 4:case 8:return p+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e6(){var P=i1;return i1<<=1,(i1&4194176)===0&&(i1=128),P}function t6(){var P=o1;return o1<<=1,(o1&62914560)===0&&(o1=4194304),P}function $$(P){for(var p=[],X=0;31>X;X++)p.push(P);return p}function OB(P,p){P.pendingLanes|=p,p!==268435456&&(P.suspendedLanes=0,P.pingedLanes=0,P.warmLanes=0)}function WI(P,p,X,H,A,x){var B=P.pendingLanes;P.pendingLanes=X,P.suspendedLanes=0,P.pingedLanes=0,P.warmLanes=0,P.expiredLanes&=X,P.entangledLanes&=X,P.errorRecoveryDisabledLanes&=X,P.shellSuspendCounter=0;var{entanglements:D,expirationTimes:$,hiddenUpdates:h}=P;for(X=B&~X;0<X;){var Z=31-Pp(X),F=1<<Z;D[Z]=0,$[Z]=-1;var Q=h[Z];if(Q!==null)for(h[Z]=null,Z=0;Z<Q.length;Z++){var j=Q[Z];j!==null&&(j.lane&=-536870913)}X&=~F}H!==0&&PF(P,H,0),x!==0&&A===0&&P.tag!==0&&(P.suspendedLanes|=x&~(B&~p))}function PF(P,p,X){P.pendingLanes|=p,P.suspendedLanes&=~p;var H=31-Pp(p);P.entangledLanes|=p,P.entanglements[H]=P.entanglements[H]|1073741824|X&4194218}function pF(P,p){var X=P.entangledLanes|=p;for(P=P.entanglements;X;){var H=31-Pp(X),A=1<<H;A&p|P[H]&p&&(P[H]|=p),X&=~A}}function XF(P){return P&=-P,2<P?8<P?(P&134217727)!==0?32:268435456:8:2}function HF(){var P=c0.p;if(P!==0)return P;return P=window.event,P===void 0?32:jQ(P.type)}function MI(P,p){var X=c0.p;try{return c0.p=P,p()}finally{c0.p=X}}var WH=Math.random().toString(36).slice(2),fP="__reactFiber$"+WH,yP="__reactProps$"+WH,UA="__reactContainer$"+WH,c$="__reactEvents$"+WH,JI="__reactListeners$"+WH,KI="__reactHandles$"+WH,z5="__reactResources$"+WH,TB="__reactMarker$"+WH;function GL(P){delete P[fP],delete P[yP],delete P[c$],delete P[JI],delete P[KI]}function tH(P){var p=P[fP];if(p)return p;for(var X=P.parentNode;X;){if(p=X[UA]||X[fP]){if(X=p.alternate,p.child!==null||X!==null&&X.child!==null)for(P=U6(P);P!==null;){if(X=P[fP])return X;P=U6(P)}return p}P=X,X=P.parentNode}return null}function kA(P){if(P=P[fP]||P[UA]){var p=P.tag;if(p===5||p===6||p===13||p===26||p===27||p===3)return P}return null}function sx(P){var p=P.tag;if(p===5||p===26||p===27||p===6)return P.stateNode;throw Error(r(33))}function FA(P){var p=P[z5];return p||(p=P[z5]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function YP(P){P[TB]=!0}var AF=new Set,xF={};function C8(P,p){EA(P,p),EA(P+"Capture",p)}function EA(P,p){xF[P]=p;for(P=0;P<p.length;P++)AF.add(p[P])}var fX=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),fI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),U5={},k5={};function RI(P){if(y$.call(k5,P))return!0;if(y$.call(U5,P))return!1;if(fI.test(P))return k5[P]=!0;return U5[P]=!0,!1}function BD(P,p,X){if(RI(p))if(X===null)P.removeAttribute(p);else{switch(typeof X){case"undefined":case"function":case"symbol":P.removeAttribute(p);return;case"boolean":var H=p.toLowerCase().slice(0,5);if(H!=="data-"&&H!=="aria-"){P.removeAttribute(p);return}}P.setAttribute(p,""+X)}}function n1(P,p,X){if(X===null)P.removeAttribute(p);else{switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":P.removeAttribute(p);return}P.setAttribute(p,""+X)}}function QX(P,p,X,H){if(H===null)P.removeAttribute(X);else{switch(typeof H){case"undefined":case"function":case"symbol":case"boolean":P.removeAttribute(X);return}P.setAttributeNS(p,X,""+H)}}function Cp(P){switch(typeof P){case"bigint":case"boolean":case"number":case"string":case"undefined":return P;case"object":return P;default:return""}}function BF(P){var p=P.type;return(P=P.nodeName)&&P.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function SI(P){var p=BF(P)?"checked":"value",X=Object.getOwnPropertyDescriptor(P.constructor.prototype,p),H=""+P[p];if(!P.hasOwnProperty(p)&&typeof X!=="undefined"&&typeof X.get==="function"&&typeof X.set==="function"){var{get:A,set:x}=X;return Object.defineProperty(P,p,{configurable:!0,get:function(){return A.call(this)},set:function(B){H=""+B,x.call(this,B)}}),Object.defineProperty(P,p,{enumerable:X.enumerable}),{getValue:function(){return H},setValue:function(B){H=""+B},stopTracking:function(){P._valueTracker=null,delete P[p]}}}}function WD(P){P._valueTracker||(P._valueTracker=SI(P))}function DF(P){if(!P)return!1;var p=P._valueTracker;if(!p)return!0;var X=p.getValue(),H="";return P&&(H=BF(P)?P.checked?"true":"false":P.value),P=H,P!==X?(p.setValue(P),!0):!1}function MD(P){if(P=P||(typeof document!=="undefined"?document:void 0),typeof P==="undefined")return null;try{return P.activeElement||P.body}catch(p){return P.body}}var zI=/[\n"\\]/g;function Vp(P){return P.replace(zI,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function l$(P,p,X,H,A,x,B,D){if(P.name="",B!=null&&typeof B!=="function"&&typeof B!=="symbol"&&typeof B!=="boolean"?P.type=B:P.removeAttribute("type"),p!=null)if(B==="number"){if(p===0&&P.value===""||P.value!=p)P.value=""+Cp(p)}else P.value!==""+Cp(p)&&(P.value=""+Cp(p));else B!=="submit"&&B!=="reset"||P.removeAttribute("value");p!=null?m$(P,B,Cp(p)):X!=null?m$(P,B,Cp(X)):H!=null&&P.removeAttribute("value"),A==null&&x!=null&&(P.defaultChecked=!!x),A!=null&&(P.checked=A&&typeof A!=="function"&&typeof A!=="symbol"),D!=null&&typeof D!=="function"&&typeof D!=="symbol"&&typeof D!=="boolean"?P.name=""+Cp(D):P.removeAttribute("name")}function hF(P,p,X,H,A,x,B,D){if(x!=null&&typeof x!=="function"&&typeof x!=="symbol"&&typeof x!=="boolean"&&(P.type=x),p!=null||X!=null){if(!(x!=="submit"&&x!=="reset"||p!==void 0&&p!==null))return;X=X!=null?""+Cp(X):"",p=p!=null?""+Cp(p):X,D||p===P.value||(P.value=p),P.defaultValue=p}H=H!=null?H:A,H=typeof H!=="function"&&typeof H!=="symbol"&&!!H,P.checked=D?P.checked:!!H,P.defaultChecked=!!H,B!=null&&typeof B!=="function"&&typeof B!=="symbol"&&typeof B!=="boolean"&&(P.name=B)}function m$(P,p,X){p==="number"&&MD(P.ownerDocument)===P||P.defaultValue===""+X||(P.defaultValue=""+X)}function QA(P,p,X,H){if(P=P.options,p){p={};for(var A=0;A<X.length;A++)p["$"+X[A]]=!0;for(X=0;X<P.length;X++)A=p.hasOwnProperty("$"+P[X].value),P[X].selected!==A&&(P[X].selected=A),A&&H&&(P[X].defaultSelected=!0)}else{X=""+Cp(X),p=null;for(A=0;A<P.length;A++){if(P[A].value===X){P[A].selected=!0,H&&(P[A].defaultSelected=!0);return}p!==null||P[A].disabled||(p=P[A])}p!==null&&(p.selected=!0)}}function $F(P,p,X){if(p!=null&&(p=""+Cp(p),p!==P.value&&(P.value=p),X==null)){P.defaultValue!==p&&(P.defaultValue=p);return}P.defaultValue=X!=null?""+Cp(X):""}function LF(P,p,X,H){if(p==null){if(H!=null){if(X!=null)throw Error(r(92));if(rx(H)){if(1<H.length)throw Error(r(93));H=H[0]}X=H}X==null&&(X=""),p=X}X=Cp(p),P.defaultValue=X,H=P.textContent,H===X&&H!==""&&H!==null&&(P.value=H)}function WA(P,p){if(p){var X=P.firstChild;if(X&&X===P.lastChild&&X.nodeType===3){X.nodeValue=p;return}}P.textContent=p}var UI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function G5(P,p,X){var H=p.indexOf("--")===0;X==null||typeof X==="boolean"||X===""?H?P.setProperty(p,""):p==="float"?P.cssFloat="":P[p]="":H?P.setProperty(p,X):typeof X!=="number"||X===0||UI.has(p)?p==="float"?P.cssFloat=X:P[p]=(""+X).trim():P[p]=X+"px"}function ZF(P,p,X){if(p!=null&&typeof p!=="object")throw Error(r(62));if(P=P.style,X!=null){for(var H in X)!X.hasOwnProperty(H)||p!=null&&p.hasOwnProperty(H)||(H.indexOf("--")===0?P.setProperty(H,""):H==="float"?P.cssFloat="":P[H]="");for(var A in p)H=p[A],p.hasOwnProperty(A)&&X[A]!==H&&G5(P,A,H)}else for(var x in p)p.hasOwnProperty(x)&&G5(P,x,p[x])}function NL(P){if(P.indexOf("-")===-1)return!1;switch(P){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),GI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function DD(P){return GI.test(""+P)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":P}var u$=null;function OL(P){return P=P.target||P.srcElement||window,P.correspondingUseElement&&(P=P.correspondingUseElement),P.nodeType===3?P.parentNode:P}var AA=null,VA=null;function N5(P){var p=kA(P);if(p&&(P=p.stateNode)){var X=P[yP]||null;P:switch(P=p.stateNode,p.type){case"input":if(l$(P,X.value,X.defaultValue,X.defaultValue,X.checked,X.defaultChecked,X.type,X.name),p=X.name,X.type==="radio"&&p!=null){for(X=P;X.parentNode;)X=X.parentNode;X=X.querySelectorAll('input[name="'+Vp(""+p)+'"][type="radio"]');for(p=0;p<X.length;p++){var H=X[p];if(H!==P&&H.form===P.form){var A=H[yP]||null;if(!A)throw Error(r(90));l$(H,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(p=0;p<X.length;p++)H=X[p],H.form===P.form&&DF(H)}break P;case"textarea":$F(P,X.value,X.defaultValue);break P;case"select":p=X.value,p!=null&&QA(P,!!X.multiple,p,!1)}}}var L$=!1;function CF(P,p,X){if(L$)return P(p,X);L$=!0;try{var H=P(p);return H}finally{if(L$=!1,AA!==null||VA!==null){if(Hh(),AA&&(p=AA,P=VA,VA=AA=null,N5(p),P))for(p=0;p<P.length;p++)N5(P[p])}}}function IB(P,p){var X=P.stateNode;if(X===null)return null;var H=X[yP]||null;if(H===null)return null;X=H[p];P:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(H=!H.disabled)||(P=P.type,H=!(P==="button"||P==="input"||P==="select"||P==="textarea")),P=!H;break P;default:P=!1}if(P)return null;if(X&&typeof X!=="function")throw Error(r(231,p,typeof X));return X}var a$=!1;if(fX)try{rH={},Object.defineProperty(rH,"passive",{get:function(){a$=!0}}),window.addEventListener("test",rH,rH),window.removeEventListener("test",rH,rH)}catch(P){a$=!1}var rH,LH=null,wL=null,hD=null;function FF(){if(hD)return hD;var P,p=wL,X=p.length,H,A="value"in LH?LH.value:LH.textContent,x=A.length;for(P=0;P<X&&p[P]===A[P];P++);var B=X-P;for(H=1;H<=B&&p[X-H]===A[x-H];H++);return hD=A.slice(P,1<H?1-H:void 0)}function $D(P){var p=P.keyCode;return"charCode"in P?(P=P.charCode,P===0&&p===13&&(P=13)):P=p,P===10&&(P=13),32<=P||P===13?P:0}function r1(){return!0}function O5(){return!1}function cP(P){function p(X,H,A,x,B){this._reactName=X,this._targetInst=A,this.type=H,this.nativeEvent=x,this.target=B,this.currentTarget=null;for(var D in P)P.hasOwnProperty(D)&&(X=P[D],this[D]=X?X(x):x[D]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?r1:O5,this.isPropagationStopped=O5,this}return l0(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var X=this.nativeEvent;X&&(X.preventDefault?X.preventDefault():typeof X.returnValue!=="unknown"&&(X.returnValue=!1),this.isDefaultPrevented=r1)},stopPropagation:function(){var X=this.nativeEvent;X&&(X.stopPropagation?X.stopPropagation():typeof X.cancelBubble!=="unknown"&&(X.cancelBubble=!0),this.isPropagationStopped=r1)},persist:function(){},isPersistent:r1}),p}var F8={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(P){return P.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oD=cP(F8),wB=l0({},F8,{view:0,detail:0}),NI=cP(wB),Z$,C$,cx,nD=l0({},wB,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vL,button:0,buttons:0,relatedTarget:function(P){return P.relatedTarget===void 0?P.fromElement===P.srcElement?P.toElement:P.fromElement:P.relatedTarget},movementX:function(P){if("movementX"in P)return P.movementX;return P!==cx&&(cx&&P.type==="mousemove"?(Z$=P.screenX-cx.screenX,C$=P.screenY-cx.screenY):C$=Z$=0,cx=P),Z$},movementY:function(P){return"movementY"in P?P.movementY:C$}}),w5=cP(nD),OI=l0({},nD,{dataTransfer:0}),wI=cP(OI),vI=l0({},wB,{relatedTarget:0}),F$=cP(vI),_I=l0({},F8,{animationName:0,elapsedTime:0,pseudoElement:0}),dI=cP(_I),gI=l0({},F8,{clipboardData:function(P){return"clipboardData"in P?P.clipboardData:window.clipboardData}}),yI=cP(gI),cI=l0({},F8,{data:0}),v5=cP(cI),lI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aI(P){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(P):(P=uI[P])?!!p[P]:!1}function vL(){return aI}var iI=l0({},wB,{key:function(P){if(P.key){var p=lI[P.key]||P.key;if(p!=="Unidentified")return p}return P.type==="keypress"?(P=$D(P),P===13?"Enter":String.fromCharCode(P)):P.type==="keydown"||P.type==="keyup"?mI[P.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vL,charCode:function(P){return P.type==="keypress"?$D(P):0},keyCode:function(P){return P.type==="keydown"||P.type==="keyup"?P.keyCode:0},which:function(P){return P.type==="keypress"?$D(P):P.type==="keydown"||P.type==="keyup"?P.keyCode:0}}),oI=cP(iI),nI=l0({},nD,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_5=cP(nI),rI=l0({},wB,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vL}),sI=cP(rI),eI=l0({},F8,{propertyName:0,elapsedTime:0,pseudoElement:0}),tI=cP(eI),Pb=l0({},nD,{deltaX:function(P){return"deltaX"in P?P.deltaX:("wheelDeltaX"in P)?-P.wheelDeltaX:0},deltaY:function(P){return"deltaY"in P?P.deltaY:("wheelDeltaY"in P)?-P.wheelDeltaY:("wheelDelta"in P)?-P.wheelDelta:0},deltaZ:0,deltaMode:0}),pb=cP(Pb),Xb=l0({},F8,{newState:0,oldState:0}),Hb=cP(Xb),Ab=[9,13,27,32],_L=fX&&"CompositionEvent"in window,HB=null;fX&&"documentMode"in document&&(HB=document.documentMode);var xb=fX&&"TextEvent"in window&&!HB,QF=fX&&(!_L||HB&&8<HB&&11>=HB),d5=String.fromCharCode(32),g5=!1;function VF(P,p){switch(P){case"keyup":return Ab.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jF(P){return P=P.detail,typeof P==="object"&&"data"in P?P.data:null}var xA=!1;function Bb(P,p){switch(P){case"compositionend":return jF(p);case"keypress":if(p.which!==32)return null;return g5=!0,d5;case"textInput":return P=p.data,P===d5&&g5?null:P;default:return null}}function Db(P,p){if(xA)return P==="compositionend"||!_L&&VF(P,p)?(P=FF(),hD=wL=LH=null,xA=!1,P):null;switch(P){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return QF&&p.locale!=="ko"?null:p.data;default:return null}}var hb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y5(P){var p=P&&P.nodeName&&P.nodeName.toLowerCase();return p==="input"?!!hb[P.type]:p==="textarea"?!0:!1}function qF(P,p,X,H){AA?VA?VA.push(H):VA=[H]:AA=H,p=gD(p,"onChange"),0<p.length&&(X=new oD("onChange","change",null,X,H),P.push({event:X,listeners:p}))}var AB=null,bB=null;function $b(P){HQ(P,0)}function rD(P){var p=sx(P);if(DF(p))return P}function c5(P,p){if(P==="change")return p}var YF=!1;if(fX){if(fX){if(tx="oninput"in document,!tx)LD=document.createElement("div"),LD.setAttribute("oninput","return;"),tx=typeof LD.oninput==="function";ex=tx}else ex=!1;YF=ex&&(!document.documentMode||9<document.documentMode)}var ex,tx,LD;function l5(){AB&&(AB.detachEvent("onpropertychange",TF),bB=AB=null)}function TF(P){if(P.propertyName==="value"&&rD(bB)){var p=[];qF(p,bB,P,OL(P)),CF($b,p)}}function Lb(P,p,X){P==="focusin"?(l5(),AB=p,bB=X,AB.attachEvent("onpropertychange",TF)):P==="focusout"&&l5()}function Zb(P){if(P==="selectionchange"||P==="keyup"||P==="keydown")return rD(bB)}function Cb(P,p){if(P==="click")return rD(p)}function Fb(P,p){if(P==="input"||P==="change")return rD(p)}function Qb(P,p){return P===p&&(P!==0||1/P===1/p)||P!==P&&p!==p}var Xp=typeof Object.is==="function"?Object.is:Qb;function EB(P,p){if(Xp(P,p))return!0;if(typeof P!=="object"||P===null||typeof p!=="object"||p===null)return!1;var X=Object.keys(P),H=Object.keys(p);if(X.length!==H.length)return!1;for(H=0;H<X.length;H++){var A=X[H];if(!y$.call(p,A)||!Xp(P[A],p[A]))return!1}return!0}function m5(P){for(;P&&P.firstChild;)P=P.firstChild;return P}function u5(P,p){var X=m5(P);P=0;for(var H;X;){if(X.nodeType===3){if(H=P+X.textContent.length,P<=p&&H>=p)return{node:X,offset:p-P};P=H}P:{for(;X;){if(X.nextSibling){X=X.nextSibling;break P}X=X.parentNode}X=void 0}X=m5(X)}}function IF(P,p){return P&&p?P===p?!0:P&&P.nodeType===3?!1:p&&p.nodeType===3?IF(P,p.parentNode):("contains"in P)?P.contains(p):P.compareDocumentPosition?!!(P.compareDocumentPosition(p)&16):!1:!1}function bF(P){P=P!=null&&P.ownerDocument!=null&&P.ownerDocument.defaultView!=null?P.ownerDocument.defaultView:window;for(var p=MD(P.document);p instanceof P.HTMLIFrameElement;){try{var X=typeof p.contentWindow.location.href==="string"}catch(H){X=!1}if(X)P=p.contentWindow;else break;p=MD(P.document)}return p}function dL(P){var p=P&&P.nodeName&&P.nodeName.toLowerCase();return p&&(p==="input"&&(P.type==="text"||P.type==="search"||P.type==="tel"||P.type==="url"||P.type==="password")||p==="textarea"||P.contentEditable==="true")}function Vb(P,p){var X=bF(p);p=P.focusedElem;var H=P.selectionRange;if(X!==p&&p&&p.ownerDocument&&IF(p.ownerDocument.documentElement,p)){if(H!==null&&dL(p)){if(P=H.start,X=H.end,X===void 0&&(X=P),"selectionStart"in p)p.selectionStart=P,p.selectionEnd=Math.min(X,p.value.length);else if(X=(P=p.ownerDocument||document)&&P.defaultView||window,X.getSelection){X=X.getSelection();var A=p.textContent.length,x=Math.min(H.start,A);H=H.end===void 0?x:Math.min(H.end,A),!X.extend&&x>H&&(A=H,H=x,x=A),A=u5(p,x);var B=u5(p,H);A&&B&&(X.rangeCount!==1||X.anchorNode!==A.node||X.anchorOffset!==A.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)&&(P=P.createRange(),P.setStart(A.node,A.offset),X.removeAllRanges(),x>H?(X.addRange(P),X.extend(B.node,B.offset)):(P.setEnd(B.node,B.offset),X.addRange(P)))}}P=[];for(X=p;X=X.parentNode;)X.nodeType===1&&P.push({element:X,left:X.scrollLeft,top:X.scrollTop});typeof p.focus==="function"&&p.focus();for(p=0;p<P.length;p++)X=P[p],X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}var jb=fX&&"documentMode"in document&&11>=document.documentMode,BA=null,i$=null,xB=null,o$=!1;function a5(P,p,X){var H=X.window===X?X.document:X.nodeType===9?X:X.ownerDocument;o$||BA==null||BA!==MD(H)||(H=BA,("selectionStart"in H)&&dL(H)?H={start:H.selectionStart,end:H.selectionEnd}:(H=(H.ownerDocument&&H.ownerDocument.defaultView||window).getSelection(),H={anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}),xB&&EB(xB,H)||(xB=H,H=gD(i$,"onSelect"),0<H.length&&(p=new oD("onSelect","select",null,p,X),P.push({event:p,listeners:H}),p.target=BA)))}function oH(P,p){var X={};return X[P.toLowerCase()]=p.toLowerCase(),X["Webkit"+P]="webkit"+p,X["Moz"+P]="moz"+p,X}var DA={animationend:oH("Animation","AnimationEnd"),animationiteration:oH("Animation","AnimationIteration"),animationstart:oH("Animation","AnimationStart"),transitionrun:oH("Transition","TransitionRun"),transitionstart:oH("Transition","TransitionStart"),transitioncancel:oH("Transition","TransitionCancel"),transitionend:oH("Transition","TransitionEnd")},Q$={},EF={};fX&&(EF=document.createElement("div").style,("AnimationEvent"in window)||(delete DA.animationend.animation,delete DA.animationiteration.animation,delete DA.animationstart.animation),("TransitionEvent"in window)||delete DA.transitionend.transition);function Q8(P){if(Q$[P])return Q$[P];if(!DA[P])return P;var p=DA[P],X;for(X in p)if(p.hasOwnProperty(X)&&X in EF)return Q$[P]=p[X];return P}var WF=Q8("animationend"),MF=Q8("animationiteration"),JF=Q8("animationstart"),qb=Q8("transitionrun"),Yb=Q8("transitionstart"),Tb=Q8("transitioncancel"),KF=Q8("transitionend"),fF=new Map,i5="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Up(P,p){fF.set(P,p),C8(p,[P])}var Zp=[],hA=0,gL=0;function sD(){for(var P=hA,p=gL=hA=0;p<P;){var X=Zp[p];Zp[p++]=null;var H=Zp[p];Zp[p++]=null;var A=Zp[p];Zp[p++]=null;var x=Zp[p];if(Zp[p++]=null,H!==null&&A!==null){var B=H.pending;B===null?A.next=A:(A.next=B.next,B.next=A),H.pending=A}x!==0&&RF(X,A,x)}}function eD(P,p,X,H){Zp[hA++]=P,Zp[hA++]=p,Zp[hA++]=X,Zp[hA++]=H,gL|=H,P.lanes|=H,P=P.alternate,P!==null&&(P.lanes|=H)}function yL(P,p,X,H){return eD(P,p,X,H),JD(P)}function TH(P,p){return eD(P,null,null,p),JD(P)}function RF(P,p,X){P.lanes|=X;var H=P.alternate;H!==null&&(H.lanes|=X);for(var A=!1,x=P.return;x!==null;)x.childLanes|=X,H=x.alternate,H!==null&&(H.childLanes|=X),x.tag===22&&(P=x.stateNode,P===null||P._visibility&1||(A=!0)),P=x,x=x.return;A&&p!==null&&P.tag===3&&(x=P.stateNode,A=31-Pp(X),x=x.hiddenUpdates,P=x[A],P===null?x[A]=[p]:P.push(p),p.lane=X|536870912)}function JD(P){if(50<qB)throw qB=0,jL=null,Error(r(185));for(var p=P.return;p!==null;)P=p,p=P.return;return P.tag===3?P.stateNode:null}var $A={},o5=new WeakMap;function jp(P,p){if(typeof P==="object"&&P!==null){var X=o5.get(P);if(X!==void 0)return X;return p={value:P,source:p,stack:R5(p)},o5.set(P,p),p}return{value:P,source:p,stack:R5(p)}}var LA=[],ZA=0,KD=null,fD=0,Fp=[],Qp=0,X8=null,EX=1,WX="";function sH(P,p){LA[ZA++]=fD,LA[ZA++]=KD,KD=P,fD=p}function SF(P,p,X){Fp[Qp++]=EX,Fp[Qp++]=WX,Fp[Qp++]=X8,X8=P;var H=EX;P=WX;var A=32-Pp(H)-1;H&=~(1<<A),X+=1;var x=32-Pp(p)+A;if(30<x){var B=A-A%5;x=(H&(1<<B)-1).toString(32),H>>=B,A-=B,EX=1<<32-Pp(p)+A|X<<A|H,WX=x+P}else EX=1<<x|X<<A|H,WX=P}function cL(P){P.return!==null&&(sH(P,1),SF(P,1,0))}function lL(P){for(;P===KD;)KD=LA[--ZA],LA[ZA]=null,fD=LA[--ZA],LA[ZA]=null;for(;P===X8;)X8=Fp[--Qp],Fp[Qp]=null,WX=Fp[--Qp],Fp[Qp]=null,EX=Fp[--Qp],Fp[Qp]=null}var kP=null,EP=null,M0=!1,Sp=null,ap=!1,n$=Error(r(519));function D8(P){var p=Error(r(418,""));throw WB(jp(p,P)),n$}function n5(P){var{stateNode:p,type:X,memoizedProps:H}=P;switch(p[fP]=P,p[yP]=H,X){case"dialog":Y0("cancel",p),Y0("close",p);break;case"iframe":case"object":case"embed":Y0("load",p);break;case"video":case"audio":for(X=0;X<KB.length;X++)Y0(KB[X],p);break;case"source":Y0("error",p);break;case"img":case"image":case"link":Y0("error",p),Y0("load",p);break;case"details":Y0("toggle",p);break;case"input":Y0("invalid",p),hF(p,H.value,H.defaultValue,H.checked,H.defaultChecked,H.type,H.name,!0),WD(p);break;case"select":Y0("invalid",p);break;case"textarea":Y0("invalid",p),LF(p,H.value,H.defaultValue,H.children),WD(p)}X=H.children,typeof X!=="string"&&typeof X!=="number"&&typeof X!=="bigint"||p.textContent===""+X||H.suppressHydrationWarning===!0||xQ(p.textContent,X)?(H.popover!=null&&(Y0("beforetoggle",p),Y0("toggle",p)),H.onScroll!=null&&Y0("scroll",p),H.onScrollEnd!=null&&Y0("scrollend",p),H.onClick!=null&&(p.onclick=xh),p=!0):p=!1,p||D8(P)}function r5(P){for(kP=P.return;kP;)switch(kP.tag){case 3:case 27:ap=!0;return;case 5:case 13:ap=!1;return;default:kP=kP.return}}function lx(P){if(P!==kP)return!1;if(!M0)return r5(P),M0=!0,!1;var p=!1,X;if(X=P.tag!==3&&P.tag!==27){if(X=P.tag===5)X=P.type,X=!(X!=="form"&&X!=="button")||JL(P.type,P.memoizedProps);X=!X}if(X&&(p=!0),p&&EP&&D8(P),r5(P),P.tag===13){if(P=P.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P:{P=P.nextSibling;for(p=0;P;){if(P.nodeType===8)if(X=P.data,X==="/$"){if(p===0){EP=zp(P.nextSibling);break P}p--}else X!=="$"&&X!=="$!"&&X!=="$?"||p++;P=P.nextSibling}EP=null}}else EP=kP?zp(P.stateNode.nextSibling):null;return!0}function vB(){EP=kP=null,M0=!1}function WB(P){Sp===null?Sp=[P]:Sp.push(P)}var BB=Error(r(460)),zF=Error(r(474)),r$={then:function(){}};function s5(P){return P=P.status,P==="fulfilled"||P==="rejected"}function s1(){}function UF(P,p,X){switch(X=P[X],X===void 0?P.push(p):X!==p&&(p.then(s1,s1),p=X),p.status){case"fulfilled":return p.value;case"rejected":if(P=p.reason,P===BB)throw Error(r(483));throw P;default:if(typeof p.status==="string")p.then(s1,s1);else{if(P=_0,P!==null&&100<P.shellSuspendCounter)throw Error(r(482));P=p,P.status="pending",P.then(function(H){if(p.status==="pending"){var A=p;A.status="fulfilled",A.value=H}},function(H){if(p.status==="pending"){var A=p;A.status="rejected",A.reason=H}})}switch(p.status){case"fulfilled":return p.value;case"rejected":if(P=p.reason,P===BB)throw Error(r(483));throw P}throw DB=p,BB}}var DB=null;function e5(){if(DB===null)throw Error(r(459));var P=DB;return DB=null,P}var jA=null,MB=0;function e1(P){var p=MB;return MB+=1,jA===null&&(jA=[]),UF(jA,P,p)}function mx(P,p){p=p.props.ref,P.ref=p!==void 0?p:null}function t1(P,p){if(p.$$typeof===BI)throw Error(r(525));throw P=Object.prototype.toString.call(p),Error(r(31,P==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":P))}function t5(P){var p=P._init;return p(P._payload)}function kF(P){function p(I,V){if(P){var Y=I.deletions;Y===null?(I.deletions=[V],I.flags|=16):Y.push(V)}}function X(I,V){if(!P)return null;for(;V!==null;)p(I,V),V=V.sibling;return null}function H(I){for(var V=new Map;I!==null;)I.key!==null?V.set(I.key,I):V.set(I.index,I),I=I.sibling;return V}function A(I,V){return I=QH(I,V),I.index=0,I.sibling=null,I}function x(I,V,Y){if(I.index=Y,!P)return I.flags|=1048576,V;if(Y=I.alternate,Y!==null)return Y=Y.index,Y<V?(I.flags|=33554434,V):Y;return I.flags|=33554434,V}function B(I){return P&&I.alternate===null&&(I.flags|=33554434),I}function D(I,V,Y,T){if(V===null||V.tag!==6)return V=K$(Y,I.mode,T),V.return=I,V;return V=A(V,Y),V.return=I,V}function $(I,V,Y,T){var J=Y.type;if(J===XA)return Z(I,V,Y.props.children,T,Y.key);if(V!==null&&(V.elementType===J||typeof J==="object"&&J!==null&&J.$$typeof===HH&&t5(J)===V.type))return V=A(V,Y.props),mx(V,Y),V.return=I,V;return V=VD(Y.type,Y.key,Y.props,null,I.mode,T),mx(V,Y),V.return=I,V}function h(I,V,Y,T){if(V===null||V.tag!==4||V.stateNode.containerInfo!==Y.containerInfo||V.stateNode.implementation!==Y.implementation)return V=f$(Y,I.mode,T),V.return=I,V;return V=A(V,Y.children||[]),V.return=I,V}function Z(I,V,Y,T,J){if(V===null||V.tag!==7)return V=A8(Y,I.mode,T,J),V.return=I,V;return V=A(V,Y),V.return=I,V}function F(I,V,Y){if(typeof V==="string"&&V!==""||typeof V==="number"||typeof V==="bigint")return V=K$(""+V,I.mode,Y),V.return=I,V;if(typeof V==="object"&&V!==null){switch(V.$$typeof){case a1:return Y=VD(V.type,V.key,V.props,null,I.mode,Y),mx(Y,V),Y.return=I,Y;case ox:return V=f$(V,I.mode,Y),V.return=I,V;case HH:var T=V._init;return V=T(V._payload),F(I,V,Y)}if(rx(V)||yx(V))return V=A8(V,I.mode,Y,null),V.return=I,V;if(typeof V.then==="function")return F(I,e1(V),Y);if(V.$$typeof===bX)return F(I,PD(I,V),Y);t1(I,V)}return null}function Q(I,V,Y,T){var J=V!==null?V.key:null;if(typeof Y==="string"&&Y!==""||typeof Y==="number"||typeof Y==="bigint")return J!==null?null:D(I,V,""+Y,T);if(typeof Y==="object"&&Y!==null){switch(Y.$$typeof){case a1:return Y.key===J?$(I,V,Y,T):null;case ox:return Y.key===J?h(I,V,Y,T):null;case HH:return J=Y._init,Y=J(Y._payload),Q(I,V,Y,T)}if(rx(Y)||yx(Y))return J!==null?null:Z(I,V,Y,T,null);if(typeof Y.then==="function")return Q(I,V,e1(Y),T);if(Y.$$typeof===bX)return Q(I,V,PD(I,Y),T);t1(I,Y)}return null}function j(I,V,Y,T,J){if(typeof T==="string"&&T!==""||typeof T==="number"||typeof T==="bigint")return I=I.get(Y)||null,D(V,I,""+T,J);if(typeof T==="object"&&T!==null){switch(T.$$typeof){case a1:return I=I.get(T.key===null?Y:T.key)||null,$(V,I,T,J);case ox:return I=I.get(T.key===null?Y:T.key)||null,h(V,I,T,J);case HH:var W=T._init;return T=W(T._payload),j(I,V,Y,T,J)}if(rx(T)||yx(T))return I=I.get(Y)||null,Z(V,I,T,J,null);if(typeof T.then==="function")return j(I,V,Y,e1(T),J);if(T.$$typeof===bX)return j(I,V,Y,PD(V,T),J);t1(V,T)}return null}function b(I,V,Y,T){for(var J=null,W=null,K=V,S=V=0,_=null;K!==null&&S<Y.length;S++){K.index>S?(_=K,K=null):_=K.sibling;var v=Q(I,K,Y[S],T);if(v===null){K===null&&(K=_);break}P&&K&&v.alternate===null&&p(I,K),V=x(v,V,S),W===null?J=v:W.sibling=v,W=v,K=_}if(S===Y.length)return X(I,K),M0&&sH(I,S),J;if(K===null){for(;S<Y.length;S++)K=F(I,Y[S],T),K!==null&&(V=x(K,V,S),W===null?J=K:W.sibling=K,W=K);return M0&&sH(I,S),J}for(K=H(K);S<Y.length;S++)_=j(K,I,S,Y[S],T),_!==null&&(P&&_.alternate!==null&&K.delete(_.key===null?S:_.key),V=x(_,V,S),W===null?J=_:W.sibling=_,W=_);return P&&K.forEach(function(d){return p(I,d)}),M0&&sH(I,S),J}function E(I,V,Y,T){if(Y==null)throw Error(r(151));for(var J=null,W=null,K=V,S=V=0,_=null,v=Y.next();K!==null&&!v.done;S++,v=Y.next()){K.index>S?(_=K,K=null):_=K.sibling;var d=Q(I,K,v.value,T);if(d===null){K===null&&(K=_);break}P&&K&&d.alternate===null&&p(I,K),V=x(d,V,S),W===null?J=d:W.sibling=d,W=d,K=_}if(v.done)return X(I,K),M0&&sH(I,S),J;if(K===null){for(;!v.done;S++,v=Y.next())v=F(I,v.value,T),v!==null&&(V=x(v,V,S),W===null?J=v:W.sibling=v,W=v);return M0&&sH(I,S),J}for(K=H(K);!v.done;S++,v=Y.next())v=j(K,I,S,v.value,T),v!==null&&(P&&v.alternate!==null&&K.delete(v.key===null?S:v.key),V=x(v,V,S),W===null?J=v:W.sibling=v,W=v);return P&&K.forEach(function(f){return p(I,f)}),M0&&sH(I,S),J}function M(I,V,Y,T){if(typeof Y==="object"&&Y!==null&&Y.type===XA&&Y.key===null&&(Y=Y.props.children),typeof Y==="object"&&Y!==null){switch(Y.$$typeof){case a1:P:{for(var J=Y.key;V!==null;){if(V.key===J){if(J=Y.type,J===XA){if(V.tag===7){X(I,V.sibling),T=A(V,Y.props.children),T.return=I,I=T;break P}}else if(V.elementType===J||typeof J==="object"&&J!==null&&J.$$typeof===HH&&t5(J)===V.type){X(I,V.sibling),T=A(V,Y.props),mx(T,Y),T.return=I,I=T;break P}X(I,V);break}else p(I,V);V=V.sibling}Y.type===XA?(T=A8(Y.props.children,I.mode,T,Y.key),T.return=I,I=T):(T=VD(Y.type,Y.key,Y.props,null,I.mode,T),mx(T,Y),T.return=I,I=T)}return B(I);case ox:P:{for(J=Y.key;V!==null;){if(V.key===J)if(V.tag===4&&V.stateNode.containerInfo===Y.containerInfo&&V.stateNode.implementation===Y.implementation){X(I,V.sibling),T=A(V,Y.children||[]),T.return=I,I=T;break P}else{X(I,V);break}else p(I,V);V=V.sibling}T=f$(Y,I.mode,T),T.return=I,I=T}return B(I);case HH:return J=Y._init,Y=J(Y._payload),M(I,V,Y,T)}if(rx(Y))return b(I,V,Y,T);if(yx(Y)){if(J=yx(Y),typeof J!=="function")throw Error(r(150));return Y=J.call(Y),E(I,V,Y,T)}if(typeof Y.then==="function")return M(I,V,e1(Y),T);if(Y.$$typeof===bX)return M(I,V,PD(I,Y),T);t1(I,Y)}return typeof Y==="string"&&Y!==""||typeof Y==="number"||typeof Y==="bigint"?(Y=""+Y,V!==null&&V.tag===6?(X(I,V.sibling),T=A(V,Y),T.return=I,I=T):(X(I,V),T=K$(Y,I.mode,T),T.return=I,I=T),B(I)):X(I,V)}return function(I,V,Y,T){try{MB=0;var J=M(I,V,Y,T);return jA=null,J}catch(K){if(K===BB)throw K;var W=qp(29,K,null,I.mode);return W.lanes=T,W.return=I,W}finally{}}}var h8=kF(!0),GF=kF(!1),MA=ep(null),RD=ep(0);function P6(P,p){P=zX,m0(RD,P),m0(MA,p),zX=P|p.baseLanes}function s$(){m0(RD,zX),m0(MA,MA.current)}function mL(){zX=RD.current,IP(MA),IP(RD)}var Tp=ep(null),rp=null;function xH(P){var p=P.alternate;m0(FP,FP.current&1),m0(Tp,P),rp===null&&(p===null||MA.current!==null?rp=P:p.memoizedState!==null&&(rp=P))}function NF(P){if(P.tag===22){if(m0(FP,FP.current),m0(Tp,P),rp===null){var p=P.alternate;p!==null&&p.memoizedState!==null&&(rp=P)}}else BH(P)}function BH(){m0(FP,FP.current),m0(Tp,Tp.current)}function MX(P){IP(Tp),rp===P&&(rp=null),IP(FP)}var FP=ep(0);function SD(P){for(var p=P;p!==null;){if(p.tag===13){var X=p.memoizedState;if(X!==null&&(X=X.dehydrated,X===null||X.data==="$?"||X.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===P)break;for(;p.sibling===null;){if(p.return===null||p.return===P)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Ib=typeof AbortController!=="undefined"?AbortController:function(){var P=[],p=this.signal={aborted:!1,addEventListener:function(X,H){P.push(H)}};this.abort=function(){p.aborted=!0,P.forEach(function(X){return X()})}},bb=n8,Eb=o8,CP={$$typeof:bX,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uL(){return{controller:new Ib,data:new Map,refCount:0}}function _B(P){P.refCount--,P.refCount===0&&bb(Eb,function(){P.controller.abort()})}var hB=null,e$=0,JA=0,qA=null;function Wb(P,p){if(hB===null){var X=hB=[];e$=0,JA=QZ(),qA={status:"pending",value:void 0,then:function(H){X.push(H)}}}return e$++,p.then(p6,p6),p}function p6(){if(--e$===0&&hB!==null){qA!==null&&(qA.status="fulfilled");var P=hB;hB=null,JA=0,qA=null;for(var p=0;p<P.length;p++)P[p]()}}function Mb(P,p){var X=[],H={status:"pending",value:null,reason:null,then:function(A){X.push(A)}};return P.then(function(){H.status="fulfilled",H.value=p;for(var A=0;A<X.length;A++)X[A](p)},function(A){H.status="rejected",H.reason=A;for(A=0;A<X.length;A++)X[A](void 0)}),H}var X6=$0.S;$0.S=function(P,p){typeof p==="object"&&p!==null&&typeof p.then==="function"&&Wb(P,p),X6!==null&&X6(P,p)};var H8=ep(null);function aL(){var P=H8.current;return P!==null?P:_0.pooledCache}function ZD(P,p){p===null?m0(H8,H8.current):m0(H8,p.pool)}function OF(){var P=aL();return P===null?null:{parent:CP._currentValue,pool:P}}var IH=0,F0=null,k0=null,$P=null,zD=!1,YA=!1,$8=!1,UD=0,JB=0,TA=null,Jb=0;function HP(){throw Error(r(321))}function iL(P,p){if(p===null)return!1;for(var X=0;X<p.length&&X<P.length;X++)if(!Xp(P[X],p[X]))return!1;return!0}function oL(P,p,X,H,A,x){return IH=x,F0=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,$0.H=P===null||P.memoizedState===null?V8:MH,$8=!1,x=X(H,A),$8=!1,YA&&(x=vF(p,X,H,A)),wF(P),x}function wF(P){$0.H=sp;var p=k0!==null&&k0.next!==null;if(IH=0,$P=k0=F0=null,zD=!1,JB=0,TA=null,p)throw Error(r(300));P===null||TP||(P=P.dependencies,P!==null&&ND(P)&&(TP=!0))}function vF(P,p,X,H){F0=P;var A=0;do{if(YA&&(TA=null),JB=0,YA=!1,25<=A)throw Error(r(301));if(A+=1,$P=k0=null,P.updateQueue!=null){var x=P.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}$0.H=j8,x=p(X,H)}while(YA);return x}function Kb(){var P=$0.H,p=P.useState()[0];return p=typeof p.then==="function"?dB(p):p,P=P.useState()[0],(k0!==null?k0.memoizedState:null)!==P&&(F0.flags|=1024),p}function nL(){var P=UD!==0;return UD=0,P}function rL(P,p,X){p.updateQueue=P.updateQueue,p.flags&=-2053,P.lanes&=~X}function sL(P){if(zD){for(P=P.memoizedState;P!==null;){var p=P.queue;p!==null&&(p.pending=null),P=P.next}zD=!1}IH=0,$P=k0=F0=null,YA=!1,JB=UD=0,TA=null}function gP(){var P={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $P===null?F0.memoizedState=$P=P:$P=$P.next=P,$P}function LP(){if(k0===null){var P=F0.alternate;P=P!==null?P.memoizedState:null}else P=k0.next;var p=$P===null?F0.memoizedState:$P.next;if(p!==null)$P=p,k0=P;else{if(P===null){if(F0.alternate===null)throw Error(r(467));throw Error(r(310))}k0=P,P={memoizedState:k0.memoizedState,baseState:k0.baseState,baseQueue:k0.baseQueue,queue:k0.queue,next:null},$P===null?F0.memoizedState=$P=P:$P=$P.next=P}return $P}var tD;tD=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function dB(P){var p=JB;return JB+=1,TA===null&&(TA=[]),P=UF(TA,P,p),p=F0,($P===null?p.memoizedState:$P.next)===null&&(p=p.alternate,$0.H=p===null||p.memoizedState===null?V8:MH),P}function Ph(P){if(P!==null&&typeof P==="object"){if(typeof P.then==="function")return dB(P);if(P.$$typeof===bX)return RP(P)}throw Error(r(438,String(P)))}function eL(P){var p=null,X=F0.updateQueue;if(X!==null&&(p=X.memoCache),p==null){var H=F0.alternate;H!==null&&(H=H.updateQueue,H!==null&&(H=H.memoCache,H!=null&&(p={data:H.data.map(function(A){return A.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),X===null&&(X=tD(),F0.updateQueue=X),X.memoCache=p,X=p.data[p.index],X===void 0)for(X=p.data[p.index]=Array(P),H=0;H<P;H++)X[H]=hI;return p.index++,X}function RX(P,p){return typeof p==="function"?p(P):p}function CD(P){var p=LP();return tL(p,k0,P)}function tL(P,p,X){var H=P.queue;if(H===null)throw Error(r(311));H.lastRenderedReducer=X;var A=P.baseQueue,x=H.pending;if(x!==null){if(A!==null){var B=A.next;A.next=x.next,x.next=B}p.baseQueue=A=x,H.pending=null}if(x=P.baseState,A===null)P.memoizedState=x;else{p=A.next;var D=B=null,$=null,h=p,Z=!1;do{var F=h.lane&-536870913;if(F!==h.lane?(b0&F)===F:(IH&F)===F){var Q=h.revertLane;if(Q===0)$!==null&&($=$.next={lane:0,revertLane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),F===JA&&(Z=!0);else if((IH&Q)===Q){h=h.next,Q===JA&&(Z=!0);continue}else F={lane:0,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},$===null?(D=$=F,B=x):$=$.next=F,F0.lanes|=Q,EH|=Q;F=h.action,$8&&X(x,F),x=h.hasEagerState?h.eagerState:X(x,F)}else Q={lane:F,revertLane:h.revertLane,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},$===null?(D=$=Q,B=x):$=$.next=Q,F0.lanes|=F,EH|=F;h=h.next}while(h!==null&&h!==p);if($===null?B=x:$.next=D,!Xp(x,P.memoizedState)&&(TP=!0,Z&&(X=qA,X!==null)))throw X;P.memoizedState=x,P.baseState=B,P.baseQueue=$,H.lastRenderedState=x}return A===null&&(H.lanes=0),[P.memoizedState,H.dispatch]}function V$(P){var p=LP(),X=p.queue;if(X===null)throw Error(r(311));X.lastRenderedReducer=P;var{dispatch:H,pending:A}=X,x=p.memoizedState;if(A!==null){X.pending=null;var B=A=A.next;do x=P(x,B.action),B=B.next;while(B!==A);Xp(x,p.memoizedState)||(TP=!0),p.memoizedState=x,p.baseQueue===null&&(p.baseState=x),X.lastRenderedState=x}return[x,H]}function _F(P,p,X){var H=F0,A=LP(),x=M0;if(x){if(X===void 0)throw Error(r(407));X=X()}else X=p();var B=!Xp((k0||A).memoizedState,X);if(B&&(A.memoizedState=X,TP=!0),A=A.queue,PZ(yF.bind(null,H,A,P),[P]),A.getSnapshot!==p||B||$P!==null&&$P.memoizedState.tag&1){if(H.flags|=2048,KA(9,gF.bind(null,H,A,X,p),{destroy:void 0},null),_0===null)throw Error(r(349));x||(IH&60)!==0||dF(H,p,X)}return X}function dF(P,p,X){P.flags|=16384,P={getSnapshot:p,value:X},p=F0.updateQueue,p===null?(p=tD(),F0.updateQueue=p,p.stores=[P]):(X=p.stores,X===null?p.stores=[P]:X.push(P))}function gF(P,p,X,H){p.value=X,p.getSnapshot=H,cF(p)&&lF(P)}function yF(P,p,X){return X(function(){cF(p)&&lF(P)})}function cF(P){var p=P.getSnapshot;P=P.value;try{var X=p();return!Xp(P,X)}catch(H){return!0}}function lF(P){var p=TH(P,2);p!==null&&GP(p,P,2)}function t$(P){var p=gP();if(typeof P==="function"){var X=P;if(P=X(),$8){$H(!0);try{X()}finally{$H(!1)}}}return p.memoizedState=p.baseState=P,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RX,lastRenderedState:P},p}function mF(P,p,X,H){return P.baseState=X,tL(P,k0,typeof H==="function"?H:RX)}function fb(P,p,X,H,A){if(Xh(P))throw Error(r(485));if(P=p.action,P!==null){var x={payload:A,action:P,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){x.listeners.push(B)}};$0.T!==null?X(!0):x.isTransition=!1,H(x),X=p.pending,X===null?(x.next=p.pending=x,uF(p,x)):(x.next=X.next,p.pending=X.next=x)}}function uF(P,p){var{action:X,payload:H}=p,A=P.state;if(p.isTransition){var x=$0.T,B={};$0.T=B;try{var D=X(A,H),$=$0.S;$!==null&&$(B,D),H6(P,p,D)}catch(h){PL(P,p,h)}finally{$0.T=x}}else try{x=X(A,H),H6(P,p,x)}catch(h){PL(P,p,h)}}function H6(P,p,X){X!==null&&typeof X==="object"&&typeof X.then==="function"?X.then(function(H){A6(P,p,H)},function(H){return PL(P,p,H)}):A6(P,p,X)}function A6(P,p,X){p.status="fulfilled",p.value=X,aF(p),P.state=X,p=P.pending,p!==null&&(X=p.next,X===p?P.pending=null:(X=X.next,p.next=X,uF(P,X)))}function PL(P,p,X){var H=P.pending;if(P.pending=null,H!==null){H=H.next;do p.status="rejected",p.reason=X,aF(p),p=p.next;while(p!==H)}P.action=null}function aF(P){P=P.listeners;for(var p=0;p<P.length;p++)P[p]()}function iF(P,p){return p}function oF(P,p){if(M0){var X=_0.formState;if(X!==null){P:{var H=F0;if(M0){if(EP){p:{var A=EP;for(var x=ap;A.nodeType!==8;){if(!x){A=null;break p}if(A=zp(A.nextSibling),A===null){A=null;break p}}x=A.data,A=x==="F!"||x==="F"?A:null}if(A){EP=zp(A.nextSibling),H=A.data==="F!";break P}}D8(H)}H=!1}H&&(p=X[0])}}return X=gP(),X.memoizedState=X.baseState=p,H={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iF,lastRenderedState:p},X.queue=H,X=Z4.bind(null,F0,H),H.dispatch=X,H=t$(!1),x=AZ.bind(null,F0,!1,H.queue),H=gP(),A={state:p,dispatch:null,action:P,pending:null},H.queue=A,X=fb.bind(null,F0,A,x,X),A.dispatch=X,H.memoizedState=P,[p,X,!1]}function nF(P){var p=LP();return rF(p,k0,P)}function rF(P,p,X){p=tL(P,p,iF)[0],P=CD(RX)[0],p=typeof p==="object"&&p!==null&&typeof p.then==="function"?dB(p):p;var H=LP(),A=H.queue,x=A.dispatch;return X!==H.memoizedState&&(F0.flags|=2048,KA(9,Rb.bind(null,A,X),{destroy:void 0},null)),[p,x,P]}function Rb(P,p){P.action=p}function sF(P){var p=LP(),X=k0;if(X!==null)return rF(p,X,P);LP(),p=p.memoizedState,X=LP();var H=X.queue.dispatch;return X.memoizedState=P,[p,H,!1]}function KA(P,p,X,H){return P={tag:P,create:p,inst:X,deps:H,next:null},p=F0.updateQueue,p===null&&(p=tD(),F0.updateQueue=p),X=p.lastEffect,X===null?p.lastEffect=P.next=P:(H=X.next,X.next=P,P.next=H,p.lastEffect=P),P}function eF(){return LP().memoizedState}function FD(P,p,X,H){var A=gP();F0.flags|=P,A.memoizedState=KA(1|p,X,{destroy:void 0},H===void 0?null:H)}function ph(P,p,X,H){var A=LP();H=H===void 0?null:H;var x=A.memoizedState.inst;k0!==null&&H!==null&&iL(H,k0.memoizedState.deps)?A.memoizedState=KA(p,X,x,H):(F0.flags|=P,A.memoizedState=KA(1|p,X,x,H))}function x6(P,p){FD(8390656,8,P,p)}function PZ(P,p){ph(2048,8,P,p)}function tF(P,p){return ph(4,2,P,p)}function P4(P,p){return ph(4,4,P,p)}function p4(P,p){if(typeof p==="function"){P=P();var X=p(P);return function(){typeof X==="function"?X():p(null)}}if(p!==null&&p!==void 0)return P=P(),p.current=P,function(){p.current=null}}function X4(P,p,X){X=X!==null&&X!==void 0?X.concat([P]):null,ph(4,4,p4.bind(null,p,P),X)}function pZ(){}function H4(P,p){var X=LP();p=p===void 0?null:p;var H=X.memoizedState;if(p!==null&&iL(p,H[1]))return H[0];return X.memoizedState=[P,p],P}function A4(P,p){var X=LP();p=p===void 0?null:p;var H=X.memoizedState;if(p!==null&&iL(p,H[1]))return H[0];if(H=P(),$8){$H(!0);try{P()}finally{$H(!1)}}return X.memoizedState=[H,p],H}function XZ(P,p,X){if(X===void 0||(IH&1073741824)!==0)return P.memoizedState=p;return P.memoizedState=X,P=a4(),F0.lanes|=P,EH|=P,X}function x4(P,p,X,H){if(Xp(X,p))return X;if(MA.current!==null)return P=XZ(P,X,H),Xp(P,p)||(TP=!0),P;if((IH&42)===0)return TP=!0,P.memoizedState=X;return P=a4(),F0.lanes|=P,EH|=P,p}function B4(P,p,X,H,A){var x=c0.p;c0.p=x!==0&&8>x?x:8;var B=$0.T,D={};$0.T=D,AZ(P,!1,p,X);try{var $=A(),h=$0.S;if(h!==null&&h(D,$),$!==null&&typeof $==="object"&&typeof $.then==="function"){var Z=Mb($,H);$B(P,p,Z,pp(P))}else $B(P,p,H,pp(P))}catch(F){$B(P,p,{then:function(){},status:"rejected",reason:F},pp())}finally{c0.p=x,$0.T=B}}function Sb(){}function pL(P,p,X,H){if(P.tag!==5)throw Error(r(476));var A=D4(P).queue;B4(P,A,p,p8,X===null?Sb:function(){return h4(P),X(H)})}function D4(P){var p=P.memoizedState;if(p!==null)return p;p={memoizedState:p8,baseState:p8,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:RX,lastRenderedState:p8},next:null};var X={};return p.next={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:RX,lastRenderedState:X},next:null},P.memoizedState=p,P=P.alternate,P!==null&&(P.memoizedState=p),p}function h4(P){var p=D4(P).next.queue;$B(P,p,{},pp())}function HZ(){return RP(SB)}function $4(){return LP().memoizedState}function L4(){return LP().memoizedState}function zb(P){for(var p=P.return;p!==null;){switch(p.tag){case 24:case 3:var X=pp();P=CH(X);var H=FH(p,P,X);H!==null&&(GP(H,p,X),ZB(H,p,X)),p={cache:uL()},P.payload=p;return}p=p.return}}function Ub(P,p,X){var H=pp();X={lane:H,revertLane:0,action:X,hasEagerState:!1,eagerState:null,next:null},Xh(P)?C4(p,X):(X=yL(P,p,X,H),X!==null&&(GP(X,P,H),F4(X,p,H)))}function Z4(P,p,X){var H=pp();$B(P,p,X,H)}function $B(P,p,X,H){var A={lane:H,revertLane:0,action:X,hasEagerState:!1,eagerState:null,next:null};if(Xh(P))C4(p,A);else{var x=P.alternate;if(P.lanes===0&&(x===null||x.lanes===0)&&(x=p.lastRenderedReducer,x!==null))try{var B=p.lastRenderedState,D=x(B,X);if(A.hasEagerState=!0,A.eagerState=D,Xp(D,B))return eD(P,p,A,0),_0===null&&sD(),!1}catch($){}finally{}if(X=yL(P,p,A,H),X!==null)return GP(X,P,H),F4(X,p,H),!0}return!1}function AZ(P,p,X,H){if(H={lane:2,revertLane:QZ(),action:H,hasEagerState:!1,eagerState:null,next:null},Xh(P)){if(p)throw Error(r(479))}else p=yL(P,X,H,2),p!==null&&GP(p,P,2)}function Xh(P){var p=P.alternate;return P===F0||p!==null&&p===F0}function C4(P,p){YA=zD=!0;var X=P.pending;X===null?p.next=p:(p.next=X.next,X.next=p),P.pending=p}function F4(P,p,X){if((X&4194176)!==0){var H=p.lanes;H&=P.pendingLanes,X|=H,p.lanes=X,pF(P,X)}}var sp={readContext:RP,use:Ph,useCallback:HP,useContext:HP,useEffect:HP,useImperativeHandle:HP,useLayoutEffect:HP,useInsertionEffect:HP,useMemo:HP,useReducer:HP,useRef:HP,useState:HP,useDebugValue:HP,useDeferredValue:HP,useTransition:HP,useSyncExternalStore:HP,useId:HP};sp.useCacheRefresh=HP;sp.useMemoCache=HP;sp.useHostTransitionStatus=HP;sp.useFormState=HP;sp.useActionState=HP;sp.useOptimistic=HP;var V8={readContext:RP,use:Ph,useCallback:function(P,p){return gP().memoizedState=[P,p===void 0?null:p],P},useContext:RP,useEffect:x6,useImperativeHandle:function(P,p,X){X=X!==null&&X!==void 0?X.concat([P]):null,FD(4194308,4,p4.bind(null,p,P),X)},useLayoutEffect:function(P,p){return FD(4194308,4,P,p)},useInsertionEffect:function(P,p){FD(4,2,P,p)},useMemo:function(P,p){var X=gP();p=p===void 0?null:p;var H=P();if($8){$H(!0);try{P()}finally{$H(!1)}}return X.memoizedState=[H,p],H},useReducer:function(P,p,X){var H=gP();if(X!==void 0){var A=X(p);if($8){$H(!0);try{X(p)}finally{$H(!1)}}}else A=p;return H.memoizedState=H.baseState=A,P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P,lastRenderedState:A},H.queue=P,P=P.dispatch=Ub.bind(null,F0,P),[H.memoizedState,P]},useRef:function(P){var p=gP();return P={current:P},p.memoizedState=P},useState:function(P){P=t$(P);var p=P.queue,X=Z4.bind(null,F0,p);return p.dispatch=X,[P.memoizedState,X]},useDebugValue:pZ,useDeferredValue:function(P,p){var X=gP();return XZ(X,P,p)},useTransition:function(){var P=t$(!1);return P=B4.bind(null,F0,P.queue,!0,!1),gP().memoizedState=P,[!1,P]},useSyncExternalStore:function(P,p,X){var H=F0,A=gP();if(M0){if(X===void 0)throw Error(r(407));X=X()}else{if(X=p(),_0===null)throw Error(r(349));(b0&60)!==0||dF(H,p,X)}A.memoizedState=X;var x={value:X,getSnapshot:p};return A.queue=x,x6(yF.bind(null,H,x,P),[P]),H.flags|=2048,KA(9,gF.bind(null,H,x,X,p),{destroy:void 0},null),X},useId:function(){var P=gP(),p=_0.identifierPrefix;if(M0){var X=WX,H=EX;X=(H&~(1<<32-Pp(H)-1)).toString(32)+X,p=":"+p+"R"+X,X=UD++,0<X&&(p+="H"+X.toString(32)),p+=":"}else X=Jb++,p=":"+p+"r"+X.toString(32)+":";return P.memoizedState=p},useCacheRefresh:function(){return gP().memoizedState=zb.bind(null,F0)}};V8.useMemoCache=eL;V8.useHostTransitionStatus=HZ;V8.useFormState=oF;V8.useActionState=oF;V8.useOptimistic=function(P){var p=gP();p.memoizedState=p.baseState=P;var X={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=X,p=AZ.bind(null,F0,!0,X),X.dispatch=p,[P,p]};var MH={readContext:RP,use:Ph,useCallback:H4,useContext:RP,useEffect:PZ,useImperativeHandle:X4,useInsertionEffect:tF,useLayoutEffect:P4,useMemo:A4,useReducer:CD,useRef:eF,useState:function(){return CD(RX)},useDebugValue:pZ,useDeferredValue:function(P,p){var X=LP();return x4(X,k0.memoizedState,P,p)},useTransition:function(){var P=CD(RX)[0],p=LP().memoizedState;return[typeof P==="boolean"?P:dB(P),p]},useSyncExternalStore:_F,useId:$4};MH.useCacheRefresh=L4;MH.useMemoCache=eL;MH.useHostTransitionStatus=HZ;MH.useFormState=nF;MH.useActionState=nF;MH.useOptimistic=function(P,p){var X=LP();return mF(X,k0,P,p)};var j8={readContext:RP,use:Ph,useCallback:H4,useContext:RP,useEffect:PZ,useImperativeHandle:X4,useInsertionEffect:tF,useLayoutEffect:P4,useMemo:A4,useReducer:V$,useRef:eF,useState:function(){return V$(RX)},useDebugValue:pZ,useDeferredValue:function(P,p){var X=LP();return k0===null?XZ(X,P,p):x4(X,k0.memoizedState,P,p)},useTransition:function(){var P=V$(RX)[0],p=LP().memoizedState;return[typeof P==="boolean"?P:dB(P),p]},useSyncExternalStore:_F,useId:$4};j8.useCacheRefresh=L4;j8.useMemoCache=eL;j8.useHostTransitionStatus=HZ;j8.useFormState=sF;j8.useActionState=sF;j8.useOptimistic=function(P,p){var X=LP();if(k0!==null)return mF(X,k0,P,p);return X.baseState=P,[P,X.queue.dispatch]};function j$(P,p,X,H){p=P.memoizedState,X=X(H,p),X=X===null||X===void 0?p:l0({},p,X),P.memoizedState=X,P.lanes===0&&(P.updateQueue.baseState=X)}var XL={isMounted:function(P){return(P=P._reactInternals)?zA(P)===P:!1},enqueueSetState:function(P,p,X){P=P._reactInternals;var H=pp(),A=CH(H);A.payload=p,X!==void 0&&X!==null&&(A.callback=X),p=FH(P,A,H),p!==null&&(GP(p,P,H),ZB(p,P,H))},enqueueReplaceState:function(P,p,X){P=P._reactInternals;var H=pp(),A=CH(H);A.tag=1,A.payload=p,X!==void 0&&X!==null&&(A.callback=X),p=FH(P,A,H),p!==null&&(GP(p,P,H),ZB(p,P,H))},enqueueForceUpdate:function(P,p){P=P._reactInternals;var X=pp(),H=CH(X);H.tag=2,p!==void 0&&p!==null&&(H.callback=p),p=FH(P,H,X),p!==null&&(GP(p,P,X),ZB(p,P,X))}};function B6(P,p,X,H,A,x,B){return P=P.stateNode,typeof P.shouldComponentUpdate==="function"?P.shouldComponentUpdate(H,x,B):p.prototype&&p.prototype.isPureReactComponent?!EB(X,H)||!EB(A,x):!0}function D6(P,p,X,H){P=p.state,typeof p.componentWillReceiveProps==="function"&&p.componentWillReceiveProps(X,H),typeof p.UNSAFE_componentWillReceiveProps==="function"&&p.UNSAFE_componentWillReceiveProps(X,H),p.state!==P&&XL.enqueueReplaceState(p,p.state,null)}function L8(P,p){var X=p;if("ref"in p){X={};for(var H in p)H!=="ref"&&(X[H]=p[H])}if(P=P.defaultProps){X===p&&(X=l0({},X));for(var A in P)X[A]===void 0&&(X[A]=P[A])}return X}var kD=typeof reportError==="function"?reportError:function(P){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P==="object"&&P!==null&&typeof P.message==="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(p))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",P);return}console.error(P)};function Q4(P){kD(P)}function V4(P){console.error(P)}function j4(P){kD(P)}function GD(P,p){try{var X=P.onUncaughtError;X(p.value,{componentStack:p.stack})}catch(H){setTimeout(function(){throw H})}}function h6(P,p,X){try{var H=P.onCaughtError;H(X.value,{componentStack:X.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function HL(P,p,X){return X=CH(X),X.tag=3,X.payload={element:null},X.callback=function(){GD(P,p)},X}function q4(P){return P=CH(P),P.tag=3,P}function Y4(P,p,X,H){var A=X.type.getDerivedStateFromError;if(typeof A==="function"){var x=H.value;P.payload=function(){return A(x)},P.callback=function(){h6(p,X,H)}}var B=X.stateNode;B!==null&&typeof B.componentDidCatch==="function"&&(P.callback=function(){h6(p,X,H),typeof A!=="function"&&(VH===null?VH=new Set([this]):VH.add(this));var D=H.stack;this.componentDidCatch(H.value,{componentStack:D!==null?D:""})})}function kb(P,p,X,H,A){if(X.flags|=32768,H!==null&&typeof H==="object"&&typeof H.then==="function"){if(p=X.alternate,p!==null&&gB(p,X,A,!0),X=Tp.current,X!==null){switch(X.tag){case 13:return rp===null?YL():X.alternate===null&&PP===0&&(PP=3),X.flags&=-257,X.flags|=65536,X.lanes=A,H===r$?X.flags|=16384:(p=X.updateQueue,p===null?X.updateQueue=new Set([H]):p.add(H),S$(P,H,A)),!1;case 22:return X.flags|=65536,H===r$?X.flags|=16384:(p=X.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([H])},X.updateQueue=p):(X=p.retryQueue,X===null?p.retryQueue=new Set([H]):X.add(H)),S$(P,H,A)),!1}throw Error(r(435,X.tag))}return S$(P,H,A),YL(),!1}if(M0)return p=Tp.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=A,H!==n$&&(P=Error(r(422),{cause:H}),WB(jp(P,X)))):(H!==n$&&(p=Error(r(423),{cause:H}),WB(jp(p,X))),P=P.current.alternate,P.flags|=65536,A&=-A,P.lanes|=A,H=jp(H,X),A=HL(P.stateNode,H,A),E$(P,A),PP!==4&&(PP=2)),!1;var x=Error(r(520),{cause:H});if(x=jp(x,X),VB===null?VB=[x]:VB.push(x),PP!==4&&(PP=2),p===null)return!0;H=jp(H,X),X=p;do{switch(X.tag){case 3:return X.flags|=65536,P=A&-A,X.lanes|=P,P=HL(X.stateNode,H,P),E$(X,P),!1;case 1:if(p=X.type,x=X.stateNode,(X.flags&128)===0&&(typeof p.getDerivedStateFromError==="function"||x!==null&&typeof x.componentDidCatch==="function"&&(VH===null||!VH.has(x))))return X.flags|=65536,A&=-A,X.lanes|=A,A=q4(A),Y4(A,P,X,H),E$(X,A),!1}X=X.return}while(X!==null);return!1}var T4=Error(r(461)),TP=!1;function bP(P,p,X,H){p.child=P===null?GF(p,null,X,H):h8(p,P.child,X,H)}function $6(P,p,X,H,A){X=X.render;var x=p.ref;if("ref"in H){var B={};for(var D in H)D!=="ref"&&(B[D]=H[D])}else B=H;if(Z8(p),H=oL(P,p,X,B,x,A),D=nL(),P!==null&&!TP)return rL(P,p,A),SX(P,p,A);return M0&&D&&cL(p),p.flags|=1,bP(P,p,H,A),p.child}function L6(P,p,X,H,A){if(P===null){var x=X.type;if(typeof x==="function"&&!$Z(x)&&x.defaultProps===void 0&&X.compare===null)return p.tag=15,p.type=x,I4(P,p,x,H,A);return P=VD(X.type,null,H,p,p.mode,A),P.ref=p.ref,P.return=p,p.child=P}if(x=P.child,!xZ(P,A)){var B=x.memoizedProps;if(X=X.compare,X=X!==null?X:EB,X(B,H)&&P.ref===p.ref)return SX(P,p,A)}return p.flags|=1,P=QH(x,H),P.ref=p.ref,P.return=p,p.child=P}function I4(P,p,X,H,A){if(P!==null){var x=P.memoizedProps;if(EB(x,H)&&P.ref===p.ref)if(TP=!1,p.pendingProps=H=x,xZ(P,A))(P.flags&131072)!==0&&(TP=!0);else return p.lanes=P.lanes,SX(P,p,A)}return AL(P,p,X,H,A)}function b4(P,p,X){var H=p.pendingProps,A=H.children,x=(p.stateNode._pendingVisibility&2)!==0,B=P!==null?P.memoizedState:null;if(LB(P,p),H.mode==="hidden"||x){if((p.flags&128)!==0){if(H=B!==null?B.baseLanes|X:X,P!==null){A=p.child=P.child;for(x=0;A!==null;)x=x|A.lanes|A.childLanes,A=A.sibling;p.childLanes=x&~H}else p.childLanes=0,p.child=null;return Z6(P,p,H,X)}if((X&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},P!==null&&ZD(p,B!==null?B.cachePool:null),B!==null?P6(p,B):s$(),NF(p);else return p.lanes=p.childLanes=536870912,Z6(P,p,B!==null?B.baseLanes|X:X,X)}else B!==null?(ZD(p,B.cachePool),P6(p,B),BH(p),p.memoizedState=null):(P!==null&&ZD(p,null),s$(),BH(p));return bP(P,p,A,X),p.child}function Z6(P,p,X,H){var A=aL();return A=A===null?null:{parent:CP._currentValue,pool:A},p.memoizedState={baseLanes:X,cachePool:A},P!==null&&ZD(p,null),s$(),NF(p),P!==null&&gB(P,p,H,!0),null}function LB(P,p){var X=p.ref;if(X===null)P!==null&&P.ref!==null&&(p.flags|=2097664);else{if(typeof X!=="function"&&typeof X!=="object")throw Error(r(284));if(P===null||P.ref!==X)p.flags|=2097664}}function AL(P,p,X,H,A){if(Z8(p),X=oL(P,p,X,H,void 0,A),H=nL(),P!==null&&!TP)return rL(P,p,A),SX(P,p,A);return M0&&H&&cL(p),p.flags|=1,bP(P,p,X,A),p.child}function C6(P,p,X,H,A,x){if(Z8(p),p.updateQueue=null,X=vF(p,H,X,A),wF(P),H=nL(),P!==null&&!TP)return rL(P,p,x),SX(P,p,x);return M0&&H&&cL(p),p.flags|=1,bP(P,p,X,x),p.child}function F6(P,p,X,H,A){if(Z8(p),p.stateNode===null){var x=$A,B=X.contextType;typeof B==="object"&&B!==null&&(x=RP(B)),x=new X(H,x),p.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=XL,p.stateNode=x,x._reactInternals=p,x=p.stateNode,x.props=H,x.state=p.memoizedState,x.refs={},BZ(p),B=X.contextType,x.context=typeof B==="object"&&B!==null?RP(B):$A,x.state=p.memoizedState,B=X.getDerivedStateFromProps,typeof B==="function"&&(j$(p,X,B,H),x.state=p.memoizedState),typeof X.getDerivedStateFromProps==="function"||typeof x.getSnapshotBeforeUpdate==="function"||typeof x.UNSAFE_componentWillMount!=="function"&&typeof x.componentWillMount!=="function"||(B=x.state,typeof x.componentWillMount==="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount==="function"&&x.UNSAFE_componentWillMount(),B!==x.state&&XL.enqueueReplaceState(x,x.state,null),FB(p,H,x,A),CB(),x.state=p.memoizedState),typeof x.componentDidMount==="function"&&(p.flags|=4194308),H=!0}else if(P===null){x=p.stateNode;var D=p.memoizedProps,$=L8(X,D);x.props=$;var h=x.context,Z=X.contextType;B=$A,typeof Z==="object"&&Z!==null&&(B=RP(Z));var F=X.getDerivedStateFromProps;Z=typeof F==="function"||typeof x.getSnapshotBeforeUpdate==="function",D=p.pendingProps!==D,Z||typeof x.UNSAFE_componentWillReceiveProps!=="function"&&typeof x.componentWillReceiveProps!=="function"||(D||h!==B)&&D6(p,x,H,B),AH=!1;var Q=p.memoizedState;x.state=Q,FB(p,H,x,A),CB(),h=p.memoizedState,D||Q!==h||AH?(typeof F==="function"&&(j$(p,X,F,H),h=p.memoizedState),($=AH||B6(p,X,$,H,Q,h,B))?(Z||typeof x.UNSAFE_componentWillMount!=="function"&&typeof x.componentWillMount!=="function"||(typeof x.componentWillMount==="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount==="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount==="function"&&(p.flags|=4194308)):(typeof x.componentDidMount==="function"&&(p.flags|=4194308),p.memoizedProps=H,p.memoizedState=h),x.props=H,x.state=h,x.context=B,H=$):(typeof x.componentDidMount==="function"&&(p.flags|=4194308),H=!1)}else{x=p.stateNode,LL(P,p),B=p.memoizedProps,Z=L8(X,B),x.props=Z,F=p.pendingProps,Q=x.context,h=X.contextType,$=$A,typeof h==="object"&&h!==null&&($=RP(h)),D=X.getDerivedStateFromProps,(h=typeof D==="function"||typeof x.getSnapshotBeforeUpdate==="function")||typeof x.UNSAFE_componentWillReceiveProps!=="function"&&typeof x.componentWillReceiveProps!=="function"||(B!==F||Q!==$)&&D6(p,x,H,$),AH=!1,Q=p.memoizedState,x.state=Q,FB(p,H,x,A),CB();var j=p.memoizedState;B!==F||Q!==j||AH||P!==null&&P.dependencies!==null&&ND(P.dependencies)?(typeof D==="function"&&(j$(p,X,D,H),j=p.memoizedState),(Z=AH||B6(p,X,Z,H,Q,j,$)||P!==null&&P.dependencies!==null&&ND(P.dependencies))?(h||typeof x.UNSAFE_componentWillUpdate!=="function"&&typeof x.componentWillUpdate!=="function"||(typeof x.componentWillUpdate==="function"&&x.componentWillUpdate(H,j,$),typeof x.UNSAFE_componentWillUpdate==="function"&&x.UNSAFE_componentWillUpdate(H,j,$)),typeof x.componentDidUpdate==="function"&&(p.flags|=4),typeof x.getSnapshotBeforeUpdate==="function"&&(p.flags|=1024)):(typeof x.componentDidUpdate!=="function"||B===P.memoizedProps&&Q===P.memoizedState||(p.flags|=4),typeof x.getSnapshotBeforeUpdate!=="function"||B===P.memoizedProps&&Q===P.memoizedState||(p.flags|=1024),p.memoizedProps=H,p.memoizedState=j),x.props=H,x.state=j,x.context=$,H=Z):(typeof x.componentDidUpdate!=="function"||B===P.memoizedProps&&Q===P.memoizedState||(p.flags|=4),typeof x.getSnapshotBeforeUpdate!=="function"||B===P.memoizedProps&&Q===P.memoizedState||(p.flags|=1024),H=!1)}return x=H,LB(P,p),H=(p.flags&128)!==0,x||H?(x=p.stateNode,X=H&&typeof X.getDerivedStateFromError!=="function"?null:x.render(),p.flags|=1,P!==null&&H?(p.child=h8(p,P.child,null,A),p.child=h8(p,null,X,A)):bP(P,p,X,A),p.memoizedState=x.state,P=p.child):P=SX(P,p,A),P}function Q6(P,p,X,H){return vB(),p.flags|=256,bP(P,p,X,H),p.child}var q$={dehydrated:null,treeContext:null,retryLane:0};function Y$(P){return{baseLanes:P,cachePool:OF()}}function T$(P,p,X){return P=P!==null?P.childLanes&~X:0,p&&(P|=Yp),P}function E4(P,p,X){var H=p.pendingProps,A=!1,x=(p.flags&128)!==0,B;if((B=x)||(B=P!==null&&P.memoizedState===null?!1:(FP.current&2)!==0),B&&(A=!0,p.flags&=-129),B=(p.flags&32)!==0,p.flags&=-33,P===null){if(M0){if(A?xH(p):BH(p),M0){var D=EP,$;if($=D){P:{$=D;for(D=ap;$.nodeType!==8;){if(!D){D=null;break P}if($=zp($.nextSibling),$===null){D=null;break P}}D=$}D!==null?(p.memoizedState={dehydrated:D,treeContext:X8!==null?{id:EX,overflow:WX}:null,retryLane:536870912},$=qp(18,null,null,0),$.stateNode=D,$.return=p,p.child=$,kP=p,EP=null,$=!0):$=!1}$||D8(p)}if(D=p.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return D.data==="$!"?p.lanes=16:p.lanes=536870912,null;MX(p)}if(D=H.children,H=H.fallback,A)return BH(p),A=p.mode,D=BL({mode:"hidden",children:D},A),H=A8(H,A,X,null),D.return=p,H.return=p,D.sibling=H,p.child=D,A=p.child,A.memoizedState=Y$(X),A.childLanes=T$(P,B,X),p.memoizedState=q$,H;return xH(p),xL(p,D)}if($=P.memoizedState,$!==null&&(D=$.dehydrated,D!==null)){if(x)p.flags&256?(xH(p),p.flags&=-257,p=I$(P,p,X)):p.memoizedState!==null?(BH(p),p.child=P.child,p.flags|=128,p=null):(BH(p),A=H.fallback,D=p.mode,H=BL({mode:"visible",children:H.children},D),A=A8(A,D,X,null),A.flags|=2,H.return=p,A.return=p,H.sibling=A,p.child=H,h8(p,P.child,null,X),H=p.child,H.memoizedState=Y$(X),H.childLanes=T$(P,B,X),p.memoizedState=q$,p=A);else if(xH(p),D.data==="$!"){if(B=D.nextSibling&&D.nextSibling.dataset,B)var h=B.dgst;B=h,H=Error(r(419)),H.stack="",H.digest=B,WB({value:H,source:null,stack:null}),p=I$(P,p,X)}else if(TP||gB(P,p,X,!1),B=(X&P.childLanes)!==0,TP||B){if(B=_0,B!==null){if(H=X&-X,(H&42)!==0)H=1;else switch(H){case 2:H=1;break;case 8:H=4;break;case 32:H=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:H=64;break;case 268435456:H=134217728;break;default:H=0}if(H=(H&(B.suspendedLanes|X))!==0?0:H,H!==0&&H!==$.retryLane)throw $.retryLane=H,TH(P,H),GP(B,P,H),T4}D.data==="$?"||YL(),p=I$(P,p,X)}else D.data==="$?"?(p.flags|=128,p.child=P.child,p=ib.bind(null,P),D._reactRetry=p,p=null):(P=$.treeContext,EP=zp(D.nextSibling),kP=p,M0=!0,Sp=null,ap=!1,P!==null&&(Fp[Qp++]=EX,Fp[Qp++]=WX,Fp[Qp++]=X8,EX=P.id,WX=P.overflow,X8=p),p=xL(p,H.children),p.flags|=4096);return p}if(A)return BH(p),A=H.fallback,D=p.mode,$=P.child,h=$.sibling,H=QH($,{mode:"hidden",children:H.children}),H.subtreeFlags=$.subtreeFlags&31457280,h!==null?A=QH(h,A):(A=A8(A,D,X,null),A.flags|=2),A.return=p,H.return=p,H.sibling=A,p.child=H,H=A,A=p.child,D=P.child.memoizedState,D===null?D=Y$(X):($=D.cachePool,$!==null?(h=CP._currentValue,$=$.parent!==h?{parent:h,pool:h}:$):$=OF(),D={baseLanes:D.baseLanes|X,cachePool:$}),A.memoizedState=D,A.childLanes=T$(P,B,X),p.memoizedState=q$,H;return xH(p),X=P.child,P=X.sibling,X=QH(X,{mode:"visible",children:H.children}),X.return=p,X.sibling=null,P!==null&&(B=p.deletions,B===null?(p.deletions=[P],p.flags|=16):B.push(P)),p.child=X,p.memoizedState=null,X}function xL(P,p){return p=BL({mode:"visible",children:p},P.mode),p.return=P,P.child=p}function BL(P,p){return m4(P,p,0,null)}function I$(P,p,X){return h8(p,P.child,null,X),P=xL(p,p.pendingProps.children),P.flags|=2,p.memoizedState=null,P}function V6(P,p,X){P.lanes|=p;var H=P.alternate;H!==null&&(H.lanes|=p),hL(P.return,p,X)}function b$(P,p,X,H,A){var x=P.memoizedState;x===null?P.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:H,tail:X,tailMode:A}:(x.isBackwards=p,x.rendering=null,x.renderingStartTime=0,x.last=H,x.tail=X,x.tailMode=A)}function W4(P,p,X){var H=p.pendingProps,A=H.revealOrder,x=H.tail;if(bP(P,p,H.children,X),H=FP.current,(H&2)!==0)H=H&1|2,p.flags|=128;else{if(P!==null&&(P.flags&128)!==0)P:for(P=p.child;P!==null;){if(P.tag===13)P.memoizedState!==null&&V6(P,X,p);else if(P.tag===19)V6(P,X,p);else if(P.child!==null){P.child.return=P,P=P.child;continue}if(P===p)break P;for(;P.sibling===null;){if(P.return===null||P.return===p)break P;P=P.return}P.sibling.return=P.return,P=P.sibling}H&=1}switch(m0(FP,H),A){case"forwards":X=p.child;for(A=null;X!==null;)P=X.alternate,P!==null&&SD(P)===null&&(A=X),X=X.sibling;X=A,X===null?(A=p.child,p.child=null):(A=X.sibling,X.sibling=null),b$(p,!1,A,X,x);break;case"backwards":X=null,A=p.child;for(p.child=null;A!==null;){if(P=A.alternate,P!==null&&SD(P)===null){p.child=A;break}P=A.sibling,A.sibling=X,X=A,A=P}b$(p,!0,X,null,x);break;case"together":b$(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function SX(P,p,X){if(P!==null&&(p.dependencies=P.dependencies),EH|=p.lanes,(X&p.childLanes)===0)if(P!==null){if(gB(P,p,X,!1),(X&p.childLanes)===0)return null}else return null;if(P!==null&&p.child!==P.child)throw Error(r(153));if(p.child!==null){P=p.child,X=QH(P,P.pendingProps),p.child=X;for(X.return=p;P.sibling!==null;)P=P.sibling,X=X.sibling=QH(P,P.pendingProps),X.return=p;X.sibling=null}return p.child}function xZ(P,p){if((P.lanes&p)!==0)return!0;return P=P.dependencies,P!==null&&ND(P)?!0:!1}function Gb(P,p,X){switch(p.tag){case 3:ID(p,p.stateNode.containerInfo),DH(p,CP,P.memoizedState.cache),vB();break;case 27:case 5:g$(p);break;case 4:ID(p,p.stateNode.containerInfo);break;case 10:DH(p,p.type,p.memoizedProps.value);break;case 13:var H=p.memoizedState;if(H!==null){if(H.dehydrated!==null)return xH(p),p.flags|=128,null;if((X&p.child.childLanes)!==0)return E4(P,p,X);return xH(p),P=SX(P,p,X),P!==null?P.sibling:null}xH(p);break;case 19:var A=(P.flags&128)!==0;if(H=(X&p.childLanes)!==0,H||(gB(P,p,X,!1),H=(X&p.childLanes)!==0),A){if(H)return W4(P,p,X);p.flags|=128}if(A=p.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),m0(FP,FP.current),H)break;else return null;case 22:case 23:return p.lanes=0,b4(P,p,X);case 24:DH(p,CP,P.memoizedState.cache)}return SX(P,p,X)}function M4(P,p,X){if(P!==null)if(P.memoizedProps!==p.pendingProps)TP=!0;else{if(!xZ(P,X)&&(p.flags&128)===0)return TP=!1,Gb(P,p,X);TP=(P.flags&131072)!==0?!0:!1}else TP=!1,M0&&(p.flags&1048576)!==0&&SF(p,fD,p.index);switch(p.lanes=0,p.tag){case 16:P:{P=p.pendingProps;var H=p.elementType,A=H._init;if(H=A(H._payload),p.type=H,typeof H==="function")$Z(H)?(P=L8(H,P),p.tag=1,p=F6(null,p,H,P,X)):(p.tag=0,p=AL(null,p,H,P,X));else{if(H!==void 0&&H!==null){if(A=H.$$typeof,A===zL){p.tag=11,p=$6(null,p,H,P,X);break P}else if(A===UL){p.tag=14,p=L6(null,p,H,P,X);break P}}throw p=_$(H)||H,Error(r(306,p,""))}}return p;case 0:return AL(P,p,p.type,p.pendingProps,X);case 1:return H=p.type,A=L8(H,p.pendingProps),F6(P,p,H,A,X);case 3:P:{if(ID(p,p.stateNode.containerInfo),P===null)throw Error(r(387));var x=p.pendingProps;A=p.memoizedState,H=A.element,LL(P,p),FB(p,x,null,X);var B=p.memoizedState;if(x=B.cache,DH(p,CP,x),x!==A.cache&&$L(p,[CP],X,!0),CB(),x=B.element,A.isDehydrated)if(A={element:x,isDehydrated:!1,cache:B.cache},p.updateQueue.baseState=A,p.memoizedState=A,p.flags&256){p=Q6(P,p,x,X);break P}else if(x!==H){H=jp(Error(r(424)),p),WB(H),p=Q6(P,p,x,X);break P}else for(EP=zp(p.stateNode.containerInfo.firstChild),kP=p,M0=!0,Sp=null,ap=!0,X=GF(p,null,x,X),p.child=X;X;)X.flags=X.flags&-3|4096,X=X.sibling;else{if(vB(),x===H){p=SX(P,p,X);break P}bP(P,p,x,X)}p=p.child}return p;case 26:return LB(P,p),P===null?(X=G6(p.type,null,p.pendingProps,null))?p.memoizedState=X:M0||(X=p.type,P=p.pendingProps,H=yD(ZH.current).createElement(X),H[fP]=p,H[yP]=P,WP(H,X,P),YP(H),p.stateNode=H):p.memoizedState=G6(p.type,P.memoizedProps,p.pendingProps,P.memoizedState),null;case 27:return g$(p),P===null&&M0&&(H=p.stateNode=hQ(p.type,p.pendingProps,ZH.current),kP=p,ap=!0,EP=zp(H.firstChild)),H=p.pendingProps.children,P!==null||M0?bP(P,p,H,X):p.child=h8(p,null,H,X),LB(P,p),p.child;case 5:if(P===null&&M0){if(A=H=EP)H=DE(H,p.type,p.pendingProps,ap),H!==null?(p.stateNode=H,kP=p,EP=zp(H.firstChild),ap=!1,A=!0):A=!1;A||D8(p)}return g$(p),A=p.type,x=p.pendingProps,B=P!==null?P.memoizedProps:null,H=x.children,JL(A,x)?H=null:B!==null&&JL(A,B)&&(p.flags|=32),p.memoizedState!==null&&(A=oL(P,p,Kb,null,null,X),SB._currentValue=A),LB(P,p),bP(P,p,H,X),p.child;case 6:if(P===null&&M0){if(P=X=EP)X=hE(X,p.pendingProps,ap),X!==null?(p.stateNode=X,kP=p,EP=null,P=!0):P=!1;P||D8(p)}return null;case 13:return E4(P,p,X);case 4:return ID(p,p.stateNode.containerInfo),H=p.pendingProps,P===null?p.child=h8(p,null,H,X):bP(P,p,H,X),p.child;case 11:return $6(P,p,p.type,p.pendingProps,X);case 7:return bP(P,p,p.pendingProps,X),p.child;case 8:return bP(P,p,p.pendingProps.children,X),p.child;case 12:return bP(P,p,p.pendingProps.children,X),p.child;case 10:return H=p.pendingProps,DH(p,p.type,H.value),bP(P,p,H.children,X),p.child;case 9:return A=p.type._context,H=p.pendingProps.children,Z8(p),A=RP(A),H=H(A),p.flags|=1,bP(P,p,H,X),p.child;case 14:return L6(P,p,p.type,p.pendingProps,X);case 15:return I4(P,p,p.type,p.pendingProps,X);case 19:return W4(P,p,X);case 22:return b4(P,p,X);case 24:return Z8(p),H=RP(CP),P===null?(A=aL(),A===null&&(A=_0,x=uL(),A.pooledCache=x,x.refCount++,x!==null&&(A.pooledCacheLanes|=X),A=x),p.memoizedState={parent:H,cache:A},BZ(p),DH(p,CP,A)):((P.lanes&X)!==0&&(LL(P,p),FB(p,null,null,X),CB()),A=P.memoizedState,x=p.memoizedState,A.parent!==H?(A={parent:H,cache:H},p.memoizedState=A,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=A),DH(p,CP,H)):(H=x.cache,DH(p,CP,H),H!==A.cache&&$L(p,[CP],X,!0))),bP(P,p,p.pendingProps.children,X),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}var DL=ep(null),q8=null,JX=null;function DH(P,p,X){m0(DL,p._currentValue),p._currentValue=X}function KX(P){P._currentValue=DL.current,IP(DL)}function hL(P,p,X){for(;P!==null;){var H=P.alternate;if((P.childLanes&p)!==p?(P.childLanes|=p,H!==null&&(H.childLanes|=p)):H!==null&&(H.childLanes&p)!==p&&(H.childLanes|=p),P===X)break;P=P.return}}function $L(P,p,X,H){var A=P.child;A!==null&&(A.return=P);for(;A!==null;){var x=A.dependencies;if(x!==null){var B=A.child;x=x.firstContext;P:for(;x!==null;){var D=x;x=A;for(var $=0;$<p.length;$++)if(D.context===p[$]){x.lanes|=X,D=x.alternate,D!==null&&(D.lanes|=X),hL(x.return,X,P),H||(B=null);break P}x=D.next}}else if(A.tag===18){if(B=A.return,B===null)throw Error(r(341));B.lanes|=X,x=B.alternate,x!==null&&(x.lanes|=X),hL(B,X,P),B=null}else B=A.child;if(B!==null)B.return=A;else for(B=A;B!==null;){if(B===P){B=null;break}if(A=B.sibling,A!==null){A.return=B.return,B=A;break}B=B.return}A=B}}function gB(P,p,X,H){P=null;for(var A=p,x=!1;A!==null;){if(!x){if((A.flags&524288)!==0)x=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var B=A.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var D=A.type;Xp(A.pendingProps.value,B.value)||(P!==null?P.push(D):P=[D])}}else if(A===TD.current){if(B=A.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(P!==null?P.push(SB):P=[SB])}A=A.return}P!==null&&$L(p,P,X,H),p.flags|=262144}function ND(P){for(P=P.firstContext;P!==null;){if(!Xp(P.context._currentValue,P.memoizedValue))return!0;P=P.next}return!1}function Z8(P){q8=P,JX=null,P=P.dependencies,P!==null&&(P.firstContext=null)}function RP(P){return J4(q8,P)}function PD(P,p){return q8===null&&Z8(P),J4(P,p)}function J4(P,p){var X=p._currentValue;if(p={context:p,memoizedValue:X,next:null},JX===null){if(P===null)throw Error(r(308));JX=p,P.dependencies={lanes:0,firstContext:p},P.flags|=524288}else JX=JX.next=p;return X}var AH=!1;function BZ(P){P.updateQueue={baseState:P.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function LL(P,p){P=P.updateQueue,p.updateQueue===P&&(p.updateQueue={baseState:P.baseState,firstBaseUpdate:P.firstBaseUpdate,lastBaseUpdate:P.lastBaseUpdate,shared:P.shared,callbacks:null})}function CH(P){return{lane:P,tag:0,payload:null,callback:null,next:null}}function FH(P,p,X){var H=P.updateQueue;if(H===null)return null;if(H=H.shared,(r0&2)!==0){var A=H.pending;return A===null?p.next=p:(p.next=A.next,A.next=p),H.pending=p,p=JD(P),RF(P,null,X),p}return eD(P,H,p,X),JD(P)}function ZB(P,p,X){if(p=p.updateQueue,p!==null&&(p=p.shared,(X&4194176)!==0)){var H=p.lanes;H&=P.pendingLanes,X|=H,p.lanes=X,pF(P,X)}}function E$(P,p){var{updateQueue:X,alternate:H}=P;if(H!==null&&(H=H.updateQueue,X===H)){var A=null,x=null;if(X=X.firstBaseUpdate,X!==null){do{var B={lane:X.lane,tag:X.tag,payload:X.payload,callback:null,next:null};x===null?A=x=B:x=x.next=B,X=X.next}while(X!==null);x===null?A=x=p:x=x.next=p}else A=x=p;X={baseState:H.baseState,firstBaseUpdate:A,lastBaseUpdate:x,shared:H.shared,callbacks:H.callbacks},P.updateQueue=X;return}P=X.lastBaseUpdate,P===null?X.firstBaseUpdate=p:P.next=p,X.lastBaseUpdate=p}var ZL=!1;function CB(){if(ZL){var P=qA;if(P!==null)throw P}}function FB(P,p,X,H){ZL=!1;var A=P.updateQueue;AH=!1;var{firstBaseUpdate:x,lastBaseUpdate:B}=A,D=A.shared.pending;if(D!==null){A.shared.pending=null;var $=D,h=$.next;$.next=null,B===null?x=h:B.next=h,B=$;var Z=P.alternate;Z!==null&&(Z=Z.updateQueue,D=Z.lastBaseUpdate,D!==B&&(D===null?Z.firstBaseUpdate=h:D.next=h,Z.lastBaseUpdate=$))}if(x!==null){var F=A.baseState;B=0,Z=h=$=null,D=x;do{var Q=D.lane&-536870913,j=Q!==D.lane;if(j?(b0&Q)===Q:(H&Q)===Q){Q!==0&&Q===JA&&(ZL=!0),Z!==null&&(Z=Z.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});P:{var b=P,E=D;Q=p;var M=X;switch(E.tag){case 1:if(b=E.payload,typeof b==="function"){F=b.call(M,F,Q);break P}F=b;break P;case 3:b.flags=b.flags&-65537|128;case 0:if(b=E.payload,Q=typeof b==="function"?b.call(M,F,Q):b,Q===null||Q===void 0)break P;F=l0({},F,Q);break P;case 2:AH=!0}}Q=D.callback,Q!==null&&(P.flags|=64,j&&(P.flags|=8192),j=A.callbacks,j===null?A.callbacks=[Q]:j.push(Q))}else j={lane:Q,tag:D.tag,payload:D.payload,callback:D.callback,next:null},Z===null?(h=Z=j,$=F):Z=Z.next=j,B|=Q;if(D=D.next,D===null)if(D=A.shared.pending,D===null)break;else j=D,D=j.next,j.next=null,A.lastBaseUpdate=j,A.shared.pending=null}while(1);Z===null&&($=F),A.baseState=$,A.firstBaseUpdate=h,A.lastBaseUpdate=Z,x===null&&(A.shared.lanes=0),EH|=B,P.lanes=B,P.memoizedState=F}}function K4(P,p){if(typeof P!=="function")throw Error(r(191,P));P.call(p)}function f4(P,p){var X=P.callbacks;if(X!==null)for(P.callbacks=null,P=0;P<X.length;P++)K4(X[P],p)}function yB(P,p){try{var X=p.updateQueue,H=X!==null?X.lastEffect:null;if(H!==null){var A=H.next;X=A;do{if((X.tag&P)===P){H=void 0;var{create:x,inst:B}=X;H=x(),B.destroy=H}X=X.next}while(X!==A)}}catch(D){N0(p,p.return,D)}}function bH(P,p,X){try{var H=p.updateQueue,A=H!==null?H.lastEffect:null;if(A!==null){var x=A.next;H=x;do{if((H.tag&P)===P){var B=H.inst,D=B.destroy;if(D!==void 0){B.destroy=void 0,A=p;var $=X;try{D()}catch(h){N0(A,$,h)}}}H=H.next}while(H!==x)}}catch(h){N0(p,p.return,h)}}function R4(P){var p=P.updateQueue;if(p!==null){var X=P.stateNode;try{f4(p,X)}catch(H){N0(P,P.return,H)}}}function S4(P,p,X){X.props=L8(P.type,P.memoizedProps),X.state=P.memoizedState;try{X.componentWillUnmount()}catch(H){N0(P,p,H)}}function P8(P,p){try{var X=P.ref;if(X!==null){var H=P.stateNode;switch(P.tag){case 26:case 27:case 5:var A=H;break;default:A=H}typeof X==="function"?P.refCleanup=X(A):X.current=A}}catch(x){N0(P,p,x)}}function eP(P,p){var{ref:X,refCleanup:H}=P;if(X!==null)if(typeof H==="function")try{H()}catch(A){N0(P,p,A)}finally{P.refCleanup=null,P=P.alternate,P!=null&&(P.refCleanup=null)}else if(typeof X==="function")try{X(null)}catch(A){N0(P,p,A)}else X.current=null}function z4(P){var{type:p,memoizedProps:X,stateNode:H}=P;try{P:switch(p){case"button":case"input":case"select":case"textarea":X.autoFocus&&H.focus();break P;case"img":X.src?H.src=X.src:X.srcSet&&(H.srcset=X.srcSet)}}catch(A){N0(P,P.return,A)}}function j6(P,p,X){try{var H=P.stateNode;XE(H,P.type,X,p),H[yP]=p}catch(A){N0(P,P.return,A)}}function U4(P){return P.tag===5||P.tag===3||P.tag===26||P.tag===27||P.tag===4}function W$(P){P:for(;;){for(;P.sibling===null;){if(P.return===null||U4(P.return))return null;P=P.return}P.sibling.return=P.return;for(P=P.sibling;P.tag!==5&&P.tag!==6&&P.tag!==27&&P.tag!==18;){if(P.flags&2)continue P;if(P.child===null||P.tag===4)continue P;else P.child.return=P,P=P.child}if(!(P.flags&2))return P.stateNode}}function CL(P,p,X){var H=P.tag;if(H===5||H===6)P=P.stateNode,p?X.nodeType===8?X.parentNode.insertBefore(P,p):X.insertBefore(P,p):(X.nodeType===8?(p=X.parentNode,p.insertBefore(P,X)):(p=X,p.appendChild(P)),X=X._reactRootContainer,X!==null&&X!==void 0||p.onclick!==null||(p.onclick=xh));else if(H!==4&&H!==27&&(P=P.child,P!==null))for(CL(P,p,X),P=P.sibling;P!==null;)CL(P,p,X),P=P.sibling}function OD(P,p,X){var H=P.tag;if(H===5||H===6)P=P.stateNode,p?X.insertBefore(P,p):X.appendChild(P);else if(H!==4&&H!==27&&(P=P.child,P!==null))for(OD(P,p,X),P=P.sibling;P!==null;)OD(P,p,X),P=P.sibling}var YX=!1,t0=!1,M$=!1,q6=typeof WeakSet==="function"?WeakSet:Set,qP=null,Y6=!1;function Nb(P,p){if(P=P.containerInfo,WL=uD,P=bF(P),dL(P)){if("selectionStart"in P)var X={start:P.selectionStart,end:P.selectionEnd};else P:{X=(X=P.ownerDocument)&&X.defaultView||window;var H=X.getSelection&&X.getSelection();if(H&&H.rangeCount!==0){X=H.anchorNode;var{anchorOffset:A,focusNode:x}=H;H=H.focusOffset;try{X.nodeType,x.nodeType}catch(E){X=null;break P}var B=0,D=-1,$=-1,h=0,Z=0,F=P,Q=null;p:for(;;){for(var j;;){if(F!==X||A!==0&&F.nodeType!==3||(D=B+A),F!==x||H!==0&&F.nodeType!==3||($=B+H),F.nodeType===3&&(B+=F.nodeValue.length),(j=F.firstChild)===null)break;Q=F,F=j}for(;;){if(F===P)break p;if(Q===X&&++h===A&&(D=B),Q===x&&++Z===H&&($=B),(j=F.nextSibling)!==null)break;F=Q,Q=F.parentNode}F=j}X=D===-1||$===-1?null:{start:D,end:$}}else X=null}X=X||{start:0,end:0}}else X=null;ML={focusedElem:P,selectionRange:X},uD=!1;for(qP=p;qP!==null;)if(p=qP,P=p.child,(p.subtreeFlags&1028)!==0&&P!==null)P.return=p,qP=P;else for(;qP!==null;){switch(p=qP,x=p.alternate,P=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if((P&1024)!==0&&x!==null){P=void 0,X=p,A=x.memoizedProps,x=x.memoizedState,H=X.stateNode;try{var b=L8(X.type,A,X.elementType===X.type);P=H.getSnapshotBeforeUpdate(b,x),H.__reactInternalSnapshotBeforeUpdate=P}catch(E){N0(X,X.return,E)}}break;case 3:if((P&1024)!==0){if(P=p.stateNode.containerInfo,X=P.nodeType,X===9)KL(P);else if(X===1)switch(P.nodeName){case"HEAD":case"HTML":case"BODY":KL(P);break;default:P.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((P&1024)!==0)throw Error(r(163))}if(P=p.sibling,P!==null){P.return=p.return,qP=P;break}qP=p.return}return b=Y6,Y6=!1,b}function k4(P,p,X){var H=X.flags;switch(X.tag){case 0:case 11:case 15:jX(P,X),H&4&&yB(5,X);break;case 1:if(jX(P,X),H&4)if(P=X.stateNode,p===null)try{P.componentDidMount()}catch(D){N0(X,X.return,D)}else{var A=L8(X.type,p.memoizedProps);p=p.memoizedState;try{P.componentDidUpdate(A,p,P.__reactInternalSnapshotBeforeUpdate)}catch(D){N0(X,X.return,D)}}H&64&&R4(X),H&512&&P8(X,X.return);break;case 3:if(jX(P,X),H&64&&(H=X.updateQueue,H!==null)){if(P=null,X.child!==null)switch(X.child.tag){case 27:case 5:P=X.child.stateNode;break;case 1:P=X.child.stateNode}try{f4(H,P)}catch(D){N0(X,X.return,D)}}break;case 26:jX(P,X),H&512&&P8(X,X.return);break;case 27:case 5:jX(P,X),p===null&&H&4&&z4(X),H&512&&P8(X,X.return);break;case 12:jX(P,X);break;case 13:jX(P,X),H&4&&O4(P,X);break;case 22:if(A=X.memoizedState!==null||YX,!A){p=p!==null&&p.memoizedState!==null||t0;var x=YX,B=t0;YX=A,(t0=p)&&!B?XH(P,X,(X.subtreeFlags&8772)!==0):jX(P,X),YX=x,t0=B}H&512&&(X.memoizedProps.mode==="manual"?P8(X,X.return):eP(X,X.return));break;default:jX(P,X)}}function G4(P){var p=P.alternate;p!==null&&(P.alternate=null,G4(p)),P.child=null,P.deletions=null,P.sibling=null,P.tag===5&&(p=P.stateNode,p!==null&&GL(p)),P.stateNode=null,P.return=null,P.dependencies=null,P.memoizedProps=null,P.memoizedState=null,P.pendingProps=null,P.stateNode=null,P.updateQueue=null}var hP=null,rP=!1;function VX(P,p,X){for(X=X.child;X!==null;)N4(P,p,X),X=X.sibling}function N4(P,p,X){if(tP&&typeof tP.onCommitFiberUnmount==="function")try{tP.onCommitFiberUnmount(GB,X)}catch(B){}switch(X.tag){case 26:t0||eP(X,p),VX(P,p,X),X.memoizedState?X.memoizedState.count--:X.stateNode&&(X=X.stateNode,X.parentNode.removeChild(X));break;case 27:t0||eP(X,p);var H=hP,A=rP;hP=X.stateNode,VX(P,p,X),X=X.stateNode;for(p=X.attributes;p.length;)X.removeAttributeNode(p[0]);GL(X),hP=H,rP=A;break;case 5:t0||eP(X,p);case 6:A=hP;var x=rP;if(hP=null,VX(P,p,X),hP=A,rP=x,hP!==null)if(rP)try{P=hP,H=X.stateNode,P.nodeType===8?P.parentNode.removeChild(H):P.removeChild(H)}catch(B){N0(X,p,B)}else try{hP.removeChild(X.stateNode)}catch(B){N0(X,p,B)}break;case 18:hP!==null&&(rP?(p=hP,X=X.stateNode,p.nodeType===8?N$(p.parentNode,X):p.nodeType===1&&N$(p,X),kB(p)):N$(hP,X.stateNode));break;case 4:H=hP,A=rP,hP=X.stateNode.containerInfo,rP=!0,VX(P,p,X),hP=H,rP=A;break;case 0:case 11:case 14:case 15:t0||bH(2,X,p),t0||bH(4,X,p),VX(P,p,X);break;case 1:t0||(eP(X,p),H=X.stateNode,typeof H.componentWillUnmount==="function"&&S4(X,p,H)),VX(P,p,X);break;case 21:VX(P,p,X);break;case 22:t0||eP(X,p),t0=(H=t0)||X.memoizedState!==null,VX(P,p,X),t0=H;break;default:VX(P,p,X)}}function O4(P,p){if(p.memoizedState===null&&(P=p.alternate,P!==null&&(P=P.memoizedState,P!==null&&(P=P.dehydrated,P!==null))))try{kB(P)}catch(X){N0(p,p.return,X)}}function Ob(P){switch(P.tag){case 13:case 19:var p=P.stateNode;return p===null&&(p=P.stateNode=new q6),p;case 22:return P=P.stateNode,p=P._retryCache,p===null&&(p=P._retryCache=new q6),p;default:throw Error(r(435,P.tag))}}function J$(P,p){var X=Ob(P);p.forEach(function(H){var A=ob.bind(null,P,H);X.has(H)||(X.add(H),H.then(A,A))})}function $p(P,p){var X=p.deletions;if(X!==null)for(var H=0;H<X.length;H++){var A=X[H],x=P,B=p,D=B;P:for(;D!==null;){switch(D.tag){case 27:case 5:hP=D.stateNode,rP=!1;break P;case 3:hP=D.stateNode.containerInfo,rP=!0;break P;case 4:hP=D.stateNode.containerInfo,rP=!0;break P}D=D.return}if(hP===null)throw Error(r(160));N4(x,B,A),hP=null,rP=!1,x=A.alternate,x!==null&&(x.return=null),A.return=null}if(p.subtreeFlags&13878)for(p=p.child;p!==null;)w4(p,P),p=p.sibling}var Rp=null;function w4(P,p){var{alternate:X,flags:H}=P;switch(P.tag){case 0:case 11:case 14:case 15:$p(p,P),Lp(P),H&4&&(bH(3,P,P.return),yB(3,P),bH(5,P,P.return));break;case 1:$p(p,P),Lp(P),H&512&&(t0||X===null||eP(X,X.return)),H&64&&YX&&(P=P.updateQueue,P!==null&&(H=P.callbacks,H!==null&&(X=P.shared.hiddenCallbacks,P.shared.hiddenCallbacks=X===null?H:X.concat(H))));break;case 26:var A=Rp;if($p(p,P),Lp(P),H&512&&(t0||X===null||eP(X,X.return)),H&4){var x=X!==null?X.memoizedState:null;if(H=P.memoizedState,X===null)if(H===null)if(P.stateNode===null){P:{H=P.type,X=P.memoizedProps,A=A.ownerDocument||A;p:switch(H){case"title":if(x=A.getElementsByTagName("title")[0],!x||x[TB]||x[fP]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))x=A.createElement(H),A.head.insertBefore(x,A.querySelector("head > title"));WP(x,H,X),x[fP]=P,YP(x),H=x;break P;case"link":var B=O6("link","href",A).get(H+(X.href||""));if(B){for(var D=0;D<B.length;D++)if(x=B[D],x.getAttribute("href")===(X.href==null?null:X.href)&&x.getAttribute("rel")===(X.rel==null?null:X.rel)&&x.getAttribute("title")===(X.title==null?null:X.title)&&x.getAttribute("crossorigin")===(X.crossOrigin==null?null:X.crossOrigin)){B.splice(D,1);break p}}x=A.createElement(H),WP(x,H,X),A.head.appendChild(x);break;case"meta":if(B=O6("meta","content",A).get(H+(X.content||""))){for(D=0;D<B.length;D++)if(x=B[D],x.getAttribute("content")===(X.content==null?null:""+X.content)&&x.getAttribute("name")===(X.name==null?null:X.name)&&x.getAttribute("property")===(X.property==null?null:X.property)&&x.getAttribute("http-equiv")===(X.httpEquiv==null?null:X.httpEquiv)&&x.getAttribute("charset")===(X.charSet==null?null:X.charSet)){B.splice(D,1);break p}}x=A.createElement(H),WP(x,H,X),A.head.appendChild(x);break;default:throw Error(r(468,H))}x[fP]=P,YP(x),H=x}P.stateNode=H}else w6(A,P.type,P.stateNode);else P.stateNode=N6(A,H,P.memoizedProps);else x!==H?(x===null?X.stateNode!==null&&(X=X.stateNode,X.parentNode.removeChild(X)):x.count--,H===null?w6(A,P.type,P.stateNode):N6(A,H,P.memoizedProps)):H===null&&P.stateNode!==null&&j6(P,P.memoizedProps,X.memoizedProps)}break;case 27:if(H&4&&P.alternate===null){A=P.stateNode,x=P.memoizedProps;try{for(var $=A.firstChild;$;){var{nextSibling:h,nodeName:Z}=$;$[TB]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&$.rel.toLowerCase()==="stylesheet"||A.removeChild($),$=h}for(var F=P.type,Q=A.attributes;Q.length;)A.removeAttributeNode(Q[0]);WP(A,F,x),A[fP]=P,A[yP]=x}catch(b){N0(P,P.return,b)}}case 5:if($p(p,P),Lp(P),H&512&&(t0||X===null||eP(X,X.return)),P.flags&32){A=P.stateNode;try{WA(A,"")}catch(b){N0(P,P.return,b)}}H&4&&P.stateNode!=null&&(A=P.memoizedProps,j6(P,A,X!==null?X.memoizedProps:A)),H&1024&&(M$=!0);break;case 6:if($p(p,P),Lp(P),H&4){if(P.stateNode===null)throw Error(r(162));H=P.memoizedProps,X=P.stateNode;try{X.nodeValue=H}catch(b){N0(P,P.return,b)}}break;case 3:if(qD=null,A=Rp,Rp=cD(p.containerInfo),$p(p,P),Rp=A,Lp(P),H&4&&X!==null&&X.memoizedState.isDehydrated)try{kB(p.containerInfo)}catch(b){N0(P,P.return,b)}M$&&(M$=!1,v4(P));break;case 4:H=Rp,Rp=cD(P.stateNode.containerInfo),$p(p,P),Lp(P),Rp=H;break;case 12:$p(p,P),Lp(P);break;case 13:$p(p,P),Lp(P),P.child.flags&8192&&P.memoizedState!==null!==(X!==null&&X.memoizedState!==null)&&(CZ=np()),H&4&&(H=P.updateQueue,H!==null&&(P.updateQueue=null,J$(P,H)));break;case 22:if(H&512&&(t0||X===null||eP(X,X.return)),$=P.memoizedState!==null,h=X!==null&&X.memoizedState!==null,Z=YX,F=t0,YX=Z||$,t0=F||h,$p(p,P),t0=F,YX=Z,Lp(P),p=P.stateNode,p._current=P,p._visibility&=-3,p._visibility|=p._pendingVisibility&2,H&8192&&(p._visibility=$?p._visibility&-2:p._visibility|1,$&&(p=YX||t0,X===null||h||p||e8(P)),P.memoizedProps===null||P.memoizedProps.mode!=="manual"))P:for(X=null,p=P;;){if(p.tag===5||p.tag===26||p.tag===27){if(X===null){h=X=p;try{if(A=h.stateNode,$)x=A.style,typeof x.setProperty==="function"?x.setProperty("display","none","important"):x.display="none";else{B=h.stateNode,D=h.memoizedProps.style;var j=D!==void 0&&D!==null&&D.hasOwnProperty("display")?D.display:null;B.style.display=j==null||typeof j==="boolean"?"":(""+j).trim()}}catch(b){N0(h,h.return,b)}}}else if(p.tag===6){if(X===null){h=p;try{h.stateNode.nodeValue=$?"":h.memoizedProps}catch(b){N0(h,h.return,b)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===P)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===P)break P;for(;p.sibling===null;){if(p.return===null||p.return===P)break P;X===p&&(X=null),p=p.return}X===p&&(X=null),p.sibling.return=p.return,p=p.sibling}H&4&&(H=P.updateQueue,H!==null&&(X=H.retryQueue,X!==null&&(H.retryQueue=null,J$(P,X))));break;case 19:$p(p,P),Lp(P),H&4&&(H=P.updateQueue,H!==null&&(P.updateQueue=null,J$(P,H)));break;case 21:break;default:$p(p,P),Lp(P)}}function Lp(P){var p=P.flags;if(p&2){try{if(P.tag!==27){P:{for(var X=P.return;X!==null;){if(U4(X)){var H=X;break P}X=X.return}throw Error(r(160))}switch(H.tag){case 27:var A=H.stateNode,x=W$(P);OD(P,x,A);break;case 5:var B=H.stateNode;H.flags&32&&(WA(B,""),H.flags&=-33);var D=W$(P);OD(P,D,B);break;case 3:case 4:var $=H.stateNode.containerInfo,h=W$(P);CL(P,h,$);break;default:throw Error(r(161))}}}catch(Z){N0(P,P.return,Z)}P.flags&=-3}p&4096&&(P.flags&=-4097)}function v4(P){if(P.subtreeFlags&1024)for(P=P.child;P!==null;){var p=P;v4(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),P=P.sibling}}function jX(P,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)k4(P,p.alternate,p),p=p.sibling}function e8(P){for(P=P.child;P!==null;){var p=P;switch(p.tag){case 0:case 11:case 14:case 15:bH(4,p,p.return),e8(p);break;case 1:eP(p,p.return);var X=p.stateNode;typeof X.componentWillUnmount==="function"&&S4(p,p.return,X),e8(p);break;case 26:case 27:case 5:eP(p,p.return),e8(p);break;case 22:eP(p,p.return),p.memoizedState===null&&e8(p);break;default:e8(p)}P=P.sibling}}function XH(P,p,X){X=X&&(p.subtreeFlags&8772)!==0;for(p=p.child;p!==null;){var H=p.alternate,A=P,x=p,B=x.flags;switch(x.tag){case 0:case 11:case 15:XH(A,x,X),yB(4,x);break;case 1:if(XH(A,x,X),H=x,A=H.stateNode,typeof A.componentDidMount==="function")try{A.componentDidMount()}catch(h){N0(H,H.return,h)}if(H=x,A=H.updateQueue,A!==null){var D=H.stateNode;try{var $=A.shared.hiddenCallbacks;if($!==null)for(A.shared.hiddenCallbacks=null,A=0;A<$.length;A++)K4($[A],D)}catch(h){N0(H,H.return,h)}}X&&B&64&&R4(x),P8(x,x.return);break;case 26:case 27:case 5:XH(A,x,X),X&&H===null&&B&4&&z4(x),P8(x,x.return);break;case 12:XH(A,x,X);break;case 13:XH(A,x,X),X&&B&4&&O4(A,x);break;case 22:x.memoizedState===null&&XH(A,x,X),P8(x,x.return);break;default:XH(A,x,X)}p=p.sibling}}function DZ(P,p){var X=null;P!==null&&P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(X=P.memoizedState.cachePool.pool),P=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(P=p.memoizedState.cachePool.pool),P!==X&&(P!=null&&P.refCount++,X!=null&&_B(X))}function hZ(P,p){P=null,p.alternate!==null&&(P=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==P&&(p.refCount++,P!=null&&_B(P))}function pH(P,p,X,H){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)_4(P,p,X,H),p=p.sibling}function _4(P,p,X,H){var A=p.flags;switch(p.tag){case 0:case 11:case 15:pH(P,p,X,H),A&2048&&yB(9,p);break;case 3:pH(P,p,X,H),A&2048&&(P=null,p.alternate!==null&&(P=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==P&&(p.refCount++,P!=null&&_B(P)));break;case 12:if(A&2048){pH(P,p,X,H),P=p.stateNode;try{var x=p.memoizedProps,B=x.id,D=x.onPostCommit;typeof D==="function"&&D(B,p.alternate===null?"mount":"update",P.passiveEffectDuration,-0)}catch($){N0(p,p.return,$)}}else pH(P,p,X,H);break;case 23:break;case 22:x=p.stateNode,p.memoizedState!==null?x._visibility&4?pH(P,p,X,H):QB(P,p):x._visibility&4?pH(P,p,X,H):(x._visibility|=4,t8(P,p,X,H,(p.subtreeFlags&10256)!==0)),A&2048&&DZ(p.alternate,p);break;case 24:pH(P,p,X,H),A&2048&&hZ(p.alternate,p);break;default:pH(P,p,X,H)}}function t8(P,p,X,H,A){A=A&&(p.subtreeFlags&10256)!==0;for(p=p.child;p!==null;){var x=P,B=p,D=X,$=H,h=B.flags;switch(B.tag){case 0:case 11:case 15:t8(x,B,D,$,A),yB(8,B);break;case 23:break;case 22:var Z=B.stateNode;B.memoizedState!==null?Z._visibility&4?t8(x,B,D,$,A):QB(x,B):(Z._visibility|=4,t8(x,B,D,$,A)),A&&h&2048&&DZ(B.alternate,B);break;case 24:t8(x,B,D,$,A),A&&h&2048&&hZ(B.alternate,B);break;default:t8(x,B,D,$,A)}p=p.sibling}}function QB(P,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var X=P,H=p,A=H.flags;switch(H.tag){case 22:QB(X,H),A&2048&&DZ(H.alternate,H);break;case 24:QB(X,H),A&2048&&hZ(H.alternate,H);break;default:QB(X,H)}p=p.sibling}}var PB=8192;function r8(P){if(P.subtreeFlags&PB)for(P=P.child;P!==null;)d4(P),P=P.sibling}function d4(P){switch(P.tag){case 26:r8(P),P.flags&PB&&P.memoizedState!==null&&bE(Rp,P.memoizedState,P.memoizedProps);break;case 5:r8(P);break;case 3:case 4:var p=Rp;Rp=cD(P.stateNode.containerInfo),r8(P),Rp=p;break;case 22:P.memoizedState===null&&(p=P.alternate,p!==null&&p.memoizedState!==null?(p=PB,PB=16777216,r8(P),PB=p):r8(P));break;default:r8(P)}}function g4(P){var p=P.alternate;if(p!==null&&(P=p.child,P!==null)){p.child=null;do p=P.sibling,P.sibling=null,P=p;while(P!==null)}}function ux(P){var p=P.deletions;if((P.flags&16)!==0){if(p!==null)for(var X=0;X<p.length;X++){var H=p[X];qP=H,c4(H,P)}g4(P)}if(P.subtreeFlags&10256)for(P=P.child;P!==null;)y4(P),P=P.sibling}function y4(P){switch(P.tag){case 0:case 11:case 15:ux(P),P.flags&2048&&bH(9,P,P.return);break;case 3:ux(P);break;case 12:ux(P);break;case 22:var p=P.stateNode;P.memoizedState!==null&&p._visibility&4&&(P.return===null||P.return.tag!==13)?(p._visibility&=-5,QD(P)):ux(P);break;default:ux(P)}}function QD(P){var p=P.deletions;if((P.flags&16)!==0){if(p!==null)for(var X=0;X<p.length;X++){var H=p[X];qP=H,c4(H,P)}g4(P)}for(P=P.child;P!==null;){switch(p=P,p.tag){case 0:case 11:case 15:bH(8,p,p.return),QD(p);break;case 22:X=p.stateNode,X._visibility&4&&(X._visibility&=-5,QD(p));break;default:QD(p)}P=P.sibling}}function c4(P,p){for(;qP!==null;){var X=qP;switch(X.tag){case 0:case 11:case 15:bH(8,X,p);break;case 23:case 22:if(X.memoizedState!==null&&X.memoizedState.cachePool!==null){var H=X.memoizedState.cachePool.pool;H!=null&&H.refCount++}break;case 24:_B(X.memoizedState.cache)}if(H=X.child,H!==null)H.return=X,qP=H;else P:for(X=P;qP!==null;){H=qP;var{sibling:A,return:x}=H;if(G4(H),H===X){qP=null;break P}if(A!==null){A.return=x,qP=A;break P}qP=x}}}function wb(P,p,X,H){this.tag=P,this.key=X,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=H,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qp(P,p,X,H){return new wb(P,p,X,H)}function $Z(P){return P=P.prototype,!(!P||!P.isReactComponent)}function QH(P,p){var X=P.alternate;return X===null?(X=qp(P.tag,p,P.key,P.mode),X.elementType=P.elementType,X.type=P.type,X.stateNode=P.stateNode,X.alternate=P,P.alternate=X):(X.pendingProps=p,X.type=P.type,X.flags=0,X.subtreeFlags=0,X.deletions=null),X.flags=P.flags&31457280,X.childLanes=P.childLanes,X.lanes=P.lanes,X.child=P.child,X.memoizedProps=P.memoizedProps,X.memoizedState=P.memoizedState,X.updateQueue=P.updateQueue,p=P.dependencies,X.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},X.sibling=P.sibling,X.index=P.index,X.ref=P.ref,X.refCleanup=P.refCleanup,X}function l4(P,p){P.flags&=31457282;var X=P.alternate;return X===null?(P.childLanes=0,P.lanes=p,P.child=null,P.subtreeFlags=0,P.memoizedProps=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null,P.stateNode=null):(P.childLanes=X.childLanes,P.lanes=X.lanes,P.child=X.child,P.subtreeFlags=0,P.deletions=null,P.memoizedProps=X.memoizedProps,P.memoizedState=X.memoizedState,P.updateQueue=X.updateQueue,P.type=X.type,p=X.dependencies,P.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),P}function VD(P,p,X,H,A,x){var B=0;if(H=P,typeof P==="function")$Z(P)&&(B=1);else if(typeof P==="string")B=TE(P,X,op.current)?26:P==="html"||P==="head"||P==="body"?27:5;else P:switch(P){case XA:return A8(X.children,A,x,p);case m6:B=8,A|=24;break;case O$:return P=qp(12,X,p,A|2),P.elementType=O$,P.lanes=x,P;case w$:return P=qp(13,X,p,A),P.elementType=w$,P.lanes=x,P;case v$:return P=qp(19,X,p,A),P.elementType=v$,P.lanes=x,P;case a6:return m4(X,A,x,p);default:if(typeof P==="object"&&P!==null)switch(P.$$typeof){case DI:case bX:B=10;break P;case u6:B=9;break P;case zL:B=11;break P;case UL:B=14;break P;case HH:B=16,H=null;break P}B=29,X=Error(r(130,P===null?"null":typeof P,"")),H=null}return p=qp(B,X,p,A),p.elementType=P,p.type=H,p.lanes=x,p}function A8(P,p,X,H){return P=qp(7,P,H,p),P.lanes=X,P}function m4(P,p,X,H){P=qp(22,P,H,p),P.elementType=a6,P.lanes=X;var A={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var x=A._current;if(x===null)throw Error(r(456));if((A._pendingVisibility&2)===0){var B=TH(x,2);B!==null&&(A._pendingVisibility|=2,GP(B,x,2))}},attach:function(){var x=A._current;if(x===null)throw Error(r(456));if((A._pendingVisibility&2)!==0){var B=TH(x,2);B!==null&&(A._pendingVisibility&=-3,GP(B,x,2))}}};return P.stateNode=A,P}function K$(P,p,X){return P=qp(6,P,null,p),P.lanes=X,P}function f$(P,p,X){return p=qp(4,P.children!==null?P.children:[],P.key,p),p.lanes=X,p.stateNode={containerInfo:P.containerInfo,pendingChildren:null,implementation:P.implementation},p}function qX(P){P.flags|=4}function T6(P,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)P.flags&=-16777217;else if(P.flags|=16777216,!ZQ(p)){if(p=Tp.current,p!==null&&((b0&4194176)===b0?rp!==null:(b0&62914560)!==b0&&(b0&536870912)===0||p!==rp))throw DB=r$,zF;P.flags|=8192}}function pD(P,p){p!==null&&(P.flags|=4),P.flags&16384&&(p=P.tag!==22?t6():536870912,P.lanes|=p,fA|=p)}function ax(P,p){if(!M0)switch(P.tailMode){case"hidden":p=P.tail;for(var X=null;p!==null;)p.alternate!==null&&(X=p),p=p.sibling;X===null?P.tail=null:X.sibling=null;break;case"collapsed":X=P.tail;for(var H=null;X!==null;)X.alternate!==null&&(H=X),X=X.sibling;H===null?p||P.tail===null?P.tail=null:P.tail.sibling=null:H.sibling=null}}function n0(P){var p=P.alternate!==null&&P.alternate.child===P.child,X=0,H=0;if(p)for(var A=P.child;A!==null;)X|=A.lanes|A.childLanes,H|=A.subtreeFlags&31457280,H|=A.flags&31457280,A.return=P,A=A.sibling;else for(A=P.child;A!==null;)X|=A.lanes|A.childLanes,H|=A.subtreeFlags,H|=A.flags,A.return=P,A=A.sibling;return P.subtreeFlags|=H,P.childLanes=X,p}function vb(P,p,X){var H=p.pendingProps;switch(lL(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return n0(p),null;case 1:return n0(p),null;case 3:if(X=p.stateNode,H=null,P!==null&&(H=P.memoizedState.cache),p.memoizedState.cache!==H&&(p.flags|=2048),KX(CP),bA(),X.pendingContext&&(X.context=X.pendingContext,X.pendingContext=null),P===null||P.child===null)lx(p)?qX(p):P===null||P.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Sp!==null&&(qL(Sp),Sp=null));return n0(p),null;case 26:return X=p.memoizedState,P===null?(qX(p),X!==null?(n0(p),T6(p,X)):(n0(p),p.flags&=-16777217)):X?X!==P.memoizedState?(qX(p),n0(p),T6(p,X)):(n0(p),p.flags&=-16777217):(P.memoizedProps!==H&&qX(p),n0(p),p.flags&=-16777217),null;case 27:bD(p),X=ZH.current;var A=p.type;if(P!==null&&p.stateNode!=null)P.memoizedProps!==H&&qX(p);else{if(!H){if(p.stateNode===null)throw Error(r(166));return n0(p),null}P=op.current,lx(p)?n5(p,P):(P=hQ(A,H,X),p.stateNode=P,qX(p))}return n0(p),null;case 5:if(bD(p),X=p.type,P!==null&&p.stateNode!=null)P.memoizedProps!==H&&qX(p);else{if(!H){if(p.stateNode===null)throw Error(r(166));return n0(p),null}if(P=op.current,lx(p))n5(p,P);else{switch(A=yD(ZH.current),P){case 1:P=A.createElementNS("http://www.w3.org/2000/svg",X);break;case 2:P=A.createElementNS("http://www.w3.org/1998/Math/MathML",X);break;default:switch(X){case"svg":P=A.createElementNS("http://www.w3.org/2000/svg",X);break;case"math":P=A.createElementNS("http://www.w3.org/1998/Math/MathML",X);break;case"script":P=A.createElement("div"),P.innerHTML="<script></script>",P=P.removeChild(P.firstChild);break;case"select":P=typeof H.is==="string"?A.createElement("select",{is:H.is}):A.createElement("select"),H.multiple?P.multiple=!0:H.size&&(P.size=H.size);break;default:P=typeof H.is==="string"?A.createElement(X,{is:H.is}):A.createElement(X)}}P[fP]=p,P[yP]=H;P:for(A=p.child;A!==null;){if(A.tag===5||A.tag===6)P.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break P;for(;A.sibling===null;){if(A.return===null||A.return===p)break P;A=A.return}A.sibling.return=A.return,A=A.sibling}p.stateNode=P;P:switch(WP(P,X,H),X){case"button":case"input":case"select":case"textarea":P=!!H.autoFocus;break P;case"img":P=!0;break P;default:P=!1}P&&qX(p)}}return n0(p),p.flags&=-16777217,null;case 6:if(P&&p.stateNode!=null)P.memoizedProps!==H&&qX(p);else{if(typeof H!=="string"&&p.stateNode===null)throw Error(r(166));if(P=ZH.current,lx(p)){if(P=p.stateNode,X=p.memoizedProps,H=null,A=kP,A!==null)switch(A.tag){case 27:case 5:H=A.memoizedProps}P[fP]=p,P=P.nodeValue===X||H!==null&&H.suppressHydrationWarning===!0||xQ(P.nodeValue,X)?!0:!1,P||D8(p)}else P=yD(P).createTextNode(H),P[fP]=p,p.stateNode=P}return n0(p),null;case 13:if(H=p.memoizedState,P===null||P.memoizedState!==null&&P.memoizedState.dehydrated!==null){if(A=lx(p),H!==null&&H.dehydrated!==null){if(P===null){if(!A)throw Error(r(318));if(A=p.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[fP]=p}else vB(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;n0(p),A=!1}else Sp!==null&&(qL(Sp),Sp=null),A=!0;if(!A){if(p.flags&256)return MX(p),p;return MX(p),null}}if(MX(p),(p.flags&128)!==0)return p.lanes=X,p;if(X=H!==null,P=P!==null&&P.memoizedState!==null,X){H=p.child,A=null,H.alternate!==null&&H.alternate.memoizedState!==null&&H.alternate.memoizedState.cachePool!==null&&(A=H.alternate.memoizedState.cachePool.pool);var x=null;H.memoizedState!==null&&H.memoizedState.cachePool!==null&&(x=H.memoizedState.cachePool.pool),x!==A&&(H.flags|=2048)}return X!==P&&X&&(p.child.flags|=8192),pD(p,p.updateQueue),n0(p),null;case 4:return bA(),P===null&&VZ(p.stateNode.containerInfo),n0(p),null;case 10:return KX(p.type),n0(p),null;case 19:if(IP(FP),A=p.memoizedState,A===null)return n0(p),null;if(H=(p.flags&128)!==0,x=A.rendering,x===null)if(H)ax(A,!1);else{if(PP!==0||P!==null&&(P.flags&128)!==0)for(P=p.child;P!==null;){if(x=SD(P),x!==null){p.flags|=128,ax(A,!1),P=x.updateQueue,p.updateQueue=P,pD(p,P),p.subtreeFlags=0,P=X;for(X=p.child;X!==null;)l4(X,P),X=X.sibling;return m0(FP,FP.current&1|2),p.child}P=P.sibling}A.tail!==null&&np()>wD&&(p.flags|=128,H=!0,ax(A,!1),p.lanes=4194304)}else{if(!H)if(P=SD(x),P!==null){if(p.flags|=128,H=!0,P=P.updateQueue,p.updateQueue=P,pD(p,P),ax(A,!0),A.tail===null&&A.tailMode==="hidden"&&!x.alternate&&!M0)return n0(p),null}else 2*np()-A.renderingStartTime>wD&&X!==536870912&&(p.flags|=128,H=!0,ax(A,!1),p.lanes=4194304);A.isBackwards?(x.sibling=p.child,p.child=x):(P=A.last,P!==null?P.sibling=x:p.child=x,A.last=x)}if(A.tail!==null)return p=A.tail,A.rendering=p,A.tail=p.sibling,A.renderingStartTime=np(),p.sibling=null,P=FP.current,m0(FP,H?P&1|2:P&1),p;return n0(p),null;case 22:case 23:return MX(p),mL(),H=p.memoizedState!==null,P!==null?P.memoizedState!==null!==H&&(p.flags|=8192):H&&(p.flags|=8192),H?(X&536870912)!==0&&(p.flags&128)===0&&(n0(p),p.subtreeFlags&6&&(p.flags|=8192)):n0(p),X=p.updateQueue,X!==null&&pD(p,X.retryQueue),X=null,P!==null&&P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(X=P.memoizedState.cachePool.pool),H=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(H=p.memoizedState.cachePool.pool),H!==X&&(p.flags|=2048),P!==null&&IP(H8),null;case 24:return X=null,P!==null&&(X=P.memoizedState.cache),p.memoizedState.cache!==X&&(p.flags|=2048),KX(CP),n0(p),null;case 25:return null}throw Error(r(156,p.tag))}function _b(P,p){switch(lL(p),p.tag){case 1:return P=p.flags,P&65536?(p.flags=P&-65537|128,p):null;case 3:return KX(CP),bA(),P=p.flags,(P&65536)!==0&&(P&128)===0?(p.flags=P&-65537|128,p):null;case 26:case 27:case 5:return bD(p),null;case 13:if(MX(p),P=p.memoizedState,P!==null&&P.dehydrated!==null){if(p.alternate===null)throw Error(r(340));vB()}return P=p.flags,P&65536?(p.flags=P&-65537|128,p):null;case 19:return IP(FP),null;case 4:return bA(),null;case 10:return KX(p.type),null;case 22:case 23:return MX(p),mL(),P!==null&&IP(H8),P=p.flags,P&65536?(p.flags=P&-65537|128,p):null;case 24:return KX(CP),null;case 25:return null;default:return null}}function u4(P,p){switch(lL(p),p.tag){case 3:KX(CP),bA();break;case 26:case 27:case 5:bD(p);break;case 4:bA();break;case 13:MX(p);break;case 19:IP(FP);break;case 10:KX(p.type);break;case 22:case 23:MX(p),mL(),P!==null&&IP(H8);break;case 24:KX(CP)}}var db={getCacheForType:function(P){var p=RP(CP),X=p.data.get(P);return X===void 0&&(X=P(),p.data.set(P,X)),X}},gb=typeof WeakMap==="function"?WeakMap:Map,r0=0,_0=null,Q0=null,b0=0,v0=0,sP=null,TX=!1,GA=!1,LZ=!1,zX=0,PP=0,EH=0,x8=0,ZZ=0,Yp=0,fA=0,VB=null,ip=null,FL=!1,CZ=0,wD=1/0,vD=null,VH=null,XD=!1,eH=null,jB=0,QL=0,VL=null,qB=0,jL=null;function pp(){if((r0&2)!==0&&b0!==0)return b0&-b0;if($0.T!==null){var P=JA;return P!==0?P:QZ()}return HF()}function a4(){Yp===0&&(Yp=(b0&536870912)===0||M0?e6():536870912);var P=Tp.current;return P!==null&&(P.flags|=32),Yp}function GP(P,p,X){if(P===_0&&v0===2||P.cancelPendingCommit!==null)RA(P,0),IX(P,b0,Yp,!1);if(OB(P,X),(r0&2)===0||P!==_0)P===_0&&((r0&2)===0&&(x8|=X),PP===4&&IX(P,b0,Yp,!1)),tp(P)}function i4(P,p,X){if((r0&6)!==0)throw Error(r(327));var H=!X&&(p&60)===0&&(p&P.expiredLanes)===0||NB(P,p),A=H?lb(P,p):R$(P,p,!0),x=H;do{if(A===0){GA&&!H&&IX(P,p,0,!1);break}else if(A===6)IX(P,p,0,!TX);else{if(X=P.current.alternate,x&&!yb(X)){A=R$(P,p,!1),x=!1;continue}if(A===2){if(x=p,P.errorRecoveryDisabledLanes&x)var B=0;else B=P.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){p=B;P:{var D=P;A=VB;var $=D.current.memoizedState.isDehydrated;if($&&(RA(D,B).flags|=256),B=R$(D,B,!1),B!==2){if(LZ&&!$){D.errorRecoveryDisabledLanes|=x,x8|=x,A=4;break P}x=ip,ip=A,x!==null&&qL(x)}A=B}if(x=!1,A!==2)continue}}if(A===1){RA(P,0),IX(P,p,0,!0);break}P:{switch(H=P,A){case 0:case 1:throw Error(r(345));case 4:if((p&4194176)===p){IX(H,p,Yp,!TX);break P}break;case 2:ip=null;break;case 3:case 5:break;default:throw Error(r(329))}if(H.finishedWork=X,H.finishedLanes=p,(p&62914560)===p&&(x=CZ+300-np(),10<x)){if(IX(H,p,Yp,!TX),iD(H,0)!==0)break P;H.timeoutHandle=DQ(I6.bind(null,H,X,ip,vD,FL,p,Yp,x8,fA,TX,2,-0,0),x);break P}I6(H,X,ip,vD,FL,p,Yp,x8,fA,TX,0,-0,0)}}break}while(1);tp(P)}function qL(P){ip===null?ip=P:ip.push.apply(ip,P)}function I6(P,p,X,H,A,x,B,D,$,h,Z,F,Q){var j=p.subtreeFlags;if(j&8192||(j&16785408)===16785408){if(RB={stylesheets:null,count:0,unsuspend:IE},d4(p),p=EE(),p!==null){P.cancelPendingCommit=p(E6.bind(null,P,X,H,A,B,D,$,1,F,Q)),IX(P,x,B,!h);return}}E6(P,X,H,A,B,D,$,Z,F,Q)}function yb(P){for(var p=P;;){var X=p.tag;if((X===0||X===11||X===15)&&p.flags&16384&&(X=p.updateQueue,X!==null&&(X=X.stores,X!==null)))for(var H=0;H<X.length;H++){var A=X[H],x=A.getSnapshot;A=A.value;try{if(!Xp(x(),A))return!1}catch(B){return!1}}if(X=p.child,p.subtreeFlags&16384&&X!==null)X.return=p,p=X;else{if(p===P)break;for(;p.sibling===null;){if(p.return===null||p.return===P)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function IX(P,p,X,H){p&=~ZZ,p&=~x8,P.suspendedLanes|=p,P.pingedLanes&=~p,H&&(P.warmLanes|=p),H=P.expirationTimes;for(var A=p;0<A;){var x=31-Pp(A),B=1<<x;H[x]=-1,A&=~B}X!==0&&PF(P,X,p)}function Hh(){return(r0&6)===0?(cB(0,!1),!1):!0}function FZ(){if(Q0!==null){if(v0===0)var P=Q0.return;else P=Q0,JX=q8=null,sL(P),jA=null,MB=0,P=Q0;for(;P!==null;)u4(P.alternate,P),P=P.return;Q0=null}}function RA(P,p){P.finishedWork=null,P.finishedLanes=0;var X=P.timeoutHandle;X!==-1&&(P.timeoutHandle=-1,AE(X)),X=P.cancelPendingCommit,X!==null&&(P.cancelPendingCommit=null,X()),FZ(),_0=P,Q0=X=QH(P.current,null),b0=p,v0=0,sP=null,TX=!1,GA=NB(P,p),LZ=!1,fA=Yp=ZZ=x8=EH=PP=0,ip=VB=null,FL=!1,(p&8)!==0&&(p|=p&32);var H=P.entangledLanes;if(H!==0)for(P=P.entanglements,H&=p;0<H;){var A=31-Pp(H),x=1<<A;p|=P[A],H&=~x}return zX=p,sD(),X}function o4(P,p){F0=null,$0.H=sp,p===BB?(p=e5(),v0=3):p===zF?(p=e5(),v0=4):v0=p===T4?8:p!==null&&typeof p==="object"&&typeof p.then==="function"?6:1,sP=p,Q0===null&&(PP=1,GD(P,jp(p,P.current)))}function n4(){var P=$0.H;return $0.H=sp,P===null?sp:P}function r4(){var P=$0.A;return $0.A=db,P}function YL(){PP=4,TX||(b0&4194176)!==b0&&Tp.current!==null||(GA=!0),(EH&134217727)===0&&(x8&134217727)===0||_0===null||IX(_0,b0,Yp,!1)}function R$(P,p,X){var H=r0;r0|=2;var A=n4(),x=r4();if(_0!==P||b0!==p)vD=null,RA(P,p);p=!1;var B=PP;P:do try{if(v0!==0&&Q0!==null){var D=Q0,$=sP;switch(v0){case 8:FZ(),B=6;break P;case 3:case 2:case 6:Tp.current===null&&(p=!0);var h=v0;if(v0=0,sP=null,CA(P,D,$,h),X&&GA){B=0;break P}break;default:h=v0,v0=0,sP=null,CA(P,D,$,h)}}cb(),B=PP;break}catch(Z){o4(P,Z)}while(1);return p&&P.shellSuspendCounter++,JX=q8=null,r0=H,$0.H=A,$0.A=x,Q0===null&&(_0=null,b0=0,sD()),B}function cb(){for(;Q0!==null;)s4(Q0)}function lb(P,p){var X=r0;r0|=2;var H=n4(),A=r4();_0!==P||b0!==p?(vD=null,wD=np()+500,RA(P,p)):GA=NB(P,p);P:do try{if(v0!==0&&Q0!==null){p=Q0;var x=sP;p:switch(v0){case 1:v0=0,sP=null,CA(P,p,x,1);break;case 2:if(s5(x)){v0=0,sP=null,b6(p);break}p=function(){v0===2&&_0===P&&(v0=7),tp(P)},x.then(p,p);break P;case 3:v0=7;break P;case 4:v0=5;break P;case 7:s5(x)?(v0=0,sP=null,b6(p)):(v0=0,sP=null,CA(P,p,x,7));break;case 5:var B=null;switch(Q0.tag){case 26:B=Q0.memoizedState;case 5:case 27:var D=Q0;if(B?ZQ(B):1){v0=0,sP=null;var $=D.sibling;if($!==null)Q0=$;else{var h=D.return;h!==null?(Q0=h,Ah(h)):Q0=null}break p}}v0=0,sP=null,CA(P,p,x,5);break;case 6:v0=0,sP=null,CA(P,p,x,6);break;case 8:FZ(),PP=6;break P;default:throw Error(r(462))}}mb();break}catch(Z){o4(P,Z)}while(1);if(JX=q8=null,$0.H=H,$0.A=A,r0=X,Q0!==null)return 0;return _0=null,b0=0,sD(),PP}function mb(){for(;Q0!==null&&!CI();)s4(Q0)}function s4(P){var p=M4(P.alternate,P,zX);P.memoizedProps=P.pendingProps,p===null?Ah(P):Q0=p}function b6(P){var p=P,X=p.alternate;switch(p.tag){case 15:case 0:p=C6(X,p,p.pendingProps,p.type,void 0,b0);break;case 11:p=C6(X,p,p.pendingProps,p.type.render,p.ref,b0);break;case 5:sL(p);default:u4(X,p),p=Q0=l4(p,zX),p=M4(X,p,zX)}P.memoizedProps=P.pendingProps,p===null?Ah(P):Q0=p}function CA(P,p,X,H){JX=q8=null,sL(p),jA=null,MB=0;var A=p.return;try{if(kb(P,A,p,X,b0)){PP=1,GD(P,jp(X,P.current)),Q0=null;return}}catch(x){if(A!==null)throw Q0=A,x;PP=1,GD(P,jp(X,P.current)),Q0=null;return}if(p.flags&32768){if(M0||H===1)P=!0;else if(GA||(b0&536870912)!==0)P=!1;else if(TX=P=!0,H===2||H===3||H===6)H=Tp.current,H!==null&&H.tag===13&&(H.flags|=16384);e4(p,P)}else Ah(p)}function Ah(P){var p=P;do{if((p.flags&32768)!==0){e4(p,TX);return}P=p.return;var X=vb(p.alternate,p,zX);if(X!==null){Q0=X;return}if(p=p.sibling,p!==null){Q0=p;return}Q0=p=P}while(p!==null);PP===0&&(PP=5)}function e4(P,p){do{var X=_b(P.alternate,P);if(X!==null){X.flags&=32767,Q0=X;return}if(X=P.return,X!==null&&(X.flags|=32768,X.subtreeFlags=0,X.deletions=null),!p&&(P=P.sibling,P!==null)){Q0=P;return}Q0=P=X}while(P!==null);PP=6,Q0=null}function E6(P,p,X,H,A,x,B,D,$,h){var Z=$0.T,F=c0.p;try{c0.p=2,$0.T=null,ub(P,p,X,H,F,A,x,B,D,$,h)}finally{$0.T=Z,c0.p=F}}function ub(P,p,X,H,A,x,B,D){do IA();while(eH!==null);if((r0&6)!==0)throw Error(r(327));var $=P.finishedWork;if(H=P.finishedLanes,$===null)return null;if(P.finishedWork=null,P.finishedLanes=0,$===P.current)throw Error(r(177));P.callbackNode=null,P.callbackPriority=0,P.cancelPendingCommit=null;var h=$.lanes|$.childLanes;if(h|=gL,WI(P,H,h,x,B,D),P===_0&&(Q0=_0=null,b0=0),($.subtreeFlags&10256)===0&&($.flags&10256)===0||XD||(XD=!0,QL=h,VL=X,nb(ED,function(){return IA(!0),null})),X=($.flags&15990)!==0,($.subtreeFlags&15990)!==0||X?(X=$0.T,$0.T=null,x=c0.p,c0.p=2,B=r0,r0|=4,Nb(P,$),w4($,P),Vb(ML,P.containerInfo),uD=!!WL,ML=WL=null,P.current=$,k4(P,$.alternate,$),FI(),r0=B,c0.p=x,$0.T=X):P.current=$,XD?(XD=!1,eH=P,jB=H):t4(P,h),h=P.pendingLanes,h===0&&(VH=null),YI($.stateNode,A),tp(P),p!==null)for(A=P.onRecoverableError,$=0;$<p.length;$++)h=p[$],A(h.value,{componentStack:h.stack});return(jB&3)!==0&&IA(),h=P.pendingLanes,(H&4194218)!==0&&(h&42)!==0?P===jL?qB++:(qB=0,jL=P):qB=0,cB(0,!1),null}function t4(P,p){(P.pooledCacheLanes&=p)===0&&(p=P.pooledCache,p!=null&&(P.pooledCache=null,_B(p)))}function IA(){if(eH!==null){var P=eH,p=QL;QL=0;var X=XF(jB),H=$0.T,A=c0.p;try{if(c0.p=32>X?32:X,$0.T=null,eH===null)var x=!1;else{X=VL,VL=null;var B=eH,D=jB;if(eH=null,jB=0,(r0&6)!==0)throw Error(r(331));var $=r0;if(r0|=4,y4(B.current),_4(B,B.current,D,X),r0=$,cB(0,!1),tP&&typeof tP.onPostCommitFiberRoot==="function")try{tP.onPostCommitFiberRoot(GB,B)}catch(h){}x=!0}return x}finally{c0.p=A,$0.T=H,t4(P,p)}}return!1}function W6(P,p,X){p=jp(X,p),p=HL(P.stateNode,p,2),P=FH(P,p,2),P!==null&&(OB(P,2),tp(P))}function N0(P,p,X){if(P.tag===3)W6(P,P,X);else for(;p!==null;){if(p.tag===3){W6(p,P,X);break}else if(p.tag===1){var H=p.stateNode;if(typeof p.type.getDerivedStateFromError==="function"||typeof H.componentDidCatch==="function"&&(VH===null||!VH.has(H))){P=jp(X,P),X=q4(2),H=FH(p,X,2),H!==null&&(Y4(X,H,p,P),OB(H,2),tp(H));break}}p=p.return}}function S$(P,p,X){var H=P.pingCache;if(H===null){H=P.pingCache=new gb;var A=new Set;H.set(p,A)}else A=H.get(p),A===void 0&&(A=new Set,H.set(p,A));A.has(X)||(LZ=!0,A.add(X),P=ab.bind(null,P,p,X),p.then(P,P))}function ab(P,p,X){var H=P.pingCache;H!==null&&H.delete(p),P.pingedLanes|=P.suspendedLanes&X,P.warmLanes&=~X,_0===P&&(b0&X)===X&&(PP===4||PP===3&&(b0&62914560)===b0&&300>np()-CZ?(r0&2)===0&&RA(P,0):ZZ|=X,fA===b0&&(fA=0)),tp(P)}function PQ(P,p){p===0&&(p=t6()),P=TH(P,p),P!==null&&(OB(P,p),tp(P))}function ib(P){var p=P.memoizedState,X=0;p!==null&&(X=p.retryLane),PQ(P,X)}function ob(P,p){var X=0;switch(P.tag){case 13:var{stateNode:H,memoizedState:A}=P;A!==null&&(X=A.retryLane);break;case 19:H=P.stateNode;break;case 22:H=P.stateNode._retryCache;break;default:throw Error(r(314))}H!==null&&H.delete(p),PQ(P,X)}function nb(P,p){return kL(P,p)}var _D=null,PA=null,TL=!1,dD=!1,z$=!1,B8=0;function tp(P){P!==PA&&P.next===null&&(PA===null?_D=PA=P:PA=PA.next=P),dD=!0,TL||(TL=!0,sb(rb))}function cB(P,p){if(!z$&&dD){z$=!0;do{var X=!1;for(var H=_D;H!==null;){if(!p)if(P!==0){var A=H.pendingLanes;if(A===0)var x=0;else{var{suspendedLanes:B,pingedLanes:D}=H;x=(1<<31-Pp(42|P)+1)-1,x&=A&~(B&~D),x=x&201326677?x&201326677|1:x?x|2:0}x!==0&&(X=!0,M6(H,x))}else x=b0,x=iD(H,H===_0?x:0),(x&3)===0||NB(H,x)||(X=!0,M6(H,x));H=H.next}}while(X);z$=!1}}function rb(){dD=TL=!1;var P=0;B8!==0&&(HE()&&(P=B8),B8=0);for(var p=np(),X=null,H=_D;H!==null;){var A=H.next,x=pQ(H,p);if(x===0)H.next=null,X===null?_D=A:X.next=A,A===null&&(PA=X);else if(X=H,P!==0||(x&3)!==0)dD=!0;H=A}cB(P,!1)}function pQ(P,p){for(var{suspendedLanes:X,pingedLanes:H,expirationTimes:A}=P,x=P.pendingLanes&-62914561;0<x;){var B=31-Pp(x),D=1<<B,$=A[B];if($===-1){if((D&X)===0||(D&H)!==0)A[B]=EI(D,p)}else $<=p&&(P.expiredLanes|=D);x&=~D}if(p=_0,X=b0,X=iD(P,P===p?X:0),H=P.callbackNode,X===0||P===p&&v0===2||P.cancelPendingCommit!==null)return H!==null&&H!==null&&h$(H),P.callbackNode=null,P.callbackPriority=0;if((X&3)===0||NB(P,X)){if(p=X&-X,p===P.callbackPriority)return p;switch(H!==null&&h$(H),XF(X)){case 2:case 8:X=r6;break;case 32:X=ED;break;case 268435456:X=s6;break;default:X=ED}return H=XQ.bind(null,P),X=kL(X,H),P.callbackPriority=p,P.callbackNode=X,p}return H!==null&&H!==null&&h$(H),P.callbackPriority=2,P.callbackNode=null,2}function XQ(P,p){var X=P.callbackNode;if(IA()&&P.callbackNode!==X)return null;var H=b0;if(H=iD(P,P===_0?H:0),H===0)return null;return i4(P,H,p),pQ(P,np()),P.callbackNode!=null&&P.callbackNode===X?XQ.bind(null,P):null}function M6(P,p){if(IA())return null;i4(P,p,!0)}function sb(P){xE(function(){(r0&6)!==0?kL(n6,P):P()})}function QZ(){return B8===0&&(B8=e6()),B8}function J6(P){return P==null||typeof P==="symbol"||typeof P==="boolean"?null:typeof P==="function"?P:DD(""+P)}function K6(P,p){var X=p.ownerDocument.createElement("input");return X.name=p.name,X.value=p.value,P.id&&X.setAttribute("form",P.id),p.parentNode.insertBefore(X,p),P=new FormData(P),X.parentNode.removeChild(X),P}function eb(P,p,X,H,A){if(p==="submit"&&X&&X.stateNode===A){var x=J6((A[yP]||null).action),B=H.submitter;B&&(p=(p=B[yP]||null)?J6(p.formAction):B.getAttribute("formAction"),p!==null&&(x=p,B=null));var D=new oD("action","action",null,H,A);P.push({event:D,listeners:[{instance:null,listener:function(){if(H.defaultPrevented){if(B8!==0){var $=B?K6(A,B):new FormData(A);pL(X,{pending:!0,data:$,method:A.method,action:x},null,$)}}else typeof x==="function"&&(D.preventDefault(),$=B?K6(A,B):new FormData(A),pL(X,{pending:!0,data:$,method:A.method,action:x},x,$))},currentTarget:A}]})}}for(pB=0;pB<i5.length;pB++)XB=i5[pB],IL=XB.toLowerCase(),bL=XB[0].toUpperCase()+XB.slice(1),Up(IL,"on"+bL);var XB,IL,bL,pB;Up(WF,"onAnimationEnd");Up(MF,"onAnimationIteration");Up(JF,"onAnimationStart");Up("dblclick","onDoubleClick");Up("focusin","onFocus");Up("focusout","onBlur");Up(qb,"onTransitionRun");Up(Yb,"onTransitionStart");Up(Tb,"onTransitionCancel");Up(KF,"onTransitionEnd");EA("onMouseEnter",["mouseout","mouseover"]);EA("onMouseLeave",["mouseout","mouseover"]);EA("onPointerEnter",["pointerout","pointerover"]);EA("onPointerLeave",["pointerout","pointerover"]);C8("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));C8("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));C8("onBeforeInput",["compositionend","keypress","textInput","paste"]);C8("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));C8("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));C8("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var KB="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(KB));function HQ(P,p){p=(p&4)!==0;for(var X=0;X<P.length;X++){var H=P[X],A=H.event;H=H.listeners;P:{var x=void 0;if(p)for(var B=H.length-1;0<=B;B--){var D=H[B],$=D.instance,h=D.currentTarget;if(D=D.listener,$!==x&&A.isPropagationStopped())break P;x=D,A.currentTarget=h;try{x(A)}catch(Z){kD(Z)}A.currentTarget=null,x=$}else for(B=0;B<H.length;B++){if(D=H[B],$=D.instance,h=D.currentTarget,D=D.listener,$!==x&&A.isPropagationStopped())break P;x=D,A.currentTarget=h;try{x(A)}catch(Z){kD(Z)}A.currentTarget=null,x=$}}}}function Y0(P,p){var X=p[c$];X===void 0&&(X=p[c$]=new Set);var H=P+"__bubble";X.has(H)||(AQ(p,P,2,!1),X.add(H))}function U$(P,p,X){var H=0;p&&(H|=4),AQ(X,P,H,p)}var HD="_reactListening"+Math.random().toString(36).slice(2);function VZ(P){if(!P[HD]){P[HD]=!0,AF.forEach(function(X){X!=="selectionchange"&&(tb.has(X)||U$(X,!1,P),U$(X,!0,P))});var p=P.nodeType===9?P:P.ownerDocument;p===null||p[HD]||(p[HD]=!0,U$("selectionchange",!1,p))}}function AQ(P,p,X,H){switch(jQ(p)){case 2:var A=JE;break;case 8:A=KE;break;default:A=TZ}X=A.bind(null,p,X,P),A=void 0,!a$||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(A=!0),H?A!==void 0?P.addEventListener(p,X,{capture:!0,passive:A}):P.addEventListener(p,X,!0):A!==void 0?P.addEventListener(p,X,{passive:A}):P.addEventListener(p,X,!1)}function k$(P,p,X,H,A){var x=H;if((p&1)===0&&(p&2)===0&&H!==null)P:for(;;){if(H===null)return;var B=H.tag;if(B===3||B===4){var D=H.stateNode.containerInfo;if(D===A||D.nodeType===8&&D.parentNode===A)break;if(B===4)for(B=H.return;B!==null;){var $=B.tag;if($===3||$===4){if($=B.stateNode.containerInfo,$===A||$.nodeType===8&&$.parentNode===A)return}B=B.return}for(;D!==null;){if(B=tH(D),B===null)return;if($=B.tag,$===5||$===6||$===26||$===27){H=x=B;continue P}D=D.parentNode}}H=H.return}CF(function(){var h=x,Z=OL(X),F=[];P:{var Q=fF.get(P);if(Q!==void 0){var j=oD,b=P;switch(P){case"keypress":if($D(X)===0)break P;case"keydown":case"keyup":j=oI;break;case"focusin":b="focus",j=F$;break;case"focusout":b="blur",j=F$;break;case"beforeblur":case"afterblur":j=F$;break;case"click":if(X.button===2)break P;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=w5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=wI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=sI;break;case WF:case MF:case JF:j=dI;break;case KF:j=tI;break;case"scroll":case"scrollend":j=NI;break;case"wheel":j=pb;break;case"copy":case"cut":case"paste":j=yI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=_5;break;case"toggle":case"beforetoggle":j=Hb}var E=(p&4)!==0,M=!E&&(P==="scroll"||P==="scrollend"),I=E?Q!==null?Q+"Capture":null:Q;E=[];for(var V=h,Y;V!==null;){var T=V;if(Y=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||Y===null||I===null||(T=IB(V,I),T!=null&&E.push(fB(V,T,Y))),M)break;V=V.return}0<E.length&&(Q=new j(Q,b,null,X,Z),F.push({event:Q,listeners:E}))}}if((p&7)===0){P:{if(Q=P==="mouseover"||P==="pointerover",j=P==="mouseout"||P==="pointerout",Q&&X!==u$&&(b=X.relatedTarget||X.fromElement)&&(tH(b)||b[UA]))break P;if(j||Q){if(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,j){if(b=X.relatedTarget||X.toElement,j=h,b=b?tH(b):null,b!==null&&(M=zA(b),E=b.tag,b!==M||E!==5&&E!==27&&E!==6))b=null}else j=null,b=h;if(j!==b){if(E=w5,T="onMouseLeave",I="onMouseEnter",V="mouse",P==="pointerout"||P==="pointerover")E=_5,T="onPointerLeave",I="onPointerEnter",V="pointer";if(M=j==null?Q:sx(j),Y=b==null?Q:sx(b),Q=new E(T,V+"leave",j,X,Z),Q.target=M,Q.relatedTarget=Y,T=null,tH(Z)===h&&(E=new E(I,V+"enter",b,X,Z),E.target=Y,E.relatedTarget=M,T=E),M=T,j&&b)p:{E=j,I=b,V=0;for(Y=E;Y;Y=s8(Y))V++;Y=0;for(T=I;T;T=s8(T))Y++;for(;0<V-Y;)E=s8(E),V--;for(;0<Y-V;)I=s8(I),Y--;for(;V--;){if(E===I||I!==null&&E===I.alternate)break p;E=s8(E),I=s8(I)}E=null}else E=null;j!==null&&f6(F,Q,j,E,!1),b!==null&&M!==null&&f6(F,M,b,E,!0)}}}P:{if(Q=h?sx(h):window,j=Q.nodeName&&Q.nodeName.toLowerCase(),j==="select"||j==="input"&&Q.type==="file")var J=c5;else if(y5(Q))if(YF)J=Fb;else{J=Zb;var W=Lb}else j=Q.nodeName,!j||j.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?h&&NL(h.elementType)&&(J=c5):J=Cb;if(J&&(J=J(P,h))){qF(F,J,X,Z);break P}W&&W(P,Q,h),P==="focusout"&&h&&Q.type==="number"&&h.memoizedProps.value!=null&&m$(Q,"number",Q.value)}switch(W=h?sx(h):window,P){case"focusin":if(y5(W)||W.contentEditable==="true")BA=W,i$=h,xB=null;break;case"focusout":xB=i$=BA=null;break;case"mousedown":o$=!0;break;case"contextmenu":case"mouseup":case"dragend":o$=!1,a5(F,X,Z);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":a5(F,X,Z)}var K;if(_L)P:{switch(P){case"compositionstart":var S="onCompositionStart";break P;case"compositionend":S="onCompositionEnd";break P;case"compositionupdate":S="onCompositionUpdate";break P}S=void 0}else xA?VF(P,X)&&(S="onCompositionEnd"):P==="keydown"&&X.keyCode===229&&(S="onCompositionStart");if(S&&(QF&&X.locale!=="ko"&&(xA||S!=="onCompositionStart"?S==="onCompositionEnd"&&xA&&(K=FF()):(LH=Z,wL=("value"in LH)?LH.value:LH.textContent,xA=!0)),W=gD(h,S),0<W.length&&(S=new v5(S,P,null,X,Z),F.push({event:S,listeners:W}),K?S.data=K:(K=jF(X),K!==null&&(S.data=K)))),K=xb?Bb(P,X):Db(P,X))S=gD(h,"onBeforeInput"),0<S.length&&(W=new v5("onBeforeInput","beforeinput",null,X,Z),F.push({event:W,listeners:S}),W.data=K);eb(F,P,h,X,Z)}HQ(F,p)})}function fB(P,p,X){return{instance:P,listener:p,currentTarget:X}}function gD(P,p){for(var X=p+"Capture",H=[];P!==null;){var A=P,x=A.stateNode;A=A.tag,A!==5&&A!==26&&A!==27||x===null||(A=IB(P,X),A!=null&&H.unshift(fB(P,A,x)),A=IB(P,p),A!=null&&H.push(fB(P,A,x))),P=P.return}return H}function s8(P){if(P===null)return null;do P=P.return;while(P&&P.tag!==5&&P.tag!==27);return P?P:null}function f6(P,p,X,H,A){for(var x=p._reactName,B=[];X!==null&&X!==H;){var D=X,$=D.alternate,h=D.stateNode;if(D=D.tag,$!==null&&$===H)break;D!==5&&D!==26&&D!==27||h===null||($=h,A?(h=IB(X,x),h!=null&&B.unshift(fB(X,h,$))):A||(h=IB(X,x),h!=null&&B.push(fB(X,h,$)))),X=X.return}B.length!==0&&P.push({event:p,listeners:B})}var PE=/\r\n?/g,pE=/\u0000|\uFFFD/g;function R6(P){return(typeof P==="string"?P:""+P).replace(PE,`
`).replace(pE,"")}function xQ(P,p){return p=R6(p),R6(P)===p?!0:!1}function xh(){}function U0(P,p,X,H,A,x){switch(X){case"children":typeof H==="string"?p==="body"||p==="textarea"&&H===""||WA(P,H):(typeof H==="number"||typeof H==="bigint")&&p!=="body"&&WA(P,""+H);break;case"className":n1(P,"class",H);break;case"tabIndex":n1(P,"tabindex",H);break;case"dir":case"role":case"viewBox":case"width":case"height":n1(P,X,H);break;case"style":ZF(P,H,x);break;case"data":if(p!=="object"){n1(P,"data",H);break}case"src":case"href":if(H===""&&(p!=="a"||X!=="href")){P.removeAttribute(X);break}if(H==null||typeof H==="function"||typeof H==="symbol"||typeof H==="boolean"){P.removeAttribute(X);break}H=DD(""+H),P.setAttribute(X,H);break;case"action":case"formAction":if(typeof H==="function"){P.setAttribute(X,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x==="function"&&(X==="formAction"?(p!=="input"&&U0(P,p,"name",A.name,A,null),U0(P,p,"formEncType",A.formEncType,A,null),U0(P,p,"formMethod",A.formMethod,A,null),U0(P,p,"formTarget",A.formTarget,A,null)):(U0(P,p,"encType",A.encType,A,null),U0(P,p,"method",A.method,A,null),U0(P,p,"target",A.target,A,null)));if(H==null||typeof H==="symbol"||typeof H==="boolean"){P.removeAttribute(X);break}H=DD(""+H),P.setAttribute(X,H);break;case"onClick":H!=null&&(P.onclick=xh);break;case"onScroll":H!=null&&Y0("scroll",P);break;case"onScrollEnd":H!=null&&Y0("scrollend",P);break;case"dangerouslySetInnerHTML":if(H!=null){if(typeof H!=="object"||!("__html"in H))throw Error(r(61));if(X=H.__html,X!=null){if(A.children!=null)throw Error(r(60));P.innerHTML=X}}break;case"multiple":P.multiple=H&&typeof H!=="function"&&typeof H!=="symbol";break;case"muted":P.muted=H&&typeof H!=="function"&&typeof H!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(H==null||typeof H==="function"||typeof H==="boolean"||typeof H==="symbol"){P.removeAttribute("xlink:href");break}X=DD(""+H),P.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",X);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":H!=null&&typeof H!=="function"&&typeof H!=="symbol"?P.setAttribute(X,""+H):P.removeAttribute(X);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":H&&typeof H!=="function"&&typeof H!=="symbol"?P.setAttribute(X,""):P.removeAttribute(X);break;case"capture":case"download":H===!0?P.setAttribute(X,""):H!==!1&&H!=null&&typeof H!=="function"&&typeof H!=="symbol"?P.setAttribute(X,H):P.removeAttribute(X);break;case"cols":case"rows":case"size":case"span":H!=null&&typeof H!=="function"&&typeof H!=="symbol"&&!isNaN(H)&&1<=H?P.setAttribute(X,H):P.removeAttribute(X);break;case"rowSpan":case"start":H==null||typeof H==="function"||typeof H==="symbol"||isNaN(H)?P.removeAttribute(X):P.setAttribute(X,H);break;case"popover":Y0("beforetoggle",P),Y0("toggle",P),BD(P,"popover",H);break;case"xlinkActuate":QX(P,"http://www.w3.org/1999/xlink","xlink:actuate",H);break;case"xlinkArcrole":QX(P,"http://www.w3.org/1999/xlink","xlink:arcrole",H);break;case"xlinkRole":QX(P,"http://www.w3.org/1999/xlink","xlink:role",H);break;case"xlinkShow":QX(P,"http://www.w3.org/1999/xlink","xlink:show",H);break;case"xlinkTitle":QX(P,"http://www.w3.org/1999/xlink","xlink:title",H);break;case"xlinkType":QX(P,"http://www.w3.org/1999/xlink","xlink:type",H);break;case"xmlBase":QX(P,"http://www.w3.org/XML/1998/namespace","xml:base",H);break;case"xmlLang":QX(P,"http://www.w3.org/XML/1998/namespace","xml:lang",H);break;case"xmlSpace":QX(P,"http://www.w3.org/XML/1998/namespace","xml:space",H);break;case"is":BD(P,"is",H);break;case"innerText":case"textContent":break;default:if(!(2<X.length)||X[0]!=="o"&&X[0]!=="O"||X[1]!=="n"&&X[1]!=="N")X=kI.get(X)||X,BD(P,X,H)}}function EL(P,p,X,H,A,x){switch(X){case"style":ZF(P,H,x);break;case"dangerouslySetInnerHTML":if(H!=null){if(typeof H!=="object"||!("__html"in H))throw Error(r(61));if(X=H.__html,X!=null){if(A.children!=null)throw Error(r(60));P.innerHTML=X}}break;case"children":typeof H==="string"?WA(P,H):(typeof H==="number"||typeof H==="bigint")&&WA(P,""+H);break;case"onScroll":H!=null&&Y0("scroll",P);break;case"onScrollEnd":H!=null&&Y0("scrollend",P);break;case"onClick":H!=null&&(P.onclick=xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xF.hasOwnProperty(X))P:{if(X[0]==="o"&&X[1]==="n"&&(A=X.endsWith("Capture"),p=X.slice(2,A?X.length-7:void 0),x=P[yP]||null,x=x!=null?x[X]:null,typeof x==="function"&&P.removeEventListener(p,x,A),typeof H==="function")){typeof x!=="function"&&x!==null&&(X in P?P[X]=null:P.hasAttribute(X)&&P.removeAttribute(X)),P.addEventListener(p,H,A);break P}X in P?P[X]=H:H===!0?P.setAttribute(X,""):BD(P,X,H)}}}function WP(P,p,X){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y0("error",P),Y0("load",P);var H=!1,A=!1,x;for(x in X)if(X.hasOwnProperty(x)){var B=X[x];if(B!=null)switch(x){case"src":H=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:U0(P,p,x,B,X,null)}}A&&U0(P,p,"srcSet",X.srcSet,X,null),H&&U0(P,p,"src",X.src,X,null);return;case"input":Y0("invalid",P);var D=x=B=A=null,$=null,h=null;for(H in X)if(X.hasOwnProperty(H)){var Z=X[H];if(Z!=null)switch(H){case"name":A=Z;break;case"type":B=Z;break;case"checked":$=Z;break;case"defaultChecked":h=Z;break;case"value":x=Z;break;case"defaultValue":D=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,p));break;default:U0(P,p,H,Z,X,null)}}hF(P,x,D,$,h,B,A,!1),WD(P);return;case"select":Y0("invalid",P),H=B=x=null;for(A in X)if(X.hasOwnProperty(A)&&(D=X[A],D!=null))switch(A){case"value":x=D;break;case"defaultValue":B=D;break;case"multiple":H=D;default:U0(P,p,A,D,X,null)}p=x,X=B,P.multiple=!!H,p!=null?QA(P,!!H,p,!1):X!=null&&QA(P,!!H,X,!0);return;case"textarea":Y0("invalid",P),x=A=H=null;for(B in X)if(X.hasOwnProperty(B)&&(D=X[B],D!=null))switch(B){case"value":H=D;break;case"defaultValue":A=D;break;case"children":x=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:U0(P,p,B,D,X,null)}LF(P,H,A,x),WD(P);return;case"option":for($ in X)if(X.hasOwnProperty($)&&(H=X[$],H!=null))switch($){case"selected":P.selected=H&&typeof H!=="function"&&typeof H!=="symbol";break;default:U0(P,p,$,H,X,null)}return;case"dialog":Y0("cancel",P),Y0("close",P);break;case"iframe":case"object":Y0("load",P);break;case"video":case"audio":for(H=0;H<KB.length;H++)Y0(KB[H],P);break;case"image":Y0("error",P),Y0("load",P);break;case"details":Y0("toggle",P);break;case"embed":case"source":case"link":Y0("error",P),Y0("load",P);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in X)if(X.hasOwnProperty(h)&&(H=X[h],H!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:U0(P,p,h,H,X,null)}return;default:if(NL(p)){for(Z in X)X.hasOwnProperty(Z)&&(H=X[Z],H!==void 0&&EL(P,p,Z,H,X,void 0));return}}for(D in X)X.hasOwnProperty(D)&&(H=X[D],H!=null&&U0(P,p,D,H,X,null))}function XE(P,p,X,H){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,x=null,B=null,D=null,$=null,h=null,Z=null;for(j in X){var F=X[j];if(X.hasOwnProperty(j)&&F!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":$=F;default:H.hasOwnProperty(j)||U0(P,p,j,null,H,F)}}for(var Q in H){var j=H[Q];if(F=X[Q],H.hasOwnProperty(Q)&&(j!=null||F!=null))switch(Q){case"type":x=j;break;case"name":A=j;break;case"checked":h=j;break;case"defaultChecked":Z=j;break;case"value":B=j;break;case"defaultValue":D=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,p));break;default:j!==F&&U0(P,p,Q,j,H,F)}}l$(P,B,D,$,h,Z,x,A);return;case"select":j=B=D=Q=null;for(x in X)if($=X[x],X.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":j=$;default:H.hasOwnProperty(x)||U0(P,p,x,null,H,$)}for(A in H)if(x=H[A],$=X[A],H.hasOwnProperty(A)&&(x!=null||$!=null))switch(A){case"value":Q=x;break;case"defaultValue":D=x;break;case"multiple":B=x;default:x!==$&&U0(P,p,A,x,H,$)}p=D,X=B,H=j,Q!=null?QA(P,!!X,Q,!1):!!H!==!!X&&(p!=null?QA(P,!!X,p,!0):QA(P,!!X,X?[]:"",!1));return;case"textarea":j=Q=null;for(D in X)if(A=X[D],X.hasOwnProperty(D)&&A!=null&&!H.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:U0(P,p,D,null,H,A)}for(B in H)if(A=H[B],x=X[B],H.hasOwnProperty(B)&&(A!=null||x!=null))switch(B){case"value":Q=A;break;case"defaultValue":j=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==x&&U0(P,p,B,A,H,x)}$F(P,Q,j);return;case"option":for(var b in X)if(Q=X[b],X.hasOwnProperty(b)&&Q!=null&&!H.hasOwnProperty(b))switch(b){case"selected":P.selected=!1;break;default:U0(P,p,b,null,H,Q)}for($ in H)if(Q=H[$],j=X[$],H.hasOwnProperty($)&&Q!==j&&(Q!=null||j!=null))switch($){case"selected":P.selected=Q&&typeof Q!=="function"&&typeof Q!=="symbol";break;default:U0(P,p,$,Q,H,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in X)Q=X[E],X.hasOwnProperty(E)&&Q!=null&&!H.hasOwnProperty(E)&&U0(P,p,E,null,H,Q);for(h in H)if(Q=H[h],j=X[h],H.hasOwnProperty(h)&&Q!==j&&(Q!=null||j!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,p));break;default:U0(P,p,h,Q,H,j)}return;default:if(NL(p)){for(var M in X)Q=X[M],X.hasOwnProperty(M)&&Q!==void 0&&!H.hasOwnProperty(M)&&EL(P,p,M,void 0,H,Q);for(Z in H)Q=H[Z],j=X[Z],!H.hasOwnProperty(Z)||Q===j||Q===void 0&&j===void 0||EL(P,p,Z,Q,H,j);return}}for(var I in X)Q=X[I],X.hasOwnProperty(I)&&Q!=null&&!H.hasOwnProperty(I)&&U0(P,p,I,null,H,Q);for(F in H)Q=H[F],j=X[F],!H.hasOwnProperty(F)||Q===j||Q==null&&j==null||U0(P,p,F,Q,H,j)}var WL=null,ML=null;function yD(P){return P.nodeType===9?P:P.ownerDocument}function S6(P){switch(P){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function BQ(P,p){if(P===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return P===1&&p==="foreignObject"?0:P}function JL(P,p){return P==="textarea"||P==="noscript"||typeof p.children==="string"||typeof p.children==="number"||typeof p.children==="bigint"||typeof p.dangerouslySetInnerHTML==="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var G$=null;function HE(){var P=window.event;if(P&&P.type==="popstate"){if(P===G$)return!1;return G$=P,!0}return G$=null,!1}var DQ=typeof setTimeout==="function"?setTimeout:void 0,AE=typeof clearTimeout==="function"?clearTimeout:void 0,z6=typeof Promise==="function"?Promise:void 0,xE=typeof queueMicrotask==="function"?queueMicrotask:typeof z6!=="undefined"?function(P){return z6.resolve(null).then(P).catch(BE)}:DQ;function BE(P){setTimeout(function(){throw P})}function N$(P,p){var X=p,H=0;do{var A=X.nextSibling;if(P.removeChild(X),A&&A.nodeType===8)if(X=A.data,X==="/$"){if(H===0){P.removeChild(A),kB(p);return}H--}else X!=="$"&&X!=="$?"&&X!=="$!"||H++;X=A}while(X);kB(p)}function KL(P){var p=P.firstChild;p&&p.nodeType===10&&(p=p.nextSibling);for(;p;){var X=p;switch(p=p.nextSibling,X.nodeName){case"HTML":case"HEAD":case"BODY":KL(X),GL(X);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(X.rel.toLowerCase()==="stylesheet")continue}P.removeChild(X)}}function DE(P,p,X,H){for(;P.nodeType===1;){var A=X;if(P.nodeName.toLowerCase()!==p.toLowerCase()){if(!H&&(P.nodeName!=="INPUT"||P.type!=="hidden"))break}else if(!H)if(p==="input"&&P.type==="hidden"){var x=A.name==null?null:""+A.name;if(A.type==="hidden"&&P.getAttribute("name")===x)return P}else return P;else if(!P[TB])switch(p){case"meta":if(!P.hasAttribute("itemprop"))break;return P;case"link":if(x=P.getAttribute("rel"),x==="stylesheet"&&P.hasAttribute("data-precedence"))break;else if(x!==A.rel||P.getAttribute("href")!==(A.href==null?null:A.href)||P.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||P.getAttribute("title")!==(A.title==null?null:A.title))break;return P;case"style":if(P.hasAttribute("data-precedence"))break;return P;case"script":if(x=P.getAttribute("src"),(x!==(A.src==null?null:A.src)||P.getAttribute("type")!==(A.type==null?null:A.type)||P.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&x&&P.hasAttribute("async")&&!P.hasAttribute("itemprop"))break;return P;default:return P}if(P=zp(P.nextSibling),P===null)break}return null}function hE(P,p,X){if(p==="")return null;for(;P.nodeType!==3;){if((P.nodeType!==1||P.nodeName!=="INPUT"||P.type!=="hidden")&&!X)return null;if(P=zp(P.nextSibling),P===null)return null}return P}function zp(P){for(;P!=null;P=P.nextSibling){var p=P.nodeType;if(p===1||p===3)break;if(p===8){if(p=P.data,p==="$"||p==="$!"||p==="$?"||p==="F!"||p==="F")break;if(p==="/$")return null}}return P}function U6(P){P=P.previousSibling;for(var p=0;P;){if(P.nodeType===8){var X=P.data;if(X==="$"||X==="$!"||X==="$?"){if(p===0)return P;p--}else X==="/$"&&p++}P=P.previousSibling}return null}function hQ(P,p,X){switch(p=yD(X),P){case"html":if(P=p.documentElement,!P)throw Error(r(452));return P;case"head":if(P=p.head,!P)throw Error(r(453));return P;case"body":if(P=p.body,!P)throw Error(r(454));return P;default:throw Error(r(451))}}var Ip=new Map,k6=new Set;function cD(P){return typeof P.getRootNode==="function"?P.getRootNode():P.ownerDocument}var UX=c0.d;c0.d={f:$E,r:LE,D:ZE,C:CE,L:FE,m:QE,X:jE,S:VE,M:qE};function $E(){var P=UX.f(),p=Hh();return P||p}function LE(P){var p=kA(P);p!==null&&p.tag===5&&p.type==="form"?h4(p):UX.r(P)}var NA=typeof document==="undefined"?null:document;function $Q(P,p,X){var H=NA;if(H&&typeof p==="string"&&p){var A=Vp(p);A='link[rel="'+P+'"][href="'+A+'"]',typeof X==="string"&&(A+='[crossorigin="'+X+'"]'),k6.has(A)||(k6.add(A),P={rel:P,crossOrigin:X,href:p},H.querySelector(A)===null&&(p=H.createElement("link"),WP(p,"link",P),YP(p),H.head.appendChild(p)))}}function ZE(P){UX.D(P),$Q("dns-prefetch",P,null)}function CE(P,p){UX.C(P,p),$Q("preconnect",P,p)}function FE(P,p,X){UX.L(P,p,X);var H=NA;if(H&&P&&p){var A='link[rel="preload"][as="'+Vp(p)+'"]';p==="image"?X&&X.imageSrcSet?(A+='[imagesrcset="'+Vp(X.imageSrcSet)+'"]',typeof X.imageSizes==="string"&&(A+='[imagesizes="'+Vp(X.imageSizes)+'"]')):A+='[href="'+Vp(P)+'"]':A+='[href="'+Vp(P)+'"]';var x=A;switch(p){case"style":x=SA(P);break;case"script":x=OA(P)}Ip.has(x)||(P=l0({rel:"preload",href:p==="image"&&X&&X.imageSrcSet?void 0:P,as:p},X),Ip.set(x,P),H.querySelector(A)!==null||p==="style"&&H.querySelector(lB(x))||p==="script"&&H.querySelector(mB(x))||(p=H.createElement("link"),WP(p,"link",P),YP(p),H.head.appendChild(p)))}}function QE(P,p){UX.m(P,p);var X=NA;if(X&&P){var H=p&&typeof p.as==="string"?p.as:"script",A='link[rel="modulepreload"][as="'+Vp(H)+'"][href="'+Vp(P)+'"]',x=A;switch(H){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=OA(P)}if(!Ip.has(x)&&(P=l0({rel:"modulepreload",href:P},p),Ip.set(x,P),X.querySelector(A)===null)){switch(H){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(X.querySelector(mB(x)))return}H=X.createElement("link"),WP(H,"link",P),YP(H),X.head.appendChild(H)}}}function VE(P,p,X){UX.S(P,p,X);var H=NA;if(H&&P){var A=FA(H).hoistableStyles,x=SA(P);p=p||"default";var B=A.get(x);if(!B){var D={loading:0,preload:null};if(B=H.querySelector(lB(x)))D.loading=5;else{P=l0({rel:"stylesheet",href:P,"data-precedence":p},X),(X=Ip.get(x))&&jZ(P,X);var $=B=H.createElement("link");YP($),WP($,"link",P),$._p=new Promise(function(h,Z){$.onload=h,$.onerror=Z}),$.addEventListener("load",function(){D.loading|=1}),$.addEventListener("error",function(){D.loading|=2}),D.loading|=4,jD(B,p,H)}B={type:"stylesheet",instance:B,count:1,state:D},A.set(x,B)}}}function jE(P,p){UX.X(P,p);var X=NA;if(X&&P){var H=FA(X).hoistableScripts,A=OA(P),x=H.get(A);x||(x=X.querySelector(mB(A)),x||(P=l0({src:P,async:!0},p),(p=Ip.get(A))&&qZ(P,p),x=X.createElement("script"),YP(x),WP(x,"link",P),X.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},H.set(A,x))}}function qE(P,p){UX.M(P,p);var X=NA;if(X&&P){var H=FA(X).hoistableScripts,A=OA(P),x=H.get(A);x||(x=X.querySelector(mB(A)),x||(P=l0({src:P,async:!0,type:"module"},p),(p=Ip.get(A))&&qZ(P,p),x=X.createElement("script"),YP(x),WP(x,"link",P),X.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},H.set(A,x))}}function G6(P,p,X,H){var A=(A=ZH.current)?cD(A):null;if(!A)throw Error(r(446));switch(P){case"meta":case"title":return null;case"style":return typeof X.precedence==="string"&&typeof X.href==="string"?(p=SA(X.href),X=FA(A).hoistableStyles,H=X.get(p),H||(H={type:"style",instance:null,count:0,state:null},X.set(p,H)),H):{type:"void",instance:null,count:0,state:null};case"link":if(X.rel==="stylesheet"&&typeof X.href==="string"&&typeof X.precedence==="string"){P=SA(X.href);var x=FA(A).hoistableStyles,B=x.get(P);if(B||(A=A.ownerDocument||A,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(P,B),(x=A.querySelector(lB(P)))&&!x._p&&(B.instance=x,B.state.loading=5),Ip.has(P)||(X={rel:"preload",as:"style",href:X.href,crossOrigin:X.crossOrigin,integrity:X.integrity,media:X.media,hrefLang:X.hrefLang,referrerPolicy:X.referrerPolicy},Ip.set(P,X),x||YE(A,P,X,B.state))),p&&H===null)throw Error(r(528,""));return B}if(p&&H!==null)throw Error(r(529,""));return null;case"script":return p=X.async,X=X.src,typeof X==="string"&&p&&typeof p!=="function"&&typeof p!=="symbol"?(p=OA(X),X=FA(A).hoistableScripts,H=X.get(p),H||(H={type:"script",instance:null,count:0,state:null},X.set(p,H)),H):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,P))}}function SA(P){return'href="'+Vp(P)+'"'}function lB(P){return'link[rel="stylesheet"]['+P+"]"}function LQ(P){return l0({},P,{"data-precedence":P.precedence,precedence:null})}function YE(P,p,X,H){P.querySelector('link[rel="preload"][as="style"]['+p+"]")?H.loading=1:(p=P.createElement("link"),H.preload=p,p.addEventListener("load",function(){return H.loading|=1}),p.addEventListener("error",function(){return H.loading|=2}),WP(p,"link",X),YP(p),P.head.appendChild(p))}function OA(P){return'[src="'+Vp(P)+'"]'}function mB(P){return"script[async]"+P}function N6(P,p,X){if(p.count++,p.instance===null)switch(p.type){case"style":var H=P.querySelector('style[data-href~="'+Vp(X.href)+'"]');if(H)return p.instance=H,YP(H),H;var A=l0({},X,{"data-href":X.href,"data-precedence":X.precedence,href:null,precedence:null});return H=(P.ownerDocument||P).createElement("style"),YP(H),WP(H,"style",A),jD(H,X.precedence,P),p.instance=H;case"stylesheet":A=SA(X.href);var x=P.querySelector(lB(A));if(x)return p.state.loading|=4,p.instance=x,YP(x),x;H=LQ(X),(A=Ip.get(A))&&jZ(H,A),x=(P.ownerDocument||P).createElement("link"),YP(x);var B=x;return B._p=new Promise(function(D,$){B.onload=D,B.onerror=$}),WP(x,"link",H),p.state.loading|=4,jD(x,X.precedence,P),p.instance=x;case"script":if(x=OA(X.src),A=P.querySelector(mB(x)))return p.instance=A,YP(A),A;if(H=X,A=Ip.get(x))H=l0({},X),qZ(H,A);return P=P.ownerDocument||P,A=P.createElement("script"),YP(A),WP(A,"link",H),P.head.appendChild(A),p.instance=A;case"void":return null;default:throw Error(r(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(H=p.instance,p.state.loading|=4,jD(H,X.precedence,P));return p.instance}function jD(P,p,X){for(var H=X.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=H.length?H[H.length-1]:null,x=A,B=0;B<H.length;B++){var D=H[B];if(D.dataset.precedence===p)x=D;else if(x!==A)break}x?x.parentNode.insertBefore(P,x.nextSibling):(p=X.nodeType===9?X.head:X,p.insertBefore(P,p.firstChild))}function jZ(P,p){P.crossOrigin==null&&(P.crossOrigin=p.crossOrigin),P.referrerPolicy==null&&(P.referrerPolicy=p.referrerPolicy),P.title==null&&(P.title=p.title)}function qZ(P,p){P.crossOrigin==null&&(P.crossOrigin=p.crossOrigin),P.referrerPolicy==null&&(P.referrerPolicy=p.referrerPolicy),P.integrity==null&&(P.integrity=p.integrity)}var qD=null;function O6(P,p,X){if(qD===null){var H=new Map,A=qD=new Map;A.set(X,H)}else A=qD,H=A.get(X),H||(H=new Map,A.set(X,H));if(H.has(P))return H;H.set(P,null),X=X.getElementsByTagName(P);for(A=0;A<X.length;A++){var x=X[A];if(!(x[TB]||x[fP]||P==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var B=x.getAttribute(p)||"";B=P+B;var D=H.get(B);D?D.push(x):H.set(B,[x])}}return H}function w6(P,p,X){P=P.ownerDocument||P,P.head.insertBefore(X,p==="title"?P.querySelector("head > title"):null)}function TE(P,p,X){if(X===1||p.itemProp!=null)return!1;switch(P){case"meta":case"title":return!0;case"style":if(typeof p.precedence!=="string"||typeof p.href!=="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!=="string"||typeof p.href!=="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return P=p.disabled,typeof p.precedence==="string"&&P==null;default:return!0}case"script":if(p.async&&typeof p.async!=="function"&&typeof p.async!=="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src==="string")return!0}return!1}function ZQ(P){return P.type==="stylesheet"&&(P.state.loading&3)===0?!1:!0}var RB=null;function IE(){}function bE(P,p,X){if(RB===null)throw Error(r(475));var H=RB;if(p.type==="stylesheet"&&(typeof X.media!=="string"||matchMedia(X.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var A=SA(X.href),x=P.querySelector(lB(A));if(x){P=x._p,P!==null&&typeof P==="object"&&typeof P.then==="function"&&(H.count++,H=lD.bind(H),P.then(H,H)),p.state.loading|=4,p.instance=x,YP(x);return}x=P.ownerDocument||P,X=LQ(X),(A=Ip.get(A))&&jZ(X,A),x=x.createElement("link"),YP(x);var B=x;B._p=new Promise(function(D,$){B.onload=D,B.onerror=$}),WP(x,"link",X),p.instance=x}H.stylesheets===null&&(H.stylesheets=new Map),H.stylesheets.set(p,P),(P=p.state.preload)&&(p.state.loading&3)===0&&(H.count++,p=lD.bind(H),P.addEventListener("load",p),P.addEventListener("error",p))}}function EE(){if(RB===null)throw Error(r(475));var P=RB;return P.stylesheets&&P.count===0&&fL(P,P.stylesheets),0<P.count?function(p){var X=setTimeout(function(){if(P.stylesheets&&fL(P,P.stylesheets),P.unsuspend){var H=P.unsuspend;P.unsuspend=null,H()}},60000);return P.unsuspend=p,function(){P.unsuspend=null,clearTimeout(X)}}:null}function lD(){if(this.count--,this.count===0){if(this.stylesheets)fL(this,this.stylesheets);else if(this.unsuspend){var P=this.unsuspend;this.unsuspend=null,P()}}}var mD=null;function fL(P,p){P.stylesheets=null,P.unsuspend!==null&&(P.count++,mD=new Map,p.forEach(WE,P),mD=null,lD.call(P))}function WE(P,p){if(!(p.state.loading&4)){var X=mD.get(P);if(X)var H=X.get(null);else{X=new Map,mD.set(P,X);for(var A=P.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<A.length;x++){var B=A[x];if(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")X.set(B.dataset.precedence,B),H=B}H&&X.set(null,H)}A=p.instance,B=A.getAttribute("data-precedence"),x=X.get(B)||H,x===H&&X.set(null,A),X.set(B,A),this.count++,H=lD.bind(this),A.addEventListener("load",H),A.addEventListener("error",H),x?x.parentNode.insertBefore(A,x.nextSibling):(P=P.nodeType===9?P.head:P,P.insertBefore(A,P.firstChild)),p.state.loading|=4}}var SB={$$typeof:bX,Provider:null,Consumer:null,_currentValue:p8,_currentValue2:p8,_threadCount:0};function ME(P,p,X,H,A,x,B,D){this.tag=1,this.containerInfo=P,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$$(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$$(0),this.hiddenUpdates=$$(null),this.identifierPrefix=H,this.onUncaughtError=A,this.onCaughtError=x,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function CQ(P,p,X,H,A,x,B,D,$,h,Z,F){return P=new ME(P,p,X,B,D,$,h,F),p=1,x===!0&&(p|=24),x=qp(3,null,null,p),P.current=x,x.stateNode=P,p=uL(),p.refCount++,P.pooledCache=p,p.refCount++,x.memoizedState={element:H,isDehydrated:X,cache:p},BZ(x),P}function FQ(P){if(!P)return $A;return P=$A,P}function QQ(P,p,X,H,A,x){A=FQ(A),H.context===null?H.context=A:H.pendingContext=A,H=CH(p),H.payload={element:X},x=x===void 0?null:x,x!==null&&(H.callback=x),X=FH(P,H,p),X!==null&&(GP(X,P,p),ZB(X,P,p))}function v6(P,p){if(P=P.memoizedState,P!==null&&P.dehydrated!==null){var X=P.retryLane;P.retryLane=X!==0&&X<p?X:p}}function YZ(P,p){v6(P,p),(P=P.alternate)&&v6(P,p)}function VQ(P){if(P.tag===13){var p=TH(P,67108864);p!==null&&GP(p,P,67108864),YZ(P,67108864)}}var uD=!0;function JE(P,p,X,H){var A=$0.T;$0.T=null;var x=c0.p;try{c0.p=2,TZ(P,p,X,H)}finally{c0.p=x,$0.T=A}}function KE(P,p,X,H){var A=$0.T;$0.T=null;var x=c0.p;try{c0.p=8,TZ(P,p,X,H)}finally{c0.p=x,$0.T=A}}function TZ(P,p,X,H){if(uD){var A=RL(H);if(A===null)k$(P,p,H,aD,X),_6(P,H);else if(RE(A,P,p,X,H))H.stopPropagation();else if(_6(P,H),p&4&&-1<fE.indexOf(P)){for(;A!==null;){var x=kA(A);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var B=nH(x.pendingLanes);if(B!==0){var D=x;D.pendingLanes|=2;for(D.entangledLanes|=2;B;){var $=1<<31-Pp(B);D.entanglements[1]|=$,B&=~$}tp(x),(r0&6)===0&&(wD=np()+500,cB(0,!1))}}break;case 13:D=TH(x,2),D!==null&&GP(D,x,2),Hh(),YZ(x,2)}if(x=RL(H),x===null&&k$(P,p,H,aD,X),x===A)break;A=x}A!==null&&H.stopPropagation()}else k$(P,p,H,null,X)}}function RL(P){return P=OL(P),IZ(P)}var aD=null;function IZ(P){if(aD=null,P=tH(P),P!==null){var p=zA(P);if(p===null)P=null;else{var X=p.tag;if(X===13){if(P=i6(p),P!==null)return P;P=null}else if(X===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;P=null}else p!==P&&(P=null)}}return aD=P,null}function jQ(P){switch(P){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(QI()){case n6:return 2;case r6:return 8;case ED:case VI:return 32;case s6:return 268435456;default:return 32}default:return 32}}var SL=!1,jH=null,qH=null,YH=null,zB=new Map,UB=new Map,hH=[],fE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _6(P,p){switch(P){case"focusin":case"focusout":jH=null;break;case"dragenter":case"dragleave":qH=null;break;case"mouseover":case"mouseout":YH=null;break;case"pointerover":case"pointerout":zB.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":UB.delete(p.pointerId)}}function ix(P,p,X,H,A,x){if(P===null||P.nativeEvent!==x)return P={blockedOn:p,domEventName:X,eventSystemFlags:H,nativeEvent:x,targetContainers:[A]},p!==null&&(p=kA(p),p!==null&&VQ(p)),P;return P.eventSystemFlags|=H,p=P.targetContainers,A!==null&&p.indexOf(A)===-1&&p.push(A),P}function RE(P,p,X,H,A){switch(p){case"focusin":return jH=ix(jH,P,p,X,H,A),!0;case"dragenter":return qH=ix(qH,P,p,X,H,A),!0;case"mouseover":return YH=ix(YH,P,p,X,H,A),!0;case"pointerover":var x=A.pointerId;return zB.set(x,ix(zB.get(x)||null,P,p,X,H,A)),!0;case"gotpointercapture":return x=A.pointerId,UB.set(x,ix(UB.get(x)||null,P,p,X,H,A)),!0}return!1}function qQ(P){var p=tH(P.target);if(p!==null){var X=zA(p);if(X!==null){if(p=X.tag,p===13){if(p=i6(X),p!==null){P.blockedOn=p,MI(P.priority,function(){if(X.tag===13){var H=pp(),A=TH(X,H);A!==null&&GP(A,X,H),YZ(X,H)}});return}}else if(p===3&&X.stateNode.current.memoizedState.isDehydrated){P.blockedOn=X.tag===3?X.stateNode.containerInfo:null;return}}}P.blockedOn=null}function YD(P){if(P.blockedOn!==null)return!1;for(var p=P.targetContainers;0<p.length;){var X=RL(P.nativeEvent);if(X===null){X=P.nativeEvent;var H=new X.constructor(X.type,X);u$=H,X.target.dispatchEvent(H),u$=null}else return p=kA(X),p!==null&&VQ(p),P.blockedOn=X,!1;p.shift()}return!0}function d6(P,p,X){YD(P)&&X.delete(p)}function SE(){SL=!1,jH!==null&&YD(jH)&&(jH=null),qH!==null&&YD(qH)&&(qH=null),YH!==null&&YD(YH)&&(YH=null),zB.forEach(d6),UB.forEach(d6)}function AD(P,p){P.blockedOn===p&&(P.blockedOn=null,SL||(SL=!0,n8(o8,SE)))}var xD=null;function g6(P){xD!==P&&(xD=P,n8(o8,function(){xD===P&&(xD=null);for(var p=0;p<P.length;p+=3){var X=P[p],H=P[p+1],A=P[p+2];if(typeof H!=="function")if(IZ(H||X)===null)continue;else break;var x=kA(X);x!==null&&(P.splice(p,3),p-=3,pL(x,{pending:!0,data:A,method:X.method,action:H},H,A))}}))}function kB(P){function p($){return AD($,P)}jH!==null&&AD(jH,P),qH!==null&&AD(qH,P),YH!==null&&AD(YH,P),zB.forEach(p),UB.forEach(p);for(var X=0;X<hH.length;X++){var H=hH[X];H.blockedOn===P&&(H.blockedOn=null)}for(;0<hH.length&&(X=hH[0],X.blockedOn===null);)qQ(X),X.blockedOn===null&&hH.shift();if(X=(P.ownerDocument||P).$$reactFormReplay,X!=null)for(H=0;H<X.length;H+=3){var A=X[H],x=X[H+1],B=A[yP]||null;if(typeof x==="function")B||g6(X);else if(B){var D=null;if(x&&x.hasAttribute("formAction")){if(A=x,B=x[yP]||null)D=B.formAction;else if(IZ(A)!==null)continue}else D=B.action;typeof D==="function"?X[H+1]=D:(X.splice(H,3),H-=3),g6(X)}}}function bZ(P){this._internalRoot=P}Bh.prototype.render=bZ.prototype.render=function(P){var p=this._internalRoot;if(p===null)throw Error(r(409));var X=p.current,H=pp();QQ(X,H,P,p,null,null)};Bh.prototype.unmount=bZ.prototype.unmount=function(){var P=this._internalRoot;if(P!==null){this._internalRoot=null;var p=P.containerInfo;P.tag===0&&IA(),QQ(P.current,2,null,P,null,null),Hh(),p[UA]=null}};function Bh(P){this._internalRoot=P}Bh.prototype.unstable_scheduleHydration=function(P){if(P){var p=HF();P={blockedOn:null,target:P,priority:p};for(var X=0;X<hH.length&&p!==0&&p<hH[X].priority;X++);hH.splice(X,0,P),X===0&&qQ(P)}};var y6=A$;if(y6!=="19.0.0")throw Error(r(527,y6,"19.0.0"));c0.findDOMNode=function(P){var p=P._reactInternals;if(p===void 0){if(typeof P.render==="function")throw Error(r(188));throw P=Object.keys(P).join(","),Error(r(268,P))}return P=ZI(p),P=P!==null?o6(P):null,P=P===null?null:P.stateNode,P};var zE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:$0,findFiberByHostInstance:tH,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"){if(pA=__REACT_DEVTOOLS_GLOBAL_HOOK__,!pA.isDisabled&&pA.supportsFiber)try{GB=pA.inject(zE),tP=pA}catch(P){}}var pA;UE.createRoot=function(P,p){if(!l6(P))throw Error(r(299));var X=!1,H="",A=Q4,x=V4,B=j4,D=null;return p!==null&&p!==void 0&&(p.unstable_strictMode===!0&&(X=!0),p.identifierPrefix!==void 0&&(H=p.identifierPrefix),p.onUncaughtError!==void 0&&(A=p.onUncaughtError),p.onCaughtError!==void 0&&(x=p.onCaughtError),p.onRecoverableError!==void 0&&(B=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(D=p.unstable_transitionCallbacks)),p=CQ(P,1,!1,null,null,X,H,A,x,B,D,null),P[UA]=p.current,VZ(P.nodeType===8?P.parentNode:P),new bZ(p)};UE.hydrateRoot=function(P,p,X){if(!l6(P))throw Error(r(299));var H=!1,A="",x=Q4,B=V4,D=j4,$=null,h=null;return X!==null&&X!==void 0&&(X.unstable_strictMode===!0&&(H=!0),X.identifierPrefix!==void 0&&(A=X.identifierPrefix),X.onUncaughtError!==void 0&&(x=X.onUncaughtError),X.onCaughtError!==void 0&&(B=X.onCaughtError),X.onRecoverableError!==void 0&&(D=X.onRecoverableError),X.unstable_transitionCallbacks!==void 0&&($=X.unstable_transitionCallbacks),X.formState!==void 0&&(h=X.formState)),p=CQ(P,1,!0,p,X!=null?X:null,H,A,x,B,D,$,h),p.context=FQ(null),X=p.current,H=pp(),A=CH(H),A.callback=null,FH(X,A,H),p.current.lanes=H,OB(p,H),tp(p),P[UA]=p.current,VZ(P),new Bh(p)};UE.version="19.0.0"});var bQ=x0((KS,IQ)=>{function TQ(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TQ)}catch(P){console.error(P)}}TQ(),IQ.exports=YQ()});var RZ={};_T(RZ,{default:()=>OQ});var dE,$h,gE,yE,cE,lE,mE=(P,p)=>()=>(P&&(p=P(P=0)),p),J0=(P,p)=>()=>(p||P((p={exports:{}}).exports,p),p.exports),JQ=(P,p)=>{for(var X in p)$h(P,X,{get:p[X],enumerable:!0})},Dh=(P,p,X,H)=>{if(p&&typeof p=="object"||typeof p=="function")for(let A of yE(p))!lE.call(P,A)&&A!==X&&$h(P,A,{get:()=>p[A],enumerable:!(H=gE(p,A))||H.enumerable});return P},KQ=(P,p,X)=>(Dh(P,p,"default"),X&&Dh(X,p,"default")),hh=(P,p,X)=>(X=P!=null?dE(cE(P)):{},Dh(p||!P||!P.__esModule?$h(X,"default",{value:P,enumerable:!0}):X,P)),T8=(P)=>Dh($h({},"__esModule",{value:!0}),P),uE,aE,JH,QP,kX,EZ,mP,Lh,MQ,NX,fQ,I8,b8,E8,iE,wA,WZ,MZ,JZ,oE,KZ,nE,rE,RQ,Zh,SQ,sE,GX,zQ,UQ,fZ,eE,kQ,tE,GQ,NQ,OQ;var SZ=g2(()=>{dE=Object.create,$h=Object.defineProperty,gE=Object.getOwnPropertyDescriptor,yE=Object.getOwnPropertyNames,cE=Object.getPrototypeOf,lE=Object.prototype.hasOwnProperty,uE=J0((P)=>{P.byteLength=$,P.toByteArray=Z,P.fromByteArray=j;var p=[],X=[],H=typeof Uint8Array<"u"?Uint8Array:Array,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(x=0,B=A.length;x<B;++x)p[x]=A[x],X[A.charCodeAt(x)]=x;var x,B;X[45]=62,X[95]=63;function D(b){var E=b.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=b.indexOf("=");M===-1&&(M=E);var I=M===E?0:4-M%4;return[M,I]}function $(b){var E=D(b),M=E[0],I=E[1];return(M+I)*3/4-I}function h(b,E,M){return(E+M)*3/4-M}function Z(b){var E,M=D(b),I=M[0],V=M[1],Y=new H(h(b,I,V)),T=0,J=V>0?I-4:I,W;for(W=0;W<J;W+=4)E=X[b.charCodeAt(W)]<<18|X[b.charCodeAt(W+1)]<<12|X[b.charCodeAt(W+2)]<<6|X[b.charCodeAt(W+3)],Y[T++]=E>>16&255,Y[T++]=E>>8&255,Y[T++]=E&255;return V===2&&(E=X[b.charCodeAt(W)]<<2|X[b.charCodeAt(W+1)]>>4,Y[T++]=E&255),V===1&&(E=X[b.charCodeAt(W)]<<10|X[b.charCodeAt(W+1)]<<4|X[b.charCodeAt(W+2)]>>2,Y[T++]=E>>8&255,Y[T++]=E&255),Y}function F(b){return p[b>>18&63]+p[b>>12&63]+p[b>>6&63]+p[b&63]}function Q(b,E,M){for(var I,V=[],Y=E;Y<M;Y+=3)I=(b[Y]<<16&16711680)+(b[Y+1]<<8&65280)+(b[Y+2]&255),V.push(F(I));return V.join("")}function j(b){for(var E,M=b.length,I=M%3,V=[],Y=16383,T=0,J=M-I;T<J;T+=Y)V.push(Q(b,T,T+Y>J?J:T+Y));return I===1?(E=b[M-1],V.push(p[E>>2]+p[E<<4&63]+"==")):I===2&&(E=(b[M-2]<<8)+b[M-1],V.push(p[E>>10]+p[E>>4&63]+p[E<<2&63]+"=")),V.join("")}}),aE=J0((P)=>{P.read=function(p,X,H,A,x){var B,D,$=x*8-A-1,h=(1<<$)-1,Z=h>>1,F=-7,Q=H?x-1:0,j=H?-1:1,b=p[X+Q];for(Q+=j,B=b&(1<<-F)-1,b>>=-F,F+=$;F>0;B=B*256+p[X+Q],Q+=j,F-=8);for(D=B&(1<<-F)-1,B>>=-F,F+=A;F>0;D=D*256+p[X+Q],Q+=j,F-=8);if(B===0)B=1-Z;else{if(B===h)return D?NaN:(b?-1:1)*(1/0);D=D+Math.pow(2,A),B=B-Z}return(b?-1:1)*D*Math.pow(2,B-A)},P.write=function(p,X,H,A,x,B){var D,$,h,Z=B*8-x-1,F=(1<<Z)-1,Q=F>>1,j=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=A?0:B-1,E=A?1:-1,M=X<0||X===0&&1/X<0?1:0;for(X=Math.abs(X),isNaN(X)||X===1/0?($=isNaN(X)?1:0,D=F):(D=Math.floor(Math.log(X)/Math.LN2),X*(h=Math.pow(2,-D))<1&&(D--,h*=2),D+Q>=1?X+=j/h:X+=j*Math.pow(2,1-Q),X*h>=2&&(D++,h/=2),D+Q>=F?($=0,D=F):D+Q>=1?($=(X*h-1)*Math.pow(2,x),D=D+Q):($=X*Math.pow(2,Q-1)*Math.pow(2,x),D=0));x>=8;p[H+b]=$&255,b+=E,$/=256,x-=8);for(D=D<<x|$,Z+=x;Z>0;p[H+b]=D&255,b+=E,D/=256,Z-=8);p[H+b-E]|=M*128}}),JH=J0((P)=>{var p=uE(),X=aE(),H=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;P.Buffer=D,P.SlowBuffer=V,P.INSPECT_MAX_BYTES=50;var A=2147483647;P.kMaxLength=A,D.TYPED_ARRAY_SUPPORT=x(),!D.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{let L=new Uint8Array(1),C={foo:function(){return 42}};return Object.setPrototypeOf(C,Uint8Array.prototype),Object.setPrototypeOf(L,C),L.foo()===42}catch{return!1}}Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}});function B(L){if(L>A)throw new RangeError('The value "'+L+'" is invalid for option "size"');let C=new Uint8Array(L);return Object.setPrototypeOf(C,D.prototype),C}function D(L,C,q){if(typeof L=="number"){if(typeof C=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return F(L)}return $(L,C,q)}D.poolSize=8192;function $(L,C,q){if(typeof L=="string")return Q(L,C);if(ArrayBuffer.isView(L))return b(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(f0(L,ArrayBuffer)||L&&f0(L.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(f0(L,SharedArrayBuffer)||L&&f0(L.buffer,SharedArrayBuffer)))return E(L,C,q);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let R=L.valueOf&&L.valueOf();if(R!=null&&R!==L)return D.from(R,C,q);let U=M(L);if(U)return U;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return D.from(L[Symbol.toPrimitive]("string"),C,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}D.from=function(L,C,q){return $(L,C,q)},Object.setPrototypeOf(D.prototype,Uint8Array.prototype),Object.setPrototypeOf(D,Uint8Array);function h(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function Z(L,C,q){return h(L),L<=0?B(L):C!==void 0?typeof q=="string"?B(L).fill(C,q):B(L).fill(C):B(L)}D.alloc=function(L,C,q){return Z(L,C,q)};function F(L){return h(L),B(L<0?0:I(L)|0)}D.allocUnsafe=function(L){return F(L)},D.allocUnsafeSlow=function(L){return F(L)};function Q(L,C){if((typeof C!="string"||C==="")&&(C="utf8"),!D.isEncoding(C))throw new TypeError("Unknown encoding: "+C);let q=Y(L,C)|0,R=B(q),U=R.write(L,C);return U!==q&&(R=R.slice(0,U)),R}function j(L){let C=L.length<0?0:I(L.length)|0,q=B(C);for(let R=0;R<C;R+=1)q[R]=L[R]&255;return q}function b(L){if(f0(L,Uint8Array)){let C=new Uint8Array(L);return E(C.buffer,C.byteOffset,C.byteLength)}return j(L)}function E(L,C,q){if(C<0||L.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<C+(q||0))throw new RangeError('"length" is outside of buffer bounds');let R;return C===void 0&&q===void 0?R=new Uint8Array(L):q===void 0?R=new Uint8Array(L,C):R=new Uint8Array(L,C,q),Object.setPrototypeOf(R,D.prototype),R}function M(L){if(D.isBuffer(L)){let C=I(L.length)|0,q=B(C);return q.length===0||L.copy(q,0,0,C),q}if(L.length!==void 0)return typeof L.length!="number"||dP(L.length)?B(0):j(L);if(L.type==="Buffer"&&Array.isArray(L.data))return j(L.data)}function I(L){if(L>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return L|0}function V(L){return+L!=L&&(L=0),D.alloc(+L)}D.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==D.prototype},D.compare=function(L,C){if(f0(L,Uint8Array)&&(L=D.from(L,L.offset,L.byteLength)),f0(C,Uint8Array)&&(C=D.from(C,C.offset,C.byteLength)),!D.isBuffer(L)||!D.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===C)return 0;let q=L.length,R=C.length;for(let U=0,c=Math.min(q,R);U<c;++U)if(L[U]!==C[U]){q=L[U],R=C[U];break}return q<R?-1:R<q?1:0},D.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(L,C){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return D.alloc(0);let q;if(C===void 0)for(C=0,q=0;q<L.length;++q)C+=L[q].length;let R=D.allocUnsafe(C),U=0;for(q=0;q<L.length;++q){let c=L[q];if(f0(c,Uint8Array))U+c.length>R.length?(D.isBuffer(c)||(c=D.from(c)),c.copy(R,U)):Uint8Array.prototype.set.call(R,c,U);else if(D.isBuffer(c))c.copy(R,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=c.length}return R};function Y(L,C){if(D.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||f0(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);let q=L.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&q===0)return 0;let U=!1;for(;;)switch(C){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return l(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return E0(L).length;default:if(U)return R?-1:l(L).length;C=(""+C).toLowerCase(),U=!0}}D.byteLength=Y;function T(L,C,q){let R=!1;if((C===void 0||C<0)&&(C=0),C>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,C>>>=0,q<=C))return"";for(L||(L="utf8");;)switch(L){case"hex":return A0(this,C,q);case"utf8":case"utf-8":return s(this,C,q);case"ascii":return a(this,C,q);case"latin1":case"binary":return o(this,C,q);case"base64":return g(this,C,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i(this,C,q);default:if(R)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),R=!0}}D.prototype._isBuffer=!0;function J(L,C,q){let R=L[C];L[C]=L[q],L[q]=R}D.prototype.swap16=function(){let L=this.length;if(L%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<L;C+=2)J(this,C,C+1);return this},D.prototype.swap32=function(){let L=this.length;if(L%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<L;C+=4)J(this,C,C+3),J(this,C+1,C+2);return this},D.prototype.swap64=function(){let L=this.length;if(L%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<L;C+=8)J(this,C,C+7),J(this,C+1,C+6),J(this,C+2,C+5),J(this,C+3,C+4);return this},D.prototype.toString=function(){let L=this.length;return L===0?"":arguments.length===0?s(this,0,L):T.apply(this,arguments)},D.prototype.toLocaleString=D.prototype.toString,D.prototype.equals=function(L){if(!D.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L?!0:D.compare(this,L)===0},D.prototype.inspect=function(){let L="",C=P.INSPECT_MAX_BYTES;return L=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(L+=" ... "),"<Buffer "+L+">"},H&&(D.prototype[H]=D.prototype.inspect),D.prototype.compare=function(L,C,q,R,U){if(f0(L,Uint8Array)&&(L=D.from(L,L.offset,L.byteLength)),!D.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof L);if(C===void 0&&(C=0),q===void 0&&(q=L?L.length:0),R===void 0&&(R=0),U===void 0&&(U=this.length),C<0||q>L.length||R<0||U>this.length)throw new RangeError("out of range index");if(R>=U&&C>=q)return 0;if(R>=U)return-1;if(C>=q)return 1;if(C>>>=0,q>>>=0,R>>>=0,U>>>=0,this===L)return 0;let c=U-R,e=q-C,I0=Math.min(c,e),DP=this.slice(R,U),w0=L.slice(C,q);for(let S0=0;S0<I0;++S0)if(DP[S0]!==w0[S0]){c=DP[S0],e=w0[S0];break}return c<e?-1:e<c?1:0};function W(L,C,q,R,U){if(L.length===0)return-1;if(typeof q=="string"?(R=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,dP(q)&&(q=U?0:L.length-1),q<0&&(q=L.length+q),q>=L.length){if(U)return-1;q=L.length-1}else if(q<0)if(U)q=0;else return-1;if(typeof C=="string"&&(C=D.from(C,R)),D.isBuffer(C))return C.length===0?-1:K(L,C,q,R,U);if(typeof C=="number")return C=C&255,typeof Uint8Array.prototype.indexOf=="function"?U?Uint8Array.prototype.indexOf.call(L,C,q):Uint8Array.prototype.lastIndexOf.call(L,C,q):K(L,[C],q,R,U);throw new TypeError("val must be string, number or Buffer")}function K(L,C,q,R,U){let c=1,e=L.length,I0=C.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(L.length<2||C.length<2)return-1;c=2,e/=2,I0/=2,q/=2}function DP(S0,o0){return c===1?S0[o0]:S0.readUInt16BE(o0*c)}let w0;if(U){let S0=-1;for(w0=q;w0<e;w0++)if(DP(L,w0)===DP(C,S0===-1?0:w0-S0)){if(S0===-1&&(S0=w0),w0-S0+1===I0)return S0*c}else S0!==-1&&(w0-=w0-S0),S0=-1}else for(q+I0>e&&(q=e-I0),w0=q;w0>=0;w0--){let S0=!0;for(let o0=0;o0<I0;o0++)if(DP(L,w0+o0)!==DP(C,o0)){S0=!1;break}if(S0)return w0}return-1}D.prototype.includes=function(L,C,q){return this.indexOf(L,C,q)!==-1},D.prototype.indexOf=function(L,C,q){return W(this,L,C,q,!0)},D.prototype.lastIndexOf=function(L,C,q){return W(this,L,C,q,!1)};function S(L,C,q,R){q=Number(q)||0;let U=L.length-q;R?(R=Number(R),R>U&&(R=U)):R=U;let c=C.length;R>c/2&&(R=c/2);let e;for(e=0;e<R;++e){let I0=parseInt(C.substr(e*2,2),16);if(dP(I0))return e;L[q+e]=I0}return e}function _(L,C,q,R){return L0(l(C,L.length-q),L,q,R)}function v(L,C,q,R){return L0(P0(C),L,q,R)}function d(L,C,q,R){return L0(E0(C),L,q,R)}function f(L,C,q,R){return L0(p0(C,L.length-q),L,q,R)}D.prototype.write=function(L,C,q,R){if(C===void 0)R="utf8",q=this.length,C=0;else if(q===void 0&&typeof C=="string")R=C,q=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(q)?(q=q>>>0,R===void 0&&(R="utf8")):(R=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let U=this.length-C;if((q===void 0||q>U)&&(q=U),L.length>0&&(q<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let c=!1;for(;;)switch(R){case"hex":return S(this,L,C,q);case"utf8":case"utf-8":return _(this,L,C,q);case"ascii":case"latin1":case"binary":return v(this,L,C,q);case"base64":return d(this,L,C,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,L,C,q);default:if(c)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),c=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(L,C,q){return C===0&&q===L.length?p.fromByteArray(L):p.fromByteArray(L.slice(C,q))}function s(L,C,q){q=Math.min(L.length,q);let R=[],U=C;for(;U<q;){let c=L[U],e=null,I0=c>239?4:c>223?3:c>191?2:1;if(U+I0<=q){let DP,w0,S0,o0;switch(I0){case 1:c<128&&(e=c);break;case 2:DP=L[U+1],(DP&192)===128&&(o0=(c&31)<<6|DP&63,o0>127&&(e=o0));break;case 3:DP=L[U+1],w0=L[U+2],(DP&192)===128&&(w0&192)===128&&(o0=(c&15)<<12|(DP&63)<<6|w0&63,o0>2047&&(o0<55296||o0>57343)&&(e=o0));break;case 4:DP=L[U+1],w0=L[U+2],S0=L[U+3],(DP&192)===128&&(w0&192)===128&&(S0&192)===128&&(o0=(c&15)<<18|(DP&63)<<12|(w0&63)<<6|S0&63,o0>65535&&o0<1114112&&(e=o0))}}e===null?(e=65533,I0=1):e>65535&&(e-=65536,R.push(e>>>10&1023|55296),e=56320|e&1023),R.push(e),U+=I0}return m(R)}var k=4096;function m(L){let C=L.length;if(C<=k)return String.fromCharCode.apply(String,L);let q="",R=0;for(;R<C;)q+=String.fromCharCode.apply(String,L.slice(R,R+=k));return q}function a(L,C,q){let R="";q=Math.min(L.length,q);for(let U=C;U<q;++U)R+=String.fromCharCode(L[U]&127);return R}function o(L,C,q){let R="";q=Math.min(L.length,q);for(let U=C;U<q;++U)R+=String.fromCharCode(L[U]);return R}function A0(L,C,q){let R=L.length;(!C||C<0)&&(C=0),(!q||q<0||q>R)&&(q=R);let U="";for(let c=C;c<q;++c)U+=ZX[L[c]];return U}function i(L,C,q){let R=L.slice(C,q),U="";for(let c=0;c<R.length-1;c+=2)U+=String.fromCharCode(R[c]+R[c+1]*256);return U}D.prototype.slice=function(L,C){let q=this.length;L=~~L,C=C===void 0?q:~~C,L<0?(L+=q,L<0&&(L=0)):L>q&&(L=q),C<0?(C+=q,C<0&&(C=0)):C>q&&(C=q),C<L&&(C=L);let R=this.subarray(L,C);return Object.setPrototypeOf(R,D.prototype),R};function n(L,C,q){if(L%1!==0||L<0)throw new RangeError("offset is not uint");if(L+C>q)throw new RangeError("Trying to access beyond buffer length")}D.prototype.readUintLE=D.prototype.readUIntLE=function(L,C,q){L=L>>>0,C=C>>>0,q||n(L,C,this.length);let R=this[L],U=1,c=0;for(;++c<C&&(U*=256);)R+=this[L+c]*U;return R},D.prototype.readUintBE=D.prototype.readUIntBE=function(L,C,q){L=L>>>0,C=C>>>0,q||n(L,C,this.length);let R=this[L+--C],U=1;for(;C>0&&(U*=256);)R+=this[L+--C]*U;return R},D.prototype.readUint8=D.prototype.readUInt8=function(L,C){return L=L>>>0,C||n(L,1,this.length),this[L]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(L,C){return L=L>>>0,C||n(L,2,this.length),this[L]|this[L+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(L,C){return L=L>>>0,C||n(L,2,this.length),this[L]<<8|this[L+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(L,C){return L=L>>>0,C||n(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+this[L+3]*16777216},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(L,C){return L=L>>>0,C||n(L,4,this.length),this[L]*16777216+(this[L+1]<<16|this[L+2]<<8|this[L+3])},D.prototype.readBigUInt64LE=y0(function(L){L=L>>>0,g0(L,"offset");let C=this[L],q=this[L+7];(C===void 0||q===void 0)&&u(L,this.length-8);let R=C+this[++L]*256+this[++L]*65536+this[++L]*16777216,U=this[++L]+this[++L]*256+this[++L]*65536+q*16777216;return BigInt(R)+(BigInt(U)<<BigInt(32))}),D.prototype.readBigUInt64BE=y0(function(L){L=L>>>0,g0(L,"offset");let C=this[L],q=this[L+7];(C===void 0||q===void 0)&&u(L,this.length-8);let R=C*16777216+this[++L]*65536+this[++L]*256+this[++L],U=this[++L]*16777216+this[++L]*65536+this[++L]*256+q;return(BigInt(R)<<BigInt(32))+BigInt(U)}),D.prototype.readIntLE=function(L,C,q){L=L>>>0,C=C>>>0,q||n(L,C,this.length);let R=this[L],U=1,c=0;for(;++c<C&&(U*=256);)R+=this[L+c]*U;return U*=128,R>=U&&(R-=Math.pow(2,8*C)),R},D.prototype.readIntBE=function(L,C,q){L=L>>>0,C=C>>>0,q||n(L,C,this.length);let R=C,U=1,c=this[L+--R];for(;R>0&&(U*=256);)c+=this[L+--R]*U;return U*=128,c>=U&&(c-=Math.pow(2,8*C)),c},D.prototype.readInt8=function(L,C){return L=L>>>0,C||n(L,1,this.length),this[L]&128?(255-this[L]+1)*-1:this[L]},D.prototype.readInt16LE=function(L,C){L=L>>>0,C||n(L,2,this.length);let q=this[L]|this[L+1]<<8;return q&32768?q|4294901760:q},D.prototype.readInt16BE=function(L,C){L=L>>>0,C||n(L,2,this.length);let q=this[L+1]|this[L]<<8;return q&32768?q|4294901760:q},D.prototype.readInt32LE=function(L,C){return L=L>>>0,C||n(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},D.prototype.readInt32BE=function(L,C){return L=L>>>0,C||n(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},D.prototype.readBigInt64LE=y0(function(L){L=L>>>0,g0(L,"offset");let C=this[L],q=this[L+7];(C===void 0||q===void 0)&&u(L,this.length-8);let R=this[L+4]+this[L+5]*256+this[L+6]*65536+(q<<24);return(BigInt(R)<<BigInt(32))+BigInt(C+this[++L]*256+this[++L]*65536+this[++L]*16777216)}),D.prototype.readBigInt64BE=y0(function(L){L=L>>>0,g0(L,"offset");let C=this[L],q=this[L+7];(C===void 0||q===void 0)&&u(L,this.length-8);let R=(C<<24)+this[++L]*65536+this[++L]*256+this[++L];return(BigInt(R)<<BigInt(32))+BigInt(this[++L]*16777216+this[++L]*65536+this[++L]*256+q)}),D.prototype.readFloatLE=function(L,C){return L=L>>>0,C||n(L,4,this.length),X.read(this,L,!0,23,4)},D.prototype.readFloatBE=function(L,C){return L=L>>>0,C||n(L,4,this.length),X.read(this,L,!1,23,4)},D.prototype.readDoubleLE=function(L,C){return L=L>>>0,C||n(L,8,this.length),X.read(this,L,!0,52,8)},D.prototype.readDoubleBE=function(L,C){return L=L>>>0,C||n(L,8,this.length),X.read(this,L,!1,52,8)};function w(L,C,q,R,U,c){if(!D.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>U||C<c)throw new RangeError('"value" argument is out of bounds');if(q+R>L.length)throw new RangeError("Index out of range")}D.prototype.writeUintLE=D.prototype.writeUIntLE=function(L,C,q,R){if(L=+L,C=C>>>0,q=q>>>0,!R){let e=Math.pow(2,8*q)-1;w(this,L,C,q,e,0)}let U=1,c=0;for(this[C]=L&255;++c<q&&(U*=256);)this[C+c]=L/U&255;return C+q},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(L,C,q,R){if(L=+L,C=C>>>0,q=q>>>0,!R){let e=Math.pow(2,8*q)-1;w(this,L,C,q,e,0)}let U=q-1,c=1;for(this[C+U]=L&255;--U>=0&&(c*=256);)this[C+U]=L/c&255;return C+q},D.prototype.writeUint8=D.prototype.writeUInt8=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,1,255,0),this[C]=L&255,C+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,2,65535,0),this[C]=L&255,this[C+1]=L>>>8,C+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,2,65535,0),this[C]=L>>>8,this[C+1]=L&255,C+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,4,4294967295,0),this[C+3]=L>>>24,this[C+2]=L>>>16,this[C+1]=L>>>8,this[C]=L&255,C+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,4,4294967295,0),this[C]=L>>>24,this[C+1]=L>>>16,this[C+2]=L>>>8,this[C+3]=L&255,C+4};function t(L,C,q,R,U){B0(C,R,U,L,q,7);let c=Number(C&BigInt(4294967295));L[q++]=c,c=c>>8,L[q++]=c,c=c>>8,L[q++]=c,c=c>>8,L[q++]=c;let e=Number(C>>BigInt(32)&BigInt(4294967295));return L[q++]=e,e=e>>8,L[q++]=e,e=e>>8,L[q++]=e,e=e>>8,L[q++]=e,q}function H0(L,C,q,R,U){B0(C,R,U,L,q,7);let c=Number(C&BigInt(4294967295));L[q+7]=c,c=c>>8,L[q+6]=c,c=c>>8,L[q+5]=c,c=c>>8,L[q+4]=c;let e=Number(C>>BigInt(32)&BigInt(4294967295));return L[q+3]=e,e=e>>8,L[q+2]=e,e=e>>8,L[q+1]=e,e=e>>8,L[q]=e,q+8}D.prototype.writeBigUInt64LE=y0(function(L,C=0){return t(this,L,C,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeBigUInt64BE=y0(function(L,C=0){return H0(this,L,C,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeIntLE=function(L,C,q,R){if(L=+L,C=C>>>0,!R){let I0=Math.pow(2,8*q-1);w(this,L,C,q,I0-1,-I0)}let U=0,c=1,e=0;for(this[C]=L&255;++U<q&&(c*=256);)L<0&&e===0&&this[C+U-1]!==0&&(e=1),this[C+U]=(L/c>>0)-e&255;return C+q},D.prototype.writeIntBE=function(L,C,q,R){if(L=+L,C=C>>>0,!R){let I0=Math.pow(2,8*q-1);w(this,L,C,q,I0-1,-I0)}let U=q-1,c=1,e=0;for(this[C+U]=L&255;--U>=0&&(c*=256);)L<0&&e===0&&this[C+U+1]!==0&&(e=1),this[C+U]=(L/c>>0)-e&255;return C+q},D.prototype.writeInt8=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,1,127,-128),L<0&&(L=255+L+1),this[C]=L&255,C+1},D.prototype.writeInt16LE=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,2,32767,-32768),this[C]=L&255,this[C+1]=L>>>8,C+2},D.prototype.writeInt16BE=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,2,32767,-32768),this[C]=L>>>8,this[C+1]=L&255,C+2},D.prototype.writeInt32LE=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,4,2147483647,-2147483648),this[C]=L&255,this[C+1]=L>>>8,this[C+2]=L>>>16,this[C+3]=L>>>24,C+4},D.prototype.writeInt32BE=function(L,C,q){return L=+L,C=C>>>0,q||w(this,L,C,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[C]=L>>>24,this[C+1]=L>>>16,this[C+2]=L>>>8,this[C+3]=L&255,C+4},D.prototype.writeBigInt64LE=y0(function(L,C=0){return t(this,L,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeBigInt64BE=y0(function(L,C=0){return H0(this,L,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function C0(L,C,q,R,U,c){if(q+R>L.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function j0(L,C,q,R,U){return C=+C,q=q>>>0,U||C0(L,C,q,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),X.write(L,C,q,R,23,4),q+4}D.prototype.writeFloatLE=function(L,C,q){return j0(this,L,C,!0,q)},D.prototype.writeFloatBE=function(L,C,q){return j0(this,L,C,!1,q)};function D0(L,C,q,R,U){return C=+C,q=q>>>0,U||C0(L,C,q,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),X.write(L,C,q,R,52,8),q+8}D.prototype.writeDoubleLE=function(L,C,q){return D0(this,L,C,!0,q)},D.prototype.writeDoubleBE=function(L,C,q){return D0(this,L,C,!1,q)},D.prototype.copy=function(L,C,q,R){if(!D.isBuffer(L))throw new TypeError("argument should be a Buffer");if(q||(q=0),!R&&R!==0&&(R=this.length),C>=L.length&&(C=L.length),C||(C=0),R>0&&R<q&&(R=q),R===q||L.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),L.length-C<R-q&&(R=L.length-C+q);let U=R-q;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,q,R):Uint8Array.prototype.set.call(L,this.subarray(q,R),C),U},D.prototype.fill=function(L,C,q,R){if(typeof L=="string"){if(typeof C=="string"?(R=C,C=0,q=this.length):typeof q=="string"&&(R=q,q=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!D.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(L.length===1){let c=L.charCodeAt(0);(R==="utf8"&&c<128||R==="latin1")&&(L=c)}}else typeof L=="number"?L=L&255:typeof L=="boolean"&&(L=Number(L));if(C<0||this.length<C||this.length<q)throw new RangeError("Out of range index");if(q<=C)return this;C=C>>>0,q=q===void 0?this.length:q>>>0,L||(L=0);let U;if(typeof L=="number")for(U=C;U<q;++U)this[U]=L;else{let c=D.isBuffer(L)?L:D.from(L,R),e=c.length;if(e===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(U=0;U<q-C;++U)this[U+C]=c[U%e]}return this};var V0={};function h0(L,C,q){V0[L]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:C.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${L}]`,this.stack,delete this.name}get code(){return L}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${L}]: ${this.message}`}}}h0("ERR_BUFFER_OUT_OF_BOUNDS",function(L){return L?`${L} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),h0("ERR_INVALID_ARG_TYPE",function(L,C){return`The "${L}" argument must be of type number. Received type ${typeof C}`},TypeError),h0("ERR_OUT_OF_RANGE",function(L,C,q){let R=`The value of "${L}" is out of range.`,U=q;return Number.isInteger(q)&&Math.abs(q)>4294967296?U=q0(String(q)):typeof q=="bigint"&&(U=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(U=q0(U)),U+="n"),R+=` It must be ${C}. Received ${U}`,R},RangeError);function q0(L){let C="",q=L.length,R=L[0]==="-"?1:0;for(;q>=R+4;q-=3)C=`_${L.slice(q-3,q)}${C}`;return`${L.slice(0,q)}${C}`}function O0(L,C,q){g0(C,"offset"),(L[C]===void 0||L[C+q]===void 0)&&u(C,L.length-(q+1))}function B0(L,C,q,R,U,c){if(L>q||L<C){let e=typeof C=="bigint"?"n":"",I0;throw c>3?C===0||C===BigInt(0)?I0=`>= 0${e} and < 2${e} ** ${(c+1)*8}${e}`:I0=`>= -(2${e} ** ${(c+1)*8-1}${e}) and < 2 ** ${(c+1)*8-1}${e}`:I0=`>= ${C}${e} and <= ${q}${e}`,new V0.ERR_OUT_OF_RANGE("value",I0,L)}O0(R,U,c)}function g0(L,C){if(typeof L!="number")throw new V0.ERR_INVALID_ARG_TYPE(C,"number",L)}function u(L,C,q){throw Math.floor(L)!==L?(g0(L,q),new V0.ERR_OUT_OF_RANGE(q||"offset","an integer",L)):C<0?new V0.ERR_BUFFER_OUT_OF_BOUNDS:new V0.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${C}`,L)}var z=/[^+/0-9A-Za-z-_]/g;function G(L){if(L=L.split("=")[0],L=L.trim().replace(z,""),L.length<2)return"";for(;L.length%4!==0;)L=L+"=";return L}function l(L,C){C=C||1/0;let q,R=L.length,U=null,c=[];for(let e=0;e<R;++e){if(q=L.charCodeAt(e),q>55295&&q<57344){if(!U){if(q>56319){(C-=3)>-1&&c.push(239,191,189);continue}else if(e+1===R){(C-=3)>-1&&c.push(239,191,189);continue}U=q;continue}if(q<56320){(C-=3)>-1&&c.push(239,191,189),U=q;continue}q=(U-55296<<10|q-56320)+65536}else U&&(C-=3)>-1&&c.push(239,191,189);if(U=null,q<128){if((C-=1)<0)break;c.push(q)}else if(q<2048){if((C-=2)<0)break;c.push(q>>6|192,q&63|128)}else if(q<65536){if((C-=3)<0)break;c.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((C-=4)<0)break;c.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return c}function P0(L){let C=[];for(let q=0;q<L.length;++q)C.push(L.charCodeAt(q)&255);return C}function p0(L,C){let q,R,U,c=[];for(let e=0;e<L.length&&!((C-=2)<0);++e)q=L.charCodeAt(e),R=q>>8,U=q%256,c.push(U),c.push(R);return c}function E0(L){return p.toByteArray(G(L))}function L0(L,C,q,R){let U;for(U=0;U<R&&!(U+q>=C.length||U>=L.length);++U)C[U+q]=L[U];return U}function f0(L,C){return L instanceof C||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===C.name}function dP(L){return L!==L}var ZX=function(){let L="0123456789abcdef",C=new Array(256);for(let q=0;q<16;++q){let R=q*16;for(let U=0;U<16;++U)C[R+U]=L[q]+L[U]}return C}();function y0(L){return typeof BigInt>"u"?w1:L}function w1(){throw new Error("BigInt not supported")}}),QP=J0((P,p)=>{p.exports={ArrayIsArray(X){return Array.isArray(X)},ArrayPrototypeIncludes(X,H){return X.includes(H)},ArrayPrototypeIndexOf(X,H){return X.indexOf(H)},ArrayPrototypeJoin(X,H){return X.join(H)},ArrayPrototypeMap(X,H){return X.map(H)},ArrayPrototypePop(X,H){return X.pop(H)},ArrayPrototypePush(X,H){return X.push(H)},ArrayPrototypeSlice(X,H,A){return X.slice(H,A)},Error,FunctionPrototypeCall(X,H,...A){return X.call(H,...A)},FunctionPrototypeSymbolHasInstance(X,H){return Function.prototype[Symbol.hasInstance].call(X,H)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(X,H){return Object.defineProperties(X,H)},ObjectDefineProperty(X,H,A){return Object.defineProperty(X,H,A)},ObjectGetOwnPropertyDescriptor(X,H){return Object.getOwnPropertyDescriptor(X,H)},ObjectKeys(X){return Object.keys(X)},ObjectSetPrototypeOf(X,H){return Object.setPrototypeOf(X,H)},Promise,PromisePrototypeCatch(X,H){return X.catch(H)},PromisePrototypeThen(X,H,A){return X.then(H,A)},PromiseReject(X){return Promise.reject(X)},ReflectApply:Reflect.apply,RegExpPrototypeTest(X,H){return X.test(H)},SafeSet:Set,String,StringPrototypeSlice(X,H,A){return X.slice(H,A)},StringPrototypeToLowerCase(X){return X.toLowerCase()},StringPrototypeToUpperCase(X){return X.toUpperCase()},StringPrototypeTrim(X){return X.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(X,H,A){return X.set(H,A)},Uint8Array}}),kX=J0((P,p)=>{var X=JH(),H=Object.getPrototypeOf(async function(){}).constructor,A=globalThis.Blob||X.Blob,x=typeof A<"u"?function(D){return D instanceof A}:function(D){return!1},B=class extends Error{constructor(D){if(!Array.isArray(D))throw new TypeError(`Expected input to be an Array, got ${typeof D}`);let $="";for(let h=0;h<D.length;h++)$+=`    ${D[h].stack}
`;super($),this.name="AggregateError",this.errors=D}};p.exports={AggregateError:B,kEmptyObject:Object.freeze({}),once(D){let $=!1;return function(...h){$||($=!0,D.apply(this,h))}},createDeferredPromise:function(){let D,$;return{promise:new Promise((h,Z)=>{D=h,$=Z}),resolve:D,reject:$}},promisify(D){return new Promise(($,h)=>{D((Z,...F)=>Z?h(Z):$(...F))})},debuglog(){return function(){}},format(D,...$){return D.replace(/%([sdifj])/g,function(...[h,Z]){let F=$.shift();return Z==="f"?F.toFixed(6):Z==="j"?JSON.stringify(F):Z==="s"&&typeof F=="object"?`${F.constructor!==Object?F.constructor.name:""} {}`.trim():F.toString()})},inspect(D){switch(typeof D){case"string":if(D.includes("'"))if(D.includes('"')){if(!D.includes("`")&&!D.includes("${"))return`\`${D}\``}else return`"${D}"`;return`'${D}'`;case"number":return isNaN(D)?"NaN":Object.is(D,-0)?String(D):D;case"bigint":return`${String(D)}n`;case"boolean":case"undefined":return String(D);case"object":return"{}"}},types:{isAsyncFunction(D){return D instanceof H},isArrayBufferView(D){return ArrayBuffer.isView(D)}},isBlob:x},p.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),EZ=J0((P,p)=>{var{AbortController:X,AbortSignal:H}=typeof self<"u"?self:typeof window<"u"?window:void 0;p.exports=X,p.exports.AbortSignal=H,p.exports.default=X}),mP=J0((P,p)=>{var{format:X,inspect:H,AggregateError:A}=kX(),x=globalThis.AggregateError||A,B=Symbol("kIsNodeError"),D=["string","function","number","object","Function","Object","boolean","bigint","symbol"],$=/^([A-Z][a-z0-9]*)+$/,h="__node_internal_",Z={};function F(V,Y){if(!V)throw new Z.ERR_INTERNAL_ASSERTION(Y)}function Q(V){let Y="",T=V.length,J=V[0]==="-"?1:0;for(;T>=J+4;T-=3)Y=`_${V.slice(T-3,T)}${Y}`;return`${V.slice(0,T)}${Y}`}function j(V,Y,T){if(typeof Y=="function")return F(Y.length<=T.length,`Code: ${V}; The provided arguments length (${T.length}) does not match the required ones (${Y.length}).`),Y(...T);let J=(Y.match(/%[dfijoOs]/g)||[]).length;return F(J===T.length,`Code: ${V}; The provided arguments length (${T.length}) does not match the required ones (${J}).`),T.length===0?Y:X(Y,...T)}function b(V,Y,T){T||(T=Error);class J extends T{constructor(...W){super(j(V,Y,W))}toString(){return`${this.name} [${V}]: ${this.message}`}}Object.defineProperties(J.prototype,{name:{value:T.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${V}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),J.prototype.code=V,J.prototype[B]=!0,Z[V]=J}function E(V){let Y=h+V.name;return Object.defineProperty(V,"name",{value:Y}),V}function M(V,Y){if(V&&Y&&V!==Y){if(Array.isArray(Y.errors))return Y.errors.push(V),Y;let T=new x([Y,V],Y.message);return T.code=Y.code,T}return V||Y}var I=class extends Error{constructor(V="The operation was aborted",Y=void 0){if(Y!==void 0&&typeof Y!="object")throw new Z.ERR_INVALID_ARG_TYPE("options","Object",Y);super(V,Y),this.code="ABORT_ERR",this.name="AbortError"}};b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(V,Y,T)=>{F(typeof V=="string","'name' must be a string"),Array.isArray(Y)||(Y=[Y]);let J="The ";V.endsWith(" argument")?J+=`${V} `:J+=`"${V}" ${V.includes(".")?"property":"argument"} `,J+="must be ";let W=[],K=[],S=[];for(let v of Y)F(typeof v=="string","All expected entries have to be of type string"),D.includes(v)?W.push(v.toLowerCase()):$.test(v)?K.push(v):(F(v!=="object",'The value "object" should be written as "Object"'),S.push(v));if(K.length>0){let v=W.indexOf("object");v!==-1&&(W.splice(W,v,1),K.push("Object"))}if(W.length>0){switch(W.length){case 1:J+=`of type ${W[0]}`;break;case 2:J+=`one of type ${W[0]} or ${W[1]}`;break;default:{let v=W.pop();J+=`one of type ${W.join(", ")}, or ${v}`}}(K.length>0||S.length>0)&&(J+=" or ")}if(K.length>0){switch(K.length){case 1:J+=`an instance of ${K[0]}`;break;case 2:J+=`an instance of ${K[0]} or ${K[1]}`;break;default:{let v=K.pop();J+=`an instance of ${K.join(", ")}, or ${v}`}}S.length>0&&(J+=" or ")}switch(S.length){case 0:break;case 1:S[0].toLowerCase()!==S[0]&&(J+="an "),J+=`${S[0]}`;break;case 2:J+=`one of ${S[0]} or ${S[1]}`;break;default:{let v=S.pop();J+=`one of ${S.join(", ")}, or ${v}`}}if(T==null)J+=`. Received ${T}`;else if(typeof T=="function"&&T.name)J+=`. Received function ${T.name}`;else if(typeof T=="object"){var _;(_=T.constructor)!==null&&_!==void 0&&_.name?J+=`. Received an instance of ${T.constructor.name}`:J+=`. Received ${H(T,{depth:-1})}`}else{let v=H(T,{colors:!1});v.length>25&&(v=`${v.slice(0,25)}...`),J+=`. Received type ${typeof T} (${v})`}return J},TypeError),b("ERR_INVALID_ARG_VALUE",(V,Y,T="is invalid")=>{let J=H(Y);return J.length>128&&(J=J.slice(0,128)+"..."),`The ${V.includes(".")?"property":"argument"} '${V}' ${T}. Received ${J}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(V,Y,T)=>{var J;let W=T!=null&&(J=T.constructor)!==null&&J!==void 0&&J.name?`instance of ${T.constructor.name}`:`type ${typeof T}`;return`Expected ${V} to be returned from the "${Y}" function but got ${W}.`},TypeError),b("ERR_MISSING_ARGS",(...V)=>{F(V.length>0,"At least one arg needs to be specified");let Y,T=V.length;switch(V=(Array.isArray(V)?V:[V]).map((J)=>`"${J}"`).join(" or "),T){case 1:Y+=`The ${V[0]} argument`;break;case 2:Y+=`The ${V[0]} and ${V[1]} arguments`;break;default:{let J=V.pop();Y+=`The ${V.join(", ")}, and ${J} arguments`}break}return`${Y} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(V,Y,T)=>{F(Y,'Missing "range" argument');let J;return Number.isInteger(T)&&Math.abs(T)>4294967296?J=Q(String(T)):typeof T=="bigint"?(J=String(T),(T>2n**32n||T<-(2n**32n))&&(J=Q(J)),J+="n"):J=H(T),`The value of "${V}" is out of range. It must be ${Y}. Received ${J}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),p.exports={AbortError:I,aggregateTwoErrors:E(M),hideStackFrames:E,codes:Z}}),Lh=J0((P,p)=>{var{ArrayIsArray:X,ArrayPrototypeIncludes:H,ArrayPrototypeJoin:A,ArrayPrototypeMap:x,NumberIsInteger:B,NumberIsNaN:D,NumberMAX_SAFE_INTEGER:$,NumberMIN_SAFE_INTEGER:h,NumberParseInt:Z,ObjectPrototypeHasOwnProperty:F,RegExpPrototypeExec:Q,String:j,StringPrototypeToUpperCase:b,StringPrototypeTrim:E}=QP(),{hideStackFrames:M,codes:{ERR_SOCKET_BAD_PORT:I,ERR_INVALID_ARG_TYPE:V,ERR_INVALID_ARG_VALUE:Y,ERR_OUT_OF_RANGE:T,ERR_UNKNOWN_SIGNAL:J}}=mP(),{normalizeEncoding:W}=kX(),{isAsyncFunction:K,isArrayBufferView:S}=kX().types,_={};function v(u){return u===(u|0)}function d(u){return u===u>>>0}var f=/^[0-7]+$/,g="must be a 32-bit unsigned integer or an octal string";function s(u,z,G){if(typeof u>"u"&&(u=G),typeof u=="string"){if(Q(f,u)===null)throw new Y(z,u,g);u=Z(u,8)}return a(u,z),u}var k=M((u,z,G=h,l=$)=>{if(typeof u!="number")throw new V(z,"number",u);if(!B(u))throw new T(z,"an integer",u);if(u<G||u>l)throw new T(z,`>= ${G} && <= ${l}`,u)}),m=M((u,z,G=-2147483648,l=2147483647)=>{if(typeof u!="number")throw new V(z,"number",u);if(!B(u))throw new T(z,"an integer",u);if(u<G||u>l)throw new T(z,`>= ${G} && <= ${l}`,u)}),a=M((u,z,G=!1)=>{if(typeof u!="number")throw new V(z,"number",u);if(!B(u))throw new T(z,"an integer",u);let l=G?1:0,P0=4294967295;if(u<l||u>P0)throw new T(z,`>= ${l} && <= ${P0}`,u)});function o(u,z){if(typeof u!="string")throw new V(z,"string",u)}function A0(u,z,G=void 0,l){if(typeof u!="number")throw new V(z,"number",u);if(G!=null&&u<G||l!=null&&u>l||(G!=null||l!=null)&&D(u))throw new T(z,`${G!=null?`>= ${G}`:""}${G!=null&&l!=null?" && ":""}${l!=null?`<= ${l}`:""}`,u)}var i=M((u,z,G)=>{if(!H(G,u)){let l=A(x(G,(p0)=>typeof p0=="string"?`'${p0}'`:j(p0)),", "),P0="must be one of: "+l;throw new Y(z,u,P0)}});function n(u,z){if(typeof u!="boolean")throw new V(z,"boolean",u)}function w(u,z,G){return u==null||!F(u,z)?G:u[z]}var t=M((u,z,G=null)=>{let l=w(G,"allowArray",!1),P0=w(G,"allowFunction",!1);if(!w(G,"nullable",!1)&&u===null||!l&&X(u)||typeof u!="object"&&(!P0||typeof u!="function"))throw new V(z,"Object",u)}),H0=M((u,z,G=0)=>{if(!X(u))throw new V(z,"Array",u);if(u.length<G){let l=`must be longer than ${G}`;throw new Y(z,u,l)}});function C0(u,z="signal"){if(o(u,z),_[u]===void 0)throw _[b(u)]!==void 0?new J(u+" (signals must use all capital letters)"):new J(u)}var j0=M((u,z="buffer")=>{if(!S(u))throw new V(z,["Buffer","TypedArray","DataView"],u)});function D0(u,z){let G=W(z),l=u.length;if(G==="hex"&&l%2!==0)throw new Y("encoding",z,`is invalid for data of length ${l}`)}function V0(u,z="Port",G=!0){if(typeof u!="number"&&typeof u!="string"||typeof u=="string"&&E(u).length===0||+u!==+u>>>0||u>65535||u===0&&!G)throw new I(z,u,G);return u|0}var h0=M((u,z)=>{if(u!==void 0&&(u===null||typeof u!="object"||!("aborted"in u)))throw new V(z,"AbortSignal",u)}),q0=M((u,z)=>{if(typeof u!="function")throw new V(z,"Function",u)}),O0=M((u,z)=>{if(typeof u!="function"||K(u))throw new V(z,"Function",u)}),B0=M((u,z)=>{if(u!==void 0)throw new V(z,"undefined",u)});function g0(u,z,G){if(!H(G,u))throw new V(z,`('${A(G,"|")}')`,u)}p.exports={isInt32:v,isUint32:d,parseFileMode:s,validateArray:H0,validateBoolean:n,validateBuffer:j0,validateEncoding:D0,validateFunction:q0,validateInt32:m,validateInteger:k,validateNumber:A0,validateObject:t,validateOneOf:i,validatePlainFunction:O0,validatePort:V0,validateSignalName:C0,validateString:o,validateUint32:a,validateUndefined:B0,validateUnion:g0,validateAbortSignal:h0}}),MQ=J0((P,p)=>{var X=p.exports={},H,A;function x(){throw new Error("setTimeout has not been defined")}function B(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?H=setTimeout:H=x}catch{H=x}try{typeof clearTimeout=="function"?A=clearTimeout:A=B}catch{A=B}})();function D(I){if(H===setTimeout)return setTimeout(I,0);if((H===x||!H)&&setTimeout)return H=setTimeout,setTimeout(I,0);try{return H(I,0)}catch{try{return H.call(null,I,0)}catch{return H.call(this,I,0)}}}function $(I){if(A===clearTimeout)return clearTimeout(I);if((A===B||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(I);try{return A(I)}catch{try{return A.call(null,I)}catch{return A.call(this,I)}}}var h=[],Z=!1,F,Q=-1;function j(){!Z||!F||(Z=!1,F.length?h=F.concat(h):Q=-1,h.length&&b())}function b(){if(!Z){var I=D(j);Z=!0;for(var V=h.length;V;){for(F=h,h=[];++Q<V;)F&&F[Q].run();Q=-1,V=h.length}F=null,Z=!1,$(I)}}X.nextTick=function(I){var V=new Array(arguments.length-1);if(arguments.length>1)for(var Y=1;Y<arguments.length;Y++)V[Y-1]=arguments[Y];h.push(new E(I,V)),h.length===1&&!Z&&D(b)};function E(I,V){this.fun=I,this.array=V}E.prototype.run=function(){this.fun.apply(null,this.array)},X.title="browser",X.browser=!0,X.env={},X.argv=[],X.version="",X.versions={};function M(){}X.on=M,X.addListener=M,X.once=M,X.off=M,X.removeListener=M,X.removeAllListeners=M,X.emit=M,X.prependListener=M,X.prependOnceListener=M,X.listeners=function(I){return[]},X.binding=function(I){throw new Error("process.binding is not supported")},X.cwd=function(){return"/"},X.chdir=function(I){throw new Error("process.chdir is not supported")},X.umask=function(){return 0}}),NX={};JQ(NX,{default:()=>fQ});I8=mE(()=>{KQ(NX,hh(MQ())),fQ=hh(MQ())}),b8=J0((P,p)=>{var{Symbol:X,SymbolAsyncIterator:H,SymbolIterator:A}=QP(),x=X("kDestroyed"),B=X("kIsErrored"),D=X("kIsReadable"),$=X("kIsDisturbed");function h(k,m=!1){var a;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!m||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((a=k._readableState)===null||a===void 0?void 0:a.readable)!==!1)&&(!k._writableState||k._readableState))}function Z(k){var m;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((m=k._writableState)===null||m===void 0?void 0:m.writable)!==!1))}function F(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function Q(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function j(k,m){return k==null?!1:m===!0?typeof k[H]=="function":m===!1?typeof k[A]=="function":typeof k[H]=="function"||typeof k[A]=="function"}function b(k){if(!Q(k))return null;let{_writableState:m,_readableState:a}=k,o=m||a;return!!(k.destroyed||k[x]||o!=null&&o.destroyed)}function E(k){if(!Z(k))return null;if(k.writableEnded===!0)return!0;let m=k._writableState;return m!=null&&m.errored?!1:typeof m?.ended!="boolean"?null:m.ended}function M(k,m){if(!Z(k))return null;if(k.writableFinished===!0)return!0;let a=k._writableState;return a!=null&&a.errored?!1:typeof a?.finished!="boolean"?null:!!(a.finished||m===!1&&a.ended===!0&&a.length===0)}function I(k){if(!h(k))return null;if(k.readableEnded===!0)return!0;let m=k._readableState;return!m||m.errored?!1:typeof m?.ended!="boolean"?null:m.ended}function V(k,m){if(!h(k))return null;let a=k._readableState;return a!=null&&a.errored?!1:typeof a?.endEmitted!="boolean"?null:!!(a.endEmitted||m===!1&&a.ended===!0&&a.length===0)}function Y(k){return k&&k[D]!=null?k[D]:typeof k?.readable!="boolean"?null:b(k)?!1:h(k)&&k.readable&&!V(k)}function T(k){return typeof k?.writable!="boolean"?null:b(k)?!1:Z(k)&&k.writable&&!E(k)}function J(k,m){return Q(k)?b(k)?!0:!(m?.readable!==!1&&Y(k)||m?.writable!==!1&&T(k)):null}function W(k){var m,a;return Q(k)?k.writableErrored?k.writableErrored:(m=(a=k._writableState)===null||a===void 0?void 0:a.errored)!==null&&m!==void 0?m:null:null}function K(k){var m,a;return Q(k)?k.readableErrored?k.readableErrored:(m=(a=k._readableState)===null||a===void 0?void 0:a.errored)!==null&&m!==void 0?m:null:null}function S(k){if(!Q(k))return null;if(typeof k.closed=="boolean")return k.closed;let{_writableState:m,_readableState:a}=k;return typeof m?.closed=="boolean"||typeof a?.closed=="boolean"?m?.closed||a?.closed:typeof k._closed=="boolean"&&_(k)?k._closed:null}function _(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function v(k){return typeof k._sent100=="boolean"&&_(k)}function d(k){var m;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((m=k.req)===null||m===void 0?void 0:m.upgradeOrConnect)===void 0}function f(k){if(!Q(k))return null;let{_writableState:m,_readableState:a}=k,o=m||a;return!o&&v(k)||!!(o&&o.autoDestroy&&o.emitClose&&o.closed===!1)}function g(k){var m;return!!(k&&((m=k[$])!==null&&m!==void 0?m:k.readableDidRead||k.readableAborted))}function s(k){var m,a,o,A0,i,n,w,t,H0,C0;return!!(k&&((m=(a=(o=(A0=(i=(n=k[B])!==null&&n!==void 0?n:k.readableErrored)!==null&&i!==void 0?i:k.writableErrored)!==null&&A0!==void 0?A0:(w=k._readableState)===null||w===void 0?void 0:w.errorEmitted)!==null&&o!==void 0?o:(t=k._writableState)===null||t===void 0?void 0:t.errorEmitted)!==null&&a!==void 0?a:(H0=k._readableState)===null||H0===void 0?void 0:H0.errored)!==null&&m!==void 0?m:(C0=k._writableState)===null||C0===void 0?void 0:C0.errored))}p.exports={kDestroyed:x,isDisturbed:g,kIsDisturbed:$,isErrored:s,kIsErrored:B,isReadable:Y,kIsReadable:D,isClosed:S,isDestroyed:b,isDuplexNodeStream:F,isFinished:J,isIterable:j,isReadableNodeStream:h,isReadableEnded:I,isReadableFinished:V,isReadableErrored:K,isNodeStream:Q,isWritable:T,isWritableNodeStream:Z,isWritableEnded:E,isWritableFinished:M,isWritableErrored:W,isServerRequest:d,isServerResponse:v,willEmitClose:f}}),E8=J0((P,p)=>{var X=(I8(),T8(NX)),{AbortError:H,codes:A}=mP(),{ERR_INVALID_ARG_TYPE:x,ERR_STREAM_PREMATURE_CLOSE:B}=A,{kEmptyObject:D,once:$}=kX(),{validateAbortSignal:h,validateFunction:Z,validateObject:F}=Lh(),{Promise:Q}=QP(),{isClosed:j,isReadable:b,isReadableNodeStream:E,isReadableFinished:M,isReadableErrored:I,isWritable:V,isWritableNodeStream:Y,isWritableFinished:T,isWritableErrored:J,isNodeStream:W,willEmitClose:K}=b8();function S(f){return f.setHeader&&typeof f.abort=="function"}var _=()=>{};function v(f,g,s){var k,m;arguments.length===2?(s=g,g=D):g==null?g=D:F(g,"options"),Z(s,"callback"),h(g.signal,"options.signal"),s=$(s);let a=(k=g.readable)!==null&&k!==void 0?k:E(f),o=(m=g.writable)!==null&&m!==void 0?m:Y(f);if(!W(f))throw new x("stream","Stream",f);let{_writableState:A0,_readableState:i}=f,n=()=>{f.writable||H0()},w=K(f)&&E(f)===a&&Y(f)===o,t=T(f,!1),H0=()=>{t=!0,f.destroyed&&(w=!1),!(w&&(!f.readable||a))&&(!a||C0)&&s.call(f)},C0=M(f,!1),j0=()=>{C0=!0,f.destroyed&&(w=!1),!(w&&(!f.writable||o))&&(!o||t)&&s.call(f)},D0=(B0)=>{s.call(f,B0)},V0=j(f),h0=()=>{V0=!0;let B0=J(f)||I(f);if(B0&&typeof B0!="boolean")return s.call(f,B0);if(a&&!C0&&E(f,!0)&&!M(f,!1))return s.call(f,new B);if(o&&!t&&!T(f,!1))return s.call(f,new B);s.call(f)},q0=()=>{f.req.on("finish",H0)};S(f)?(f.on("complete",H0),w||f.on("abort",h0),f.req?q0():f.on("request",q0)):o&&!A0&&(f.on("end",n),f.on("close",n)),!w&&typeof f.aborted=="boolean"&&f.on("aborted",h0),f.on("end",j0),f.on("finish",H0),g.error!==!1&&f.on("error",D0),f.on("close",h0),V0?X.nextTick(h0):A0!=null&&A0.errorEmitted||i!=null&&i.errorEmitted?w||X.nextTick(h0):(!a&&(!w||b(f))&&(t||V(f)===!1)||!o&&(!w||V(f))&&(C0||b(f)===!1)||i&&f.req&&f.aborted)&&X.nextTick(h0);let O0=()=>{s=_,f.removeListener("aborted",h0),f.removeListener("complete",H0),f.removeListener("abort",h0),f.removeListener("request",q0),f.req&&f.req.removeListener("finish",H0),f.removeListener("end",n),f.removeListener("close",n),f.removeListener("finish",H0),f.removeListener("end",j0),f.removeListener("error",D0),f.removeListener("close",h0)};if(g.signal&&!V0){let B0=()=>{let g0=s;O0(),g0.call(f,new H(void 0,{cause:g.signal.reason}))};if(g.signal.aborted)X.nextTick(B0);else{let g0=s;s=$((...u)=>{g.signal.removeEventListener("abort",B0),g0.apply(f,u)}),g.signal.addEventListener("abort",B0)}}return O0}function d(f,g){return new Q((s,k)=>{v(f,g,(m)=>{m?k(m):s()})})}p.exports=v,p.exports.finished=d}),iE=J0((P,p)=>{var X=globalThis.AbortController||EZ().AbortController,{codes:{ERR_INVALID_ARG_TYPE:H,ERR_MISSING_ARGS:A,ERR_OUT_OF_RANGE:x},AbortError:B}=mP(),{validateAbortSignal:D,validateInteger:$,validateObject:h}=Lh(),Z=QP().Symbol("kWeak"),{finished:F}=E8(),{ArrayPrototypePush:Q,MathFloor:j,Number:b,NumberIsNaN:E,Promise:M,PromiseReject:I,PromisePrototypeThen:V,Symbol:Y}=QP(),T=Y("kEmpty"),J=Y("kEof");function W(i,n){if(typeof i!="function")throw new H("fn",["Function","AsyncFunction"],i);n!=null&&h(n,"options"),n?.signal!=null&&D(n.signal,"options.signal");let w=1;return n?.concurrency!=null&&(w=j(n.concurrency)),$(w,"concurrency",1),async function*(){var t,H0;let C0=new X,j0=this,D0=[],V0=C0.signal,h0={signal:V0},q0=()=>C0.abort();n!=null&&(t=n.signal)!==null&&t!==void 0&&t.aborted&&q0(),n==null||(H0=n.signal)===null||H0===void 0||H0.addEventListener("abort",q0);let O0,B0,g0=!1;function u(){g0=!0}async function z(){try{for await(let P0 of j0){var G;if(g0)return;if(V0.aborted)throw new B;try{P0=i(P0,h0)}catch(p0){P0=I(p0)}P0!==T&&(typeof((G=P0)===null||G===void 0?void 0:G.catch)=="function"&&P0.catch(u),D0.push(P0),O0&&(O0(),O0=null),!g0&&D0.length&&D0.length>=w&&await new M((p0)=>{B0=p0}))}D0.push(J)}catch(P0){let p0=I(P0);V(p0,void 0,u),D0.push(p0)}finally{var l;g0=!0,O0&&(O0(),O0=null),n==null||(l=n.signal)===null||l===void 0||l.removeEventListener("abort",q0)}}z();try{for(;;){for(;D0.length>0;){let G=await D0[0];if(G===J)return;if(V0.aborted)throw new B;G!==T&&(yield G),D0.shift(),B0&&(B0(),B0=null)}await new M((G)=>{O0=G})}}finally{C0.abort(),g0=!0,B0&&(B0(),B0=null)}}.call(this)}function K(i=void 0){return i!=null&&h(i,"options"),i?.signal!=null&&D(i.signal,"options.signal"),async function*(){let n=0;for await(let t of this){var w;if(i!=null&&(w=i.signal)!==null&&w!==void 0&&w.aborted)throw new B({cause:i.signal.reason});yield[n++,t]}}.call(this)}async function S(i,n=void 0){for await(let w of f.call(this,i,n))return!0;return!1}async function _(i,n=void 0){if(typeof i!="function")throw new H("fn",["Function","AsyncFunction"],i);return!await S.call(this,async(...w)=>!await i(...w),n)}async function v(i,n){for await(let w of f.call(this,i,n))return w}async function d(i,n){if(typeof i!="function")throw new H("fn",["Function","AsyncFunction"],i);async function w(t,H0){return await i(t,H0),T}for await(let t of W.call(this,w,n));}function f(i,n){if(typeof i!="function")throw new H("fn",["Function","AsyncFunction"],i);async function w(t,H0){return await i(t,H0)?t:T}return W.call(this,w,n)}var g=class extends A{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function s(i,n,w){var t;if(typeof i!="function")throw new H("reducer",["Function","AsyncFunction"],i);w!=null&&h(w,"options"),w?.signal!=null&&D(w.signal,"options.signal");let H0=arguments.length>1;if(w!=null&&(t=w.signal)!==null&&t!==void 0&&t.aborted){let h0=new B(void 0,{cause:w.signal.reason});throw this.once("error",()=>{}),await F(this.destroy(h0)),h0}let C0=new X,j0=C0.signal;if(w!=null&&w.signal){let h0={once:!0,[Z]:this};w.signal.addEventListener("abort",()=>C0.abort(),h0)}let D0=!1;try{for await(let h0 of this){var V0;if(D0=!0,w!=null&&(V0=w.signal)!==null&&V0!==void 0&&V0.aborted)throw new B;H0?n=await i(n,h0,{signal:j0}):(n=h0,H0=!0)}if(!D0&&!H0)throw new g}finally{C0.abort()}return n}async function k(i){i!=null&&h(i,"options"),i?.signal!=null&&D(i.signal,"options.signal");let n=[];for await(let t of this){var w;if(i!=null&&(w=i.signal)!==null&&w!==void 0&&w.aborted)throw new B(void 0,{cause:i.signal.reason});Q(n,t)}return n}function m(i,n){let w=W.call(this,i,n);return async function*(){for await(let t of w)yield*t}.call(this)}function a(i){if(i=b(i),E(i))return 0;if(i<0)throw new x("number",">= 0",i);return i}function o(i,n=void 0){return n!=null&&h(n,"options"),n?.signal!=null&&D(n.signal,"options.signal"),i=a(i),async function*(){var w;if(n!=null&&(w=n.signal)!==null&&w!==void 0&&w.aborted)throw new B;for await(let H0 of this){var t;if(n!=null&&(t=n.signal)!==null&&t!==void 0&&t.aborted)throw new B;i--<=0&&(yield H0)}}.call(this)}function A0(i,n=void 0){return n!=null&&h(n,"options"),n?.signal!=null&&D(n.signal,"options.signal"),i=a(i),async function*(){var w;if(n!=null&&(w=n.signal)!==null&&w!==void 0&&w.aborted)throw new B;for await(let H0 of this){var t;if(n!=null&&(t=n.signal)!==null&&t!==void 0&&t.aborted)throw new B;if(i-- >0)yield H0;else return}}.call(this)}p.exports.streamReturningOperators={asIndexedPairs:K,drop:o,filter:f,flatMap:m,map:W,take:A0},p.exports.promiseReturningOperators={every:_,forEach:d,reduce:s,toArray:k,some:S,find:v}}),wA=J0((P,p)=>{var X=(I8(),T8(NX)),{aggregateTwoErrors:H,codes:{ERR_MULTIPLE_CALLBACK:A},AbortError:x}=mP(),{Symbol:B}=QP(),{kDestroyed:D,isDestroyed:$,isFinished:h,isServerRequest:Z}=b8(),F=B("kDestroy"),Q=B("kConstruct");function j(f,g,s){f&&(f.stack,g&&!g.errored&&(g.errored=f),s&&!s.errored&&(s.errored=f))}function b(f,g){let s=this._readableState,k=this._writableState,m=k||s;return k&&k.destroyed||s&&s.destroyed?(typeof g=="function"&&g(),this):(j(f,k,s),k&&(k.destroyed=!0),s&&(s.destroyed=!0),m.constructed?E(this,f,g):this.once(F,function(a){E(this,H(a,f),g)}),this)}function E(f,g,s){let k=!1;function m(a){if(k)return;k=!0;let{_readableState:o,_writableState:A0}=f;j(a,A0,o),A0&&(A0.closed=!0),o&&(o.closed=!0),typeof s=="function"&&s(a),a?X.nextTick(M,f,a):X.nextTick(I,f)}try{f._destroy(g||null,m)}catch(a){m(a)}}function M(f,g){V(f,g),I(f)}function I(f){let{_readableState:g,_writableState:s}=f;s&&(s.closeEmitted=!0),g&&(g.closeEmitted=!0),(s&&s.emitClose||g&&g.emitClose)&&f.emit("close")}function V(f,g){let{_readableState:s,_writableState:k}=f;k&&k.errorEmitted||s&&s.errorEmitted||(k&&(k.errorEmitted=!0),s&&(s.errorEmitted=!0),f.emit("error",g))}function Y(){let f=this._readableState,g=this._writableState;f&&(f.constructed=!0,f.closed=!1,f.closeEmitted=!1,f.destroyed=!1,f.errored=null,f.errorEmitted=!1,f.reading=!1,f.ended=f.readable===!1,f.endEmitted=f.readable===!1),g&&(g.constructed=!0,g.destroyed=!1,g.closed=!1,g.closeEmitted=!1,g.errored=null,g.errorEmitted=!1,g.finalCalled=!1,g.prefinished=!1,g.ended=g.writable===!1,g.ending=g.writable===!1,g.finished=g.writable===!1)}function T(f,g,s){let{_readableState:k,_writableState:m}=f;if(m&&m.destroyed||k&&k.destroyed)return this;k&&k.autoDestroy||m&&m.autoDestroy?f.destroy(g):g&&(g.stack,m&&!m.errored&&(m.errored=g),k&&!k.errored&&(k.errored=g),s?X.nextTick(V,f,g):V(f,g))}function J(f,g){if(typeof f._construct!="function")return;let{_readableState:s,_writableState:k}=f;s&&(s.constructed=!1),k&&(k.constructed=!1),f.once(Q,g),!(f.listenerCount(Q)>1)&&X.nextTick(W,f)}function W(f){let g=!1;function s(k){if(g){T(f,k??new A);return}g=!0;let{_readableState:m,_writableState:a}=f,o=a||m;m&&(m.constructed=!0),a&&(a.constructed=!0),o.destroyed?f.emit(F,k):k?T(f,k,!0):X.nextTick(K,f)}try{f._construct(s)}catch(k){s(k)}}function K(f){f.emit(Q)}function S(f){return f&&f.setHeader&&typeof f.abort=="function"}function _(f){f.emit("close")}function v(f,g){f.emit("error",g),X.nextTick(_,f)}function d(f,g){!f||$(f)||(!g&&!h(f)&&(g=new x),Z(f)?(f.socket=null,f.destroy(g)):S(f)?f.abort():S(f.req)?f.req.abort():typeof f.destroy=="function"?f.destroy(g):typeof f.close=="function"?f.close():g?X.nextTick(v,f,g):X.nextTick(_,f),f.destroyed||(f[D]=!0))}p.exports={construct:J,destroyer:d,destroy:b,undestroy:Y,errorOrDestroy:T}}),WZ=J0((P,p)=>{var X=typeof Reflect=="object"?Reflect:null,H=X&&typeof X.apply=="function"?X.apply:function(W,K,S){return Function.prototype.apply.call(W,K,S)},A;X&&typeof X.ownKeys=="function"?A=X.ownKeys:Object.getOwnPropertySymbols?A=function(W){return Object.getOwnPropertyNames(W).concat(Object.getOwnPropertySymbols(W))}:A=function(W){return Object.getOwnPropertyNames(W)};function x(W){console&&console.warn&&console.warn(W)}var B=Number.isNaN||function(W){return W!==W};function D(){D.init.call(this)}p.exports=D,p.exports.once=Y,D.EventEmitter=D,D.prototype._events=void 0,D.prototype._eventsCount=0,D.prototype._maxListeners=void 0;var $=10;function h(W){if(typeof W!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof W)}Object.defineProperty(D,"defaultMaxListeners",{enumerable:!0,get:function(){return $},set:function(W){if(typeof W!="number"||W<0||B(W))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+W+".");$=W}}),D.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},D.prototype.setMaxListeners=function(W){if(typeof W!="number"||W<0||B(W))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+W+".");return this._maxListeners=W,this};function Z(W){return W._maxListeners===void 0?D.defaultMaxListeners:W._maxListeners}D.prototype.getMaxListeners=function(){return Z(this)},D.prototype.emit=function(W){for(var K=[],S=1;S<arguments.length;S++)K.push(arguments[S]);var _=W==="error",v=this._events;if(v!==void 0)_=_&&v.error===void 0;else if(!_)return!1;if(_){var d;if(K.length>0&&(d=K[0]),d instanceof Error)throw d;var f=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw f.context=d,f}var g=v[W];if(g===void 0)return!1;if(typeof g=="function")H(g,this,K);else for(var s=g.length,k=M(g,s),S=0;S<s;++S)H(k[S],this,K);return!0};function F(W,K,S,_){var v,d,f;if(h(S),d=W._events,d===void 0?(d=W._events=Object.create(null),W._eventsCount=0):(d.newListener!==void 0&&(W.emit("newListener",K,S.listener?S.listener:S),d=W._events),f=d[K]),f===void 0)f=d[K]=S,++W._eventsCount;else if(typeof f=="function"?f=d[K]=_?[S,f]:[f,S]:_?f.unshift(S):f.push(S),v=Z(W),v>0&&f.length>v&&!f.warned){f.warned=!0;var g=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(K)+" listeners added. Use emitter.setMaxListeners() to increase limit");g.name="MaxListenersExceededWarning",g.emitter=W,g.type=K,g.count=f.length,x(g)}return W}D.prototype.addListener=function(W,K){return F(this,W,K,!1)},D.prototype.on=D.prototype.addListener,D.prototype.prependListener=function(W,K){return F(this,W,K,!0)};function Q(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function j(W,K,S){var _={fired:!1,wrapFn:void 0,target:W,type:K,listener:S},v=Q.bind(_);return v.listener=S,_.wrapFn=v,v}D.prototype.once=function(W,K){return h(K),this.on(W,j(this,W,K)),this},D.prototype.prependOnceListener=function(W,K){return h(K),this.prependListener(W,j(this,W,K)),this},D.prototype.removeListener=function(W,K){var S,_,v,d,f;if(h(K),_=this._events,_===void 0)return this;if(S=_[W],S===void 0)return this;if(S===K||S.listener===K)--this._eventsCount===0?this._events=Object.create(null):(delete _[W],_.removeListener&&this.emit("removeListener",W,S.listener||K));else if(typeof S!="function"){for(v=-1,d=S.length-1;d>=0;d--)if(S[d]===K||S[d].listener===K){f=S[d].listener,v=d;break}if(v<0)return this;v===0?S.shift():I(S,v),S.length===1&&(_[W]=S[0]),_.removeListener!==void 0&&this.emit("removeListener",W,f||K)}return this},D.prototype.off=D.prototype.removeListener,D.prototype.removeAllListeners=function(W){var K,S,_;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[W]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[W]),this;if(arguments.length===0){var v=Object.keys(S),d;for(_=0;_<v.length;++_)d=v[_],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(K=S[W],typeof K=="function")this.removeListener(W,K);else if(K!==void 0)for(_=K.length-1;_>=0;_--)this.removeListener(W,K[_]);return this};function b(W,K,S){var _=W._events;if(_===void 0)return[];var v=_[K];return v===void 0?[]:typeof v=="function"?S?[v.listener||v]:[v]:S?V(v):M(v,v.length)}D.prototype.listeners=function(W){return b(this,W,!0)},D.prototype.rawListeners=function(W){return b(this,W,!1)},D.listenerCount=function(W,K){return typeof W.listenerCount=="function"?W.listenerCount(K):E.call(W,K)},D.prototype.listenerCount=E;function E(W){var K=this._events;if(K!==void 0){var S=K[W];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}D.prototype.eventNames=function(){return this._eventsCount>0?A(this._events):[]};function M(W,K){for(var S=new Array(K),_=0;_<K;++_)S[_]=W[_];return S}function I(W,K){for(;K+1<W.length;K++)W[K]=W[K+1];W.pop()}function V(W){for(var K=new Array(W.length),S=0;S<K.length;++S)K[S]=W[S].listener||W[S];return K}function Y(W,K){return new Promise(function(S,_){function v(f){W.removeListener(K,d),_(f)}function d(){typeof W.removeListener=="function"&&W.removeListener("error",v),S([].slice.call(arguments))}J(W,K,d,{once:!0}),K!=="error"&&T(W,v,{once:!0})})}function T(W,K,S){typeof W.on=="function"&&J(W,"error",K,S)}function J(W,K,S,_){if(typeof W.on=="function")_.once?W.once(K,S):W.on(K,S);else if(typeof W.addEventListener=="function")W.addEventListener(K,function v(d){_.once&&W.removeEventListener(K,v),S(d)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof W)}}),MZ=J0((P,p)=>{var{ArrayIsArray:X,ObjectSetPrototypeOf:H}=QP(),{EventEmitter:A}=WZ();function x(D){A.call(this,D)}H(x.prototype,A.prototype),H(x,A),x.prototype.pipe=function(D,$){let h=this;function Z(I){D.writable&&D.write(I)===!1&&h.pause&&h.pause()}h.on("data",Z);function F(){h.readable&&h.resume&&h.resume()}D.on("drain",F),!D._isStdio&&(!$||$.end!==!1)&&(h.on("end",j),h.on("close",b));let Q=!1;function j(){Q||(Q=!0,D.end())}function b(){Q||(Q=!0,typeof D.destroy=="function"&&D.destroy())}function E(I){M(),A.listenerCount(this,"error")===0&&this.emit("error",I)}B(h,"error",E),B(D,"error",E);function M(){h.removeListener("data",Z),D.removeListener("drain",F),h.removeListener("end",j),h.removeListener("close",b),h.removeListener("error",E),D.removeListener("error",E),h.removeListener("end",M),h.removeListener("close",M),D.removeListener("close",M)}return h.on("end",M),h.on("close",M),D.on("close",M),D.emit("pipe",h),D};function B(D,$,h){if(typeof D.prependListener=="function")return D.prependListener($,h);!D._events||!D._events[$]?D.on($,h):X(D._events[$])?D._events[$].unshift(h):D._events[$]=[h,D._events[$]]}p.exports={Stream:x,prependListener:B}}),JZ=J0((P,p)=>{var{AbortError:X,codes:H}=mP(),A=E8(),{ERR_INVALID_ARG_TYPE:x}=H,B=($,h)=>{if(typeof $!="object"||!("aborted"in $))throw new x(h,"AbortSignal",$)};function D($){return!!($&&typeof $.pipe=="function")}p.exports.addAbortSignal=function($,h){if(B($,"signal"),!D(h))throw new x("stream","stream.Stream",h);return p.exports.addAbortSignalNoValidate($,h)},p.exports.addAbortSignalNoValidate=function($,h){if(typeof $!="object"||!("aborted"in $))return h;let Z=()=>{h.destroy(new X(void 0,{cause:$.reason}))};return $.aborted?Z():($.addEventListener("abort",Z),A(h,()=>$.removeEventListener("abort",Z))),h}}),oE=J0((P,p)=>{var{StringPrototypeSlice:X,SymbolIterator:H,TypedArrayPrototypeSet:A,Uint8Array:x}=QP(),{Buffer:B}=JH(),{inspect:D}=kX();p.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push($){let h={data:$,next:null};this.length>0?this.tail.next=h:this.head=h,this.tail=h,++this.length}unshift($){let h={data:$,next:this.head};this.length===0&&(this.tail=h),this.head=h,++this.length}shift(){if(this.length===0)return;let $=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$}clear(){this.head=this.tail=null,this.length=0}join($){if(this.length===0)return"";let h=this.head,Z=""+h.data;for(;(h=h.next)!==null;)Z+=$+h.data;return Z}concat($){if(this.length===0)return B.alloc(0);let h=B.allocUnsafe($>>>0),Z=this.head,F=0;for(;Z;)A(h,Z.data,F),F+=Z.data.length,Z=Z.next;return h}consume($,h){let Z=this.head.data;if($<Z.length){let F=Z.slice(0,$);return this.head.data=Z.slice($),F}return $===Z.length?this.shift():h?this._getString($):this._getBuffer($)}first(){return this.head.data}*[H](){for(let $=this.head;$;$=$.next)yield $.data}_getString($){let h="",Z=this.head,F=0;do{let Q=Z.data;if($>Q.length)h+=Q,$-=Q.length;else{$===Q.length?(h+=Q,++F,Z.next?this.head=Z.next:this.head=this.tail=null):(h+=X(Q,0,$),this.head=Z,Z.data=X(Q,$));break}++F}while((Z=Z.next)!==null);return this.length-=F,h}_getBuffer($){let h=B.allocUnsafe($),Z=$,F=this.head,Q=0;do{let j=F.data;if($>j.length)A(h,j,Z-$),$-=j.length;else{$===j.length?(A(h,j,Z-$),++Q,F.next?this.head=F.next:this.head=this.tail=null):(A(h,new x(j.buffer,j.byteOffset,$),Z-$),this.head=F,F.data=j.slice($));break}++Q}while((F=F.next)!==null);return this.length-=Q,h}[Symbol.for("nodejs.util.inspect.custom")]($,h){return D(this,{...h,depth:0,customInspect:!1})}}}),KZ=J0((P,p)=>{var{MathFloor:X,NumberIsInteger:H}=QP(),{ERR_INVALID_ARG_VALUE:A}=mP().codes;function x($,h,Z){return $.highWaterMark!=null?$.highWaterMark:h?$[Z]:null}function B($){return $?16:16384}function D($,h,Z,F){let Q=x(h,F,Z);if(Q!=null){if(!H(Q)||Q<0){let j=F?`options.${Z}`:"options.highWaterMark";throw new A(j,Q)}return X(Q)}return B($.objectMode)}p.exports={getHighWaterMark:D,getDefaultHighWaterMark:B}}),nE=J0((P,p)=>{var X=JH(),H=X.Buffer;function A(B,D){for(var $ in B)D[$]=B[$]}H.from&&H.alloc&&H.allocUnsafe&&H.allocUnsafeSlow?p.exports=X:(A(X,P),P.Buffer=x);function x(B,D,$){return H(B,D,$)}x.prototype=Object.create(H.prototype),A(H,x),x.from=function(B,D,$){if(typeof B=="number")throw new TypeError("Argument must not be a number");return H(B,D,$)},x.alloc=function(B,D,$){if(typeof B!="number")throw new TypeError("Argument must be a number");var h=H(B);return D!==void 0?typeof $=="string"?h.fill(D,$):h.fill(D):h.fill(0),h},x.allocUnsafe=function(B){if(typeof B!="number")throw new TypeError("Argument must be a number");return H(B)},x.allocUnsafeSlow=function(B){if(typeof B!="number")throw new TypeError("Argument must be a number");return X.SlowBuffer(B)}}),rE=J0((P)=>{var p=nE().Buffer,X=p.isEncoding||function(V){switch(V=""+V,V&&V.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function H(V){if(!V)return"utf8";for(var Y;;)switch(V){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return V;default:if(Y)return;V=(""+V).toLowerCase(),Y=!0}}function A(V){var Y=H(V);if(typeof Y!="string"&&(p.isEncoding===X||!X(V)))throw new Error("Unknown encoding: "+V);return Y||V}P.StringDecoder=x;function x(V){this.encoding=A(V);var Y;switch(this.encoding){case"utf16le":this.text=Q,this.end=j,Y=4;break;case"utf8":this.fillLast=h,Y=4;break;case"base64":this.text=b,this.end=E,Y=3;break;default:this.write=M,this.end=I;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(Y)}x.prototype.write=function(V){if(V.length===0)return"";var Y,T;if(this.lastNeed){if(Y=this.fillLast(V),Y===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<V.length?Y?Y+this.text(V,T):this.text(V,T):Y||""},x.prototype.end=F,x.prototype.text=Z,x.prototype.fillLast=function(V){if(this.lastNeed<=V.length)return V.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);V.copy(this.lastChar,this.lastTotal-this.lastNeed,0,V.length),this.lastNeed-=V.length};function B(V){return V<=127?0:V>>5===6?2:V>>4===14?3:V>>3===30?4:V>>6===2?-1:-2}function D(V,Y,T){var J=Y.length-1;if(J<T)return 0;var W=B(Y[J]);return W>=0?(W>0&&(V.lastNeed=W-1),W):--J<T||W===-2?0:(W=B(Y[J]),W>=0?(W>0&&(V.lastNeed=W-2),W):--J<T||W===-2?0:(W=B(Y[J]),W>=0?(W>0&&(W===2?W=0:V.lastNeed=W-3),W):0))}function $(V,Y,T){if((Y[0]&192)!==128)return V.lastNeed=0,"";if(V.lastNeed>1&&Y.length>1){if((Y[1]&192)!==128)return V.lastNeed=1,"";if(V.lastNeed>2&&Y.length>2&&(Y[2]&192)!==128)return V.lastNeed=2,""}}function h(V){var Y=this.lastTotal-this.lastNeed,T=$(this,V,Y);if(T!==void 0)return T;if(this.lastNeed<=V.length)return V.copy(this.lastChar,Y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);V.copy(this.lastChar,Y,0,V.length),this.lastNeed-=V.length}function Z(V,Y){var T=D(this,V,Y);if(!this.lastNeed)return V.toString("utf8",Y);this.lastTotal=T;var J=V.length-(T-this.lastNeed);return V.copy(this.lastChar,0,J),V.toString("utf8",Y,J)}function F(V){var Y=V&&V.length?this.write(V):"";return this.lastNeed?Y+"":Y}function Q(V,Y){if((V.length-Y)%2===0){var T=V.toString("utf16le",Y);if(T){var J=T.charCodeAt(T.length-1);if(J>=55296&&J<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=V[V.length-2],this.lastChar[1]=V[V.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=V[V.length-1],V.toString("utf16le",Y,V.length-1)}function j(V){var Y=V&&V.length?this.write(V):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return Y+this.lastChar.toString("utf16le",0,T)}return Y}function b(V,Y){var T=(V.length-Y)%3;return T===0?V.toString("base64",Y):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=V[V.length-1]:(this.lastChar[0]=V[V.length-2],this.lastChar[1]=V[V.length-1]),V.toString("base64",Y,V.length-T))}function E(V){var Y=V&&V.length?this.write(V):"";return this.lastNeed?Y+this.lastChar.toString("base64",0,3-this.lastNeed):Y}function M(V){return V.toString(this.encoding)}function I(V){return V&&V.length?this.write(V):""}}),RQ=J0((P,p)=>{var X=(I8(),T8(NX)),{PromisePrototypeThen:H,SymbolAsyncIterator:A,SymbolIterator:x}=QP(),{Buffer:B}=JH(),{ERR_INVALID_ARG_TYPE:D,ERR_STREAM_NULL_VALUES:$}=mP().codes;function h(Z,F,Q){let j;if(typeof F=="string"||F instanceof B)return new Z({objectMode:!0,...Q,read(){this.push(F),this.push(null)}});let b;if(F&&F[A])b=!0,j=F[A]();else if(F&&F[x])b=!1,j=F[x]();else throw new D("iterable",["Iterable"],F);let E=new Z({objectMode:!0,highWaterMark:1,...Q}),M=!1;E._read=function(){M||(M=!0,V())},E._destroy=function(Y,T){H(I(Y),()=>X.nextTick(T,Y),(J)=>X.nextTick(T,J||Y))};async function I(Y){let T=Y!=null,J=typeof j.throw=="function";if(T&&J){let{value:W,done:K}=await j.throw(Y);if(await W,K)return}if(typeof j.return=="function"){let{value:W}=await j.return();await W}}async function V(){for(;;){try{let{value:Y,done:T}=b?await j.next():j.next();if(T)E.push(null);else{let J=Y&&typeof Y.then=="function"?await Y:Y;if(J===null)throw M=!1,new $;if(E.push(J))continue;M=!1}}catch(Y){E.destroy(Y)}break}}return E}p.exports=h}),Zh=J0((P,p)=>{var X=(I8(),T8(NX)),{ArrayPrototypeIndexOf:H,NumberIsInteger:A,NumberIsNaN:x,NumberParseInt:B,ObjectDefineProperties:D,ObjectKeys:$,ObjectSetPrototypeOf:h,Promise:Z,SafeSet:F,SymbolAsyncIterator:Q,Symbol:j}=QP();p.exports=w,w.ReadableState=n;var{EventEmitter:b}=WZ(),{Stream:E,prependListener:M}=MZ(),{Buffer:I}=JH(),{addAbortSignal:V}=JZ(),Y=E8(),T=kX().debuglog("stream",(L)=>{T=L}),J=oE(),W=wA(),{getHighWaterMark:K,getDefaultHighWaterMark:S}=KZ(),{aggregateTwoErrors:_,codes:{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:d,ERR_OUT_OF_RANGE:f,ERR_STREAM_PUSH_AFTER_EOF:g,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:s}}=mP(),{validateObject:k}=Lh(),m=j("kPaused"),{StringDecoder:a}=rE(),o=RQ();h(w.prototype,E.prototype),h(w,E);var A0=()=>{},{errorOrDestroy:i}=W;function n(L,C,q){typeof q!="boolean"&&(q=C instanceof GX()),this.objectMode=!!(L&&L.objectMode),q&&(this.objectMode=this.objectMode||!!(L&&L.readableObjectMode)),this.highWaterMark=L?K(this,L,"readableHighWaterMark",q):S(!1),this.buffer=new J,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[m]=null,this.errorEmitted=!1,this.emitClose=!L||L.emitClose!==!1,this.autoDestroy=!L||L.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=L&&L.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,L&&L.encoding&&(this.decoder=new a(L.encoding),this.encoding=L.encoding)}function w(L){if(!(this instanceof w))return new w(L);let C=this instanceof GX();this._readableState=new n(L,this,C),L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.construct=="function"&&(this._construct=L.construct),L.signal&&!C&&V(L.signal,this)),E.call(this,L),W.construct(this,()=>{this._readableState.needReadable&&O0(this,this._readableState)})}w.prototype.destroy=W.destroy,w.prototype._undestroy=W.undestroy,w.prototype._destroy=function(L,C){C(L)},w.prototype[b.captureRejectionSymbol]=function(L){this.destroy(L)},w.prototype.push=function(L,C){return t(this,L,C,!1)},w.prototype.unshift=function(L,C){return t(this,L,C,!0)};function t(L,C,q,R){T("readableAddChunk",C);let U=L._readableState,c;if(U.objectMode||(typeof C=="string"?(q=q||U.defaultEncoding,U.encoding!==q&&(R&&U.encoding?C=I.from(C,q).toString(U.encoding):(C=I.from(C,q),q=""))):C instanceof I?q="":E._isUint8Array(C)?(C=E._uint8ArrayToBuffer(C),q=""):C!=null&&(c=new v("chunk",["string","Buffer","Uint8Array"],C))),c)i(L,c);else if(C===null)U.reading=!1,V0(L,U);else if(U.objectMode||C&&C.length>0)if(R)if(U.endEmitted)i(L,new s);else{if(U.destroyed||U.errored)return!1;H0(L,U,C,!0)}else if(U.ended)i(L,new g);else{if(U.destroyed||U.errored)return!1;U.reading=!1,U.decoder&&!q?(C=U.decoder.write(C),U.objectMode||C.length!==0?H0(L,U,C,!1):O0(L,U)):H0(L,U,C,!1)}else R||(U.reading=!1,O0(L,U));return!U.ended&&(U.length<U.highWaterMark||U.length===0)}function H0(L,C,q,R){C.flowing&&C.length===0&&!C.sync&&L.listenerCount("data")>0?(C.multiAwaitDrain?C.awaitDrainWriters.clear():C.awaitDrainWriters=null,C.dataEmitted=!0,L.emit("data",q)):(C.length+=C.objectMode?1:q.length,R?C.buffer.unshift(q):C.buffer.push(q),C.needReadable&&h0(L)),O0(L,C)}w.prototype.isPaused=function(){let L=this._readableState;return L[m]===!0||L.flowing===!1},w.prototype.setEncoding=function(L){let C=new a(L);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;let q=this._readableState.buffer,R="";for(let U of q)R+=C.write(U);return q.clear(),R!==""&&q.push(R),this._readableState.length=R.length,this};var C0=1073741824;function j0(L){if(L>C0)throw new f("size","<= 1GiB",L);return L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++,L}function D0(L,C){return L<=0||C.length===0&&C.ended?0:C.objectMode?1:x(L)?C.flowing&&C.length?C.buffer.first().length:C.length:L<=C.length?L:C.ended?C.length:0}w.prototype.read=function(L){T("read",L),L===void 0?L=NaN:A(L)||(L=B(L,10));let C=this._readableState,q=L;if(L>C.highWaterMark&&(C.highWaterMark=j0(L)),L!==0&&(C.emittedReadable=!1),L===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return T("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?f0(this):h0(this),null;if(L=D0(L,C),L===0&&C.ended)return C.length===0&&f0(this),null;let R=C.needReadable;if(T("need readable",R),(C.length===0||C.length-L<C.highWaterMark)&&(R=!0,T("length less than watermark",R)),C.ended||C.reading||C.destroyed||C.errored||!C.constructed)R=!1,T("reading, ended or constructing",R);else if(R){T("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0);try{this._read(C.highWaterMark)}catch(c){i(this,c)}C.sync=!1,C.reading||(L=D0(q,C))}let U;return L>0?U=L0(L,C):U=null,U===null?(C.needReadable=C.length<=C.highWaterMark,L=0):(C.length-=L,C.multiAwaitDrain?C.awaitDrainWriters.clear():C.awaitDrainWriters=null),C.length===0&&(C.ended||(C.needReadable=!0),q!==L&&C.ended&&f0(this)),U!==null&&!C.errorEmitted&&!C.closeEmitted&&(C.dataEmitted=!0,this.emit("data",U)),U};function V0(L,C){if(T("onEofChunk"),!C.ended){if(C.decoder){let q=C.decoder.end();q&&q.length&&(C.buffer.push(q),C.length+=C.objectMode?1:q.length)}C.ended=!0,C.sync?h0(L):(C.needReadable=!1,C.emittedReadable=!0,q0(L))}}function h0(L){let C=L._readableState;T("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(T("emitReadable",C.flowing),C.emittedReadable=!0,X.nextTick(q0,L))}function q0(L){let C=L._readableState;T("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&!C.errored&&(C.length||C.ended)&&(L.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,P0(L)}function O0(L,C){!C.readingMore&&C.constructed&&(C.readingMore=!0,X.nextTick(B0,L,C))}function B0(L,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){let q=C.length;if(T("maybeReadMore read 0"),L.read(0),q===C.length)break}C.readingMore=!1}w.prototype._read=function(L){throw new d("_read()")},w.prototype.pipe=function(L,C){let q=this,R=this._readableState;R.pipes.length===1&&(R.multiAwaitDrain||(R.multiAwaitDrain=!0,R.awaitDrainWriters=new F(R.awaitDrainWriters?[R.awaitDrainWriters]:[]))),R.pipes.push(L),T("pipe count=%d opts=%j",R.pipes.length,C);let U=(!C||C.end!==!1)&&L!==X.stdout&&L!==X.stderr?e:Ux;R.endEmitted?X.nextTick(U):q.once("end",U),L.on("unpipe",c);function c(aH,CX){T("onunpipe"),aH===q&&CX&&CX.hasUnpiped===!1&&(CX.hasUnpiped=!0,w0())}function e(){T("onend"),L.end()}let I0,DP=!1;function w0(){T("cleanup"),L.removeListener("close",v2),L.removeListener("finish",_2),I0&&L.removeListener("drain",I0),L.removeListener("error",w2),L.removeListener("unpipe",c),q.removeListener("end",e),q.removeListener("end",Ux),q.removeListener("data",o0),DP=!0,I0&&R.awaitDrainWriters&&(!L._writableState||L._writableState.needDrain)&&I0()}function S0(){DP||(R.pipes.length===1&&R.pipes[0]===L?(T("false write response, pause",0),R.awaitDrainWriters=L,R.multiAwaitDrain=!1):R.pipes.length>1&&R.pipes.includes(L)&&(T("false write response, pause",R.awaitDrainWriters.size),R.awaitDrainWriters.add(L)),q.pause()),I0||(I0=g0(q,L),L.on("drain",I0))}q.on("data",o0);function o0(aH){T("ondata");let CX=L.write(aH);T("dest.write",CX),CX===!1&&S0()}function w2(aH){if(T("onerror",aH),Ux(),L.removeListener("error",w2),L.listenerCount("error")===0){let CX=L._writableState||L._readableState;CX&&!CX.errorEmitted?i(L,aH):L.emit("error",aH)}}M(L,"error",w2);function v2(){L.removeListener("finish",_2),Ux()}L.once("close",v2);function _2(){T("onfinish"),L.removeListener("close",v2),Ux()}L.once("finish",_2);function Ux(){T("unpipe"),q.unpipe(L)}return L.emit("pipe",q),L.writableNeedDrain===!0?R.flowing&&S0():R.flowing||(T("pipe resume"),q.resume()),L};function g0(L,C){return function(){let q=L._readableState;q.awaitDrainWriters===C?(T("pipeOnDrain",1),q.awaitDrainWriters=null):q.multiAwaitDrain&&(T("pipeOnDrain",q.awaitDrainWriters.size),q.awaitDrainWriters.delete(C)),(!q.awaitDrainWriters||q.awaitDrainWriters.size===0)&&L.listenerCount("data")&&L.resume()}}w.prototype.unpipe=function(L){let C=this._readableState,q={hasUnpiped:!1};if(C.pipes.length===0)return this;if(!L){let U=C.pipes;C.pipes=[],this.pause();for(let c=0;c<U.length;c++)U[c].emit("unpipe",this,{hasUnpiped:!1});return this}let R=H(C.pipes,L);return R===-1?this:(C.pipes.splice(R,1),C.pipes.length===0&&this.pause(),L.emit("unpipe",this,q),this)},w.prototype.on=function(L,C){let q=E.prototype.on.call(this,L,C),R=this._readableState;return L==="data"?(R.readableListening=this.listenerCount("readable")>0,R.flowing!==!1&&this.resume()):L==="readable"&&!R.endEmitted&&!R.readableListening&&(R.readableListening=R.needReadable=!0,R.flowing=!1,R.emittedReadable=!1,T("on readable",R.length,R.reading),R.length?h0(this):R.reading||X.nextTick(z,this)),q},w.prototype.addListener=w.prototype.on,w.prototype.removeListener=function(L,C){let q=E.prototype.removeListener.call(this,L,C);return L==="readable"&&X.nextTick(u,this),q},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(L){let C=E.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&X.nextTick(u,this),C};function u(L){let C=L._readableState;C.readableListening=L.listenerCount("readable")>0,C.resumeScheduled&&C[m]===!1?C.flowing=!0:L.listenerCount("data")>0?L.resume():C.readableListening||(C.flowing=null)}function z(L){T("readable nexttick read 0"),L.read(0)}w.prototype.resume=function(){let L=this._readableState;return L.flowing||(T("resume"),L.flowing=!L.readableListening,G(this,L)),L[m]=!1,this};function G(L,C){C.resumeScheduled||(C.resumeScheduled=!0,X.nextTick(l,L,C))}function l(L,C){T("resume",C.reading),C.reading||L.read(0),C.resumeScheduled=!1,L.emit("resume"),P0(L),C.flowing&&!C.reading&&L.read(0)}w.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[m]=!0,this};function P0(L){let C=L._readableState;for(T("flow",C.flowing);C.flowing&&L.read()!==null;);}w.prototype.wrap=function(L){let C=!1;L.on("data",(R)=>{!this.push(R)&&L.pause&&(C=!0,L.pause())}),L.on("end",()=>{this.push(null)}),L.on("error",(R)=>{i(this,R)}),L.on("close",()=>{this.destroy()}),L.on("destroy",()=>{this.destroy()}),this._read=()=>{C&&L.resume&&(C=!1,L.resume())};let q=$(L);for(let R=1;R<q.length;R++){let U=q[R];this[U]===void 0&&typeof L[U]=="function"&&(this[U]=L[U].bind(L))}return this},w.prototype[Q]=function(){return p0(this)},w.prototype.iterator=function(L){return L!==void 0&&k(L,"options"),p0(this,L)};function p0(L,C){typeof L.read!="function"&&(L=w.wrap(L,{objectMode:!0}));let q=E0(L,C);return q.stream=L,q}async function*E0(L,C){let q=A0;function R(e){this===L?(q(),q=A0):q=e}L.on("readable",R);let U,c=Y(L,{writable:!1},(e)=>{U=e?_(U,e):null,q(),q=A0});try{for(;;){let e=L.destroyed?null:L.read();if(e!==null)yield e;else{if(U)throw U;if(U===null)return;await new Z(R)}}}catch(e){throw U=_(U,e),U}finally{(U||C?.destroyOnReturn!==!1)&&(U===void 0||L._readableState.autoDestroy)?W.destroyer(L,null):(L.off("readable",R),c())}}D(w.prototype,{readable:{__proto__:null,get(){let L=this._readableState;return!!L&&L.readable!==!1&&!L.destroyed&&!L.errorEmitted&&!L.endEmitted},set(L){this._readableState&&(this._readableState.readable=!!L)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(L){!this._readableState||(this._readableState.destroyed=L)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),D(n.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[m]!==!1},set(L){this[m]=!!L}}}),w._fromList=L0;function L0(L,C){if(C.length===0)return null;let q;return C.objectMode?q=C.buffer.shift():!L||L>=C.length?(C.decoder?q=C.buffer.join(""):C.buffer.length===1?q=C.buffer.first():q=C.buffer.concat(C.length),C.buffer.clear()):q=C.buffer.consume(L,C.decoder),q}function f0(L){let C=L._readableState;T("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,X.nextTick(dP,C,L))}function dP(L,C){if(T("endReadableNT",L.endEmitted,L.length),!L.errored&&!L.closeEmitted&&!L.endEmitted&&L.length===0){if(L.endEmitted=!0,C.emit("end"),C.writable&&C.allowHalfOpen===!1)X.nextTick(ZX,C);else if(L.autoDestroy){let q=C._writableState;(!q||q.autoDestroy&&(q.finished||q.writable===!1))&&C.destroy()}}}function ZX(L){L.writable&&!L.writableEnded&&!L.destroyed&&L.end()}w.from=function(L,C){return o(w,L,C)};var y0;function w1(){return y0===void 0&&(y0={}),y0}w.fromWeb=function(L,C){return w1().newStreamReadableFromReadableStream(L,C)},w.toWeb=function(L,C){return w1().newReadableStreamFromStreamReadable(L,C)},w.wrap=function(L,C){var q,R;return new w({objectMode:(q=(R=L.readableObjectMode)!==null&&R!==void 0?R:L.objectMode)!==null&&q!==void 0?q:!0,...C,destroy(U,c){W.destroyer(L,U),c(U)}}).wrap(L)}}),SQ=J0((P,p)=>{var X=(I8(),T8(NX)),{ArrayPrototypeSlice:H,Error:A,FunctionPrototypeSymbolHasInstance:x,ObjectDefineProperty:B,ObjectDefineProperties:D,ObjectSetPrototypeOf:$,StringPrototypeToLowerCase:h,Symbol:Z,SymbolHasInstance:F}=QP();p.exports=a,a.WritableState=k;var{EventEmitter:Q}=WZ(),j=MZ().Stream,{Buffer:b}=JH(),E=wA(),{addAbortSignal:M}=JZ(),{getHighWaterMark:I,getDefaultHighWaterMark:V}=KZ(),{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_MULTIPLE_CALLBACK:J,ERR_STREAM_CANNOT_PIPE:W,ERR_STREAM_DESTROYED:K,ERR_STREAM_ALREADY_FINISHED:S,ERR_STREAM_NULL_VALUES:_,ERR_STREAM_WRITE_AFTER_END:v,ERR_UNKNOWN_ENCODING:d}=mP().codes,{errorOrDestroy:f}=E;$(a.prototype,j.prototype),$(a,j);function g(){}var s=Z("kOnFinished");function k(z,G,l){typeof l!="boolean"&&(l=G instanceof GX()),this.objectMode=!!(z&&z.objectMode),l&&(this.objectMode=this.objectMode||!!(z&&z.writableObjectMode)),this.highWaterMark=z?I(this,z,"writableHighWaterMark",l):V(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let P0=!!(z&&z.decodeStrings===!1);this.decodeStrings=!P0,this.defaultEncoding=z&&z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=w.bind(void 0,G),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,m(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!z||z.emitClose!==!1,this.autoDestroy=!z||z.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[s]=[]}function m(z){z.buffered=[],z.bufferedIndex=0,z.allBuffers=!0,z.allNoop=!0}k.prototype.getBuffer=function(){return H(this.buffered,this.bufferedIndex)},B(k.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function a(z){let G=this instanceof GX();if(!G&&!x(a,this))return new a(z);this._writableState=new k(z,this,G),z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final),typeof z.construct=="function"&&(this._construct=z.construct),z.signal&&M(z.signal,this)),j.call(this,z),E.construct(this,()=>{let l=this._writableState;l.writing||j0(this,l),q0(this,l)})}B(a,F,{__proto__:null,value:function(z){return x(this,z)?!0:this!==a?!1:z&&z._writableState instanceof k}}),a.prototype.pipe=function(){f(this,new W)};function o(z,G,l,P0){let p0=z._writableState;if(typeof l=="function")P0=l,l=p0.defaultEncoding;else{if(!l)l=p0.defaultEncoding;else if(l!=="buffer"&&!b.isEncoding(l))throw new d(l);typeof P0!="function"&&(P0=g)}if(G===null)throw new _;if(!p0.objectMode)if(typeof G=="string")p0.decodeStrings!==!1&&(G=b.from(G,l),l="buffer");else if(G instanceof b)l="buffer";else if(j._isUint8Array(G))G=j._uint8ArrayToBuffer(G),l="buffer";else throw new Y("chunk",["string","Buffer","Uint8Array"],G);let E0;return p0.ending?E0=new v:p0.destroyed&&(E0=new K("write")),E0?(X.nextTick(P0,E0),f(z,E0,!0),E0):(p0.pendingcb++,A0(z,p0,G,l,P0))}a.prototype.write=function(z,G,l){return o(this,z,G,l)===!0},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){let z=this._writableState;z.corked&&(z.corked--,z.writing||j0(this,z))},a.prototype.setDefaultEncoding=function(z){if(typeof z=="string"&&(z=h(z)),!b.isEncoding(z))throw new d(z);return this._writableState.defaultEncoding=z,this};function A0(z,G,l,P0,p0){let E0=G.objectMode?1:l.length;G.length+=E0;let L0=G.length<G.highWaterMark;return L0||(G.needDrain=!0),G.writing||G.corked||G.errored||!G.constructed?(G.buffered.push({chunk:l,encoding:P0,callback:p0}),G.allBuffers&&P0!=="buffer"&&(G.allBuffers=!1),G.allNoop&&p0!==g&&(G.allNoop=!1)):(G.writelen=E0,G.writecb=p0,G.writing=!0,G.sync=!0,z._write(l,P0,G.onwrite),G.sync=!1),L0&&!G.errored&&!G.destroyed}function i(z,G,l,P0,p0,E0,L0){G.writelen=P0,G.writecb=L0,G.writing=!0,G.sync=!0,G.destroyed?G.onwrite(new K("write")):l?z._writev(p0,G.onwrite):z._write(p0,E0,G.onwrite),G.sync=!1}function n(z,G,l,P0){--G.pendingcb,P0(l),C0(G),f(z,l)}function w(z,G){let l=z._writableState,P0=l.sync,p0=l.writecb;if(typeof p0!="function"){f(z,new J);return}l.writing=!1,l.writecb=null,l.length-=l.writelen,l.writelen=0,G?(G.stack,l.errored||(l.errored=G),z._readableState&&!z._readableState.errored&&(z._readableState.errored=G),P0?X.nextTick(n,z,l,G,p0):n(z,l,G,p0)):(l.buffered.length>l.bufferedIndex&&j0(z,l),P0?l.afterWriteTickInfo!==null&&l.afterWriteTickInfo.cb===p0?l.afterWriteTickInfo.count++:(l.afterWriteTickInfo={count:1,cb:p0,stream:z,state:l},X.nextTick(t,l.afterWriteTickInfo)):H0(z,l,1,p0))}function t({stream:z,state:G,count:l,cb:P0}){return G.afterWriteTickInfo=null,H0(z,G,l,P0)}function H0(z,G,l,P0){for(!G.ending&&!z.destroyed&&G.length===0&&G.needDrain&&(G.needDrain=!1,z.emit("drain"));l-- >0;)G.pendingcb--,P0();G.destroyed&&C0(G),q0(z,G)}function C0(z){if(z.writing)return;for(let p0=z.bufferedIndex;p0<z.buffered.length;++p0){var G;let{chunk:E0,callback:L0}=z.buffered[p0],f0=z.objectMode?1:E0.length;z.length-=f0,L0((G=z.errored)!==null&&G!==void 0?G:new K("write"))}let l=z[s].splice(0);for(let p0=0;p0<l.length;p0++){var P0;l[p0]((P0=z.errored)!==null&&P0!==void 0?P0:new K("end"))}m(z)}function j0(z,G){if(G.corked||G.bufferProcessing||G.destroyed||!G.constructed)return;let{buffered:l,bufferedIndex:P0,objectMode:p0}=G,E0=l.length-P0;if(!E0)return;let L0=P0;if(G.bufferProcessing=!0,E0>1&&z._writev){G.pendingcb-=E0-1;let f0=G.allNoop?g:(ZX)=>{for(let y0=L0;y0<l.length;++y0)l[y0].callback(ZX)},dP=G.allNoop&&L0===0?l:H(l,L0);dP.allBuffers=G.allBuffers,i(z,G,!0,G.length,dP,"",f0),m(G)}else{do{let{chunk:f0,encoding:dP,callback:ZX}=l[L0];l[L0++]=null;let y0=p0?1:f0.length;i(z,G,!1,y0,f0,dP,ZX)}while(L0<l.length&&!G.writing);L0===l.length?m(G):L0>256?(l.splice(0,L0),G.bufferedIndex=0):G.bufferedIndex=L0}G.bufferProcessing=!1}a.prototype._write=function(z,G,l){if(this._writev)this._writev([{chunk:z,encoding:G}],l);else throw new T("_write()")},a.prototype._writev=null,a.prototype.end=function(z,G,l){let P0=this._writableState;typeof z=="function"?(l=z,z=null,G=null):typeof G=="function"&&(l=G,G=null);let p0;if(z!=null){let E0=o(this,z,G);E0 instanceof A&&(p0=E0)}return P0.corked&&(P0.corked=1,this.uncork()),p0||(!P0.errored&&!P0.ending?(P0.ending=!0,q0(this,P0,!0),P0.ended=!0):P0.finished?p0=new S("end"):P0.destroyed&&(p0=new K("end"))),typeof l=="function"&&(p0||P0.finished?X.nextTick(l,p0):P0[s].push(l)),this};function D0(z){return z.ending&&!z.destroyed&&z.constructed&&z.length===0&&!z.errored&&z.buffered.length===0&&!z.finished&&!z.writing&&!z.errorEmitted&&!z.closeEmitted}function V0(z,G){let l=!1;function P0(p0){if(l){f(z,p0??J());return}if(l=!0,G.pendingcb--,p0){let E0=G[s].splice(0);for(let L0=0;L0<E0.length;L0++)E0[L0](p0);f(z,p0,G.sync)}else D0(G)&&(G.prefinished=!0,z.emit("prefinish"),G.pendingcb++,X.nextTick(O0,z,G))}G.sync=!0,G.pendingcb++;try{z._final(P0)}catch(p0){P0(p0)}G.sync=!1}function h0(z,G){!G.prefinished&&!G.finalCalled&&(typeof z._final=="function"&&!G.destroyed?(G.finalCalled=!0,V0(z,G)):(G.prefinished=!0,z.emit("prefinish")))}function q0(z,G,l){D0(G)&&(h0(z,G),G.pendingcb===0&&(l?(G.pendingcb++,X.nextTick((P0,p0)=>{D0(p0)?O0(P0,p0):p0.pendingcb--},z,G)):D0(G)&&(G.pendingcb++,O0(z,G))))}function O0(z,G){G.pendingcb--,G.finished=!0;let l=G[s].splice(0);for(let P0=0;P0<l.length;P0++)l[P0]();if(z.emit("finish"),G.autoDestroy){let P0=z._readableState;(!P0||P0.autoDestroy&&(P0.endEmitted||P0.readable===!1))&&z.destroy()}}D(a.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(z){this._writableState&&(this._writableState.destroyed=z)}},writable:{__proto__:null,get(){let z=this._writableState;return!!z&&z.writable!==!1&&!z.destroyed&&!z.errored&&!z.ending&&!z.ended},set(z){this._writableState&&(this._writableState.writable=!!z)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let z=this._writableState;return z?!z.destroyed&&!z.ending&&z.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var B0=E.destroy;a.prototype.destroy=function(z,G){let l=this._writableState;return!l.destroyed&&(l.bufferedIndex<l.buffered.length||l[s].length)&&X.nextTick(C0,l),B0.call(this,z,G),this},a.prototype._undestroy=E.undestroy,a.prototype._destroy=function(z,G){G(z)},a.prototype[Q.captureRejectionSymbol]=function(z){this.destroy(z)};var g0;function u(){return g0===void 0&&(g0={}),g0}a.fromWeb=function(z,G){return u().newStreamWritableFromWritableStream(z,G)},a.toWeb=function(z){return u().newWritableStreamFromStreamWritable(z)}}),sE=J0((P,p)=>{var X=(I8(),T8(NX)),H=JH(),{isReadable:A,isWritable:x,isIterable:B,isNodeStream:D,isReadableNodeStream:$,isWritableNodeStream:h,isDuplexNodeStream:Z}=b8(),F=E8(),{AbortError:Q,codes:{ERR_INVALID_ARG_TYPE:j,ERR_INVALID_RETURN_VALUE:b}}=mP(),{destroyer:E}=wA(),M=GX(),I=Zh(),{createDeferredPromise:V}=kX(),Y=RQ(),T=globalThis.Blob||H.Blob,J=typeof T<"u"?function(d){return d instanceof T}:function(d){return!1},W=globalThis.AbortController||EZ().AbortController,{FunctionPrototypeCall:K}=QP(),S=class extends M{constructor(d){super(d),d?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};p.exports=function d(f,g){if(Z(f))return f;if($(f))return v({readable:f});if(h(f))return v({writable:f});if(D(f))return v({writable:!1,readable:!1});if(typeof f=="function"){let{value:k,write:m,final:a,destroy:o}=_(f);if(B(k))return Y(S,k,{objectMode:!0,write:m,final:a,destroy:o});let A0=k?.then;if(typeof A0=="function"){let i,n=K(A0,k,(w)=>{if(w!=null)throw new b("nully","body",w)},(w)=>{E(i,w)});return i=new S({objectMode:!0,readable:!1,write:m,final(w){a(async()=>{try{await n,X.nextTick(w,null)}catch(t){X.nextTick(w,t)}})},destroy:o})}throw new b("Iterable, AsyncIterable or AsyncFunction",g,k)}if(J(f))return d(f.arrayBuffer());if(B(f))return Y(S,f,{objectMode:!0,writable:!1});if(typeof f?.writable=="object"||typeof f?.readable=="object"){let k=f!=null&&f.readable?$(f?.readable)?f?.readable:d(f.readable):void 0,m=f!=null&&f.writable?h(f?.writable)?f?.writable:d(f.writable):void 0;return v({readable:k,writable:m})}let s=f?.then;if(typeof s=="function"){let k;return K(s,f,(m)=>{m!=null&&k.push(m),k.push(null)},(m)=>{E(k,m)}),k=new S({objectMode:!0,writable:!1,read(){}})}throw new j(g,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],f)};function _(d){let{promise:f,resolve:g}=V(),s=new W,k=s.signal;return{value:d(async function*(){for(;;){let m=f;f=null;let{chunk:a,done:o,cb:A0}=await m;if(X.nextTick(A0),o)return;if(k.aborted)throw new Q(void 0,{cause:k.reason});({promise:f,resolve:g}=V()),yield a}}(),{signal:k}),write(m,a,o){let A0=g;g=null,A0({chunk:m,done:!1,cb:o})},final(m){let a=g;g=null,a({done:!0,cb:m})},destroy(m,a){s.abort(),a(m)}}}function v(d){let f=d.readable&&typeof d.readable.read!="function"?I.wrap(d.readable):d.readable,g=d.writable,s=!!A(f),k=!!x(g),m,a,o,A0,i;function n(w){let t=A0;A0=null,t?t(w):w?i.destroy(w):!s&&!k&&i.destroy()}return i=new S({readableObjectMode:!!(f!=null&&f.readableObjectMode),writableObjectMode:!!(g!=null&&g.writableObjectMode),readable:s,writable:k}),k&&(F(g,(w)=>{k=!1,w&&E(f,w),n(w)}),i._write=function(w,t,H0){g.write(w,t)?H0():m=H0},i._final=function(w){g.end(),a=w},g.on("drain",function(){if(m){let w=m;m=null,w()}}),g.on("finish",function(){if(a){let w=a;a=null,w()}})),s&&(F(f,(w)=>{s=!1,w&&E(f,w),n(w)}),f.on("readable",function(){if(o){let w=o;o=null,w()}}),f.on("end",function(){i.push(null)}),i._read=function(){for(;;){let w=f.read();if(w===null){o=i._read;return}if(!i.push(w))return}}),i._destroy=function(w,t){!w&&A0!==null&&(w=new Q),o=null,m=null,a=null,A0===null?t(w):(A0=t,E(g,w),E(f,w))},i}}),GX=J0((P,p)=>{var{ObjectDefineProperties:X,ObjectGetOwnPropertyDescriptor:H,ObjectKeys:A,ObjectSetPrototypeOf:x}=QP();p.exports=$;var B=Zh(),D=SQ();x($.prototype,B.prototype),x($,B);{let Q=A(D.prototype);for(let j=0;j<Q.length;j++){let b=Q[j];$.prototype[b]||($.prototype[b]=D.prototype[b])}}function $(Q){if(!(this instanceof $))return new $(Q);B.call(this,Q),D.call(this,Q),Q?(this.allowHalfOpen=Q.allowHalfOpen!==!1,Q.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Q.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}X($.prototype,{writable:{__proto__:null,...H(D.prototype,"writable")},writableHighWaterMark:{__proto__:null,...H(D.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...H(D.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...H(D.prototype,"writableBuffer")},writableLength:{__proto__:null,...H(D.prototype,"writableLength")},writableFinished:{__proto__:null,...H(D.prototype,"writableFinished")},writableCorked:{__proto__:null,...H(D.prototype,"writableCorked")},writableEnded:{__proto__:null,...H(D.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...H(D.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(Q){this._readableState&&this._writableState&&(this._readableState.destroyed=Q,this._writableState.destroyed=Q)}}});var h;function Z(){return h===void 0&&(h={}),h}$.fromWeb=function(Q,j){return Z().newStreamDuplexFromReadableWritablePair(Q,j)},$.toWeb=function(Q){return Z().newReadableWritablePairFromDuplex(Q)};var F;$.from=function(Q){return F||(F=sE()),F(Q,"body")}}),zQ=J0((P,p)=>{var{ObjectSetPrototypeOf:X,Symbol:H}=QP();p.exports=$;var{ERR_METHOD_NOT_IMPLEMENTED:A}=mP().codes,x=GX(),{getHighWaterMark:B}=KZ();X($.prototype,x.prototype),X($,x);var D=H("kCallback");function $(F){if(!(this instanceof $))return new $(F);let Q=F?B(this,F,"readableHighWaterMark",!0):null;Q===0&&(F={...F,highWaterMark:null,readableHighWaterMark:Q,writableHighWaterMark:F.writableHighWaterMark||0}),x.call(this,F),this._readableState.sync=!1,this[D]=null,F&&(typeof F.transform=="function"&&(this._transform=F.transform),typeof F.flush=="function"&&(this._flush=F.flush)),this.on("prefinish",Z)}function h(F){typeof this._flush=="function"&&!this.destroyed?this._flush((Q,j)=>{if(Q){F?F(Q):this.destroy(Q);return}j!=null&&this.push(j),this.push(null),F&&F()}):(this.push(null),F&&F())}function Z(){this._final!==h&&h.call(this)}$.prototype._final=h,$.prototype._transform=function(F,Q,j){throw new A("_transform()")},$.prototype._write=function(F,Q,j){let b=this._readableState,E=this._writableState,M=b.length;this._transform(F,Q,(I,V)=>{if(I){j(I);return}V!=null&&this.push(V),E.ended||M===b.length||b.length<b.highWaterMark?j():this[D]=j})},$.prototype._read=function(){if(this[D]){let F=this[D];this[D]=null,F()}}}),UQ=J0((P,p)=>{var{ObjectSetPrototypeOf:X}=QP();p.exports=A;var H=zQ();X(A.prototype,H.prototype),X(A,H);function A(x){if(!(this instanceof A))return new A(x);H.call(this,x)}A.prototype._transform=function(x,B,D){D(null,x)}}),fZ=J0((P,p)=>{var X=(I8(),T8(NX)),{ArrayIsArray:H,Promise:A,SymbolAsyncIterator:x}=QP(),B=E8(),{once:D}=kX(),$=wA(),h=GX(),{aggregateTwoErrors:Z,codes:{ERR_INVALID_ARG_TYPE:F,ERR_INVALID_RETURN_VALUE:Q,ERR_MISSING_ARGS:j,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:E},AbortError:M}=mP(),{validateFunction:I,validateAbortSignal:V}=Lh(),{isIterable:Y,isReadable:T,isReadableNodeStream:J,isNodeStream:W}=b8(),K=globalThis.AbortController||EZ().AbortController,S,_;function v(o,A0,i){let n=!1;o.on("close",()=>{n=!0});let w=B(o,{readable:A0,writable:i},(t)=>{n=!t});return{destroy:(t)=>{n||(n=!0,$.destroyer(o,t||new b("pipe")))},cleanup:w}}function d(o){return I(o[o.length-1],"streams[stream.length - 1]"),o.pop()}function f(o){if(Y(o))return o;if(J(o))return g(o);throw new F("val",["Readable","Iterable","AsyncIterable"],o)}async function*g(o){_||(_=Zh()),yield*_.prototype[x].call(o)}async function s(o,A0,i,{end:n}){let w,t=null,H0=(D0)=>{if(D0&&(w=D0),t){let V0=t;t=null,V0()}},C0=()=>new A((D0,V0)=>{w?V0(w):t=()=>{w?V0(w):D0()}});A0.on("drain",H0);let j0=B(A0,{readable:!1},H0);try{A0.writableNeedDrain&&await C0();for await(let D0 of o)A0.write(D0)||await C0();n&&A0.end(),await C0(),i()}catch(D0){i(w!==D0?Z(w,D0):D0)}finally{j0(),A0.off("drain",H0)}}function k(...o){return m(o,D(d(o)))}function m(o,A0,i){if(o.length===1&&H(o[0])&&(o=o[0]),o.length<2)throw new j("streams");let n=new K,w=n.signal,t=i?.signal,H0=[];V(t,"options.signal");function C0(){O0(new M)}t?.addEventListener("abort",C0);let j0,D0,V0=[],h0=0;function q0(z){O0(z,--h0===0)}function O0(z,G){if(z&&(!j0||j0.code==="ERR_STREAM_PREMATURE_CLOSE")&&(j0=z),!(!j0&&!G)){for(;V0.length;)V0.shift()(j0);t?.removeEventListener("abort",C0),n.abort(),G&&(j0||H0.forEach((l)=>l()),X.nextTick(A0,j0,D0))}}let B0;for(let z=0;z<o.length;z++){let G=o[z],l=z<o.length-1,P0=z>0,p0=l||i?.end!==!1,E0=z===o.length-1;if(W(G)){let L0=function(f0){f0&&f0.name!=="AbortError"&&f0.code!=="ERR_STREAM_PREMATURE_CLOSE"&&q0(f0)};var g0=L0;if(p0){let{destroy:f0,cleanup:dP}=v(G,l,P0);V0.push(f0),T(G)&&E0&&H0.push(dP)}G.on("error",L0),T(G)&&E0&&H0.push(()=>{G.removeListener("error",L0)})}if(z===0)if(typeof G=="function"){if(B0=G({signal:w}),!Y(B0))throw new Q("Iterable, AsyncIterable or Stream","source",B0)}else Y(G)||J(G)?B0=G:B0=h.from(G);else if(typeof G=="function")if(B0=f(B0),B0=G(B0,{signal:w}),l){if(!Y(B0,!0))throw new Q("AsyncIterable",`transform[${z-1}]`,B0)}else{var u;S||(S=UQ());let L0=new S({objectMode:!0}),f0=(u=B0)===null||u===void 0?void 0:u.then;if(typeof f0=="function")h0++,f0.call(B0,(y0)=>{D0=y0,y0!=null&&L0.write(y0),p0&&L0.end(),X.nextTick(q0)},(y0)=>{L0.destroy(y0),X.nextTick(q0,y0)});else if(Y(B0,!0))h0++,s(B0,L0,q0,{end:p0});else throw new Q("AsyncIterable or Promise","destination",B0);B0=L0;let{destroy:dP,cleanup:ZX}=v(B0,!1,!0);V0.push(dP),E0&&H0.push(ZX)}else if(W(G)){if(J(B0)){h0+=2;let L0=a(B0,G,q0,{end:p0});T(G)&&E0&&H0.push(L0)}else if(Y(B0))h0++,s(B0,G,q0,{end:p0});else throw new F("val",["Readable","Iterable","AsyncIterable"],B0);B0=G}else B0=h.from(G)}return(w!=null&&w.aborted||t!=null&&t.aborted)&&X.nextTick(C0),B0}function a(o,A0,i,{end:n}){let w=!1;return A0.on("close",()=>{w||i(new E)}),o.pipe(A0,{end:n}),n?o.once("end",()=>{w=!0,A0.end()}):i(),B(o,{readable:!0,writable:!1},(t)=>{let H0=o._readableState;t&&t.code==="ERR_STREAM_PREMATURE_CLOSE"&&H0&&H0.ended&&!H0.errored&&!H0.errorEmitted?o.once("end",i).once("error",i):i(t)}),B(A0,{readable:!1,writable:!0},i)}p.exports={pipelineImpl:m,pipeline:k}}),eE=J0((P,p)=>{var{pipeline:X}=fZ(),H=GX(),{destroyer:A}=wA(),{isNodeStream:x,isReadable:B,isWritable:D}=b8(),{AbortError:$,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:Z}}=mP();p.exports=function(...F){if(F.length===0)throw new Z("streams");if(F.length===1)return H.from(F[0]);let Q=[...F];if(typeof F[0]=="function"&&(F[0]=H.from(F[0])),typeof F[F.length-1]=="function"){let K=F.length-1;F[K]=H.from(F[K])}for(let K=0;K<F.length;++K)if(x(F[K])){if(K<F.length-1&&!B(F[K]))throw new h(`streams[${K}]`,Q[K],"must be readable");if(K>0&&!D(F[K]))throw new h(`streams[${K}]`,Q[K],"must be writable")}let j,b,E,M,I;function V(K){let S=M;M=null,S?S(K):K?I.destroy(K):!W&&!J&&I.destroy()}let Y=F[0],T=X(F,V),J=!!D(Y),W=!!B(T);return I=new H({writableObjectMode:!!(Y!=null&&Y.writableObjectMode),readableObjectMode:!!(T!=null&&T.writableObjectMode),writable:J,readable:W}),J&&(I._write=function(K,S,_){Y.write(K,S)?_():j=_},I._final=function(K){Y.end(),b=K},Y.on("drain",function(){if(j){let K=j;j=null,K()}}),T.on("finish",function(){if(b){let K=b;b=null,K()}})),W&&(T.on("readable",function(){if(E){let K=E;E=null,K()}}),T.on("end",function(){I.push(null)}),I._read=function(){for(;;){let K=T.read();if(K===null){E=I._read;return}if(!I.push(K))return}}),I._destroy=function(K,S){!K&&M!==null&&(K=new $),E=null,j=null,b=null,M===null?S(K):(M=S,A(T,K))},I}}),kQ=J0((P,p)=>{var{ArrayPrototypePop:X,Promise:H}=QP(),{isIterable:A,isNodeStream:x}=b8(),{pipelineImpl:B}=fZ(),{finished:D}=E8();function $(...h){return new H((Z,F)=>{let Q,j,b=h[h.length-1];if(b&&typeof b=="object"&&!x(b)&&!A(b)){let E=X(h);Q=E.signal,j=E.end}B(h,(E,M)=>{E?F(E):Z(M)},{signal:Q,end:j})})}p.exports={finished:D,pipeline:$}}),tE=J0((P,p)=>{var{Buffer:X}=JH(),{ObjectDefineProperty:H,ObjectKeys:A,ReflectApply:x}=QP(),{promisify:{custom:B}}=kX(),{streamReturningOperators:D,promiseReturningOperators:$}=iE(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:h}}=mP(),Z=eE(),{pipeline:F}=fZ(),{destroyer:Q}=wA(),j=E8(),b=kQ(),E=b8(),M=p.exports=MZ().Stream;M.isDisturbed=E.isDisturbed,M.isErrored=E.isErrored,M.isReadable=E.isReadable,M.Readable=Zh();for(let Y of A(D)){let T=function(...W){if(new.target)throw h();return M.Readable.from(x(J,this,W))};I=T;let J=D[Y];H(T,"name",{__proto__:null,value:J.name}),H(T,"length",{__proto__:null,value:J.length}),H(M.Readable.prototype,Y,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}var I;for(let Y of A($)){let T=function(...W){if(new.target)throw h();return x(J,this,W)};I=T;let J=$[Y];H(T,"name",{__proto__:null,value:J.name}),H(T,"length",{__proto__:null,value:J.length}),H(M.Readable.prototype,Y,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}var I;M.Writable=SQ(),M.Duplex=GX(),M.Transform=zQ(),M.PassThrough=UQ(),M.pipeline=F;var{addAbortSignal:V}=JZ();M.addAbortSignal=V,M.finished=j,M.destroy=Q,M.compose=Z,H(M,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),H(F,B,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),H(j,B,{__proto__:null,enumerable:!0,get(){return b.finished}}),M.Stream=M,M._isUint8Array=function(Y){return Y instanceof Uint8Array},M._uint8ArrayToBuffer=function(Y){return X.from(Y.buffer,Y.byteOffset,Y.byteLength)}}),GQ=J0((P,p)=>{var X=tE(),H=kQ(),A=X.Readable.destroy;p.exports=X.Readable,p.exports._uint8ArrayToBuffer=X._uint8ArrayToBuffer,p.exports._isUint8Array=X._isUint8Array,p.exports.isDisturbed=X.isDisturbed,p.exports.isErrored=X.isErrored,p.exports.isReadable=X.isReadable,p.exports.Readable=X.Readable,p.exports.Writable=X.Writable,p.exports.Duplex=X.Duplex,p.exports.Transform=X.Transform,p.exports.PassThrough=X.PassThrough,p.exports.addAbortSignal=X.addAbortSignal,p.exports.finished=X.finished,p.exports.destroy=X.destroy,p.exports.destroy=A,p.exports.pipeline=X.pipeline,p.exports.compose=X.compose,Object.defineProperty(X,"promises",{configurable:!0,enumerable:!0,get(){return H}}),p.exports.Stream=X.Stream,p.exports.default=p.exports}),NQ={};JQ(NQ,{default:()=>OQ});KQ(NQ,hh(GQ()));OQ=hh(GQ());/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */});var OX=x0((pW)=>{pW.base64=!0;pW.array=!0;pW.string=!0;pW.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";pW.nodebuffer=typeof Buffer!=="undefined";pW.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined")pW.blob=!1;else{Ch=new ArrayBuffer(0);try{pW.blob=new Blob([Ch],{type:"application/zip"}).size===0}catch(P){try{UZ=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,Fh=new UZ,Fh.append(Ch),pW.blob=Fh.getBlob("application/zip").size===0}catch(p){pW.blob=!1}}}var Ch,UZ,Fh;try{pW.nodestream=!!(SZ(),h5(RZ)).Readable}catch(P){pW.nodestream=!1}});var kZ=x0((LW)=>{var hW=s0(),$W=OX(),PX="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";LW.encode=function(P){var p=[],X,H,A,x,B,D,$,h=0,Z=P.length,F=Z,Q=hW.getTypeOf(P)!=="string";while(h<P.length){if(F=Z-h,!Q)X=P.charCodeAt(h++),H=h<Z?P.charCodeAt(h++):0,A=h<Z?P.charCodeAt(h++):0;else X=P[h++],H=h<Z?P[h++]:0,A=h<Z?P[h++]:0;x=X>>2,B=(X&3)<<4|H>>4,D=F>1?(H&15)<<2|A>>6:64,$=F>2?A&63:64,p.push(PX.charAt(x)+PX.charAt(B)+PX.charAt(D)+PX.charAt($))}return p.join("")};LW.decode=function(P){var p,X,H,A,x,B,D,$=0,h=0,Z="data:";if(P.substr(0,Z.length)===Z)throw new Error("Invalid base64 input, it looks like a data url.");P=P.replace(/[^A-Za-z0-9+/=]/g,"");var F=P.length*3/4;if(P.charAt(P.length-1)===PX.charAt(64))F--;if(P.charAt(P.length-2)===PX.charAt(64))F--;if(F%1!==0)throw new Error("Invalid base64 input, bad content length.");var Q;if($W.uint8array)Q=new Uint8Array(F|0);else Q=new Array(F|0);while($<P.length){if(A=PX.indexOf(P.charAt($++)),x=PX.indexOf(P.charAt($++)),B=PX.indexOf(P.charAt($++)),D=PX.indexOf(P.charAt($++)),p=A<<2|x>>4,X=(x&15)<<4|B>>2,H=(B&3)<<6|D,Q[h++]=p,B!==64)Q[h++]=X;if(D!==64)Q[h++]=H}return Q}});var uB=x0((lS,wQ)=>{wQ.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(P,p){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(P,p);else{if(typeof P==="number")throw new Error('The "data" argument must not be a number');return new Buffer(P,p)}},allocBuffer:function(P){if(Buffer.alloc)return Buffer.alloc(P);else{var p=new Buffer(P);return p.fill(0),p}},isBuffer:function(P){return Buffer.isBuffer(P)},isStream:function(P){return P&&typeof P.on==="function"&&typeof P.pause==="function"&&typeof P.resume==="function"}}});var dQ=x0((mS,_Q)=>{var vQ=global.MutationObserver||global.WebKitMutationObserver,aB;if(vQ)Vh=0,GZ=new vQ(Qh),jh=global.document.createTextNode(""),GZ.observe(jh,{characterData:!0}),aB=function(){jh.data=Vh=++Vh%2};else if(!global.setImmediate&&typeof global.MessageChannel!=="undefined")qh=new global.MessageChannel,qh.port1.onmessage=Qh,aB=function(){qh.port2.postMessage(0)};else if("document"in global&&"onreadystatechange"in global.document.createElement("script"))aB=function(){var P=global.document.createElement("script");P.onreadystatechange=function(){Qh(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},global.document.documentElement.appendChild(P)};else aB=function(){setTimeout(Qh,0)};var Vh,GZ,jh,qh,NZ,iB=[];function Qh(){NZ=!0;var P,p,X=iB.length;while(X){p=iB,iB=[],P=-1;while(++P<X)p[P]();X=iB.length}NZ=!1}_Q.exports=FW;function FW(P){if(iB.push(P)===1&&!NZ)aB()}});var uQ=x0((uS,mQ)=>{var QW=dQ();function vA(){}var SP={},gQ=["REJECTED"],OZ=["FULFILLED"],yQ=["PENDING"];mQ.exports=KH;function KH(P){if(typeof P!=="function")throw new TypeError("resolver must be a function");if(this.state=yQ,this.queue=[],this.outcome=void 0,P!==vA)cQ(this,P)}KH.prototype.finally=function(P){if(typeof P!=="function")return this;var p=this.constructor;return this.then(X,H);function X(A){function x(){return A}return p.resolve(P()).then(x)}function H(A){function x(){throw A}return p.resolve(P()).then(x)}};KH.prototype.catch=function(P){return this.then(null,P)};KH.prototype.then=function(P,p){if(typeof P!=="function"&&this.state===OZ||typeof p!=="function"&&this.state===gQ)return this;var X=new this.constructor(vA);if(this.state!==yQ){var H=this.state===OZ?P:p;wZ(X,H,this.outcome)}else this.queue.push(new oB(X,P,p));return X};function oB(P,p,X){if(this.promise=P,typeof p==="function")this.onFulfilled=p,this.callFulfilled=this.otherCallFulfilled;if(typeof X==="function")this.onRejected=X,this.callRejected=this.otherCallRejected}oB.prototype.callFulfilled=function(P){SP.resolve(this.promise,P)};oB.prototype.otherCallFulfilled=function(P){wZ(this.promise,this.onFulfilled,P)};oB.prototype.callRejected=function(P){SP.reject(this.promise,P)};oB.prototype.otherCallRejected=function(P){wZ(this.promise,this.onRejected,P)};function wZ(P,p,X){QW(function(){var H;try{H=p(X)}catch(A){return SP.reject(P,A)}if(H===P)SP.reject(P,new TypeError("Cannot resolve promise with itself"));else SP.resolve(P,H)})}SP.resolve=function(P,p){var X=lQ(VW,p);if(X.status==="error")return SP.reject(P,X.value);var H=X.value;if(H)cQ(P,H);else{P.state=OZ,P.outcome=p;var A=-1,x=P.queue.length;while(++A<x)P.queue[A].callFulfilled(p)}return P};SP.reject=function(P,p){P.state=gQ,P.outcome=p;var X=-1,H=P.queue.length;while(++X<H)P.queue[X].callRejected(p);return P};function VW(P){var p=P&&P.then;if(P&&(typeof P==="object"||typeof P==="function")&&typeof p==="function")return function X(){p.apply(P,arguments)}}function cQ(P,p){var X=!1;function H(D){if(X)return;X=!0,SP.reject(P,D)}function A(D){if(X)return;X=!0,SP.resolve(P,D)}function x(){p(A,H)}var B=lQ(x);if(B.status==="error")H(B.value)}function lQ(P,p){var X={};try{X.value=P(p),X.status="success"}catch(H){X.status="error",X.value=H}return X}KH.resolve=jW;function jW(P){if(P instanceof this)return P;return SP.resolve(new this(vA),P)}KH.reject=qW;function qW(P){var p=new this(vA);return SP.reject(p,P)}KH.all=YW;function YW(P){var p=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=P.length,H=!1;if(!X)return this.resolve([]);var A=new Array(X),x=0,B=-1,D=new this(vA);while(++B<X)$(P[B],B);return D;function $(h,Z){p.resolve(h).then(F,function(Q){if(!H)H=!0,SP.reject(D,Q)});function F(Q){if(A[Z]=Q,++x===X&&!H)H=!0,SP.resolve(D,A)}}}KH.race=TW;function TW(P){var p=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var X=P.length,H=!1;if(!X)return this.resolve([]);var A=-1,x=new this(vA);while(++A<X)B(P[A]);return x;function B(D){p.resolve(D).then(function($){if(!H)H=!0,SP.resolve(x,$)},function($){if(!H)H=!0,SP.reject(x,$)})}}});var _A=x0((aS,aQ)=>{var vZ=null;if(typeof Promise!=="undefined")vZ=Promise;else vZ=uQ();aQ.exports={Promise:vZ}});var oQ=x0((iQ)=>{(function(P,p){if(P.setImmediate)return;var X=1,H={},A=!1,x=P.document,B;function D(V){if(typeof V!=="function")V=new Function(""+V);var Y=new Array(arguments.length-1);for(var T=0;T<Y.length;T++)Y[T]=arguments[T+1];var J={callback:V,args:Y};return H[X]=J,B(X),X++}function $(V){delete H[V]}function h(V){var{callback:Y,args:T}=V;switch(T.length){case 0:Y();break;case 1:Y(T[0]);break;case 2:Y(T[0],T[1]);break;case 3:Y(T[0],T[1],T[2]);break;default:Y.apply(p,T);break}}function Z(V){if(A)setTimeout(Z,0,V);else{var Y=H[V];if(Y){A=!0;try{h(Y)}finally{$(V),A=!1}}}}function F(){B=function(V){process.nextTick(function(){Z(V)})}}function Q(){if(P.postMessage&&!P.importScripts){var V=!0,Y=P.onmessage;return P.onmessage=function(){V=!1},P.postMessage("","*"),P.onmessage=Y,V}}function j(){var V="setImmediate$"+Math.random()+"$",Y=function(T){if(T.source===P&&typeof T.data==="string"&&T.data.indexOf(V)===0)Z(+T.data.slice(V.length))};if(P.addEventListener)P.addEventListener("message",Y,!1);else P.attachEvent("onmessage",Y);B=function(T){P.postMessage(V+T,"*")}}function b(){var V=new MessageChannel;V.port1.onmessage=function(Y){var T=Y.data;Z(T)},B=function(Y){V.port2.postMessage(Y)}}function E(){var V=x.documentElement;B=function(Y){var T=x.createElement("script");T.onreadystatechange=function(){Z(Y),T.onreadystatechange=null,V.removeChild(T),T=null},V.appendChild(T)}}function M(){B=function(V){setTimeout(Z,0,V)}}var I=Object.getPrototypeOf&&Object.getPrototypeOf(P);if(I=I&&I.setTimeout?I:P,{}.toString.call(P.process)==="[object process]")F();else if(Q())j();else if(P.MessageChannel)b();else if(x&&"onreadystatechange"in x.createElement("script"))E();else M();I.setImmediate=D,I.clearImmediate=$})(typeof self==="undefined"?typeof global==="undefined"?iQ:global:self)});var s0=x0((EW)=>{var fH=OX(),IW=kZ(),dA=uB(),_Z=_A();oQ();function bW(P){var p=null;if(fH.uint8array)p=new Uint8Array(P.length);else p=new Array(P.length);return Th(P,p)}EW.newBlob=function(P,p){EW.checkSupport("blob");try{return new Blob([P],{type:p})}catch(A){try{var X=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,H=new X;return H.append(P),H.getBlob(p)}catch(x){throw new Error("Bug : can't construct the Blob.")}}};function nB(P){return P}function Th(P,p){for(var X=0;X<P.length;++X)p[X]=P.charCodeAt(X)&255;return p}var Yh={stringifyByChunk:function(P,p,X){var H=[],A=0,x=P.length;if(x<=X)return String.fromCharCode.apply(null,P);while(A<x){if(p==="array"||p==="nodebuffer")H.push(String.fromCharCode.apply(null,P.slice(A,Math.min(A+X,x))));else H.push(String.fromCharCode.apply(null,P.subarray(A,Math.min(A+X,x))));A+=X}return H.join("")},stringifyByChar:function(P){var p="";for(var X=0;X<P.length;X++)p+=String.fromCharCode(P[X]);return p},applyCanBeUsed:{uint8array:function(){try{return fH.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(P){return!1}}(),nodebuffer:function(){try{return fH.nodebuffer&&String.fromCharCode.apply(null,dA.allocBuffer(1)).length===1}catch(P){return!1}}()}};function rB(P){var p=65536,X=EW.getTypeOf(P),H=!0;if(X==="uint8array")H=Yh.applyCanBeUsed.uint8array;else if(X==="nodebuffer")H=Yh.applyCanBeUsed.nodebuffer;if(H)while(p>1)try{return Yh.stringifyByChunk(P,X,p)}catch(A){p=Math.floor(p/2)}return Yh.stringifyByChar(P)}EW.applyFromCharCode=rB;function Ih(P,p){for(var X=0;X<P.length;X++)p[X]=P[X];return p}var RH={};RH.string={string:nB,array:function(P){return Th(P,new Array(P.length))},arraybuffer:function(P){return RH.string.uint8array(P).buffer},uint8array:function(P){return Th(P,new Uint8Array(P.length))},nodebuffer:function(P){return Th(P,dA.allocBuffer(P.length))}};RH.array={string:rB,array:nB,arraybuffer:function(P){return new Uint8Array(P).buffer},uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return dA.newBufferFrom(P)}};RH.arraybuffer={string:function(P){return rB(new Uint8Array(P))},array:function(P){return Ih(new Uint8Array(P),new Array(P.byteLength))},arraybuffer:nB,uint8array:function(P){return new Uint8Array(P)},nodebuffer:function(P){return dA.newBufferFrom(new Uint8Array(P))}};RH.uint8array={string:rB,array:function(P){return Ih(P,new Array(P.length))},arraybuffer:function(P){return P.buffer},uint8array:nB,nodebuffer:function(P){return dA.newBufferFrom(P)}};RH.nodebuffer={string:rB,array:function(P){return Ih(P,new Array(P.length))},arraybuffer:function(P){return RH.nodebuffer.uint8array(P).buffer},uint8array:function(P){return Ih(P,new Uint8Array(P.length))},nodebuffer:nB};EW.transformTo=function(P,p){if(!p)p="";if(!P)return p;EW.checkSupport(P);var X=EW.getTypeOf(p),H=RH[X][P](p);return H};EW.resolve=function(P){var p=P.split("/"),X=[];for(var H=0;H<p.length;H++){var A=p[H];if(A==="."||A===""&&H!==0&&H!==p.length-1)continue;else if(A==="..")X.pop();else X.push(A)}return X.join("/")};EW.getTypeOf=function(P){if(typeof P==="string")return"string";if(Object.prototype.toString.call(P)==="[object Array]")return"array";if(fH.nodebuffer&&dA.isBuffer(P))return"nodebuffer";if(fH.uint8array&&P instanceof Uint8Array)return"uint8array";if(fH.arraybuffer&&P instanceof ArrayBuffer)return"arraybuffer"};EW.checkSupport=function(P){var p=fH[P.toLowerCase()];if(!p)throw new Error(P+" is not supported by this platform")};EW.MAX_VALUE_16BITS=65535;EW.MAX_VALUE_32BITS=-1;EW.pretty=function(P){var p="",X,H;for(H=0;H<(P||"").length;H++)X=P.charCodeAt(H),p+="\\x"+(X<16?"0":"")+X.toString(16).toUpperCase();return p};EW.delay=function(P,p,X){setImmediate(function(){P.apply(X||null,p||[])})};EW.inherits=function(P,p){var X=function(){};X.prototype=p.prototype,P.prototype=new X};EW.extend=function(){var P={},p,X;for(p=0;p<arguments.length;p++)for(X in arguments[p])if(Object.prototype.hasOwnProperty.call(arguments[p],X)&&typeof P[X]==="undefined")P[X]=arguments[p][X];return P};EW.prepareContent=function(P,p,X,H,A){var x=_Z.Promise.resolve(p).then(function(B){var D=fH.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1);if(D&&typeof FileReader!=="undefined")return new _Z.Promise(function($,h){var Z=new FileReader;Z.onload=function(F){$(F.target.result)},Z.onerror=function(F){h(F.target.error)},Z.readAsArrayBuffer(B)});else return B});return x.then(function(B){var D=EW.getTypeOf(B);if(!D)return _Z.Promise.reject(new Error("Can't read the data of '"+P+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));if(D==="arraybuffer")B=EW.transformTo("uint8array",B);else if(D==="string"){if(A)B=IW.decode(B);else if(X){if(H!==!0)B=bW(B)}}return B})}});var Hp=x0((nS,eQ)=>{function sQ(P){this.name=P||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}sQ.prototype={push:function(P){this.emit("data",P)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(P){this.emit("error",P)}return!0},error:function(P){if(this.isFinished)return!1;if(this.isPaused)this.generatedError=P;else{if(this.isFinished=!0,this.emit("error",P),this.previous)this.previous.error(P);this.cleanUp()}return!0},on:function(P,p){return this._listeners[P].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(P,p){if(this._listeners[P])for(var X=0;X<this._listeners[P].length;X++)this._listeners[P][X].call(this,p)},pipe:function(P){return P.registerPrevious(this)},registerPrevious:function(P){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=P.streamInfo,this.mergeStreamInfo(),this.previous=P;var p=this;return P.on("data",function(X){p.processChunk(X)}),P.on("end",function(){p.end()}),P.on("error",function(X){p.error(X)}),this},pause:function(){if(this.isPaused||this.isFinished)return!1;if(this.isPaused=!0,this.previous)this.previous.pause();return!0},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var P=!1;if(this.generatedError)this.error(this.generatedError),P=!0;if(this.previous)this.previous.resume();return!P},flush:function(){},processChunk:function(P){this.push(P)},withStreamInfo:function(P,p){return this.extraStreamInfo[P]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var P in this.extraStreamInfo){if(!Object.prototype.hasOwnProperty.call(this.extraStreamInfo,P))continue;this.streamInfo[P]=this.extraStreamInfo[P]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");if(this.isLocked=!0,this.previous)this.previous.lock()},toString:function(){var P="Worker "+this.name;if(this.previous)return this.previous+" -> "+P;else return P}};eQ.exports=sQ});var yA=x0((vW)=>{var gA=s0(),W8=OX(),GW=uB(),bh=Hp(),sB=new Array(256);for(pX=0;pX<256;pX++)sB[pX]=pX>=252?6:pX>=248?5:pX>=240?4:pX>=224?3:pX>=192?2:1;var pX;sB[254]=sB[254]=1;var NW=function(P){var p,X,H,A,x,B=P.length,D=0;for(A=0;A<B;A++){if(X=P.charCodeAt(A),(X&64512)===55296&&A+1<B){if(H=P.charCodeAt(A+1),(H&64512)===56320)X=65536+(X-55296<<10)+(H-56320),A++}D+=X<128?1:X<2048?2:X<65536?3:4}if(W8.uint8array)p=new Uint8Array(D);else p=new Array(D);for(x=0,A=0;x<D;A++){if(X=P.charCodeAt(A),(X&64512)===55296&&A+1<B){if(H=P.charCodeAt(A+1),(H&64512)===56320)X=65536+(X-55296<<10)+(H-56320),A++}if(X<128)p[x++]=X;else if(X<2048)p[x++]=192|X>>>6,p[x++]=128|X&63;else if(X<65536)p[x++]=224|X>>>12,p[x++]=128|X>>>6&63,p[x++]=128|X&63;else p[x++]=240|X>>>18,p[x++]=128|X>>>12&63,p[x++]=128|X>>>6&63,p[x++]=128|X&63}return p},OW=function(P,p){var X;if(p=p||P.length,p>P.length)p=P.length;X=p-1;while(X>=0&&(P[X]&192)===128)X--;if(X<0)return p;if(X===0)return p;return X+sB[P[X]]>p?X:p},wW=function(P){var p,X,H,A,x=P.length,B=new Array(x*2);for(X=0,p=0;p<x;){if(H=P[p++],H<128){B[X++]=H;continue}if(A=sB[H],A>4){B[X++]=65533,p+=A-1;continue}H&=A===2?31:A===3?15:7;while(A>1&&p<x)H=H<<6|P[p++]&63,A--;if(A>1){B[X++]=65533;continue}if(H<65536)B[X++]=H;else H-=65536,B[X++]=55296|H>>10&1023,B[X++]=56320|H&1023}if(B.length!==X)if(B.subarray)B=B.subarray(0,X);else B.length=X;return gA.applyFromCharCode(B)};vW.utf8encode=function P(p){if(W8.nodebuffer)return GW.newBufferFrom(p,"utf-8");return NW(p)};vW.utf8decode=function P(p){if(W8.nodebuffer)return gA.transformTo("nodebuffer",p).toString("utf-8");return p=gA.transformTo(W8.uint8array?"uint8array":"array",p),wW(p)};function Eh(){bh.call(this,"utf-8 decode"),this.leftOver=null}gA.inherits(Eh,bh);Eh.prototype.processChunk=function(P){var p=gA.transformTo(W8.uint8array?"uint8array":"array",P.data);if(this.leftOver&&this.leftOver.length){if(W8.uint8array){var X=p;p=new Uint8Array(X.length+this.leftOver.length),p.set(this.leftOver,0),p.set(X,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var H=OW(p),A=p;if(H!==p.length)if(W8.uint8array)A=p.subarray(0,H),this.leftOver=p.subarray(H,p.length);else A=p.slice(0,H),this.leftOver=p.slice(H,p.length);this.push({data:vW.utf8decode(A),meta:P.meta})};Eh.prototype.flush=function(){if(this.leftOver&&this.leftOver.length)this.push({data:vW.utf8decode(this.leftOver),meta:{}}),this.leftOver=null};vW.Utf8DecodeWorker=Eh;function gZ(){bh.call(this,"utf-8 encode")}gA.inherits(gZ,bh);gZ.prototype.processChunk=function(P){this.push({data:vW.utf8encode(P.data),meta:P.meta})};vW.Utf8EncodeWorker=gZ});var HV=x0((sS,XV)=>{var PV=Hp(),pV=s0();function cZ(P){PV.call(this,"ConvertWorker to "+P),this.destType=P}pV.inherits(cZ,PV);cZ.prototype.processChunk=function(P){this.push({data:pV.transformTo(this.destType,P.data),meta:P.meta})};XV.exports=cZ});var BV=x0((eS,xV)=>{var AV=(SZ(),h5(RZ)).Readable,gW=s0();gW.inherits(lZ,AV);function lZ(P,p,X){AV.call(this,p),this._helper=P;var H=this;P.on("data",function(A,x){if(!H.push(A))H._helper.pause();if(X)X(x)}).on("error",function(A){H.emit("error",A)}).on("end",function(){H.push(null)})}lZ.prototype._read=function(){this._helper.resume()};xV.exports=lZ});var mZ=x0((tS,$V)=>{var M8=s0(),yW=HV(),cW=Hp(),lW=kZ(),mW=OX(),uW=_A(),DV=null;if(mW.nodestream)try{DV=BV()}catch(P){}function aW(P,p,X){switch(P){case"blob":return M8.newBlob(M8.transformTo("arraybuffer",p),X);case"base64":return lW.encode(p);default:return M8.transformTo(P,p)}}function iW(P,p){var X,H=0,A=null,x=0;for(X=0;X<p.length;X++)x+=p[X].length;switch(P){case"string":return p.join("");case"array":return Array.prototype.concat.apply([],p);case"uint8array":A=new Uint8Array(x);for(X=0;X<p.length;X++)A.set(p[X],H),H+=p[X].length;return A;case"nodebuffer":return Buffer.concat(p);default:throw new Error("concat : unsupported type '"+P+"'")}}function oW(P,p){return new uW.Promise(function(X,H){var A=[],x=P._internalType,B=P._outputType,D=P._mimeType;P.on("data",function($,h){if(A.push($),p)p(h)}).on("error",function($){A=[],H($)}).on("end",function(){try{var $=aW(B,iW(x,A),D);X($)}catch(h){H(h)}A=[]}).resume()})}function hV(P,p,X){var H=p;switch(p){case"blob":case"arraybuffer":H="uint8array";break;case"base64":H="string";break}try{this._internalType=H,this._outputType=p,this._mimeType=X,M8.checkSupport(H),this._worker=P.pipe(new yW(H)),P.lock()}catch(A){this._worker=new cW("error"),this._worker.error(A)}}hV.prototype={accumulate:function(P){return oW(this,P)},on:function(P,p){var X=this;if(P==="data")this._worker.on(P,function(H){p.call(X,H.data,H.meta)});else this._worker.on(P,function(){M8.delay(p,arguments,X)});return this},resume:function(){return M8.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(P){if(M8.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new DV(this,{objectMode:this._outputType!=="nodebuffer"},P)}};$V.exports=hV});var uZ=x0((nW)=>{nW.base64=!1;nW.binary=!1;nW.dir=!1;nW.createFolders=!0;nW.date=null;nW.compression=null;nW.compressionOptions=null;nW.comment=null;nW.unixPermissions=null;nW.dosPermissions=null});var aZ=x0((pz,LV)=>{var Wh=s0(),Mh=Hp(),BM=16384;function cA(P){Mh.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,P.then(function(X){if(p.dataIsReady=!0,p.data=X,p.max=X&&X.length||0,p.type=Wh.getTypeOf(X),!p.isPaused)p._tickAndRepeat()},function(X){p.error(X)})}Wh.inherits(cA,Mh);cA.prototype.cleanUp=function(){Mh.prototype.cleanUp.call(this),this.data=null};cA.prototype.resume=function(){if(!Mh.prototype.resume.call(this))return!1;if(!this._tickScheduled&&this.dataIsReady)this._tickScheduled=!0,Wh.delay(this._tickAndRepeat,[],this);return!0};cA.prototype._tickAndRepeat=function(){if(this._tickScheduled=!1,this.isPaused||this.isFinished)return;if(this._tick(),!this.isFinished)Wh.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0};cA.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var P=BM,p=null,X=Math.min(this.max,this.index+P);if(this.index>=this.max)return this.end();else{switch(this.type){case"string":p=this.data.substring(this.index,X);break;case"uint8array":p=this.data.subarray(this.index,X);break;case"array":case"nodebuffer":p=this.data.slice(this.index,X);break}return this.index=X,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})}};LV.exports=cA});var Jh=x0((Xz,CV)=>{var DM=s0();function hM(){var P,p=[];for(var X=0;X<256;X++){P=X;for(var H=0;H<8;H++)P=P&1?3988292384^P>>>1:P>>>1;p[X]=P}return p}var ZV=hM();function $M(P,p,X,H){var A=ZV,x=H+X;P=P^-1;for(var B=H;B<x;B++)P=P>>>8^A[(P^p[B])&255];return P^-1}function LM(P,p,X,H){var A=ZV,x=H+X;P=P^-1;for(var B=H;B<x;B++)P=P>>>8^A[(P^p.charCodeAt(B))&255];return P^-1}CV.exports=function P(p,X){if(typeof p==="undefined"||!p.length)return 0;var H=DM.getTypeOf(p)!=="string";if(H)return $M(X|0,p,p.length,0);else return LM(X|0,p,p.length,0)}});var oZ=x0((Hz,QV)=>{var FV=Hp(),ZM=Jh(),CM=s0();function iZ(){FV.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}CM.inherits(iZ,FV);iZ.prototype.processChunk=function(P){this.streamInfo.crc32=ZM(P.data,this.streamInfo.crc32||0),this.push(P)};QV.exports=iZ});var jV=x0((Az,VV)=>{var FM=s0(),nZ=Hp();function rZ(P){nZ.call(this,"DataLengthProbe for "+P),this.propName=P,this.withStreamInfo(P,0)}FM.inherits(rZ,nZ);rZ.prototype.processChunk=function(P){if(P){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+P.data.length}nZ.prototype.processChunk.call(this,P)};VV.exports=rZ});var Kh=x0((xz,TV)=>{var qV=_A(),YV=aZ(),QM=oZ(),sZ=jV();function eZ(P,p,X,H,A){this.compressedSize=P,this.uncompressedSize=p,this.crc32=X,this.compression=H,this.compressedContent=A}eZ.prototype={getContentWorker:function(){var P=new YV(qV.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new sZ("data_length")),p=this;return P.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),P},getCompressedWorker:function(){return new YV(qV.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};eZ.createWorkerFrom=function(P,p,X){return P.pipe(new QM).pipe(new sZ("uncompressedSize")).pipe(p.compressWorker(X)).pipe(new sZ("compressedSize")).withStreamInfo("compression",p)};TV.exports=eZ});var WV=x0((Bz,EV)=>{var VM=mZ(),jM=aZ(),tZ=yA(),P7=Kh(),IV=Hp(),p7=function(P,p,X){this.name=P,this.dir=X.dir,this.date=X.date,this.comment=X.comment,this.unixPermissions=X.unixPermissions,this.dosPermissions=X.dosPermissions,this._data=p,this._dataBinary=X.binary,this.options={compression:X.compression,compressionOptions:X.compressionOptions}};p7.prototype={internalStream:function(P){var p=null,X="string";try{if(!P)throw new Error("No output type specified.");X=P.toLowerCase();var H=X==="string"||X==="text";if(X==="binarystring"||X==="text")X="string";p=this._decompressWorker();var A=!this._dataBinary;if(A&&!H)p=p.pipe(new tZ.Utf8EncodeWorker);if(!A&&H)p=p.pipe(new tZ.Utf8DecodeWorker)}catch(x){p=new IV("error"),p.error(x)}return new VM(p,X,"")},async:function(P,p){return this.internalStream(P).accumulate(p)},nodeStream:function(P,p){return this.internalStream(P||"nodebuffer").toNodejsStream(p)},_compressWorker:function(P,p){if(this._data instanceof P7&&this._data.compression.magic===P.magic)return this._data.getCompressedWorker();else{var X=this._decompressWorker();if(!this._dataBinary)X=X.pipe(new tZ.Utf8EncodeWorker);return P7.createWorkerFrom(X,P,p)}},_decompressWorker:function(){if(this._data instanceof P7)return this._data.getContentWorker();else if(this._data instanceof IV)return this._data;else return new jM(this._data)}};var bV=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],qM=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(eB=0;eB<bV.length;eB++)p7.prototype[bV[eB]]=qM;var eB;EV.exports=p7});var wX=x0((X7)=>{var bM=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function EM(P,p){return Object.prototype.hasOwnProperty.call(P,p)}X7.assign=function(P){var p=Array.prototype.slice.call(arguments,1);while(p.length){var X=p.shift();if(!X)continue;if(typeof X!=="object")throw new TypeError(X+"must be non-object");for(var H in X)if(EM(X,H))P[H]=X[H]}return P};X7.shrinkBuf=function(P,p){if(P.length===p)return P;if(P.subarray)return P.subarray(0,p);return P.length=p,P};var WM={arraySet:function(P,p,X,H,A){if(p.subarray&&P.subarray){P.set(p.subarray(X,X+H),A);return}for(var x=0;x<H;x++)P[A+x]=p[X+x]},flattenChunks:function(P){var p,X,H,A,x,B;H=0;for(p=0,X=P.length;p<X;p++)H+=P[p].length;B=new Uint8Array(H),A=0;for(p=0,X=P.length;p<X;p++)x=P[p],B.set(x,A),A+=x.length;return B}},MM={arraySet:function(P,p,X,H,A){for(var x=0;x<H;x++)P[A+x]=p[X+x]},flattenChunks:function(P){return[].concat.apply([],P)}};X7.setTyped=function(P){if(P)X7.Buf8=Uint8Array,X7.Buf16=Uint16Array,X7.Buf32=Int32Array,X7.assign(X7,WM);else X7.Buf8=Array,X7.Buf16=Array,X7.Buf32=Array,X7.assign(X7,MM)};X7.setTyped(bM)});var iV=x0((iM)=>{var KM=wX(),fM=4,JV=0,KV=1,RM=2;function mA(P){var p=P.length;while(--p>=0)P[p]=0}var SM=0,kV=1,zM=2,UM=3,kM=258,L7=29,A1=256,P1=A1+1+L7,lA=30,Z7=19,GV=2*P1+1,J8=15,A7=16,GM=7,C7=256,NV=16,OV=17,wV=18,h7=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],fh=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],NM=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],vV=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],OM=512,vX=new Array((P1+2)*2);mA(vX);var tB=new Array(lA*2);mA(tB);var p1=new Array(OM);mA(p1);var X1=new Array(kM-UM+1);mA(X1);var F7=new Array(L7);mA(F7);var Rh=new Array(lA);mA(Rh);function x7(P,p,X,H,A){this.static_tree=P,this.extra_bits=p,this.extra_base=X,this.elems=H,this.max_length=A,this.has_stree=P&&P.length}var _V,dV,gV;function B7(P,p){this.dyn_tree=P,this.max_code=0,this.stat_desc=p}function yV(P){return P<256?p1[P]:p1[256+(P>>>7)]}function H1(P,p){P.pending_buf[P.pending++]=p&255,P.pending_buf[P.pending++]=p>>>8&255}function uP(P,p,X){if(P.bi_valid>A7-X)P.bi_buf|=p<<P.bi_valid&65535,H1(P,P.bi_buf),P.bi_buf=p>>A7-P.bi_valid,P.bi_valid+=X-A7;else P.bi_buf|=p<<P.bi_valid&65535,P.bi_valid+=X}function XX(P,p,X){uP(P,X[p*2],X[p*2+1])}function cV(P,p){var X=0;do X|=P&1,P>>>=1,X<<=1;while(--p>0);return X>>>1}function wM(P){if(P.bi_valid===16)H1(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0;else if(P.bi_valid>=8)P.pending_buf[P.pending++]=P.bi_buf&255,P.bi_buf>>=8,P.bi_valid-=8}function vM(P,p){var{dyn_tree:X,max_code:H}=p,A=p.stat_desc.static_tree,x=p.stat_desc.has_stree,B=p.stat_desc.extra_bits,D=p.stat_desc.extra_base,$=p.stat_desc.max_length,h,Z,F,Q,j,b,E=0;for(Q=0;Q<=J8;Q++)P.bl_count[Q]=0;X[P.heap[P.heap_max]*2+1]=0;for(h=P.heap_max+1;h<GV;h++){if(Z=P.heap[h],Q=X[X[Z*2+1]*2+1]+1,Q>$)Q=$,E++;if(X[Z*2+1]=Q,Z>H)continue;if(P.bl_count[Q]++,j=0,Z>=D)j=B[Z-D];if(b=X[Z*2],P.opt_len+=b*(Q+j),x)P.static_len+=b*(A[Z*2+1]+j)}if(E===0)return;do{Q=$-1;while(P.bl_count[Q]===0)Q--;P.bl_count[Q]--,P.bl_count[Q+1]+=2,P.bl_count[$]--,E-=2}while(E>0);for(Q=$;Q!==0;Q--){Z=P.bl_count[Q];while(Z!==0){if(F=P.heap[--h],F>H)continue;if(X[F*2+1]!==Q)P.opt_len+=(Q-X[F*2+1])*X[F*2],X[F*2+1]=Q;Z--}}}function lV(P,p,X){var H=new Array(J8+1),A=0,x,B;for(x=1;x<=J8;x++)H[x]=A=A+X[x-1]<<1;for(B=0;B<=p;B++){var D=P[B*2+1];if(D===0)continue;P[B*2]=cV(H[D]++,D)}}function _M(){var P,p,X,H,A,x=new Array(J8+1);X=0;for(H=0;H<L7-1;H++){F7[H]=X;for(P=0;P<1<<h7[H];P++)X1[X++]=H}X1[X-1]=H,A=0;for(H=0;H<16;H++){Rh[H]=A;for(P=0;P<1<<fh[H];P++)p1[A++]=H}A>>=7;for(;H<lA;H++){Rh[H]=A<<7;for(P=0;P<1<<fh[H]-7;P++)p1[256+A++]=H}for(p=0;p<=J8;p++)x[p]=0;P=0;while(P<=143)vX[P*2+1]=8,P++,x[8]++;while(P<=255)vX[P*2+1]=9,P++,x[9]++;while(P<=279)vX[P*2+1]=7,P++,x[7]++;while(P<=287)vX[P*2+1]=8,P++,x[8]++;lV(vX,P1+1,x);for(P=0;P<lA;P++)tB[P*2+1]=5,tB[P*2]=cV(P,5);_V=new x7(vX,h7,A1+1,P1,J8),dV=new x7(tB,fh,0,lA,J8),gV=new x7(new Array(0),NM,0,Z7,GM)}function mV(P){var p;for(p=0;p<P1;p++)P.dyn_ltree[p*2]=0;for(p=0;p<lA;p++)P.dyn_dtree[p*2]=0;for(p=0;p<Z7;p++)P.bl_tree[p*2]=0;P.dyn_ltree[C7*2]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function uV(P){if(P.bi_valid>8)H1(P,P.bi_buf);else if(P.bi_valid>0)P.pending_buf[P.pending++]=P.bi_buf;P.bi_buf=0,P.bi_valid=0}function dM(P,p,X,H){if(uV(P),H)H1(P,X),H1(P,~X);KM.arraySet(P.pending_buf,P.window,p,X,P.pending),P.pending+=X}function fV(P,p,X,H){var A=p*2,x=X*2;return P[A]<P[x]||P[A]===P[x]&&H[p]<=H[X]}function D7(P,p,X){var H=P.heap[X],A=X<<1;while(A<=P.heap_len){if(A<P.heap_len&&fV(p,P.heap[A+1],P.heap[A],P.depth))A++;if(fV(p,H,P.heap[A],P.depth))break;P.heap[X]=P.heap[A],X=A,A<<=1}P.heap[X]=H}function RV(P,p,X){var H,A,x=0,B,D;if(P.last_lit!==0)do if(H=P.pending_buf[P.d_buf+x*2]<<8|P.pending_buf[P.d_buf+x*2+1],A=P.pending_buf[P.l_buf+x],x++,H===0)XX(P,A,p);else{if(B=X1[A],XX(P,B+A1+1,p),D=h7[B],D!==0)A-=F7[B],uP(P,A,D);if(H--,B=yV(H),XX(P,B,X),D=fh[B],D!==0)H-=Rh[B],uP(P,H,D)}while(x<P.last_lit);XX(P,C7,p)}function $7(P,p){var X=p.dyn_tree,H=p.stat_desc.static_tree,A=p.stat_desc.has_stree,x=p.stat_desc.elems,B,D,$=-1,h;P.heap_len=0,P.heap_max=GV;for(B=0;B<x;B++)if(X[B*2]!==0)P.heap[++P.heap_len]=$=B,P.depth[B]=0;else X[B*2+1]=0;while(P.heap_len<2)if(h=P.heap[++P.heap_len]=$<2?++$:0,X[h*2]=1,P.depth[h]=0,P.opt_len--,A)P.static_len-=H[h*2+1];p.max_code=$;for(B=P.heap_len>>1;B>=1;B--)D7(P,X,B);h=x;do B=P.heap[1],P.heap[1]=P.heap[P.heap_len--],D7(P,X,1),D=P.heap[1],P.heap[--P.heap_max]=B,P.heap[--P.heap_max]=D,X[h*2]=X[B*2]+X[D*2],P.depth[h]=(P.depth[B]>=P.depth[D]?P.depth[B]:P.depth[D])+1,X[B*2+1]=X[D*2+1]=h,P.heap[1]=h++,D7(P,X,1);while(P.heap_len>=2);P.heap[--P.heap_max]=P.heap[1],vM(P,p),lV(X,$,P.bl_count)}function SV(P,p,X){var H,A=-1,x,B=p[1],D=0,$=7,h=4;if(B===0)$=138,h=3;p[(X+1)*2+1]=65535;for(H=0;H<=X;H++){if(x=B,B=p[(H+1)*2+1],++D<$&&x===B)continue;else if(D<h)P.bl_tree[x*2]+=D;else if(x!==0){if(x!==A)P.bl_tree[x*2]++;P.bl_tree[NV*2]++}else if(D<=10)P.bl_tree[OV*2]++;else P.bl_tree[wV*2]++;if(D=0,A=x,B===0)$=138,h=3;else if(x===B)$=6,h=3;else $=7,h=4}}function zV(P,p,X){var H,A=-1,x,B=p[1],D=0,$=7,h=4;if(B===0)$=138,h=3;for(H=0;H<=X;H++){if(x=B,B=p[(H+1)*2+1],++D<$&&x===B)continue;else if(D<h)do XX(P,x,P.bl_tree);while(--D!==0);else if(x!==0){if(x!==A)XX(P,x,P.bl_tree),D--;XX(P,NV,P.bl_tree),uP(P,D-3,2)}else if(D<=10)XX(P,OV,P.bl_tree),uP(P,D-3,3);else XX(P,wV,P.bl_tree),uP(P,D-11,7);if(D=0,A=x,B===0)$=138,h=3;else if(x===B)$=6,h=3;else $=7,h=4}}function gM(P){var p;SV(P,P.dyn_ltree,P.l_desc.max_code),SV(P,P.dyn_dtree,P.d_desc.max_code),$7(P,P.bl_desc);for(p=Z7-1;p>=3;p--)if(P.bl_tree[vV[p]*2+1]!==0)break;return P.opt_len+=3*(p+1)+5+5+4,p}function yM(P,p,X,H){var A;uP(P,p-257,5),uP(P,X-1,5),uP(P,H-4,4);for(A=0;A<H;A++)uP(P,P.bl_tree[vV[A]*2+1],3);zV(P,P.dyn_ltree,p-1),zV(P,P.dyn_dtree,X-1)}function cM(P){var p=4093624447,X;for(X=0;X<=31;X++,p>>>=1)if(p&1&&P.dyn_ltree[X*2]!==0)return JV;if(P.dyn_ltree[18]!==0||P.dyn_ltree[20]!==0||P.dyn_ltree[26]!==0)return KV;for(X=32;X<A1;X++)if(P.dyn_ltree[X*2]!==0)return KV;return JV}var UV=!1;function lM(P){if(!UV)_M(),UV=!0;P.l_desc=new B7(P.dyn_ltree,_V),P.d_desc=new B7(P.dyn_dtree,dV),P.bl_desc=new B7(P.bl_tree,gV),P.bi_buf=0,P.bi_valid=0,mV(P)}function aV(P,p,X,H){uP(P,(SM<<1)+(H?1:0),3),dM(P,p,X,!0)}function mM(P){uP(P,kV<<1,3),XX(P,C7,vX),wM(P)}function uM(P,p,X,H){var A,x,B=0;if(P.level>0){if(P.strm.data_type===RM)P.strm.data_type=cM(P);if($7(P,P.l_desc),$7(P,P.d_desc),B=gM(P),A=P.opt_len+3+7>>>3,x=P.static_len+3+7>>>3,x<=A)A=x}else A=x=X+5;if(X+4<=A&&p!==-1)aV(P,p,X,H);else if(P.strategy===fM||x===A)uP(P,(kV<<1)+(H?1:0),3),RV(P,vX,tB);else uP(P,(zM<<1)+(H?1:0),3),yM(P,P.l_desc.max_code+1,P.d_desc.max_code+1,B+1),RV(P,P.dyn_ltree,P.dyn_dtree);if(mV(P),H)uV(P)}function aM(P,p,X){if(P.pending_buf[P.d_buf+P.last_lit*2]=p>>>8&255,P.pending_buf[P.d_buf+P.last_lit*2+1]=p&255,P.pending_buf[P.l_buf+P.last_lit]=X&255,P.last_lit++,p===0)P.dyn_ltree[X*2]++;else P.matches++,p--,P.dyn_ltree[(X1[X]+A1+1)*2]++,P.dyn_dtree[yV(p)*2]++;return P.last_lit===P.lit_bufsize-1}iM._tr_init=lM;iM._tr_stored_block=aV;iM._tr_flush_block=uM;iM._tr_tally=aM;iM._tr_align=mM});var Q7=x0(($z,oV)=>{function tM(P,p,X,H){var A=P&65535|0,x=P>>>16&65535|0,B=0;while(X!==0){B=X>2000?2000:X,X-=B;do A=A+p[H++]|0,x=x+A|0;while(--B);A%=65521,x%=65521}return A|x<<16|0}oV.exports=tM});var V7=x0((Lz,nV)=>{function PJ(){var P,p=[];for(var X=0;X<256;X++){P=X;for(var H=0;H<8;H++)P=P&1?3988292384^P>>>1:P>>>1;p[X]=P}return p}var pJ=PJ();function XJ(P,p,X,H){var A=pJ,x=H+X;P^=-1;for(var B=H;B<x;B++)P=P>>>8^A[(P^p[B])&255];return P^-1}nV.exports=XJ});var Sh=x0((Zz,rV)=>{rV.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var xj=x0((OJ)=>{var NP=wX(),bp=iV(),Pj=Q7(),SH=V7(),HJ=Sh(),S8=0,AJ=1,xJ=3,NH=4,sV=5,AX=0,eV=1,Ep=-2,BJ=-3,j7=-5,DJ=-1,hJ=1,zh=2,$J=3,LJ=4,ZJ=0,CJ=2,Nh=8,FJ=9,QJ=15,VJ=8,jJ=29,qJ=256,Y7=qJ+1+jJ,YJ=30,TJ=19,IJ=2*Y7+1,bJ=15,T0=3,kH=258,kp=kH+T0+1,EJ=32,Oh=42,T7=69,Uh=73,kh=91,Gh=103,K8=113,B1=666,VP=1,D1=2,f8=3,iA=4,WJ=3;function GH(P,p){return P.msg=HJ[p],p}function tV(P){return(P<<1)-(P>4?9:0)}function UH(P){var p=P.length;while(--p>=0)P[p]=0}function zH(P){var p=P.state,X=p.pending;if(X>P.avail_out)X=P.avail_out;if(X===0)return;if(NP.arraySet(P.output,p.pending_buf,p.pending_out,X,P.next_out),P.next_out+=X,p.pending_out+=X,P.total_out+=X,P.avail_out-=X,p.pending-=X,p.pending===0)p.pending_out=0}function MP(P,p){bp._tr_flush_block(P,P.block_start>=0?P.block_start:-1,P.strstart-P.block_start,p),P.block_start=P.strstart,zH(P.strm)}function K0(P,p){P.pending_buf[P.pending++]=p}function x1(P,p){P.pending_buf[P.pending++]=p>>>8&255,P.pending_buf[P.pending++]=p&255}function MJ(P,p,X,H){var A=P.avail_in;if(A>H)A=H;if(A===0)return 0;if(P.avail_in-=A,NP.arraySet(p,P.input,P.next_in,A,X),P.state.wrap===1)P.adler=Pj(P.adler,p,A,X);else if(P.state.wrap===2)P.adler=SH(P.adler,p,A,X);return P.next_in+=A,P.total_in+=A,A}function pj(P,p){var{max_chain_length:X,strstart:H}=P,A,x,B=P.prev_length,D=P.nice_match,$=P.strstart>P.w_size-kp?P.strstart-(P.w_size-kp):0,h=P.window,Z=P.w_mask,F=P.prev,Q=P.strstart+kH,j=h[H+B-1],b=h[H+B];if(P.prev_length>=P.good_match)X>>=2;if(D>P.lookahead)D=P.lookahead;do{if(A=p,h[A+B]!==b||h[A+B-1]!==j||h[A]!==h[H]||h[++A]!==h[H+1])continue;H+=2,A++;do;while(h[++H]===h[++A]&&h[++H]===h[++A]&&h[++H]===h[++A]&&h[++H]===h[++A]&&h[++H]===h[++A]&&h[++H]===h[++A]&&h[++H]===h[++A]&&h[++H]===h[++A]&&H<Q);if(x=kH-(Q-H),H=Q-kH,x>B){if(P.match_start=p,B=x,x>=D)break;j=h[H+B-1],b=h[H+B]}}while((p=F[p&Z])>$&&--X!==0);if(B<=P.lookahead)return B;return P.lookahead}function R8(P){var p=P.w_size,X,H,A,x,B;do{if(x=P.window_size-P.lookahead-P.strstart,P.strstart>=p+(p-kp)){NP.arraySet(P.window,P.window,p,p,0),P.match_start-=p,P.strstart-=p,P.block_start-=p,H=P.hash_size,X=H;do A=P.head[--X],P.head[X]=A>=p?A-p:0;while(--H);H=p,X=H;do A=P.prev[--X],P.prev[X]=A>=p?A-p:0;while(--H);x+=p}if(P.strm.avail_in===0)break;if(H=MJ(P.strm,P.window,P.strstart+P.lookahead,x),P.lookahead+=H,P.lookahead+P.insert>=T0){B=P.strstart-P.insert,P.ins_h=P.window[B],P.ins_h=(P.ins_h<<P.hash_shift^P.window[B+1])&P.hash_mask;while(P.insert)if(P.ins_h=(P.ins_h<<P.hash_shift^P.window[B+T0-1])&P.hash_mask,P.prev[B&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=B,B++,P.insert--,P.lookahead+P.insert<T0)break}}while(P.lookahead<kp&&P.strm.avail_in!==0)}function JJ(P,p){var X=65535;if(X>P.pending_buf_size-5)X=P.pending_buf_size-5;for(;;){if(P.lookahead<=1){if(R8(P),P.lookahead===0&&p===S8)return VP;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var H=P.block_start+X;if(P.strstart===0||P.strstart>=H){if(P.lookahead=P.strstart-H,P.strstart=H,MP(P,!1),P.strm.avail_out===0)return VP}if(P.strstart-P.block_start>=P.w_size-kp){if(MP(P,!1),P.strm.avail_out===0)return VP}}if(P.insert=0,p===NH){if(MP(P,!0),P.strm.avail_out===0)return f8;return iA}if(P.strstart>P.block_start){if(MP(P,!1),P.strm.avail_out===0)return VP}return VP}function q7(P,p){var X,H;for(;;){if(P.lookahead<kp){if(R8(P),P.lookahead<kp&&p===S8)return VP;if(P.lookahead===0)break}if(X=0,P.lookahead>=T0)P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+T0-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;if(X!==0&&P.strstart-X<=P.w_size-kp)P.match_length=pj(P,X);if(P.match_length>=T0)if(H=bp._tr_tally(P,P.strstart-P.match_start,P.match_length-T0),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=T0){P.match_length--;do P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+T0-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.match_length!==0);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else H=bp._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(H){if(MP(P,!1),P.strm.avail_out===0)return VP}}if(P.insert=P.strstart<T0-1?P.strstart:T0-1,p===NH){if(MP(P,!0),P.strm.avail_out===0)return f8;return iA}if(P.last_lit){if(MP(P,!1),P.strm.avail_out===0)return VP}return D1}function uA(P,p){var X,H,A;for(;;){if(P.lookahead<kp){if(R8(P),P.lookahead<kp&&p===S8)return VP;if(P.lookahead===0)break}if(X=0,P.lookahead>=T0)P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+T0-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;if(P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=T0-1,X!==0&&P.prev_length<P.max_lazy_match&&P.strstart-X<=P.w_size-kp){if(P.match_length=pj(P,X),P.match_length<=5&&(P.strategy===hJ||P.match_length===T0&&P.strstart-P.match_start>4096))P.match_length=T0-1}if(P.prev_length>=T0&&P.match_length<=P.prev_length){A=P.strstart+P.lookahead-T0,H=bp._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-T0),P.lookahead-=P.prev_length-1,P.prev_length-=2;do if(++P.strstart<=A)P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+T0-1])&P.hash_mask,X=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart;while(--P.prev_length!==0);if(P.match_available=0,P.match_length=T0-1,P.strstart++,H){if(MP(P,!1),P.strm.avail_out===0)return VP}}else if(P.match_available){if(H=bp._tr_tally(P,0,P.window[P.strstart-1]),H)MP(P,!1);if(P.strstart++,P.lookahead--,P.strm.avail_out===0)return VP}else P.match_available=1,P.strstart++,P.lookahead--}if(P.match_available)H=bp._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0;if(P.insert=P.strstart<T0-1?P.strstart:T0-1,p===NH){if(MP(P,!0),P.strm.avail_out===0)return f8;return iA}if(P.last_lit){if(MP(P,!1),P.strm.avail_out===0)return VP}return D1}function KJ(P,p){var X,H,A,x,B=P.window;for(;;){if(P.lookahead<=kH){if(R8(P),P.lookahead<=kH&&p===S8)return VP;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=T0&&P.strstart>0){if(A=P.strstart-1,H=B[A],H===B[++A]&&H===B[++A]&&H===B[++A]){x=P.strstart+kH;do;while(H===B[++A]&&H===B[++A]&&H===B[++A]&&H===B[++A]&&H===B[++A]&&H===B[++A]&&H===B[++A]&&H===B[++A]&&A<x);if(P.match_length=kH-(x-A),P.match_length>P.lookahead)P.match_length=P.lookahead}}if(P.match_length>=T0)X=bp._tr_tally(P,1,P.match_length-T0),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0;else X=bp._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(X){if(MP(P,!1),P.strm.avail_out===0)return VP}}if(P.insert=0,p===NH){if(MP(P,!0),P.strm.avail_out===0)return f8;return iA}if(P.last_lit){if(MP(P,!1),P.strm.avail_out===0)return VP}return D1}function fJ(P,p){var X;for(;;){if(P.lookahead===0){if(R8(P),P.lookahead===0){if(p===S8)return VP;break}}if(P.match_length=0,X=bp._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,X){if(MP(P,!1),P.strm.avail_out===0)return VP}}if(P.insert=0,p===NH){if(MP(P,!0),P.strm.avail_out===0)return f8;return iA}if(P.last_lit){if(MP(P,!1),P.strm.avail_out===0)return VP}return D1}function HX(P,p,X,H,A){this.good_length=P,this.max_lazy=p,this.nice_length=X,this.max_chain=H,this.func=A}var aA;aA=[new HX(0,0,0,0,JJ),new HX(4,4,8,4,q7),new HX(4,5,16,8,q7),new HX(4,6,32,32,q7),new HX(4,4,16,16,uA),new HX(8,16,32,32,uA),new HX(8,16,128,128,uA),new HX(8,32,128,256,uA),new HX(32,128,258,1024,uA),new HX(32,258,258,4096,uA)];function RJ(P){P.window_size=2*P.w_size,UH(P.head),P.max_lazy_match=aA[P.level].max_lazy,P.good_match=aA[P.level].good_length,P.nice_match=aA[P.level].nice_length,P.max_chain_length=aA[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=T0-1,P.match_available=0,P.ins_h=0}function SJ(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Nh,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new NP.Buf16(IJ*2),this.dyn_dtree=new NP.Buf16((2*YJ+1)*2),this.bl_tree=new NP.Buf16((2*TJ+1)*2),UH(this.dyn_ltree),UH(this.dyn_dtree),UH(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new NP.Buf16(bJ+1),this.heap=new NP.Buf16(2*Y7+1),UH(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new NP.Buf16(2*Y7+1),UH(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xj(P){var p;if(!P||!P.state)return GH(P,Ep);if(P.total_in=P.total_out=0,P.data_type=CJ,p=P.state,p.pending=0,p.pending_out=0,p.wrap<0)p.wrap=-p.wrap;return p.status=p.wrap?Oh:K8,P.adler=p.wrap===2?0:1,p.last_flush=S8,bp._tr_init(p),AX}function Hj(P){var p=Xj(P);if(p===AX)RJ(P.state);return p}function zJ(P,p){if(!P||!P.state)return Ep;if(P.state.wrap!==2)return Ep;return P.state.gzhead=p,AX}function Aj(P,p,X,H,A,x){if(!P)return Ep;var B=1;if(p===DJ)p=6;if(H<0)B=0,H=-H;else if(H>15)B=2,H-=16;if(A<1||A>FJ||X!==Nh||H<8||H>15||p<0||p>9||x<0||x>LJ)return GH(P,Ep);if(H===8)H=9;var D=new SJ;return P.state=D,D.strm=P,D.wrap=B,D.gzhead=null,D.w_bits=H,D.w_size=1<<D.w_bits,D.w_mask=D.w_size-1,D.hash_bits=A+7,D.hash_size=1<<D.hash_bits,D.hash_mask=D.hash_size-1,D.hash_shift=~~((D.hash_bits+T0-1)/T0),D.window=new NP.Buf8(D.w_size*2),D.head=new NP.Buf16(D.hash_size),D.prev=new NP.Buf16(D.w_size),D.lit_bufsize=1<<A+6,D.pending_buf_size=D.lit_bufsize*4,D.pending_buf=new NP.Buf8(D.pending_buf_size),D.d_buf=1*D.lit_bufsize,D.l_buf=3*D.lit_bufsize,D.level=p,D.strategy=x,D.method=X,Hj(P)}function UJ(P,p){return Aj(P,p,Nh,QJ,VJ,ZJ)}function kJ(P,p){var X,H,A,x;if(!P||!P.state||p>sV||p<0)return P?GH(P,Ep):Ep;if(H=P.state,!P.output||!P.input&&P.avail_in!==0||H.status===B1&&p!==NH)return GH(P,P.avail_out===0?j7:Ep);if(H.strm=P,X=H.last_flush,H.last_flush=p,H.status===Oh)if(H.wrap===2)if(P.adler=0,K0(H,31),K0(H,139),K0(H,8),!H.gzhead)K0(H,0),K0(H,0),K0(H,0),K0(H,0),K0(H,0),K0(H,H.level===9?2:H.strategy>=zh||H.level<2?4:0),K0(H,WJ),H.status=K8;else{if(K0(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(!H.gzhead.extra?0:4)+(!H.gzhead.name?0:8)+(!H.gzhead.comment?0:16)),K0(H,H.gzhead.time&255),K0(H,H.gzhead.time>>8&255),K0(H,H.gzhead.time>>16&255),K0(H,H.gzhead.time>>24&255),K0(H,H.level===9?2:H.strategy>=zh||H.level<2?4:0),K0(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length)K0(H,H.gzhead.extra.length&255),K0(H,H.gzhead.extra.length>>8&255);if(H.gzhead.hcrc)P.adler=SH(P.adler,H.pending_buf,H.pending,0);H.gzindex=0,H.status=T7}else{var B=Nh+(H.w_bits-8<<4)<<8,D=-1;if(H.strategy>=zh||H.level<2)D=0;else if(H.level<6)D=1;else if(H.level===6)D=2;else D=3;if(B|=D<<6,H.strstart!==0)B|=EJ;if(B+=31-B%31,H.status=K8,x1(H,B),H.strstart!==0)x1(H,P.adler>>>16),x1(H,P.adler&65535);P.adler=1}if(H.status===T7)if(H.gzhead.extra){A=H.pending;while(H.gzindex<(H.gzhead.extra.length&65535)){if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>A)P.adler=SH(P.adler,H.pending_buf,H.pending-A,A);if(zH(P),A=H.pending,H.pending===H.pending_buf_size)break}K0(H,H.gzhead.extra[H.gzindex]&255),H.gzindex++}if(H.gzhead.hcrc&&H.pending>A)P.adler=SH(P.adler,H.pending_buf,H.pending-A,A);if(H.gzindex===H.gzhead.extra.length)H.gzindex=0,H.status=Uh}else H.status=Uh;if(H.status===Uh)if(H.gzhead.name){A=H.pending;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>A)P.adler=SH(P.adler,H.pending_buf,H.pending-A,A);if(zH(P),A=H.pending,H.pending===H.pending_buf_size){x=1;break}}if(H.gzindex<H.gzhead.name.length)x=H.gzhead.name.charCodeAt(H.gzindex++)&255;else x=0;K0(H,x)}while(x!==0);if(H.gzhead.hcrc&&H.pending>A)P.adler=SH(P.adler,H.pending_buf,H.pending-A,A);if(x===0)H.gzindex=0,H.status=kh}else H.status=kh;if(H.status===kh)if(H.gzhead.comment){A=H.pending;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>A)P.adler=SH(P.adler,H.pending_buf,H.pending-A,A);if(zH(P),A=H.pending,H.pending===H.pending_buf_size){x=1;break}}if(H.gzindex<H.gzhead.comment.length)x=H.gzhead.comment.charCodeAt(H.gzindex++)&255;else x=0;K0(H,x)}while(x!==0);if(H.gzhead.hcrc&&H.pending>A)P.adler=SH(P.adler,H.pending_buf,H.pending-A,A);if(x===0)H.status=Gh}else H.status=Gh;if(H.status===Gh)if(H.gzhead.hcrc){if(H.pending+2>H.pending_buf_size)zH(P);if(H.pending+2<=H.pending_buf_size)K0(H,P.adler&255),K0(H,P.adler>>8&255),P.adler=0,H.status=K8}else H.status=K8;if(H.pending!==0){if(zH(P),P.avail_out===0)return H.last_flush=-1,AX}else if(P.avail_in===0&&tV(p)<=tV(X)&&p!==NH)return GH(P,j7);if(H.status===B1&&P.avail_in!==0)return GH(P,j7);if(P.avail_in!==0||H.lookahead!==0||p!==S8&&H.status!==B1){var $=H.strategy===zh?fJ(H,p):H.strategy===$J?KJ(H,p):aA[H.level].func(H,p);if($===f8||$===iA)H.status=B1;if($===VP||$===f8){if(P.avail_out===0)H.last_flush=-1;return AX}if($===D1){if(p===AJ)bp._tr_align(H);else if(p!==sV){if(bp._tr_stored_block(H,0,0,!1),p===xJ){if(UH(H.head),H.lookahead===0)H.strstart=0,H.block_start=0,H.insert=0}}if(zH(P),P.avail_out===0)return H.last_flush=-1,AX}}if(p!==NH)return AX;if(H.wrap<=0)return eV;if(H.wrap===2)K0(H,P.adler&255),K0(H,P.adler>>8&255),K0(H,P.adler>>16&255),K0(H,P.adler>>24&255),K0(H,P.total_in&255),K0(H,P.total_in>>8&255),K0(H,P.total_in>>16&255),K0(H,P.total_in>>24&255);else x1(H,P.adler>>>16),x1(H,P.adler&65535);if(zH(P),H.wrap>0)H.wrap=-H.wrap;return H.pending!==0?AX:eV}function GJ(P){var p;if(!P||!P.state)return Ep;if(p=P.state.status,p!==Oh&&p!==T7&&p!==Uh&&p!==kh&&p!==Gh&&p!==K8&&p!==B1)return GH(P,Ep);return P.state=null,p===K8?GH(P,BJ):AX}function NJ(P,p){var X=p.length,H,A,x,B,D,$,h,Z;if(!P||!P.state)return Ep;if(H=P.state,B=H.wrap,B===2||B===1&&H.status!==Oh||H.lookahead)return Ep;if(B===1)P.adler=Pj(P.adler,p,X,0);if(H.wrap=0,X>=H.w_size){if(B===0)UH(H.head),H.strstart=0,H.block_start=0,H.insert=0;Z=new NP.Buf8(H.w_size),NP.arraySet(Z,p,X-H.w_size,H.w_size,0),p=Z,X=H.w_size}D=P.avail_in,$=P.next_in,h=P.input,P.avail_in=X,P.next_in=0,P.input=p,R8(H);while(H.lookahead>=T0){A=H.strstart,x=H.lookahead-(T0-1);do H.ins_h=(H.ins_h<<H.hash_shift^H.window[A+T0-1])&H.hash_mask,H.prev[A&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=A,A++;while(--x);H.strstart=A,H.lookahead=T0-1,R8(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=T0-1,H.match_available=0,P.next_in=$,P.input=h,P.avail_in=D,H.wrap=B,AX}OJ.deflateInit=UJ;OJ.deflateInit2=Aj;OJ.deflateReset=Hj;OJ.deflateResetKeep=Xj;OJ.deflateSetHeader=zJ;OJ.deflate=kJ;OJ.deflateEnd=GJ;OJ.deflateSetDictionary=NJ;OJ.deflateInfo="pako deflate (from Nodeca project)"});var I7=x0((uJ)=>{var wh=wX(),Bj=!0,Dj=!0;try{String.fromCharCode.apply(null,[0])}catch(P){Bj=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(P){Dj=!1}var h1=new wh.Buf8(256);for(xX=0;xX<256;xX++)h1[xX]=xX>=252?6:xX>=248?5:xX>=240?4:xX>=224?3:xX>=192?2:1;var xX;h1[254]=h1[254]=1;uJ.string2buf=function(P){var p,X,H,A,x,B=P.length,D=0;for(A=0;A<B;A++){if(X=P.charCodeAt(A),(X&64512)===55296&&A+1<B){if(H=P.charCodeAt(A+1),(H&64512)===56320)X=65536+(X-55296<<10)+(H-56320),A++}D+=X<128?1:X<2048?2:X<65536?3:4}p=new wh.Buf8(D);for(x=0,A=0;x<D;A++){if(X=P.charCodeAt(A),(X&64512)===55296&&A+1<B){if(H=P.charCodeAt(A+1),(H&64512)===56320)X=65536+(X-55296<<10)+(H-56320),A++}if(X<128)p[x++]=X;else if(X<2048)p[x++]=192|X>>>6,p[x++]=128|X&63;else if(X<65536)p[x++]=224|X>>>12,p[x++]=128|X>>>6&63,p[x++]=128|X&63;else p[x++]=240|X>>>18,p[x++]=128|X>>>12&63,p[x++]=128|X>>>6&63,p[x++]=128|X&63}return p};function hj(P,p){if(p<65534){if(P.subarray&&Dj||!P.subarray&&Bj)return String.fromCharCode.apply(null,wh.shrinkBuf(P,p))}var X="";for(var H=0;H<p;H++)X+=String.fromCharCode(P[H]);return X}uJ.buf2binstring=function(P){return hj(P,P.length)};uJ.binstring2buf=function(P){var p=new wh.Buf8(P.length);for(var X=0,H=p.length;X<H;X++)p[X]=P.charCodeAt(X);return p};uJ.buf2string=function(P,p){var X,H,A,x,B=p||P.length,D=new Array(B*2);for(H=0,X=0;X<B;){if(A=P[X++],A<128){D[H++]=A;continue}if(x=h1[A],x>4){D[H++]=65533,X+=x-1;continue}A&=x===2?31:x===3?15:7;while(x>1&&X<B)A=A<<6|P[X++]&63,x--;if(x>1){D[H++]=65533;continue}if(A<65536)D[H++]=A;else A-=65536,D[H++]=55296|A>>10&1023,D[H++]=56320|A&1023}return hj(D,H)};uJ.utf8border=function(P,p){var X;if(p=p||P.length,p>P.length)p=P.length;X=p-1;while(X>=0&&(P[X]&192)===128)X--;if(X<0)return p;if(X===0)return p;return X+h1[P[X]]>p?X:p}});var b7=x0((Qz,$j)=>{function sJ(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}$j.exports=sJ});var Fj=x0((xK)=>{var $1=xj(),L1=wX(),W7=I7(),M7=Sh(),eJ=b7(),Cj=Object.prototype.toString,tJ=0,E7=4,oA=0,Lj=1,Zj=2,PK=-1,pK=0,XK=8;function z8(P){if(!(this instanceof z8))return new z8(P);this.options=L1.assign({level:PK,method:XK,chunkSize:16384,windowBits:15,memLevel:8,strategy:pK,to:""},P||{});var p=this.options;if(p.raw&&p.windowBits>0)p.windowBits=-p.windowBits;else if(p.gzip&&p.windowBits>0&&p.windowBits<16)p.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eJ,this.strm.avail_out=0;var X=$1.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(X!==oA)throw new Error(M7[X]);if(p.header)$1.deflateSetHeader(this.strm,p.header);if(p.dictionary){var H;if(typeof p.dictionary==="string")H=W7.string2buf(p.dictionary);else if(Cj.call(p.dictionary)==="[object ArrayBuffer]")H=new Uint8Array(p.dictionary);else H=p.dictionary;if(X=$1.deflateSetDictionary(this.strm,H),X!==oA)throw new Error(M7[X]);this._dict_set=!0}}z8.prototype.push=function(P,p){var X=this.strm,H=this.options.chunkSize,A,x;if(this.ended)return!1;if(x=p===~~p?p:p===!0?E7:tJ,typeof P==="string")X.input=W7.string2buf(P);else if(Cj.call(P)==="[object ArrayBuffer]")X.input=new Uint8Array(P);else X.input=P;X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0)X.output=new L1.Buf8(H),X.next_out=0,X.avail_out=H;if(A=$1.deflate(X,x),A!==Lj&&A!==oA)return this.onEnd(A),this.ended=!0,!1;if(X.avail_out===0||X.avail_in===0&&(x===E7||x===Zj))if(this.options.to==="string")this.onData(W7.buf2binstring(L1.shrinkBuf(X.output,X.next_out)));else this.onData(L1.shrinkBuf(X.output,X.next_out))}while((X.avail_in>0||X.avail_out===0)&&A!==Lj);if(x===E7)return A=$1.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===oA;if(x===Zj)return this.onEnd(oA),X.avail_out=0,!0;return!0};z8.prototype.onData=function(P){this.chunks.push(P)};z8.prototype.onEnd=function(P){if(P===oA)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=L1.flattenChunks(this.chunks);this.chunks=[],this.err=P,this.msg=this.strm.msg};function J7(P,p){var X=new z8(p);if(X.push(P,!0),X.err)throw X.msg||M7[X.err];return X.result}function HK(P,p){return p=p||{},p.raw=!0,J7(P,p)}function AK(P,p){return p=p||{},p.gzip=!0,J7(P,p)}xK.Deflate=z8;xK.deflate=J7;xK.deflateRaw=HK;xK.gzip=AK});var Vj=x0((jz,Qj)=>{var vh=30,LK=12;Qj.exports=function P(p,X){var H,A,x,B,D,$,h,Z,F,Q,j,b,E,M,I,V,Y,T,J,W,K,S,_,v,d;H=p.state,A=p.next_in,v=p.input,x=A+(p.avail_in-5),B=p.next_out,d=p.output,D=B-(X-p.avail_out),$=B+(p.avail_out-257),h=H.dmax,Z=H.wsize,F=H.whave,Q=H.wnext,j=H.window,b=H.hold,E=H.bits,M=H.lencode,I=H.distcode,V=(1<<H.lenbits)-1,Y=(1<<H.distbits)-1;P:do{if(E<15)b+=v[A++]<<E,E+=8,b+=v[A++]<<E,E+=8;T=M[b&V];p:for(;;){if(J=T>>>24,b>>>=J,E-=J,J=T>>>16&255,J===0)d[B++]=T&65535;else if(J&16){if(W=T&65535,J&=15,J){if(E<J)b+=v[A++]<<E,E+=8;W+=b&(1<<J)-1,b>>>=J,E-=J}if(E<15)b+=v[A++]<<E,E+=8,b+=v[A++]<<E,E+=8;T=I[b&Y];X:for(;;){if(J=T>>>24,b>>>=J,E-=J,J=T>>>16&255,J&16){if(K=T&65535,J&=15,E<J){if(b+=v[A++]<<E,E+=8,E<J)b+=v[A++]<<E,E+=8}if(K+=b&(1<<J)-1,K>h){p.msg="invalid distance too far back",H.mode=vh;break P}if(b>>>=J,E-=J,J=B-D,K>J){if(J=K-J,J>F){if(H.sane){p.msg="invalid distance too far back",H.mode=vh;break P}}if(S=0,_=j,Q===0){if(S+=Z-J,J<W){W-=J;do d[B++]=j[S++];while(--J);S=B-K,_=d}}else if(Q<J){if(S+=Z+Q-J,J-=Q,J<W){W-=J;do d[B++]=j[S++];while(--J);if(S=0,Q<W){J=Q,W-=J;do d[B++]=j[S++];while(--J);S=B-K,_=d}}}else if(S+=Q-J,J<W){W-=J;do d[B++]=j[S++];while(--J);S=B-K,_=d}while(W>2)d[B++]=_[S++],d[B++]=_[S++],d[B++]=_[S++],W-=3;if(W){if(d[B++]=_[S++],W>1)d[B++]=_[S++]}}else{S=B-K;do d[B++]=d[S++],d[B++]=d[S++],d[B++]=d[S++],W-=3;while(W>2);if(W){if(d[B++]=d[S++],W>1)d[B++]=d[S++]}}}else if((J&64)===0){T=I[(T&65535)+(b&(1<<J)-1)];continue X}else{p.msg="invalid distance code",H.mode=vh;break P}break}}else if((J&64)===0){T=M[(T&65535)+(b&(1<<J)-1)];continue p}else if(J&32){H.mode=LK;break P}else{p.msg="invalid literal/length code",H.mode=vh;break P}break}}while(A<x&&B<$);W=E>>3,A-=W,E-=W<<3,b&=(1<<E)-1,p.next_in=A,p.next_out=B,p.avail_in=A<x?5+(x-A):5-(A-x),p.avail_out=B<$?257+($-B):257-(B-$),H.hold=b,H.bits=E;return}});var Ej=x0((qz,bj)=>{var jj=wX(),nA=15,qj=852,Yj=592,Tj=0,K7=1,Ij=2,ZK=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],CK=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],FK=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],QK=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];bj.exports=function P(p,X,H,A,x,B,D,$){var h=$.bits,Z=0,F=0,Q=0,j=0,b=0,E=0,M=0,I=0,V=0,Y=0,T,J,W,K,S,_=null,v=0,d,f=new jj.Buf16(nA+1),g=new jj.Buf16(nA+1),s=null,k=0,m,a,o;for(Z=0;Z<=nA;Z++)f[Z]=0;for(F=0;F<A;F++)f[X[H+F]]++;b=h;for(j=nA;j>=1;j--)if(f[j]!==0)break;if(b>j)b=j;if(j===0)return x[B++]=20971520,x[B++]=20971520,$.bits=1,0;for(Q=1;Q<j;Q++)if(f[Q]!==0)break;if(b<Q)b=Q;I=1;for(Z=1;Z<=nA;Z++)if(I<<=1,I-=f[Z],I<0)return-1;if(I>0&&(p===Tj||j!==1))return-1;g[1]=0;for(Z=1;Z<nA;Z++)g[Z+1]=g[Z]+f[Z];for(F=0;F<A;F++)if(X[H+F]!==0)D[g[X[H+F]]++]=F;if(p===Tj)_=s=D,d=19;else if(p===K7)_=ZK,v-=257,s=CK,k-=257,d=256;else _=FK,s=QK,d=-1;if(Y=0,F=0,Z=Q,S=B,E=b,M=0,W=-1,V=1<<b,K=V-1,p===K7&&V>qj||p===Ij&&V>Yj)return 1;for(;;){if(m=Z-M,D[F]<d)a=0,o=D[F];else if(D[F]>d)a=s[k+D[F]],o=_[v+D[F]];else a=96,o=0;T=1<<Z-M,J=1<<E,Q=J;do J-=T,x[S+(Y>>M)+J]=m<<24|a<<16|o|0;while(J!==0);T=1<<Z-1;while(Y&T)T>>=1;if(T!==0)Y&=T-1,Y+=T;else Y=0;if(F++,--f[Z]===0){if(Z===j)break;Z=X[H+D[F]]}if(Z>b&&(Y&K)!==W){if(M===0)M=b;S+=Q,E=Z-M,I=1<<E;while(E+M<j){if(I-=f[E+M],I<=0)break;E++,I<<=1}if(V+=1<<E,p===K7&&V>qj||p===Ij&&V>Yj)return 1;W=Y&K,x[W]=b<<24|E<<16|S-B|0}}if(Y!==0)x[S+Y]=Z-M<<24|4194304|0;return $.bits=b,0}});var Hq=x0((GK)=>{var Ap=wX(),k7=Q7(),BX=V7(),VK=Vj(),Z1=Ej(),jK=0,oj=1,nj=2,Wj=4,qK=5,_h=6,U8=0,YK=1,TK=2,Wp=-2,rj=-3,G7=-4,IK=-5,Mj=8,sj=1,Jj=2,Kj=3,fj=4,Rj=5,Sj=6,zj=7,Uj=8,kj=9,Gj=10,yh=11,_X=12,f7=13,Nj=14,R7=15,Oj=16,wj=17,vj=18,_j=19,dh=20,gh=21,dj=22,gj=23,yj=24,cj=25,lj=26,S7=27,mj=28,uj=29,u0=30,N7=31,bK=32,EK=852,WK=592,MK=15,JK=MK;function aj(P){return(P>>>24&255)+(P>>>8&65280)+((P&65280)<<8)+((P&255)<<24)}function KK(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Ap.Buf16(320),this.work=new Ap.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ej(P){var p;if(!P||!P.state)return Wp;if(p=P.state,P.total_in=P.total_out=p.total=0,P.msg="",p.wrap)P.adler=p.wrap&1;return p.mode=sj,p.last=0,p.havedict=0,p.dmax=32768,p.head=null,p.hold=0,p.bits=0,p.lencode=p.lendyn=new Ap.Buf32(EK),p.distcode=p.distdyn=new Ap.Buf32(WK),p.sane=1,p.back=-1,U8}function tj(P){var p;if(!P||!P.state)return Wp;return p=P.state,p.wsize=0,p.whave=0,p.wnext=0,ej(P)}function Pq(P,p){var X,H;if(!P||!P.state)return Wp;if(H=P.state,p<0)X=0,p=-p;else if(X=(p>>4)+1,p<48)p&=15;if(p&&(p<8||p>15))return Wp;if(H.window!==null&&H.wbits!==p)H.window=null;return H.wrap=X,H.wbits=p,tj(P)}function pq(P,p){var X,H;if(!P)return Wp;if(H=new KK,P.state=H,H.window=null,X=Pq(P,p),X!==U8)P.state=null;return X}function fK(P){return pq(P,JK)}var ij=!0,z7,U7;function RK(P){if(ij){var p;z7=new Ap.Buf32(512),U7=new Ap.Buf32(32),p=0;while(p<144)P.lens[p++]=8;while(p<256)P.lens[p++]=9;while(p<280)P.lens[p++]=7;while(p<288)P.lens[p++]=8;Z1(oj,P.lens,0,288,z7,0,P.work,{bits:9}),p=0;while(p<32)P.lens[p++]=5;Z1(nj,P.lens,0,32,U7,0,P.work,{bits:5}),ij=!1}P.lencode=z7,P.lenbits=9,P.distcode=U7,P.distbits=5}function Xq(P,p,X,H){var A,x=P.state;if(x.window===null)x.wsize=1<<x.wbits,x.wnext=0,x.whave=0,x.window=new Ap.Buf8(x.wsize);if(H>=x.wsize)Ap.arraySet(x.window,p,X-x.wsize,x.wsize,0),x.wnext=0,x.whave=x.wsize;else{if(A=x.wsize-x.wnext,A>H)A=H;if(Ap.arraySet(x.window,p,X-H,A,x.wnext),H-=A,H)Ap.arraySet(x.window,p,X-H,H,0),x.wnext=H,x.whave=x.wsize;else{if(x.wnext+=A,x.wnext===x.wsize)x.wnext=0;if(x.whave<x.wsize)x.whave+=A}}return 0}function SK(P,p){var X,H,A,x,B,D,$,h,Z,F,Q,j,b,E,M=0,I,V,Y,T,J,W,K,S,_=new Ap.Buf8(4),v,d,f=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!P||!P.state||!P.output||!P.input&&P.avail_in!==0)return Wp;if(X=P.state,X.mode===_X)X.mode=f7;B=P.next_out,A=P.output,$=P.avail_out,x=P.next_in,H=P.input,D=P.avail_in,h=X.hold,Z=X.bits,F=D,Q=$,S=U8;P:for(;;)switch(X.mode){case sj:if(X.wrap===0){X.mode=f7;break}while(Z<16){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(X.wrap&2&&h===35615){X.check=0,_[0]=h&255,_[1]=h>>>8&255,X.check=BX(X.check,_,2,0),h=0,Z=0,X.mode=Jj;break}if(X.flags=0,X.head)X.head.done=!1;if(!(X.wrap&1)||(((h&255)<<8)+(h>>8))%31){P.msg="incorrect header check",X.mode=u0;break}if((h&15)!==Mj){P.msg="unknown compression method",X.mode=u0;break}if(h>>>=4,Z-=4,K=(h&15)+8,X.wbits===0)X.wbits=K;else if(K>X.wbits){P.msg="invalid window size",X.mode=u0;break}X.dmax=1<<K,P.adler=X.check=1,X.mode=h&512?Gj:_X,h=0,Z=0;break;case Jj:while(Z<16){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(X.flags=h,(X.flags&255)!==Mj){P.msg="unknown compression method",X.mode=u0;break}if(X.flags&57344){P.msg="unknown header flags set",X.mode=u0;break}if(X.head)X.head.text=h>>8&1;if(X.flags&512)_[0]=h&255,_[1]=h>>>8&255,X.check=BX(X.check,_,2,0);h=0,Z=0,X.mode=Kj;case Kj:while(Z<32){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(X.head)X.head.time=h;if(X.flags&512)_[0]=h&255,_[1]=h>>>8&255,_[2]=h>>>16&255,_[3]=h>>>24&255,X.check=BX(X.check,_,4,0);h=0,Z=0,X.mode=fj;case fj:while(Z<16){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(X.head)X.head.xflags=h&255,X.head.os=h>>8;if(X.flags&512)_[0]=h&255,_[1]=h>>>8&255,X.check=BX(X.check,_,2,0);h=0,Z=0,X.mode=Rj;case Rj:if(X.flags&1024){while(Z<16){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(X.length=h,X.head)X.head.extra_len=h;if(X.flags&512)_[0]=h&255,_[1]=h>>>8&255,X.check=BX(X.check,_,2,0);h=0,Z=0}else if(X.head)X.head.extra=null;X.mode=Sj;case Sj:if(X.flags&1024){if(j=X.length,j>D)j=D;if(j){if(X.head){if(K=X.head.extra_len-X.length,!X.head.extra)X.head.extra=new Array(X.head.extra_len);Ap.arraySet(X.head.extra,H,x,j,K)}if(X.flags&512)X.check=BX(X.check,H,j,x);D-=j,x+=j,X.length-=j}if(X.length)break P}X.length=0,X.mode=zj;case zj:if(X.flags&2048){if(D===0)break P;j=0;do if(K=H[x+j++],X.head&&K&&X.length<65536)X.head.name+=String.fromCharCode(K);while(K&&j<D);if(X.flags&512)X.check=BX(X.check,H,j,x);if(D-=j,x+=j,K)break P}else if(X.head)X.head.name=null;X.length=0,X.mode=Uj;case Uj:if(X.flags&4096){if(D===0)break P;j=0;do if(K=H[x+j++],X.head&&K&&X.length<65536)X.head.comment+=String.fromCharCode(K);while(K&&j<D);if(X.flags&512)X.check=BX(X.check,H,j,x);if(D-=j,x+=j,K)break P}else if(X.head)X.head.comment=null;X.mode=kj;case kj:if(X.flags&512){while(Z<16){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(h!==(X.check&65535)){P.msg="header crc mismatch",X.mode=u0;break}h=0,Z=0}if(X.head)X.head.hcrc=X.flags>>9&1,X.head.done=!0;P.adler=X.check=0,X.mode=_X;break;case Gj:while(Z<32){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}P.adler=X.check=aj(h),h=0,Z=0,X.mode=yh;case yh:if(X.havedict===0)return P.next_out=B,P.avail_out=$,P.next_in=x,P.avail_in=D,X.hold=h,X.bits=Z,TK;P.adler=X.check=1,X.mode=_X;case _X:if(p===qK||p===_h)break P;case f7:if(X.last){h>>>=Z&7,Z-=Z&7,X.mode=S7;break}while(Z<3){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}switch(X.last=h&1,h>>>=1,Z-=1,h&3){case 0:X.mode=Nj;break;case 1:if(RK(X),X.mode=dh,p===_h){h>>>=2,Z-=2;break P}break;case 2:X.mode=wj;break;case 3:P.msg="invalid block type",X.mode=u0}h>>>=2,Z-=2;break;case Nj:h>>>=Z&7,Z-=Z&7;while(Z<32){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if((h&65535)!==(h>>>16^65535)){P.msg="invalid stored block lengths",X.mode=u0;break}if(X.length=h&65535,h=0,Z=0,X.mode=R7,p===_h)break P;case R7:X.mode=Oj;case Oj:if(j=X.length,j){if(j>D)j=D;if(j>$)j=$;if(j===0)break P;Ap.arraySet(A,H,x,j,B),D-=j,x+=j,$-=j,B+=j,X.length-=j;break}X.mode=_X;break;case wj:while(Z<14){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(X.nlen=(h&31)+257,h>>>=5,Z-=5,X.ndist=(h&31)+1,h>>>=5,Z-=5,X.ncode=(h&15)+4,h>>>=4,Z-=4,X.nlen>286||X.ndist>30){P.msg="too many length or distance symbols",X.mode=u0;break}X.have=0,X.mode=vj;case vj:while(X.have<X.ncode){while(Z<3){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}X.lens[f[X.have++]]=h&7,h>>>=3,Z-=3}while(X.have<19)X.lens[f[X.have++]]=0;if(X.lencode=X.lendyn,X.lenbits=7,v={bits:X.lenbits},S=Z1(jK,X.lens,0,19,X.lencode,0,X.work,v),X.lenbits=v.bits,S){P.msg="invalid code lengths set",X.mode=u0;break}X.have=0,X.mode=_j;case _j:while(X.have<X.nlen+X.ndist){for(;;){if(M=X.lencode[h&(1<<X.lenbits)-1],I=M>>>24,V=M>>>16&255,Y=M&65535,I<=Z)break;if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(Y<16)h>>>=I,Z-=I,X.lens[X.have++]=Y;else{if(Y===16){d=I+2;while(Z<d){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(h>>>=I,Z-=I,X.have===0){P.msg="invalid bit length repeat",X.mode=u0;break}K=X.lens[X.have-1],j=3+(h&3),h>>>=2,Z-=2}else if(Y===17){d=I+3;while(Z<d){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}h>>>=I,Z-=I,K=0,j=3+(h&7),h>>>=3,Z-=3}else{d=I+7;while(Z<d){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}h>>>=I,Z-=I,K=0,j=11+(h&127),h>>>=7,Z-=7}if(X.have+j>X.nlen+X.ndist){P.msg="invalid bit length repeat",X.mode=u0;break}while(j--)X.lens[X.have++]=K}}if(X.mode===u0)break;if(X.lens[256]===0){P.msg="invalid code -- missing end-of-block",X.mode=u0;break}if(X.lenbits=9,v={bits:X.lenbits},S=Z1(oj,X.lens,0,X.nlen,X.lencode,0,X.work,v),X.lenbits=v.bits,S){P.msg="invalid literal/lengths set",X.mode=u0;break}if(X.distbits=6,X.distcode=X.distdyn,v={bits:X.distbits},S=Z1(nj,X.lens,X.nlen,X.ndist,X.distcode,0,X.work,v),X.distbits=v.bits,S){P.msg="invalid distances set",X.mode=u0;break}if(X.mode=dh,p===_h)break P;case dh:X.mode=gh;case gh:if(D>=6&&$>=258){if(P.next_out=B,P.avail_out=$,P.next_in=x,P.avail_in=D,X.hold=h,X.bits=Z,VK(P,Q),B=P.next_out,A=P.output,$=P.avail_out,x=P.next_in,H=P.input,D=P.avail_in,h=X.hold,Z=X.bits,X.mode===_X)X.back=-1;break}X.back=0;for(;;){if(M=X.lencode[h&(1<<X.lenbits)-1],I=M>>>24,V=M>>>16&255,Y=M&65535,I<=Z)break;if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(V&&(V&240)===0){T=I,J=V,W=Y;for(;;){if(M=X.lencode[W+((h&(1<<T+J)-1)>>T)],I=M>>>24,V=M>>>16&255,Y=M&65535,T+I<=Z)break;if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}h>>>=T,Z-=T,X.back+=T}if(h>>>=I,Z-=I,X.back+=I,X.length=Y,V===0){X.mode=lj;break}if(V&32){X.back=-1,X.mode=_X;break}if(V&64){P.msg="invalid literal/length code",X.mode=u0;break}X.extra=V&15,X.mode=dj;case dj:if(X.extra){d=X.extra;while(Z<d){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}X.length+=h&(1<<X.extra)-1,h>>>=X.extra,Z-=X.extra,X.back+=X.extra}X.was=X.length,X.mode=gj;case gj:for(;;){if(M=X.distcode[h&(1<<X.distbits)-1],I=M>>>24,V=M>>>16&255,Y=M&65535,I<=Z)break;if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if((V&240)===0){T=I,J=V,W=Y;for(;;){if(M=X.distcode[W+((h&(1<<T+J)-1)>>T)],I=M>>>24,V=M>>>16&255,Y=M&65535,T+I<=Z)break;if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}h>>>=T,Z-=T,X.back+=T}if(h>>>=I,Z-=I,X.back+=I,V&64){P.msg="invalid distance code",X.mode=u0;break}X.offset=Y,X.extra=V&15,X.mode=yj;case yj:if(X.extra){d=X.extra;while(Z<d){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}X.offset+=h&(1<<X.extra)-1,h>>>=X.extra,Z-=X.extra,X.back+=X.extra}if(X.offset>X.dmax){P.msg="invalid distance too far back",X.mode=u0;break}X.mode=cj;case cj:if($===0)break P;if(j=Q-$,X.offset>j){if(j=X.offset-j,j>X.whave){if(X.sane){P.msg="invalid distance too far back",X.mode=u0;break}}if(j>X.wnext)j-=X.wnext,b=X.wsize-j;else b=X.wnext-j;if(j>X.length)j=X.length;E=X.window}else E=A,b=B-X.offset,j=X.length;if(j>$)j=$;$-=j,X.length-=j;do A[B++]=E[b++];while(--j);if(X.length===0)X.mode=gh;break;case lj:if($===0)break P;A[B++]=X.length,$--,X.mode=gh;break;case S7:if(X.wrap){while(Z<32){if(D===0)break P;D--,h|=H[x++]<<Z,Z+=8}if(Q-=$,P.total_out+=Q,X.total+=Q,Q)P.adler=X.check=X.flags?BX(X.check,A,Q,B-Q):k7(X.check,A,Q,B-Q);if(Q=$,(X.flags?h:aj(h))!==X.check){P.msg="incorrect data check",X.mode=u0;break}h=0,Z=0}X.mode=mj;case mj:if(X.wrap&&X.flags){while(Z<32){if(D===0)break P;D--,h+=H[x++]<<Z,Z+=8}if(h!==(X.total&4294967295)){P.msg="incorrect length check",X.mode=u0;break}h=0,Z=0}X.mode=uj;case uj:S=YK;break P;case u0:S=rj;break P;case N7:return G7;case bK:default:return Wp}if(P.next_out=B,P.avail_out=$,P.next_in=x,P.avail_in=D,X.hold=h,X.bits=Z,X.wsize||Q!==P.avail_out&&X.mode<u0&&(X.mode<S7||p!==Wj)){if(Xq(P,P.output,P.next_out,Q-P.avail_out))return X.mode=N7,G7}if(F-=P.avail_in,Q-=P.avail_out,P.total_in+=F,P.total_out+=Q,X.total+=Q,X.wrap&&Q)P.adler=X.check=X.flags?BX(X.check,A,Q,P.next_out-Q):k7(X.check,A,Q,P.next_out-Q);if(P.data_type=X.bits+(X.last?64:0)+(X.mode===_X?128:0)+(X.mode===dh||X.mode===R7?256:0),(F===0&&Q===0||p===Wj)&&S===U8)S=IK;return S}function zK(P){if(!P||!P.state)return Wp;var p=P.state;if(p.window)p.window=null;return P.state=null,U8}function UK(P,p){var X;if(!P||!P.state)return Wp;if(X=P.state,(X.wrap&2)===0)return Wp;return X.head=p,p.done=!1,U8}function kK(P,p){var X=p.length,H,A,x;if(!P||!P.state)return Wp;if(H=P.state,H.wrap!==0&&H.mode!==yh)return Wp;if(H.mode===yh){if(A=1,A=k7(A,p,X,0),A!==H.check)return rj}if(x=Xq(P,p,X,X),x)return H.mode=N7,G7;return H.havedict=1,U8}GK.inflateReset=tj;GK.inflateReset2=Pq;GK.inflateResetKeep=ej;GK.inflateInit=fK;GK.inflateInit2=pq;GK.inflate=SK;GK.inflateEnd=zK;GK.inflateGetHeader=UK;GK.inflateSetDictionary=kK;GK.inflateInfo="pako inflate (from Nodeca project)"});var O7=x0((Tz,Aq)=>{Aq.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var Bq=x0((Iz,xq)=>{function mK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}xq.exports=mK});var hq=x0((oK)=>{var rA=Hq(),C1=wX(),ch=I7(),AP=O7(),w7=Sh(),uK=b7(),aK=Bq(),Dq=Object.prototype.toString;function k8(P){if(!(this instanceof k8))return new k8(P);this.options=C1.assign({chunkSize:16384,windowBits:0,to:""},P||{});var p=this.options;if(p.raw&&p.windowBits>=0&&p.windowBits<16){if(p.windowBits=-p.windowBits,p.windowBits===0)p.windowBits=-15}if(p.windowBits>=0&&p.windowBits<16&&!(P&&P.windowBits))p.windowBits+=32;if(p.windowBits>15&&p.windowBits<48){if((p.windowBits&15)===0)p.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new uK,this.strm.avail_out=0;var X=rA.inflateInit2(this.strm,p.windowBits);if(X!==AP.Z_OK)throw new Error(w7[X]);if(this.header=new aK,rA.inflateGetHeader(this.strm,this.header),p.dictionary){if(typeof p.dictionary==="string")p.dictionary=ch.string2buf(p.dictionary);else if(Dq.call(p.dictionary)==="[object ArrayBuffer]")p.dictionary=new Uint8Array(p.dictionary);if(p.raw){if(X=rA.inflateSetDictionary(this.strm,p.dictionary),X!==AP.Z_OK)throw new Error(w7[X])}}}k8.prototype.push=function(P,p){var X=this.strm,H=this.options.chunkSize,A=this.options.dictionary,x,B,D,$,h,Z=!1;if(this.ended)return!1;if(B=p===~~p?p:p===!0?AP.Z_FINISH:AP.Z_NO_FLUSH,typeof P==="string")X.input=ch.binstring2buf(P);else if(Dq.call(P)==="[object ArrayBuffer]")X.input=new Uint8Array(P);else X.input=P;X.next_in=0,X.avail_in=X.input.length;do{if(X.avail_out===0)X.output=new C1.Buf8(H),X.next_out=0,X.avail_out=H;if(x=rA.inflate(X,AP.Z_NO_FLUSH),x===AP.Z_NEED_DICT&&A)x=rA.inflateSetDictionary(this.strm,A);if(x===AP.Z_BUF_ERROR&&Z===!0)x=AP.Z_OK,Z=!1;if(x!==AP.Z_STREAM_END&&x!==AP.Z_OK)return this.onEnd(x),this.ended=!0,!1;if(X.next_out){if(X.avail_out===0||x===AP.Z_STREAM_END||X.avail_in===0&&(B===AP.Z_FINISH||B===AP.Z_SYNC_FLUSH))if(this.options.to==="string"){if(D=ch.utf8border(X.output,X.next_out),$=X.next_out-D,h=ch.buf2string(X.output,D),X.next_out=$,X.avail_out=H-$,$)C1.arraySet(X.output,X.output,D,$,0);this.onData(h)}else this.onData(C1.shrinkBuf(X.output,X.next_out))}if(X.avail_in===0&&X.avail_out===0)Z=!0}while((X.avail_in>0||X.avail_out===0)&&x!==AP.Z_STREAM_END);if(x===AP.Z_STREAM_END)B=AP.Z_FINISH;if(B===AP.Z_FINISH)return x=rA.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===AP.Z_OK;if(B===AP.Z_SYNC_FLUSH)return this.onEnd(AP.Z_OK),X.avail_out=0,!0;return!0};k8.prototype.onData=function(P){this.chunks.push(P)};k8.prototype.onEnd=function(P){if(P===AP.Z_OK)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=C1.flattenChunks(this.chunks);this.chunks=[],this.err=P,this.msg=this.strm.msg};function v7(P,p){var X=new k8(p);if(X.push(P,!0),X.err)throw X.msg||w7[X.err];return X.result}function iK(P,p){return p=p||{},p.raw=!0,v7(P,p)}oK.Inflate=k8;oK.inflate=v7;oK.inflateRaw=iK;oK.ungzip=v7});var Zq=x0((Ez,Lq)=>{var tK=wX().assign,Pf=Fj(),pf=hq(),Xf=O7(),$q={};tK($q,Pf,pf,Xf);Lq.exports=$q});var Fq=x0((Bf)=>{var Hf=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined",Af=Zq(),Cq=s0(),lh=Hp(),xf=Hf?"uint8array":"array";Bf.magic="\b\x00";function G8(P,p){lh.call(this,"FlateWorker/"+P),this._pako=null,this._pakoAction=P,this._pakoOptions=p,this.meta={}}Cq.inherits(G8,lh);G8.prototype.processChunk=function(P){if(this.meta=P.meta,this._pako===null)this._createPako();this._pako.push(Cq.transformTo(xf,P.data),!1)};G8.prototype.flush=function(){if(lh.prototype.flush.call(this),this._pako===null)this._createPako();this._pako.push([],!0)};G8.prototype.cleanUp=function(){lh.prototype.cleanUp.call(this),this._pako=null};G8.prototype._createPako=function(){this._pako=new Af[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var P=this;this._pako.onData=function(p){P.push({data:p,meta:P.meta})}};Bf.compressWorker=function(P){return new G8("Deflate",P)};Bf.uncompressWorker=function(){return new G8("Inflate",{})}});var _7=x0((Lf)=>{var Qq=Hp();Lf.STORE={magic:"\x00\x00",compressWorker:function(){return new Qq("STORE compression")},uncompressWorker:function(){return new Qq("STORE decompression")}};Lf.DEFLATE=Fq()});var d7=x0((Ff)=>{Ff.LOCAL_FILE_HEADER="PK\x03\x04";Ff.CENTRAL_FILE_HEADER="PK\x01\x02";Ff.CENTRAL_DIRECTORY_END="PK\x05\x06";Ff.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";Ff.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";Ff.DATA_DESCRIPTOR="PK\x07\b"});var Yq=x0((Kz,qq)=>{var sA=s0(),eA=Hp(),g7=yA(),Vq=Jh(),mh=d7(),d0=function(P,p){var X="",H;for(H=0;H<p;H++)X+=String.fromCharCode(P&255),P=P>>>8;return X},If=function(P,p){var X=P;if(!P)X=p?16893:33204;return(X&65535)<<16},bf=function(P){return(P||0)&63},jq=function(P,p,X,H,A,x){var{file:B,compression:D}=P,$=x!==g7.utf8encode,h=sA.transformTo("string",x(B.name)),Z=sA.transformTo("string",g7.utf8encode(B.name)),F=B.comment,Q=sA.transformTo("string",x(F)),j=sA.transformTo("string",g7.utf8encode(F)),b=Z.length!==B.name.length,E=j.length!==F.length,M,I,V="",Y="",T="",J=B.dir,W=B.date,K={crc32:0,compressedSize:0,uncompressedSize:0};if(!p||X)K.crc32=P.crc32,K.compressedSize=P.compressedSize,K.uncompressedSize=P.uncompressedSize;var S=0;if(p)S|=8;if(!$&&(b||E))S|=2048;var _=0,v=0;if(J)_|=16;if(A==="UNIX")v=798,_|=If(B.unixPermissions,J);else v=20,_|=bf(B.dosPermissions,J);if(M=W.getUTCHours(),M=M<<6,M=M|W.getUTCMinutes(),M=M<<5,M=M|W.getUTCSeconds()/2,I=W.getUTCFullYear()-1980,I=I<<4,I=I|W.getUTCMonth()+1,I=I<<5,I=I|W.getUTCDate(),b)Y=d0(1,1)+d0(Vq(h),4)+Z,V+="up"+d0(Y.length,2)+Y;if(E)T=d0(1,1)+d0(Vq(Q),4)+j,V+="uc"+d0(T.length,2)+T;var d="";d+=`
\x00`,d+=d0(S,2),d+=D.magic,d+=d0(M,2),d+=d0(I,2),d+=d0(K.crc32,4),d+=d0(K.compressedSize,4),d+=d0(K.uncompressedSize,4),d+=d0(h.length,2),d+=d0(V.length,2);var f=mh.LOCAL_FILE_HEADER+d+h+V,g=mh.CENTRAL_FILE_HEADER+d0(v,2)+d+d0(Q.length,2)+"\x00\x00\x00\x00"+d0(_,4)+d0(H,4)+h+V+Q;return{fileRecord:f,dirRecord:g}},Ef=function(P,p,X,H,A){var x="",B=sA.transformTo("string",A(H));return x=mh.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+d0(P,2)+d0(P,2)+d0(p,4)+d0(X,4)+d0(B.length,2)+B,x},Wf=function(P){var p="";return p=mh.DATA_DESCRIPTOR+d0(P.crc32,4)+d0(P.compressedSize,4)+d0(P.uncompressedSize,4),p};function Gp(P,p,X,H){eA.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=X,this.encodeFileName=H,this.streamFiles=P,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}sA.inherits(Gp,eA);Gp.prototype.push=function(P){var p=P.meta.percent||0,X=this.entriesCount,H=this._sources.length;if(this.accumulate)this.contentBuffer.push(P);else this.bytesWritten+=P.data.length,eA.prototype.push.call(this,{data:P.data,meta:{currentFile:this.currentFile,percent:X?(p+100*(X-H-1))/X:100}})};Gp.prototype.openedSource=function(P){this.currentSourceOffset=this.bytesWritten,this.currentFile=P.file.name;var p=this.streamFiles&&!P.file.dir;if(p){var X=jq(P,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:X.fileRecord,meta:{percent:0}})}else this.accumulate=!0};Gp.prototype.closedSource=function(P){this.accumulate=!1;var p=this.streamFiles&&!P.file.dir,X=jq(P,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(X.dirRecord),p)this.push({data:Wf(P),meta:{percent:100}});else{this.push({data:X.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};Gp.prototype.flush=function(){var P=this.bytesWritten;for(var p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var X=this.bytesWritten-P,H=Ef(this.dirRecords.length,X,P,this.zipComment,this.encodeFileName);this.push({data:H,meta:{percent:100}})};Gp.prototype.prepareNextSource=function(){if(this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused)this.previous.pause();else this.previous.resume()};Gp.prototype.registerPrevious=function(P){this._sources.push(P);var p=this;return P.on("data",function(X){p.processChunk(X)}),P.on("end",function(){if(p.closedSource(p.previous.streamInfo),p._sources.length)p.prepareNextSource();else p.end()}),P.on("error",function(X){p.error(X)}),this};Gp.prototype.resume=function(){if(!eA.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};Gp.prototype.error=function(P){var p=this._sources;if(!eA.prototype.error.call(this,P))return!1;for(var X=0;X<p.length;X++)try{p[X].error(P)}catch(H){}return!0};Gp.prototype.lock=function(){eA.prototype.lock.call(this);var P=this._sources;for(var p=0;p<P.length;p++)P[p].lock()};qq.exports=Gp});var Tq=x0((ff)=>{var Mf=_7(),Jf=Yq(),Kf=function(P,p){var X=P||p,H=Mf[X];if(!H)throw new Error(X+" is not a valid compression method !");return H};ff.generateWorker=function(P,p,X){var H=new Jf(p.streamFiles,X,p.platform,p.encodeFileName),A=0;try{P.forEach(function(x,B){A++;var D=Kf(B.options.compression,p.compression),$=B.options.compressionOptions||p.compressionOptions||{},h=B.dir,Z=B.date;B._compressWorker(D,$).withStreamInfo("file",{name:x,dir:h,date:Z,comment:B.comment||"",unixPermissions:B.unixPermissions,dosPermissions:B.dosPermissions}).pipe(H)}),H.entriesCount=A}catch(x){H.error(x)}return H}});var bq=x0((Rz,Iq)=>{var Sf=s0(),uh=Hp();function F1(P,p){uh.call(this,"Nodejs stream input adapter for "+P),this._upstreamEnded=!1,this._bindStream(p)}Sf.inherits(F1,uh);F1.prototype._bindStream=function(P){var p=this;this._stream=P,P.pause(),P.on("data",function(X){p.push({data:X,meta:{percent:0}})}).on("error",function(X){if(p.isPaused)this.generatedError=X;else p.error(X)}).on("end",function(){if(p.isPaused)p._upstreamEnded=!0;else p.end()})};F1.prototype.pause=function(){if(!uh.prototype.pause.call(this))return!1;return this._stream.pause(),!0};F1.prototype.resume=function(){if(!uh.prototype.resume.call(this))return!1;if(this._upstreamEnded)this.end();else this._stream.resume();return!0};Iq.exports=F1});var Uq=x0((Sz,zq)=>{var zf=yA(),Q1=s0(),Jq=Hp(),Uf=mZ(),Kq=uZ(),Eq=Kh(),kf=WV(),Gf=Tq(),Wq=uB(),Nf=bq(),fq=function(P,p,X){var H=Q1.getTypeOf(p),A,x=Q1.extend(X||{},Kq);if(x.date=x.date||new Date,x.compression!==null)x.compression=x.compression.toUpperCase();if(typeof x.unixPermissions==="string")x.unixPermissions=parseInt(x.unixPermissions,8);if(x.unixPermissions&&x.unixPermissions&16384)x.dir=!0;if(x.dosPermissions&&x.dosPermissions&16)x.dir=!0;if(x.dir)P=Rq(P);if(x.createFolders&&(A=Of(P)))Sq.call(this,A,!0);var B=H==="string"&&x.binary===!1&&x.base64===!1;if(!X||typeof X.binary==="undefined")x.binary=!B;var D=p instanceof Eq&&p.uncompressedSize===0;if(D||x.dir||!p||p.length===0)x.base64=!1,x.binary=!0,p="",x.compression="STORE",H="string";var $=null;if(p instanceof Eq||p instanceof Jq)$=p;else if(Wq.isNode&&Wq.isStream(p))$=new Nf(P,p);else $=Q1.prepareContent(P,p,x.binary,x.optimizedBinaryString,x.base64);var h=new kf(P,$,x);this.files[P]=h},Of=function(P){if(P.slice(-1)==="/")P=P.substring(0,P.length-1);var p=P.lastIndexOf("/");return p>0?P.substring(0,p):""},Rq=function(P){if(P.slice(-1)!=="/")P+="/";return P},Sq=function(P,p){if(p=typeof p!=="undefined"?p:Kq.createFolders,P=Rq(P),!this.files[P])fq.call(this,P,null,{dir:!0,createFolders:p});return this.files[P]};function Mq(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var wf={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var p,X,H;for(p in this.files)if(H=this.files[p],X=p.slice(this.root.length,p.length),X&&p.slice(0,this.root.length)===this.root)P(X,H)},filter:function(P){var p=[];return this.forEach(function(X,H){if(P(X,H))p.push(H)}),p},file:function(P,p,X){if(arguments.length===1)if(Mq(P)){var H=P;return this.filter(function(x,B){return!B.dir&&H.test(x)})}else{var A=this.files[this.root+P];if(A&&!A.dir)return A;else return null}else P=this.root+P,fq.call(this,P,p,X);return this},folder:function(P){if(!P)return this;if(Mq(P))return this.filter(function(A,x){return x.dir&&P.test(A)});var p=this.root+P,X=Sq.call(this,p),H=this.clone();return H.root=X.name,H},remove:function(P){P=this.root+P;var p=this.files[P];if(!p){if(P.slice(-1)!=="/")P+="/";p=this.files[P]}if(p&&!p.dir)delete this.files[P];else{var X=this.filter(function(A,x){return x.name.slice(0,P.length)===P});for(var H=0;H<X.length;H++)delete this.files[X[H].name]}return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var p,X={};try{if(X=Q1.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:zf.utf8encode}),X.type=X.type.toLowerCase(),X.compression=X.compression.toUpperCase(),X.type==="binarystring")X.type="string";if(!X.type)throw new Error("No output type specified.");if(Q1.checkSupport(X.type),X.platform==="darwin"||X.platform==="freebsd"||X.platform==="linux"||X.platform==="sunos")X.platform="UNIX";if(X.platform==="win32")X.platform="DOS";var H=X.comment||this.comment||"";p=Gf.generateWorker(this,X,H)}catch(A){p=new Jq("error"),p.error(A)}return new Uf(p,X.type||"string",X.mimeType)},generateAsync:function(P,p){return this.generateInternalStream(P).accumulate(p)},generateNodeStream:function(P,p){if(P=P||{},!P.type)P.type="nodebuffer";return this.generateInternalStream(P).toNodejsStream(p)}};zq.exports=wf});var y7=x0((zz,Gq)=>{var vf=s0();function kq(P){this.data=P,this.length=P.length,this.index=0,this.zero=0}kq.prototype={checkOffset:function(P){this.checkIndex(this.index+P)},checkIndex:function(P){if(this.length<this.zero+P||P<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+P+"). Corrupted zip ?")},setIndex:function(P){this.checkIndex(P),this.index=P},skip:function(P){this.setIndex(this.index+P)},byteAt:function(){},readInt:function(P){var p=0,X;this.checkOffset(P);for(X=this.index+P-1;X>=this.index;X--)p=(p<<8)+this.byteAt(X);return this.index+=P,p},readString:function(P){return vf.transformTo("string",this.readData(P))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var P=this.readInt(4);return new Date(Date.UTC((P>>25&127)+1980,(P>>21&15)-1,P>>16&31,P>>11&31,P>>5&63,(P&31)<<1))}};Gq.exports=kq});var c7=x0((Uz,Oq)=>{var Nq=y7(),_f=s0();function tA(P){Nq.call(this,P);for(var p=0;p<this.data.length;p++)P[p]=P[p]&255}_f.inherits(tA,Nq);tA.prototype.byteAt=function(P){return this.data[this.zero+P]};tA.prototype.lastIndexOfSignature=function(P){var p=P.charCodeAt(0),X=P.charCodeAt(1),H=P.charCodeAt(2),A=P.charCodeAt(3);for(var x=this.length-4;x>=0;--x)if(this.data[x]===p&&this.data[x+1]===X&&this.data[x+2]===H&&this.data[x+3]===A)return x-this.zero;return-1};tA.prototype.readAndCheckSignature=function(P){var p=P.charCodeAt(0),X=P.charCodeAt(1),H=P.charCodeAt(2),A=P.charCodeAt(3),x=this.readData(4);return p===x[0]&&X===x[1]&&H===x[2]&&A===x[3]};tA.prototype.readData=function(P){if(this.checkOffset(P),P===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};Oq.exports=tA});var _q=x0((kz,vq)=>{var wq=y7(),df=s0();function Px(P){wq.call(this,P)}df.inherits(Px,wq);Px.prototype.byteAt=function(P){return this.data.charCodeAt(this.zero+P)};Px.prototype.lastIndexOfSignature=function(P){return this.data.lastIndexOf(P)-this.zero};Px.prototype.readAndCheckSignature=function(P){var p=this.readData(4);return P===p};Px.prototype.readData=function(P){this.checkOffset(P);var p=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};vq.exports=Px});var m7=x0((Gz,gq)=>{var dq=c7(),gf=s0();function l7(P){dq.call(this,P)}gf.inherits(l7,dq);l7.prototype.readData=function(P){if(this.checkOffset(P),P===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};gq.exports=l7});var lq=x0((Nz,cq)=>{var yq=m7(),yf=s0();function u7(P){yq.call(this,P)}yf.inherits(u7,yq);u7.prototype.readData=function(P){this.checkOffset(P);var p=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,p};cq.exports=u7});var a7=x0((Oz,uq)=>{var ah=s0(),mq=OX(),cf=c7(),lf=_q(),mf=lq(),uf=m7();uq.exports=function(P){var p=ah.getTypeOf(P);if(ah.checkSupport(p),p==="string"&&!mq.uint8array)return new lf(P);if(p==="nodebuffer")return new mf(P);if(mq.uint8array)return new uf(ah.transformTo("uint8array",P));return new cf(ah.transformTo("array",P))}});var nq=x0((wz,oq)=>{var i7=a7(),OH=s0(),af=Kh(),aq=Jh(),ih=yA(),oh=_7(),of=OX(),nf=0,rf=3,sf=function(P){for(var p in oh){if(!Object.prototype.hasOwnProperty.call(oh,p))continue;if(oh[p].magic===P)return oh[p]}return null};function iq(P,p){this.options=P,this.loadOptions=p}iq.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(P){var p,X;if(P.skip(22),this.fileNameLength=P.readInt(2),X=P.readInt(2),this.fileName=P.readData(this.fileNameLength),P.skip(X),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(p=sf(this.compressionMethod),p===null)throw new Error("Corrupted zip : compression "+OH.pretty(this.compressionMethod)+" unknown (inner file : "+OH.transformTo("string",this.fileName)+")");this.decompressed=new af(this.compressedSize,this.uncompressedSize,this.crc32,p,P.readData(this.compressedSize))},readCentralPart:function(P){this.versionMadeBy=P.readInt(2),P.skip(2),this.bitFlag=P.readInt(2),this.compressionMethod=P.readString(2),this.date=P.readDate(),this.crc32=P.readInt(4),this.compressedSize=P.readInt(4),this.uncompressedSize=P.readInt(4);var p=P.readInt(2);if(this.extraFieldsLength=P.readInt(2),this.fileCommentLength=P.readInt(2),this.diskNumberStart=P.readInt(2),this.internalFileAttributes=P.readInt(2),this.externalFileAttributes=P.readInt(4),this.localHeaderOffset=P.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");P.skip(p),this.readExtraFields(P),this.parseZIP64ExtraField(P),this.fileComment=P.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var P=this.versionMadeBy>>8;if(this.dir=this.externalFileAttributes&16?!0:!1,P===nf)this.dosPermissions=this.externalFileAttributes&63;if(P===rf)this.unixPermissions=this.externalFileAttributes>>16&65535;if(!this.dir&&this.fileNameStr.slice(-1)==="/")this.dir=!0},parseZIP64ExtraField:function(){if(!this.extraFields[1])return;var P=i7(this.extraFields[1].value);if(this.uncompressedSize===OH.MAX_VALUE_32BITS)this.uncompressedSize=P.readInt(8);if(this.compressedSize===OH.MAX_VALUE_32BITS)this.compressedSize=P.readInt(8);if(this.localHeaderOffset===OH.MAX_VALUE_32BITS)this.localHeaderOffset=P.readInt(8);if(this.diskNumberStart===OH.MAX_VALUE_32BITS)this.diskNumberStart=P.readInt(4)},readExtraFields:function(P){var p=P.index+this.extraFieldsLength,X,H,A;if(!this.extraFields)this.extraFields={};while(P.index+4<p)X=P.readInt(2),H=P.readInt(2),A=P.readData(H),this.extraFields[X]={id:X,length:H,value:A};P.setIndex(p)},handleUTF8:function(){var P=of.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ih.utf8decode(this.fileName),this.fileCommentStr=ih.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var X=OH.transformTo(P,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(X)}var H=this.findExtraFieldUnicodeComment();if(H!==null)this.fileCommentStr=H;else{var A=OH.transformTo(P,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(A)}}},findExtraFieldUnicodePath:function(){var P=this.extraFields[28789];if(P){var p=i7(P.value);if(p.readInt(1)!==1)return null;if(aq(this.fileName)!==p.readInt(4))return null;return ih.utf8decode(p.readData(P.length-5))}return null},findExtraFieldUnicodeComment:function(){var P=this.extraFields[25461];if(P){var p=i7(P.value);if(p.readInt(1)!==1)return null;if(aq(this.fileComment)!==p.readInt(4))return null;return ih.utf8decode(p.readData(P.length-5))}return null}};oq.exports=iq});var eq=x0((vz,sq)=>{var ef=a7(),dX=s0(),Np=d7(),tf=nq(),P3=OX();function rq(P){this.files=[],this.loadOptions=P}rq.prototype={checkSignature:function(P){if(!this.reader.readAndCheckSignature(P)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+dX.pretty(p)+", expected "+dX.pretty(P)+")")}},isSignature:function(P,p){var X=this.reader.index;this.reader.setIndex(P);var H=this.reader.readString(4),A=H===p;return this.reader.setIndex(X),A},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var P=this.reader.readData(this.zipCommentLength),p=P3.uint8array?"uint8array":"array",X=dX.transformTo(p,P);this.zipComment=this.loadOptions.decodeFileName(X)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var P=this.zip64EndOfCentralSize-44,p=0,X,H,A;while(p<P)X=this.reader.readInt(2),H=this.reader.readInt(4),A=this.reader.readData(H),this.zip64ExtensibleData[X]={id:X,length:H,value:A}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var P,p;for(P=0;P<this.files.length;P++)p=this.files[P],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(Np.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var P;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(Np.CENTRAL_FILE_HEADER))P=new tf({zip64:this.zip64},this.loadOptions),P.readCentralPart(this.reader),this.files.push(P);if(this.centralDirRecords!==this.files.length){if(this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}},readEndOfCentral:function(){var P=this.reader.lastIndexOfSignature(Np.CENTRAL_DIRECTORY_END);if(P<0){var p=!this.isSignature(0,Np.LOCAL_FILE_HEADER);if(p)throw new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");else throw new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(P);var X=P;if(this.checkSignature(Np.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===dX.MAX_VALUE_16BITS||this.diskWithCentralDirStart===dX.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===dX.MAX_VALUE_16BITS||this.centralDirRecords===dX.MAX_VALUE_16BITS||this.centralDirSize===dX.MAX_VALUE_32BITS||this.centralDirOffset===dX.MAX_VALUE_32BITS){if(this.zip64=!0,P=this.reader.lastIndexOfSignature(Np.ZIP64_CENTRAL_DIRECTORY_LOCATOR),P<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(P),this.checkSignature(Np.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Np.ZIP64_CENTRAL_DIRECTORY_END)){if(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Np.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Np.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var H=this.centralDirOffset+this.centralDirSize;if(this.zip64)H+=20,H+=12+this.zip64EndOfCentralSize;var A=X-H;if(A>0)if(this.isSignature(X,Np.CENTRAL_FILE_HEADER));else this.reader.zero=A;else if(A<0)throw new Error("Corrupted zip: missing "+Math.abs(A)+" bytes.")},prepareReader:function(P){this.reader=ef(P)},load:function(P){this.prepareReader(P),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};sq.exports=rq});var p9=x0((_z,P9)=>{var o7=s0(),nh=_A(),p3=yA(),X3=eq(),H3=oZ(),tq=uB();function A3(P){return new nh.Promise(function(p,X){var H=P.decompressed.getContentWorker().pipe(new H3);H.on("error",function(A){X(A)}).on("end",function(){if(H.streamInfo.crc32!==P.decompressed.crc32)X(new Error("Corrupted zip : CRC32 mismatch"));else p()}).resume()})}P9.exports=function(P,p){var X=this;if(p=o7.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p3.utf8decode}),tq.isNode&&tq.isStream(P))return nh.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."));return o7.prepareContent("the loaded zip file",P,!0,p.optimizedBinaryString,p.base64).then(function(H){var A=new X3(p);return A.load(H),A}).then(function H(A){var x=[nh.Promise.resolve(A)],B=A.files;if(p.checkCRC32)for(var D=0;D<B.length;D++)x.push(A3(B[D]));return nh.Promise.all(x)}).then(function H(A){var x=A.shift(),B=x.files;for(var D=0;D<B.length;D++){var $=B[D],h=$.fileNameStr,Z=o7.resolve($.fileNameStr);if(X.file(Z,$.decompressed,{binary:!0,optimizedBinaryString:!0,date:$.date,dir:$.dir,comment:$.fileCommentStr.length?$.fileCommentStr:null,unixPermissions:$.unixPermissions,dosPermissions:$.dosPermissions,createFolders:p.createFolders}),!$.dir)X.file(Z).unsafeOriginalName=h}if(x.zipComment.length)X.comment=x.zipComment;return X})}});var H9=x0((dz,X9)=>{function Mp(){if(!(this instanceof Mp))return new Mp;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var P=new Mp;for(var p in this)if(typeof this[p]!=="function")P[p]=this[p];return P}}Mp.prototype=Uq();Mp.prototype.loadAsync=p9();Mp.support=OX();Mp.defaults=uZ();Mp.version="3.10.1";Mp.loadAsync=function(P,p){return new Mp().loadAsync(P,p)};Mp.external=_A();X9.exports=Mp});var NT=d2(bQ(),1);iH();var vE=Symbol.for("react.transitional.element"),_E=Symbol.for("react.fragment");function EQ(P,p,X){var H=null;if(X!==void 0&&(H=""+X),p.key!==void 0&&(H=""+p.key),"key"in p){X={};for(var A in p)A!=="key"&&(X[A]=p[A])}else X=p;return p=X.ref,{$$typeof:vE,type:P,key:H,ref:p!==void 0?p:null,props:X}}var Y8=_E,G0=EQ,lP=EQ;function WQ({setFileData:P,setIsProcessing:p,resetStates:X}){let H=eX(null);function A(x){X(),console.log("entering uploadFiles");let B=x.target.files;if(!B||B.length===0){console.error("No files selected.");return}p(!0),console.log("Files processing:",B.length);for(let D=0;D<B.length;D++){if(console.log("Processing file:",B[D].name),!B[D].type.startsWith("image/png")){console.error("Only PNG files are allowed.");continue}else{console.log("creating fileName");let $=B[D].name.substring(0,B[D].name.lastIndexOf(".")),h=B[D],Z=new FileReader;Z.onload=(F)=>{console.log("entering reader.onload");let Q=F.target?.result;P((j)=>{let b=[...j,{name:$,data:Q}];if(b.length===B.length)p(!1),console.log("processing complete");return b})},Z.readAsDataURL(h)}console.log("File processed + added to fileData.")}}return G0(Y8,{children:lP("div",{className:"py-5 ",children:[G0("button",{onClick:()=>H.current?.click(),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Upload Files"}),G0("input",{type:"file",id:"files",name:"files",multiple:!0,accept:"image/png",ref:H,className:"hidden",onChange:A})]})})}var A9=d2(H9(),1);iH();function x9({files:P}){console.log("Preparing Files for ZIP:",P);let p=eX(null),X=new A9.default;async function H(){if(!P||P.length===0){alert("No files to download");return}for(let A=0;A<P.length;A++){let B=await(await fetch(P[A].data)).blob();if(X.file(`${P[A].name}.png`,B),A===P.length-1){let D=await X.generateAsync({type:"blob"}),$=URL.createObjectURL(D);if(p.current)p.current.href=$,p.current.download="icons.zip",p.current.click(),setTimeout(()=>URL.revokeObjectURL($),100)}}}return G0(Y8,{children:lP("div",{className:"py-5",children:[G0("button",{onClick:H,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Click to Download"}),G0("a",{ref:p,style:{display:"none"}})]})})}function B9({files:P}){return lP("div",{children:[G0("h2",{children:" Generated Icons "}),P?.length===0&&G0("p",{children:"No files to display"}),P?.length>0&&lP(Y8,{children:[G0(x9,{files:P}),G0("div",{className:"grid grid-cols-4 gap-4",children:P.map((p)=>G0("img",{src:p.data,alt:p.name,className:"w-full h-auto"},p.name))})]})]})}iH();function O(P,p,X){return(p=function(H){var A=function(x,B){if(typeof x!="object"||!x)return x;var D=x[Symbol.toPrimitive];if(D!==void 0){var $=D.call(x,B||"default");if(typeof $!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(x)}(H,"string");return typeof A=="symbol"?A:A+""}(p))in P?Object.defineProperty(P,p,{value:X,enumerable:!0,configurable:!0,writable:!0}):P[p]=X,P}function D9(P,p){var X=Object.keys(P);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(P);p&&(H=H.filter(function(A){return Object.getOwnPropertyDescriptor(P,A).enumerable})),X.push.apply(X,H)}return X}function N(P){for(var p=1;p<arguments.length;p++){var X=arguments[p]!=null?arguments[p]:{};p%2?D9(Object(X),!0).forEach(function(H){O(P,H,X[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(X)):D9(Object(X)).forEach(function(H){Object.defineProperty(P,H,Object.getOwnPropertyDescriptor(X,H))})}return P}function i0(P,p){if(P==null)return{};var X,H,A=function(B,D){if(B==null)return{};var $={};for(var h in B)if({}.hasOwnProperty.call(B,h)){if(D.indexOf(h)>=0)continue;$[h]=B[h]}return $}(P,p);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(P);for(H=0;H<x.length;H++)X=x[H],p.indexOf(X)>=0||{}.propertyIsEnumerable.call(P,X)&&(A[X]=P[X])}return A}function lH(P,p){return p||(p=P.slice(0)),Object.freeze(Object.defineProperties(P,{raw:{value:Object.freeze(p)}}))}class DC{constructor(){O(this,"browserShadowBlurConstant",1),O(this,"DPI",96),O(this,"devicePixelRatio",typeof window!="undefined"?window.devicePixelRatio:1),O(this,"perfLimitSizeTotal",2097152),O(this,"maxCacheSideLimit",4096),O(this,"minCacheSideLimit",256),O(this,"disableStyleCopyPaste",!1),O(this,"enableGLFiltering",!0),O(this,"textureSize",4096),O(this,"forceGLPutImageData",!1),O(this,"cachesBoundsOfCurve",!1),O(this,"fontPaths",{}),O(this,"NUM_FRACTION_DIGITS",4)}}var W0=new class extends DC{constructor(P){super(),this.configure(P)}configure(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,P)}addFonts(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=N(N({},this.fontPaths),P)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((P)=>{delete this.fontPaths[P]})}clearFonts(){this.fontPaths={}}restoreDefaults(P){let p=new DC,X=(P==null?void 0:P.reduce((H,A)=>(H[A]=p[A],H),{}))||p;this.configure(X)}},dH=function(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];return console[P]("fabric",...X)};class _p extends Error{constructor(P,p){super("fabric: ".concat(P),p)}}class KC extends _p{constructor(P){super("".concat(P," 'options.signal' is in 'aborted' state"))}}class v9{}class _9 extends v9{testPrecision(P,p){let X="precision ".concat(p,` float;
void main(){}`),H=P.createShader(P.FRAGMENT_SHADER);return!!H&&(P.shaderSource(H,X),P.compileShader(H),!!P.getShaderParameter(H,P.COMPILE_STATUS))}queryWebGL(P){let p=P.getContext("webgl");p&&(this.maxTextureSize=p.getParameter(p.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((X)=>this.testPrecision(p,X)),p.getExtension("WEBGL_lose_context").loseContext(),dH("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(P){return!!this.maxTextureSize&&this.maxTextureSize>=P}}var x3={},h9;var LX=()=>h9||(h9={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new _9,dispose(){},copyPasteData:x3}),Kx=()=>LX().document,I2=()=>LX().window,d9=()=>{var P;return Math.max((P=W0.devicePixelRatio)!==null&&P!==void 0?P:I2().devicePixelRatio,1)},I1=new class{constructor(){O(this,"charWidthsCache",{}),O(this,"boundsOfCurveCache",{})}getFontCache(P){let{fontFamily:p,fontStyle:X,fontWeight:H}=P;p=p.toLowerCase(),this.charWidthsCache[p]||(this.charWidthsCache[p]={});let A=this.charWidthsCache[p],x="".concat(X.toLowerCase(),"_").concat((H+"").toLowerCase());return A[x]||(A[x]={}),A[x]}clearFontCache(P){(P=(P||"").toLowerCase())?this.charWidthsCache[P]&&delete this.charWidthsCache[P]:this.charWidthsCache={}}limitDimsByArea(P){let{perfLimitSizeTotal:p}=W0,X=Math.sqrt(p*P);return[Math.floor(X),Math.floor(p/X)]}},hC="6.6.1";function c8(){}var gH=Math.PI/2,oX=2*Math.PI,fC=Math.PI/180,vP=Object.freeze([1,0,0,1,0,0]),RC=16,wH=0.4477152502,Z0="center",R0="left",iP="top",$C="bottom",xP="right",oP="none",SC=/\r?\n/,g9="moving",b2="scaling",y9="rotating",zC="rotate",c9="skewing",K1="resizing",l9="modifyPoly",B3="modifyPath",x2="changed",E2="scale",_P="scaleX",Dp="scaleY",fx="skewX",Rx="skewY",jP="fill",nP="stroke",B2="modified",px="json",n7="svg",X0=new class{constructor(){this[px]=new Map,this[n7]=new Map}has(P){return this[px].has(P)}getClass(P){let p=this[px].get(P);if(!p)throw new _p("No class registered for ".concat(P));return p}setClass(P,p){p?this[px].set(p,P):(this[px].set(P.type,P),this[px].set(P.type.toLowerCase(),P))}getSVGClass(P){return this[n7].get(P)}setSVGClass(P,p){this[n7].set(p!=null?p:P.type.toLowerCase(),P)}},D2=new class extends Array{remove(P){let p=this.indexOf(P);p>-1&&this.splice(p,1)}cancelAll(){let P=this.splice(0);return P.forEach((p)=>p.abort()),P}cancelByCanvas(P){if(!P)return[];let p=this.filter((X)=>{var H;return X.target===P||typeof X.target=="object"&&((H=X.target)===null||H===void 0?void 0:H.canvas)===P});return p.forEach((X)=>X.abort()),p}cancelByTarget(P){if(!P)return[];let p=this.filter((X)=>X.target===P);return p.forEach((X)=>X.abort()),p}};class m9{constructor(){O(this,"__eventListeners",{})}on(P,p){if(this.__eventListeners||(this.__eventListeners={}),typeof P=="object")return Object.entries(P).forEach((X)=>{let[H,A]=X;this.on(H,A)}),()=>this.off(P);if(p){let X=P;return this.__eventListeners[X]||(this.__eventListeners[X]=[]),this.__eventListeners[X].push(p),()=>this.off(X,p)}return()=>!1}once(P,p){if(typeof P=="object"){let X=[];return Object.entries(P).forEach((H)=>{let[A,x]=H;X.push(this.once(A,x))}),()=>X.forEach((H)=>H())}if(p){let X=this.on(P,function(){for(var H=arguments.length,A=new Array(H),x=0;x<H;x++)A[x]=arguments[x];p.call(this,...A),X()});return X}return()=>!1}_removeEventListener(P,p){if(this.__eventListeners[P])if(p){let X=this.__eventListeners[P],H=X.indexOf(p);H>-1&&X.splice(H,1)}else this.__eventListeners[P]=[]}off(P,p){if(this.__eventListeners)if(P===void 0)for(let X in this.__eventListeners)this._removeEventListener(X);else typeof P=="object"?Object.entries(P).forEach((X)=>{let[H,A]=X;this._removeEventListener(H,A)}):this._removeEventListener(P,p)}fire(P,p){var X;if(!this.__eventListeners)return;let H=(X=this.__eventListeners[P])===null||X===void 0?void 0:X.concat();if(H)for(let A=0;A<H.length;A++)H[A].call(this,p||{})}}var N8=(P,p)=>{let X=P.indexOf(p);return X!==-1&&P.splice(X,1),P},yp=(P)=>{if(P===0)return 1;switch(Math.abs(P)/gH){case 1:case 3:return 0;case 2:return-1}return Math.cos(P)},cp=(P)=>{if(P===0)return 0;let p=P/gH,X=Math.sign(P);switch(p){case 1:return X;case 2:return 0;case 3:return-X}return Math.sin(P)};class y{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof P=="object"?(this.x=P.x,this.y=P.y):(this.x=P,this.y=p)}add(P){return new y(this.x+P.x,this.y+P.y)}addEquals(P){return this.x+=P.x,this.y+=P.y,this}scalarAdd(P){return new y(this.x+P,this.y+P)}scalarAddEquals(P){return this.x+=P,this.y+=P,this}subtract(P){return new y(this.x-P.x,this.y-P.y)}subtractEquals(P){return this.x-=P.x,this.y-=P.y,this}scalarSubtract(P){return new y(this.x-P,this.y-P)}scalarSubtractEquals(P){return this.x-=P,this.y-=P,this}multiply(P){return new y(this.x*P.x,this.y*P.y)}scalarMultiply(P){return new y(this.x*P,this.y*P)}scalarMultiplyEquals(P){return this.x*=P,this.y*=P,this}divide(P){return new y(this.x/P.x,this.y/P.y)}scalarDivide(P){return new y(this.x/P,this.y/P)}scalarDivideEquals(P){return this.x/=P,this.y/=P,this}eq(P){return this.x===P.x&&this.y===P.y}lt(P){return this.x<P.x&&this.y<P.y}lte(P){return this.x<=P.x&&this.y<=P.y}gt(P){return this.x>P.x&&this.y>P.y}gte(P){return this.x>=P.x&&this.y>=P.y}lerp(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0.5;return p=Math.max(Math.min(1,p),0),new y(this.x+(P.x-this.x)*p,this.y+(P.y-this.y)*p)}distanceFrom(P){let p=this.x-P.x,X=this.y-P.y;return Math.sqrt(p*p+X*X)}midPointFrom(P){return this.lerp(P)}min(P){return new y(Math.min(this.x,P.x),Math.min(this.y,P.y))}max(P){return new y(Math.max(this.x,P.x),Math.max(this.y,P.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(P,p){return this.x=P,this.y=p,this}setX(P){return this.x=P,this}setY(P){return this.y=P,this}setFromPoint(P){return this.x=P.x,this.y=P.y,this}swap(P){let p=this.x,X=this.y;this.x=P.x,this.y=P.y,P.x=p,P.y=X}clone(){return new y(this.x,this.y)}rotate(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:UC,X=cp(P),H=yp(P),A=this.subtract(p);return new y(A.x*H-A.y*X,A.x*X+A.y*H).add(p)}transform(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new y(P[0]*this.x+P[2]*this.y+(p?0:P[4]),P[1]*this.x+P[3]*this.y+(p?0:P[5]))}}var UC=new y(0,0),H2=(P)=>!!P&&Array.isArray(P._objects);function u9(P){class p extends P{constructor(){super(...arguments),O(this,"_objects",[])}_onObjectAdded(X){}_onObjectRemoved(X){}_onStackOrderChanged(X){}add(){for(var X=arguments.length,H=new Array(X),A=0;A<X;A++)H[A]=arguments[A];let x=this._objects.push(...H);return H.forEach((B)=>this._onObjectAdded(B)),x}insertAt(X){for(var H=arguments.length,A=new Array(H>1?H-1:0),x=1;x<H;x++)A[x-1]=arguments[x];return this._objects.splice(X,0,...A),A.forEach((B)=>this._onObjectAdded(B)),this._objects.length}remove(){let X=this._objects,H=[];for(var A=arguments.length,x=new Array(A),B=0;B<A;B++)x[B]=arguments[B];return x.forEach((D)=>{let $=X.indexOf(D);$!==-1&&(X.splice($,1),H.push(D),this._onObjectRemoved(D))}),H}forEachObject(X){this.getObjects().forEach((H,A,x)=>X(H,A,x))}getObjects(){for(var X=arguments.length,H=new Array(X),A=0;A<X;A++)H[A]=arguments[A];return H.length===0?[...this._objects]:this._objects.filter((x)=>x.isType(...H))}item(X){return this._objects[X]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(X,H){return!!this._objects.includes(X)||!!H&&this._objects.some((A)=>A instanceof p&&A.contains(X,!0))}complexity(){return this._objects.reduce((X,H)=>X+=H.complexity?H.complexity():0,0)}sendObjectToBack(X){return!(!X||X===this._objects[0])&&(N8(this._objects,X),this._objects.unshift(X),this._onStackOrderChanged(X),!0)}bringObjectToFront(X){return!(!X||X===this._objects[this._objects.length-1])&&(N8(this._objects,X),this._objects.push(X),this._onStackOrderChanged(X),!0)}sendObjectBackwards(X,H){if(!X)return!1;let A=this._objects.indexOf(X);if(A!==0){let x=this.findNewLowerIndex(X,A,H);return N8(this._objects,X),this._objects.splice(x,0,X),this._onStackOrderChanged(X),!0}return!1}bringObjectForward(X,H){if(!X)return!1;let A=this._objects.indexOf(X);if(A!==this._objects.length-1){let x=this.findNewUpperIndex(X,A,H);return N8(this._objects,X),this._objects.splice(x,0,X),this._onStackOrderChanged(X),!0}return!1}moveObjectTo(X,H){return X!==this._objects[H]&&(N8(this._objects,X),this._objects.splice(H,0,X),this._onStackOrderChanged(X),!0)}findNewLowerIndex(X,H,A){let x;if(A){x=H;for(let B=H-1;B>=0;--B)if(X.isOverlapping(this._objects[B])){x=B;break}}else x=H-1;return x}findNewUpperIndex(X,H,A){let x;if(A){x=H;for(let B=H+1;B<this._objects.length;++B)if(X.isOverlapping(this._objects[B])){x=B;break}}else x=H+1;return x}collectObjects(X){let{left:H,top:A,width:x,height:B}=X,{includeIntersecting:D=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=[],h=new y(H,A),Z=h.add(new y(x,B));for(let F=this._objects.length-1;F>=0;F--){let Q=this._objects[F];Q.selectable&&Q.visible&&(D&&Q.intersectsWithRect(h,Z)||Q.isContainedWithinRect(h,Z)||D&&Q.containsPoint(h)||D&&Q.containsPoint(Z))&&$.push(Q)}return $}}return p}class kC extends m9{_setOptions(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let p in P)this.set(p,P[p])}_setObject(P){for(let p in P)this._set(p,P[p])}set(P,p){return typeof P=="object"?this._setObject(P):this._set(P,p),this}_set(P,p){this[P]=p}toggle(P){let p=this.get(P);return typeof p=="boolean"&&this.set(P,!p),this}get(P){return this[P]}}function b1(P){return I2().requestAnimationFrame(P)}function a9(P){return I2().cancelAnimationFrame(P)}var D3=0,yH=()=>D3++,fp=()=>{let P=Kx().createElement("canvas");if(!P||P.getContext===void 0)throw new _p("Failed to create `canvas` element");return P},i9=()=>Kx().createElement("img"),lp=(P)=>{let p=fp();return p.width=P.width,p.height=P.height,p},GC=(P,p,X)=>P.toDataURL("image/".concat(p),X),NC=(P,p,X)=>new Promise((H,A)=>{P.toBlob(H,"image/".concat(p),X)}),pP=(P)=>P*fC,cH=(P)=>P/fC,o9=(P)=>P.every((p,X)=>p===vP[X]),zP=(P,p,X)=>new y(P).transform(p,X),Bp=(P)=>{let p=1/(P[0]*P[3]-P[1]*P[2]),X=[p*P[3],-p*P[1],-p*P[2],p*P[0],0,0],{x:H,y:A}=new y(P[4],P[5]).transform(X,!0);return X[4]=-H,X[5]=-A,X},XP=(P,p,X)=>[P[0]*p[0]+P[2]*p[1],P[1]*p[0]+P[3]*p[1],P[0]*p[2]+P[2]*p[3],P[1]*p[2]+P[3]*p[3],X?0:P[0]*p[4]+P[2]*p[5]+P[4],X?0:P[1]*p[4]+P[3]*p[5]+P[5]],W2=(P,p)=>P.reduceRight((X,H)=>H&&X?XP(H,X,p):H||X,void 0)||vP.concat(),n9=(P)=>{let[p,X]=P;return Math.atan2(X,p)},Ex=(P)=>{let p=n9(P),X=Math.pow(P[0],2)+Math.pow(P[1],2),H=Math.sqrt(X),A=(P[0]*P[3]-P[2]*P[1])/H,x=Math.atan2(P[0]*P[2]+P[1]*P[3],X);return{angle:cH(p),scaleX:H,scaleY:A,skewX:cH(x),skewY:0,translateX:P[4]||0,translateY:P[5]||0}},Sx=function(P){return[1,0,0,1,P,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function zx(){let{angle:P=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:p=0,y:X=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=pP(P),A=yp(H),x=cp(H);return[A,x,-x,A,p?p-(A*p-x*X):0,X?X-(x*p+A*X):0]}var M2=function(P){return[P,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:P,0,0]},r9=(P)=>Math.tan(pP(P)),OC=(P)=>[1,0,r9(P),1,0,0],wC=(P)=>[1,r9(P),0,1,0,0],U1=(P)=>{let{scaleX:p=1,scaleY:X=1,flipX:H=!1,flipY:A=!1,skewX:x=0,skewY:B=0}=P,D=M2(H?-p:p,A?-X:X);return x&&(D=XP(D,OC(x),!0)),B&&(D=XP(D,wC(B),!0)),D},s9=(P)=>{let{translateX:p=0,translateY:X=0,angle:H=0}=P,A=Sx(p,X);H&&(A=XP(A,zx({angle:H})));let x=U1(P);return o9(x)||(A=XP(A,x)),A},E1=function(P){let{signal:p,crossOrigin:X=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(H,A){if(p&&p.aborted)return A(new KC("loadImage"));let x=i9(),B;p&&(B=function($){x.src="",A($)},p.addEventListener("abort",B,{once:!0}));let D=function(){x.onload=x.onerror=null,B&&(p==null||p.removeEventListener("abort",B)),H(x)};P?(x.onload=D,x.onerror=function(){B&&(p==null||p.removeEventListener("abort",B)),A(new _p("Error loading ".concat(x.src)))},X&&(x.crossOrigin=X),x.src=P):D()})},Wx=function(P){let{signal:p,reviver:X=c8}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((H,A)=>{let x=[];p&&p.addEventListener("abort",A,{once:!0}),Promise.all(P.map((B)=>X0.getClass(B.type).fromObject(B,{signal:p}).then((D)=>(X(B,D),x.push(D),D)))).then(H).catch((B)=>{x.forEach((D)=>{D.dispose&&D.dispose()}),A(B)}).finally(()=>{p&&p.removeEventListener("abort",A)})})},k1=function(P){let{signal:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((X,H)=>{let A=[];p&&p.addEventListener("abort",H,{once:!0});let x=Object.values(P).map((D)=>D&&D.type&&X0.has(D.type)?Wx([D],{signal:p}).then(($)=>{let[h]=$;return A.push(h),h}):D),B=Object.keys(P);Promise.all(x).then((D)=>D.reduce(($,h,Z)=>($[B[Z]]=h,$),{})).then(X).catch((D)=>{A.forEach(($)=>{$.dispose&&$.dispose()}),H(D)}).finally(()=>{p&&p.removeEventListener("abort",H)})})},u8=function(P){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((p,X)=>((X in P)&&(p[X]=P[X]),p),{})},vC=(P,p)=>Object.keys(P).reduce((X,H)=>(p(P[H],H,P)&&(X[H]=P[H]),X),{}),$9={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},r7=(P,p,X)=>(X<0&&(X+=1),X>1&&(X-=1),X<0.16666666666666666?P+6*(p-P)*X:X<0.5?p:X<0.6666666666666666?P+(p-P)*(0.6666666666666666-X)*6:P),L9=(P,p,X,H)=>{P/=255,p/=255,X/=255;let A=Math.max(P,p,X),x=Math.min(P,p,X),B,D,$=(A+x)/2;if(A===x)B=D=0;else{let h=A-x;switch(D=$>0.5?h/(2-A-x):h/(A+x),A){case P:B=(p-X)/h+(p<X?6:0);break;case p:B=(X-P)/h+2;break;case X:B=(P-p)/h+4}B/=6}return[Math.round(360*B),Math.round(100*D),Math.round(100*$),H]},Z9=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(P)/(P.endsWith("%")?100:1)},rh=(P)=>Math.min(Math.round(P),255).toString(16).toUpperCase().padStart(2,"0"),C9=(P)=>{let[p,X,H,A=1]=P,x=Math.round(0.3*p+0.59*X+0.11*H);return[x,x,x,A]};class z0{constructor(P){if(O(this,"isUnrecognised",!1),P)if(P instanceof z0)this.setSource([...P._source]);else if(Array.isArray(P)){let[p,X,H,A=1]=P;this.setSource([p,X,H,A])}else this.setSource(this._tryParsingColor(P));else this.setSource([0,0,0,1])}_tryParsingColor(P){return(P=P.toLowerCase())in $9&&(P=$9[P]),P==="transparent"?[255,255,255,0]:z0.sourceFromHex(P)||z0.sourceFromRgb(P)||z0.sourceFromHsl(P)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(P){this._source=P}toRgb(){let[P,p,X]=this.getSource();return"rgb(".concat(P,",").concat(p,",").concat(X,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[P,p,X]=L9(...this.getSource());return"hsl(".concat(P,",").concat(p,"%,").concat(X,"%)")}toHsla(){let[P,p,X,H]=L9(...this.getSource());return"hsla(".concat(P,",").concat(p,"%,").concat(X,"%,").concat(H,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[P,p,X,H]=this.getSource();return"".concat(rh(P)).concat(rh(p)).concat(rh(X)).concat(rh(Math.round(255*H)))}getAlpha(){return this.getSource()[3]}setAlpha(P){return this._source[3]=P,this}toGrayscale(){return this.setSource(C9(this.getSource())),this}toBlackWhite(P){let[p,,,X]=C9(this.getSource()),H=p<(P||127)?0:255;return this.setSource([H,H,H,X]),this}overlayWith(P){P instanceof z0||(P=new z0(P));let p=this.getSource(),X=P.getSource(),[H,A,x]=p.map((B,D)=>Math.round(0.5*B+0.5*X[D]));return this.setSource([H,A,x,p[3]]),this}static fromRgb(P){return z0.fromRgba(P)}static fromRgba(P){return new z0(z0.sourceFromRgb(P))}static sourceFromRgb(P){let p=P.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(p){let[X,H,A]=p.slice(1,4).map((x)=>{let B=parseFloat(x);return x.endsWith("%")?Math.round(2.55*B):B});return[X,H,A,Z9(p[4])]}}static fromHsl(P){return z0.fromHsla(P)}static fromHsla(P){return new z0(z0.sourceFromHsl(P))}static sourceFromHsl(P){let p=P.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!p)return;let X=(z0.parseAngletoDegrees(p[1])%360+360)%360/360,H=parseFloat(p[2])/100,A=parseFloat(p[3])/100,x,B,D;if(H===0)x=B=D=A;else{let $=A<=0.5?A*(H+1):A+H-A*H,h=2*A-$;x=r7(h,$,X+0.3333333333333333),B=r7(h,$,X),D=r7(h,$,X-0.3333333333333333)}return[Math.round(255*x),Math.round(255*B),Math.round(255*D),Z9(p[4])]}static fromHex(P){return new z0(z0.sourceFromHex(P))}static sourceFromHex(P){if(P.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let p=P.slice(P.indexOf("#")+1),X;X=p.length<=4?p.split("").map((D)=>D+D):p.match(/.{2}/g);let[H,A,x,B=255]=X.map((D)=>parseInt(D,16));return[H,A,x,B/255]}}static parseAngletoDegrees(P){let p=P.toLowerCase(),X=parseFloat(p);return p.includes("rad")?cH(X):p.includes("turn")?360*X:X}}var a0=(P,p)=>parseFloat(Number(P).toFixed(p)),l8=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:RC,X=/\D{0,2}$/.exec(P),H=parseFloat(P),A=W0.DPI;switch(X==null?void 0:X[0]){case"mm":return H*A/25.4;case"cm":return H*A/2.54;case"in":return H*A;case"pt":return H*A/72;case"pc":return H*A/72*12;case"em":return H*p;default:return H}},e9=(P)=>{let[p,X]=P.trim().split(" "),[H,A]=(x=p)&&x!==oP?[x.slice(1,4),x.slice(5,8)]:x===oP?[x,x]:["Mid","Mid"];var x;return{meetOrSlice:X||"meet",alignX:H,alignY:A}},f1=(P)=>"matrix("+P.map((p)=>a0(p,W0.NUM_FRACTION_DIGITS)).join(" ")+")",R1=function(P,p){let X,H,A=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(p)if(p.toLive)X="url(#SVGID_".concat(p.id,")");else{let x=new z0(p),B=x.getAlpha();X=x.toRgb(),B!==1&&(H=B.toString())}else X="none";return A?"".concat(P,": ").concat(X,"; ").concat(H?"".concat(P,"-opacity: ").concat(H,"; "):""):"".concat(P,'="').concat(X,'" ').concat(H?"".concat(P,'-opacity="').concat(H,'" '):"")},Kp=(P)=>!!P&&P.toLive!==void 0,F9=(P)=>!!P&&typeof P.toObject=="function",Q9=(P)=>!!P&&P.offsetX!==void 0&&("source"in P),O8=(P)=>!!P&&("multiSelectionStacking"in P);function t9(P){let p=P&&vp(P),X=0,H=0;if(!P||!p)return{left:X,top:H};let A=P,x=p.documentElement,B=p.body||{scrollLeft:0,scrollTop:0};for(;A&&(A.parentNode||A.host)&&(A=A.parentNode||A.host,A===p?(X=B.scrollLeft||x.scrollLeft||0,H=B.scrollTop||x.scrollTop||0):(X+=A.scrollLeft||0,H+=A.scrollTop||0),A.nodeType!==1||A.style.position!=="fixed"););return{left:X,top:H}}var vp=(P)=>P.ownerDocument||null,PY=(P)=>{var p;return((p=P.ownerDocument)===null||p===void 0?void 0:p.defaultView)||null},pY=function(P,p,X){let{width:H,height:A}=X,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;P.width=H,P.height=A,x>1&&(P.setAttribute("width",(H*x).toString()),P.setAttribute("height",(A*x).toString()),p.scale(x,x))},LC=(P,p)=>{let{width:X,height:H}=p;X&&(P.style.width=typeof X=="number"?"".concat(X,"px"):X),H&&(P.style.height=typeof H=="number"?"".concat(H,"px"):H)};function V9(P){return P.onselectstart!==void 0&&(P.onselectstart=()=>!1),P.style.userSelect=oP,P}class _C{constructor(P){O(this,"_originalCanvasStyle",void 0),O(this,"lower",void 0);let p=this.createLowerCanvas(P);this.lower={el:p,ctx:p.getContext("2d")}}createLowerCanvas(P){let p=(X=P)&&X.getContext!==void 0?P:P&&Kx().getElementById(P)||fp();var X;if(p.hasAttribute("data-fabric"))throw new _p("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=p.style.cssText,p.setAttribute("data-fabric","main"),p.classList.add("lower-canvas"),p}cleanupDOM(P){let{width:p,height:X}=P,{el:H}=this.lower;H.classList.remove("lower-canvas"),H.removeAttribute("data-fabric"),H.setAttribute("width","".concat(p)),H.setAttribute("height","".concat(X)),H.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(P,p){let{el:X,ctx:H}=this.lower;pY(X,H,P,p)}setCSSDimensions(P){LC(this.lower.el,P)}calcOffset(){return function(P){var p;let X=P&&vp(P),H={left:0,top:0};if(!X)return H;let A=((p=PY(P))===null||p===void 0?void 0:p.getComputedStyle(P,null))||{};H.left+=parseInt(A.borderLeftWidth,10)||0,H.top+=parseInt(A.borderTopWidth,10)||0,H.left+=parseInt(A.paddingLeft,10)||0,H.top+=parseInt(A.paddingTop,10)||0;let x={left:0,top:0},B=X.documentElement;P.getBoundingClientRect!==void 0&&(x=P.getBoundingClientRect());let D=t9(P);return{left:x.left+D.left-(B.clientLeft||0)+H.left,top:x.top+D.top-(B.clientTop||0)+H.top}}(this.lower.el)}dispose(){LX().dispose(this.lower.el),delete this.lower}}var h3={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...vP]};class G1 extends u9(kC){get lowerCanvasEl(){var P;return(P=this.elements.lower)===null||P===void 0?void 0:P.el}get contextContainer(){var P;return(P=this.elements.lower)===null||P===void 0?void 0:P.ctx}static getDefaults(){return G1.ownDefaults}constructor(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(p),this.initElements(P),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(P){this.elements=new _C(P)}add(){let P=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),P}insertAt(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];let A=super.insertAt(P,...X);return X.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),A}remove(){let P=super.remove(...arguments);return P.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),P}_onObjectAdded(P){P.canvas&&P.canvas!==this&&(dH("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),P.canvas.remove(P)),P._set("canvas",this),P.setCoords(),this.fire("object:added",{target:P}),P.fire("added",{target:this})}_onObjectRemoved(P){P._set("canvas",void 0),this.fire("object:removed",{target:P}),P.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?d9():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(P,p){return this.setDimensions({width:P},p)}setHeight(P,p){return this.setDimensions({height:P},p)}_setDimensionsImpl(P){let{cssOnly:p=!1,backstoreOnly:X=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!p){let H=N({width:this.width,height:this.height},P);this.elements.setDimensions(H,this.getRetinaScaling()),this.hasLostContext=!0,this.width=H.width,this.height=H.height}X||this.elements.setCSSDimensions(P),this.calcOffset()}setDimensions(P,p){this._setDimensionsImpl(P,p),p&&p.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(P){this.viewportTransform=P,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(P,p){let X=P,H=[...this.viewportTransform],A=zP(P,Bp(H));H[0]=p,H[3]=p;let x=zP(A,H);H[4]+=X.x-x.x,H[5]+=X.y-x.y,this.setViewportTransform(H)}setZoom(P){this.zoomToPoint(new y(0,0),P)}absolutePan(P){let p=[...this.viewportTransform];return p[4]=-P.x,p[5]=-P.y,this.setViewportTransform(p)}relativePan(P){return this.absolutePan(new y(-P.x-this.viewportTransform[4],-P.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(P){P.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=b1(()=>this.renderAndReset()))}calcViewportBoundaries(){let P=this.width,p=this.height,X=Bp(this.viewportTransform),H=zP({x:0,y:0},X),A=zP({x:P,y:p},X),x=H.min(A),B=H.max(A);return this.vptCoords={tl:x,tr:new y(B.x,x.y),bl:new y(x.x,B.y),br:B}}cancelRequestedRender(){this.nextRenderHandle&&(a9(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(P){}renderCanvas(P,p){if(this.destroyed)return;let X=this.viewportTransform,H=this.clipPath;this.calcViewportBoundaries(),this.clearContext(P),P.imageSmoothingEnabled=this.imageSmoothingEnabled,P.patternQuality="best",this.fire("before:render",{ctx:P}),this._renderBackground(P),P.save(),P.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this._renderObjects(P,p),P.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(P),H&&(H._set("canvas",this),H.shouldCache(),H._transformDone=!0,H.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(P,H)),this._renderOverlay(P),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(P),this.fire("after:render",{ctx:P}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(P,p){let X=this.viewportTransform;P.save(),P.transform(...X),P.globalCompositeOperation="destination-in",p.transform(P),P.scale(1/p.zoomX,1/p.zoomY),P.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),P.restore()}_renderObjects(P,p){for(let X=0,H=p.length;X<H;++X)p[X]&&p[X].render(P)}_renderBackgroundOrOverlay(P,p){let X=this["".concat(p,"Color")],H=this["".concat(p,"Image")],A=this.viewportTransform,x=this["".concat(p,"Vpt")];if(!X&&!H)return;let B=Kp(X);if(X){if(P.save(),P.beginPath(),P.moveTo(0,0),P.lineTo(this.width,0),P.lineTo(this.width,this.height),P.lineTo(0,this.height),P.closePath(),P.fillStyle=B?X.toLive(P):X,x&&P.transform(...A),B){P.transform(1,0,0,1,X.offsetX||0,X.offsetY||0);let D=X.gradientTransform||X.patternTransform;D&&P.transform(...D)}P.fill(),P.restore()}if(H){P.save();let{skipOffscreen:D}=this;this.skipOffscreen=x,x&&P.transform(...A),H.render(P),this.skipOffscreen=D,P.restore()}}_renderBackground(P){this._renderBackgroundOrOverlay(P,"background")}_renderOverlay(P){this._renderBackgroundOrOverlay(P,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new y(this.width/2,this.height/2)}centerObjectH(P){return this._centerObject(P,new y(this.getCenterPoint().x,P.getCenterPoint().y))}centerObjectV(P){return this._centerObject(P,new y(P.getCenterPoint().x,this.getCenterPoint().y))}centerObject(P){return this._centerObject(P,this.getCenterPoint())}viewportCenterObject(P){return this._centerObject(P,this.getVpCenter())}viewportCenterObjectH(P){return this._centerObject(P,new y(this.getVpCenter().x,P.getCenterPoint().y))}viewportCenterObjectV(P){return this._centerObject(P,new y(P.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return zP(this.getCenterPoint(),Bp(this.viewportTransform))}_centerObject(P,p){P.setXY(p,Z0,Z0),P.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(P){return this.toDatalessObject(P)}toObject(P){return this._toObjectMethod("toObject",P)}toJSON(){return this.toObject()}toDatalessObject(P){return this._toObjectMethod("toDatalessObject",P)}_toObjectMethod(P,p){let X=this.clipPath,H=X&&!X.excludeFromExport?this._toObject(X,P,p):null;return N(N(N({version:hC},u8(this,p)),{},{objects:this._objects.filter((A)=>!A.excludeFromExport).map((A)=>this._toObject(A,P,p))},this.__serializeBgOverlay(P,p)),H?{clipPath:H}:null)}_toObject(P,p,X){let H;this.includeDefaultValues||(H=P.includeDefaultValues,P.includeDefaultValues=!1);let A=P[p](X);return this.includeDefaultValues||(P.includeDefaultValues=!!H),A}__serializeBgOverlay(P,p){let X={},H=this.backgroundImage,A=this.overlayImage,x=this.backgroundColor,B=this.overlayColor;return Kp(x)?x.excludeFromExport||(X.background=x.toObject(p)):x&&(X.background=x),Kp(B)?B.excludeFromExport||(X.overlay=B.toObject(p)):B&&(X.overlay=B),H&&!H.excludeFromExport&&(X.backgroundImage=this._toObject(H,P,p)),A&&!A.excludeFromExport&&(X.overlayImage=this._toObject(A,P,p)),X}toSVG(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0;P.reviver=p;let X=[];return this._setSVGPreamble(X,P),this._setSVGHeader(X,P),this.clipPath&&X.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(X,"background"),this._setSVGBgOverlayImage(X,"backgroundImage",p),this._setSVGObjects(X,p),this.clipPath&&X.push(`</g>
`),this._setSVGBgOverlayColor(X,"overlay"),this._setSVGBgOverlayImage(X,"overlayImage",p),X.push("</svg>"),X.join("")}_setSVGPreamble(P,p){p.suppressPreamble||P.push('<?xml version="1.0" encoding="',p.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(P,p){let X=p.width||"".concat(this.width),H=p.height||"".concat(this.height),A=W0.NUM_FRACTION_DIGITS,x=p.viewBox,B;if(x)B='viewBox="'.concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height,'" ');else if(this.svgViewportTransformation){let D=this.viewportTransform;B='viewBox="'.concat(a0(-D[4]/D[0],A)," ").concat(a0(-D[5]/D[3],A)," ").concat(a0(this.width/D[0],A)," ").concat(a0(this.height/D[3],A),'" ')}else B='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');P.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',X,'" ','height="',H,'" ',B,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",hC,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(p),`</defs>
`)}createSVGClipPathMarkup(P){let p=this.clipPath;return p?(p.clipPathId="CLIPPATH_".concat(yH()),'<clipPath id="'.concat(p.clipPathId,`" >
`).concat(p.toClipPathSVG(P.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((P)=>{let p=this["".concat(P,"Color")];if(Kp(p)){let X=this["".concat(P,"Vpt")],H=this.viewportTransform,A={isType:()=>!1,width:this.width/(X?H[0]:1),height:this.height/(X?H[3]:1)};return p.toSVG(A,{additionalTransform:X?f1(H):""})}}).join("")}createSVGFontFacesMarkup(){let P=[],p={},X=W0.fontPaths;this._objects.forEach(function A(x){P.push(x),H2(x)&&x._objects.forEach(A)}),P.forEach((A)=>{if(!(x=A)||typeof x._renderText!="function")return;var x;let{styles:B,fontFamily:D}=A;!p[D]&&X[D]&&(p[D]=!0,B&&Object.values(B).forEach(($)=>{Object.values($).forEach((h)=>{let{fontFamily:Z=""}=h;!p[Z]&&X[Z]&&(p[Z]=!0)})}))});let H=Object.keys(p).map((A)=>`		@font-face {
			font-family: '`.concat(A,`';
			src: url('`).concat(X[A],`');
		}
`)).join("");return H?`	<style type="text/css"><![CDATA[
`.concat(H,`]]></style>
`):""}_setSVGObjects(P,p){this.forEachObject((X)=>{X.excludeFromExport||this._setSVGObject(P,X,p)})}_setSVGObject(P,p,X){P.push(p.toSVG(X))}_setSVGBgOverlayImage(P,p,X){let H=this[p];H&&!H.excludeFromExport&&H.toSVG&&P.push(H.toSVG(X))}_setSVGBgOverlayColor(P,p){let X=this["".concat(p,"Color")];if(X)if(Kp(X)){let H=X.repeat||"",A=this.width,x=this.height,B=this["".concat(p,"Vpt")]?f1(Bp(this.viewportTransform)):"";P.push('<rect transform="'.concat(B," translate(").concat(A/2,",").concat(x/2,')" x="').concat(X.offsetX-A/2,'" y="').concat(X.offsetY-x/2,'" width="').concat(H!=="repeat-y"&&H!=="no-repeat"||!Q9(X)?A:X.source.width,'" height="').concat(H!=="repeat-x"&&H!=="no-repeat"||!Q9(X)?x:X.source.height,'" fill="url(#SVGID_').concat(X.id,`)"></rect>
`))}else P.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',X,'"',`></rect>
`)}loadFromJSON(P,p){let{signal:X}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!P)return Promise.reject(new _p("`json` is undefined"));let H=typeof P=="string"?JSON.parse(P):P,{objects:A=[],backgroundImage:x,background:B,overlayImage:D,overlay:$,clipPath:h}=H,Z=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Wx(A,{reviver:p,signal:X}),k1({backgroundImage:x,backgroundColor:B,overlayImage:D,overlayColor:$,clipPath:h},{signal:X})]).then((F)=>{let[Q,j]=F;return this.clear(),this.add(...Q),this.set(H),this.set(j),this.renderOnAddRemove=Z,this})}clone(P){let p=this.toObject(P);return this.cloneWithoutData().loadFromJSON(p)}cloneWithoutData(){let P=lp(this);return new this.constructor(P)}toDataURL(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:p="png",quality:X=1,multiplier:H=1,enableRetinaScaling:A=!1}=P,x=H*(A?this.getRetinaScaling():1);return GC(this.toCanvasElement(x,P),p,X)}toBlob(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:p="png",quality:X=1,multiplier:H=1,enableRetinaScaling:A=!1}=P,x=H*(A?this.getRetinaScaling():1);return NC(this.toCanvasElement(x,P),p,X)}toCanvasElement(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:p,height:X,left:H,top:A,filter:x}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=(p||this.width)*P,D=(X||this.height)*P,$=this.getZoom(),h=this.width,Z=this.height,F=this.skipControlsDrawing,Q=$*P,j=this.viewportTransform,b=[Q,0,0,Q,(j[4]-(H||0))*P,(j[5]-(A||0))*P],E=this.enableRetinaScaling,M=lp({width:B,height:D}),I=x?this._objects.filter((V)=>x(V)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=b,this.width=B,this.height=D,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(M.getContext("2d"),I),this.viewportTransform=j,this.width=h,this.height=Z,this.calcViewportBoundaries(),this.enableRetinaScaling=E,this.skipControlsDrawing=F,M}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),D2.cancelByCanvas(this),this.disposed=!0,new Promise((P,p)=>{let X=()=>{this.destroy(),P(!0)};X.kill=p,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?P(!1):this.nextRenderHandle?this.__cleanupTask=X:X()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((P)=>P.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}O(G1,"ownDefaults",h3);var $3=["touchstart","touchmove","touchend"],XY=(P)=>{let p=t9(P.target),X=function(H){let A=H.changedTouches;return A&&A[0]?A[0]:H}(P);return new y(X.clientX+p.left,X.clientY+p.top)},h2=(P)=>$3.includes(P.type)||P.pointerType==="touch",ZC=(P)=>{P.preventDefault(),P.stopPropagation()},$X=(P)=>{let p=0,X=0,H=0,A=0;for(let x=0,B=P.length;x<B;x++){let{x:D,y:$}=P[x];(D>H||!x)&&(H=D),(D<p||!x)&&(p=D),($>A||!x)&&(A=$),($<X||!x)&&(X=$)}return{left:p,top:X,width:H-p,height:A-X}},L3=["translateX","translateY","scaleX","scaleY"],HY=(P,p)=>Mx(P,XP(p,P.calcOwnMatrix())),Mx=(P,p)=>{let X=Ex(p),{translateX:H,translateY:A,scaleX:x,scaleY:B}=X,D=i0(X,L3),$=new y(H,A);P.flipX=!1,P.flipY=!1,Object.assign(P,D),P.set({scaleX:x,scaleY:B}),P.setPositionByOrigin($,Z0,Z0)},AY=(P)=>{P.scaleX=1,P.scaleY=1,P.skewX=0,P.skewY=0,P.flipX=!1,P.flipY=!1,P.rotate(0)},dC=(P)=>({scaleX:P.scaleX,scaleY:P.scaleY,skewX:P.skewX,skewY:P.skewY,angle:P.angle,left:P.left,flipX:P.flipX,flipY:P.flipY,top:P.top}),J2=(P,p,X)=>{let H=P/2,A=p/2,x=[new y(-H,-A),new y(H,-A),new y(-H,A),new y(H,A)].map((D)=>D.transform(X)),B=$X(x);return new y(B.width,B.height)},N1=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vP;return XP(Bp(arguments.length>1&&arguments[1]!==void 0?arguments[1]:vP),P)},uX=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vP,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vP;return P.transform(N1(p,X))},xY=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vP,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vP;return P.transform(N1(p,X),!0)},CC=(P,p,X)=>{let H=N1(p,X);return Mx(P,XP(H,P.calcOwnMatrix())),H},gC=(P,p)=>{var X;let{transform:{target:H}}=p;(X=H.canvas)===null||X===void 0||X.fire("object:".concat(P),N(N({},p),{},{target:H})),H.fire(P,p)},Z3={left:-0.5,top:-0.5,center:0,bottom:0.5,right:0.5},ZP=(P)=>typeof P=="string"?Z3[P]:P-0.5,$2="not-allowed";function BY(P){return ZP(P.originX)===ZP(Z0)&&ZP(P.originY)===ZP(Z0)}function j9(P){return 0.5-ZP(P)}var gp=(P,p)=>P[p],yC=(P,p,X,H)=>({e:P,transform:p,pointer:new y(X,H)});function DY(P,p){let X=P.getTotalAngle()+cH(Math.atan2(p.y,p.x))+360;return Math.round(X%360/45)}function K2(P,p,X,H,A){var x;let{target:B,corner:D}=P,$=B.controls[D],h=((x=B.canvas)===null||x===void 0?void 0:x.getZoom())||1,Z=B.padding/h,F=function(Q,j,b,E){let M=Q.getRelativeCenterPoint(),I=b!==void 0&&E!==void 0?Q.translateToGivenOrigin(M,Z0,Z0,b,E):new y(Q.left,Q.top);return(Q.angle?j.rotate(-pP(Q.angle),M):j).subtract(I)}(B,new y(H,A),p,X);return F.x>=Z&&(F.x-=Z),F.x<=-Z&&(F.x+=Z),F.y>=Z&&(F.y-=Z),F.y<=Z&&(F.y+=Z),F.x-=$.offsetX,F.y-=$.offsetY,F}var hY=(P,p,X,H)=>{let{target:A,offsetX:x,offsetY:B}=p,D=X-x,$=H-B,h=!gp(A,"lockMovementX")&&A.left!==D,Z=!gp(A,"lockMovementY")&&A.top!==$;return h&&A.set(R0,D),Z&&A.set(iP,$),(h||Z)&&gC(g9,yC(P,p,X,H)),h||Z};class cC{getSvgStyles(P){let p=this.fillRule?this.fillRule:"nonzero",X=this.strokeWidth?this.strokeWidth:"0",H=this.strokeDashArray?this.strokeDashArray.join(" "):oP,A=this.strokeDashOffset?this.strokeDashOffset:"0",x=this.strokeLineCap?this.strokeLineCap:"butt",B=this.strokeLineJoin?this.strokeLineJoin:"miter",D=this.strokeMiterLimit?this.strokeMiterLimit:"4",$=this.opacity!==void 0?this.opacity:"1",h=this.visible?"":" visibility: hidden;",Z=P?"":this.getSvgFilter(),F=R1(jP,this.fill);return[R1(nP,this.stroke),"stroke-width: ",X,"; ","stroke-dasharray: ",H,"; ","stroke-linecap: ",x,"; ","stroke-dashoffset: ",A,"; ","stroke-linejoin: ",B,"; ","stroke-miterlimit: ",D,"; ",F,"fill-rule: ",p,"; ","opacity: ",$,";",Z,h].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",X=P?this.calcTransformMatrix():this.calcOwnMatrix(),H='transform="'.concat(f1(X));return"".concat(H).concat(p,'" ')}_toSVG(P){return[""]}toSVG(P){return this._createBaseSVGMarkup(this._toSVG(P),{reviver:P})}toClipPathSVG(P){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(P),{reviver:P})}_createBaseClipPathSVGMarkup(P){let{reviver:p,additionalTransform:X=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=[this.getSvgTransform(!0,X),this.getSvgCommons()].join(""),A=P.indexOf("COMMON_PARTS");return P[A]=H,p?p(P.join("")):P.join("")}_createBaseSVGMarkup(P){let{noStyle:p,reviver:X,withShadow:H,additionalTransform:A}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=p?"":'style="'.concat(this.getSvgStyles(),'" '),B=H?'style="'.concat(this.getSvgFilter(),'" '):"",D=this.clipPath,$=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",h=D&&D.absolutePositioned,Z=this.stroke,F=this.fill,Q=this.shadow,j=[],b=P.indexOf("COMMON_PARTS"),E;D&&(D.clipPathId="CLIPPATH_".concat(yH()),E='<clipPath id="'.concat(D.clipPathId,`" >
`).concat(D.toClipPathSVG(X),`</clipPath>
`)),h&&j.push("<g ",B,this.getSvgCommons(),` >
`),j.push("<g ",this.getSvgTransform(!1),h?"":B+this.getSvgCommons(),` >
`);let M=[x,$,p?"":this.addPaintOrder()," ",A?'transform="'.concat(A,'" '):""].join("");return P[b]=M,Kp(F)&&j.push(F.toSVG(this)),Kp(Z)&&j.push(Z.toSVG(this)),Q&&j.push(Q.toSVG(this)),D&&j.push(E),j.push(P.join("")),j.push(`</g>
`),h&&j.push(`</g>
`),X?X(j.join("")):j.join("")}addPaintOrder(){return this.paintFirst!==jP?' paint-order="'.concat(this.paintFirst,'" '):""}}function f2(P){return new RegExp("^("+P.join("|")+")\\b","i")}var q9,dp=String.raw(q9||(q9=lH(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));var C3=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+dp+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+dp+"))?\\s+(.*)"),F3={cx:R0,x:R0,r:"radius",cy:iP,y:iP,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},s7="font-size",e7="clip-path",az=f2(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),iz=f2(["symbol","image","marker","pattern","view","svg"]),Y9=f2(["symbol","g","a","svg","clipPath","defs"]),oz=new RegExp("^\\s*("+dp+"+)\\s*,?\\s*("+dp+"+)\\s*,?\\s*("+dp+"+)\\s*,?\\s*("+dp+"+)\\s*$"),Q3=new y(1,0),$Y=new y,lC=(P,p)=>P.rotate(p),L2=(P,p)=>new y(p).subtract(P),Z2=(P)=>P.distanceFrom($Y),C2=(P,p)=>Math.atan2(Ix(P,p),ZY(P,p)),LY=(P)=>C2(Q3,P),R2=(P)=>P.eq($Y)?P:P.scalarDivide(Z2(P)),mC=function(P){let p=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return R2(new y(-P.y,P.x).scalarMultiply(p?1:-1))},Ix=(P,p)=>P.x*p.y-P.y*p.x,ZY=(P,p)=>P.x*p.x+P.y*p.y,FC=(P,p,X)=>{if(P.eq(p)||P.eq(X))return!0;let H=Ix(p,X),A=Ix(p,P),x=Ix(X,P);return H>=0?A>=0&&x<=0:!(A<=0&&x>=0)},T9="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",I9=new RegExp("(?:\\s|^)"+T9+T9+"("+dp+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class aX{constructor(P){let p=typeof P=="string"?aX.parseShadow(P):P;Object.assign(this,aX.ownDefaults,p),this.id=yH()}static parseShadow(P){let p=P.trim(),[,X=0,H=0,A=0]=(I9.exec(p)||[]).map((x)=>parseFloat(x)||0);return{color:(p.replace(I9,"")||"rgb(0,0,0)").trim(),offsetX:X,offsetY:H,blur:A}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(P){let p=lC(new y(this.offsetX,this.offsetY),pP(-P.angle)),X=new z0(this.color),H=40,A=40;return P.width&&P.height&&(H=100*a0((Math.abs(p.x)+this.blur)/P.width,W0.NUM_FRACTION_DIGITS)+20,A=100*a0((Math.abs(p.y)+this.blur)/P.height,W0.NUM_FRACTION_DIGITS)+20),P.flipX&&(p.x*=-1),P.flipY&&(p.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(A,'%" height="').concat(100+2*A,'%" x="-').concat(H,'%" width="').concat(100+2*H,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(a0(this.blur?this.blur/2:0,W0.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(a0(p.x,W0.NUM_FRACTION_DIGITS),'" dy="').concat(a0(p.y,W0.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(X.toRgb(),'" flood-opacity="').concat(X.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let P={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},p=aX.ownDefaults;return this.includeDefaultValues?P:vC(P,(X,H)=>X!==p[H])}static async fromObject(P){return new this(P)}}O(aX,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),O(aX,"type","shadow"),X0.setClass(aX,"shadow");var m8=(P,p,X)=>Math.max(P,Math.min(p,X)),V3=[iP,R0,_P,Dp,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",fx,Rx],nX=[jP,nP,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],j3={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:R0,originY:iP,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:jP,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},t7=(P,p,X,H)=>(P<Math.abs(p)?(P=p,H=X/4):H=p===0&&P===0?X/oX*Math.asin(1):X/oX*Math.asin(p/P),{a:P,c:p,p:X,s:H}),b9=(P,p,X,H,A)=>P*Math.pow(2,10*(H-=1))*Math.sin((H*A-p)*oX/X),CY=(P,p,X,H)=>-X*Math.cos(P/H*gH)+X+p,QC=(P,p,X,H)=>(P/=H)<0.36363636363636365?X*(7.5625*P*P)+p:P<0.7272727272727273?X*(7.5625*(P-=0.5454545454545454)*P+0.75)+p:P<0.9090909090909091?X*(7.5625*(P-=0.8181818181818182)*P+0.9375)+p:X*(7.5625*(P-=0.9545454545454546)*P+0.984375)+p,E9=(P,p,X,H)=>X-QC(H-P,0,X,H)+p,q3=Object.freeze({__proto__:null,defaultEasing:CY,easeInBack:function(P,p,X,H){let A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return X*(P/=H)*P*((A+1)*P-A)+p},easeInBounce:E9,easeInCirc:(P,p,X,H)=>-X*(Math.sqrt(1-(P/=H)*P)-1)+p,easeInCubic:(P,p,X,H)=>X*(P/H)**3+p,easeInElastic:(P,p,X,H)=>{let A=X,x=0;if(P===0)return p;if((P/=H)===1)return p+X;x||(x=0.3*H);let{a:B,s:D,p:$}=t7(A,X,x,1.70158);return-b9(B,D,$,P,H)+p},easeInExpo:(P,p,X,H)=>P===0?p:X*2**(10*(P/H-1))+p,easeInOutBack:function(P,p,X,H){let A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(P/=H/2)<1?X/2*(P*P*((1+(A*=1.525))*P-A))+p:X/2*((P-=2)*P*((1+(A*=1.525))*P+A)+2)+p},easeInOutBounce:(P,p,X,H)=>P<H/2?0.5*E9(2*P,0,X,H)+p:0.5*QC(2*P-H,0,X,H)+0.5*X+p,easeInOutCirc:(P,p,X,H)=>(P/=H/2)<1?-X/2*(Math.sqrt(1-P**2)-1)+p:X/2*(Math.sqrt(1-(P-=2)*P)+1)+p,easeInOutCubic:(P,p,X,H)=>(P/=H/2)<1?X/2*P**3+p:X/2*((P-2)**3+2)+p,easeInOutElastic:(P,p,X,H)=>{let A=X,x=0;if(P===0)return p;if((P/=H/2)===2)return p+X;x||(x=H*0.44999999999999996);let{a:B,s:D,p:$,c:h}=t7(A,X,x,1.70158);return P<1?-0.5*b9(B,D,$,P,H)+p:B*Math.pow(2,-10*(P-=1))*Math.sin((P*H-D)*oX/$)*0.5+h+p},easeInOutExpo:(P,p,X,H)=>P===0?p:P===H?p+X:(P/=H/2)<1?X/2*2**(10*(P-1))+p:X/2*-(2**(-10*--P)+2)+p,easeInOutQuad:(P,p,X,H)=>(P/=H/2)<1?X/2*P**2+p:-X/2*(--P*(P-2)-1)+p,easeInOutQuart:(P,p,X,H)=>(P/=H/2)<1?X/2*P**4+p:-X/2*((P-=2)*P**3-2)+p,easeInOutQuint:(P,p,X,H)=>(P/=H/2)<1?X/2*P**5+p:X/2*((P-2)**5+2)+p,easeInOutSine:(P,p,X,H)=>-X/2*(Math.cos(Math.PI*P/H)-1)+p,easeInQuad:(P,p,X,H)=>X*(P/=H)*P+p,easeInQuart:(P,p,X,H)=>X*(P/=H)*P**3+p,easeInQuint:(P,p,X,H)=>X*(P/H)**5+p,easeInSine:(P,p,X,H)=>-X*Math.cos(P/H*gH)+X+p,easeOutBack:function(P,p,X,H){let A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return X*((P=P/H-1)*P*((A+1)*P+A)+1)+p},easeOutBounce:QC,easeOutCirc:(P,p,X,H)=>X*Math.sqrt(1-(P=P/H-1)*P)+p,easeOutCubic:(P,p,X,H)=>X*((P/H-1)**3+1)+p,easeOutElastic:(P,p,X,H)=>{let A=X,x=0;if(P===0)return p;if((P/=H)===1)return p+X;x||(x=0.3*H);let{a:B,s:D,p:$,c:h}=t7(A,X,x,1.70158);return B*2**(-10*P)*Math.sin((P*H-D)*oX/$)+h+p},easeOutExpo:(P,p,X,H)=>P===H?p+X:X*-(2**(-10*P/H)+1)+p,easeOutQuad:(P,p,X,H)=>-X*(P/=H)*(P-2)+p,easeOutQuart:(P,p,X,H)=>-X*((P=P/H-1)*P**3-1)+p,easeOutQuint:(P,p,X,H)=>X*((P/H-1)**5+1)+p,easeOutSine:(P,p,X,H)=>X*Math.sin(P/H*gH)+p}),Y3=()=>!1;class S2{constructor(P){let{startValue:p,byValue:X,duration:H=500,delay:A=0,easing:x=CY,onStart:B=c8,onChange:D=c8,onComplete:$=c8,abort:h=Y3,target:Z}=P;O(this,"_state","pending"),O(this,"durationProgress",0),O(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=H,this.delay=A,this.easing=x,this._onStart=B,this._onChange=D,this._onComplete=$,this._abort=h,this.target=Z,this.startValue=p,this.byValue=X,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let P=(p)=>{this._state==="pending"&&(this.startTime=p||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>b1(P),this.delay):b1(P)}tick(P){let p=(P||+new Date)-this.startTime,X=Math.min(p,this.duration);this.durationProgress=X/this.duration;let{value:H,valueProgress:A}=this.calculate(X);this.value=Object.freeze(H),this.valueProgress=A,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):p>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),b1(this.tick)))}register(){D2.push(this)}unregister(){D2.remove(this)}abort(){this._state="aborted",this.unregister()}}var T3=["startValue","endValue"];class FY extends S2{constructor(P){let{startValue:p=0,endValue:X=100}=P;super(N(N({},i0(P,T3)),{},{startValue:p,byValue:X-p}))}calculate(P){let p=this.easing(P,this.startValue,this.byValue,this.duration);return{value:p,valueProgress:Math.abs((p-this.startValue)/this.byValue)}}}var I3=["startValue","endValue"];class QY extends S2{constructor(P){let{startValue:p=[0],endValue:X=[100]}=P;super(N(N({},i0(P,I3)),{},{startValue:p,byValue:X.map((H,A)=>H-p[A])}))}calculate(P){let p=this.startValue.map((X,H)=>this.easing(P,X,this.byValue[H],this.duration,H));return{value:p,valueProgress:Math.abs((p[0]-this.startValue[0])/this.byValue[0])}}}var b3=["startValue","endValue","easing","onChange","onComplete","abort"],E3=(P,p,X,H)=>p+X*(1-Math.cos(P/H*gH)),PC=(P)=>P&&((p,X,H)=>P(new z0(p).toRgba(),X,H));class VY extends S2{constructor(P){let{startValue:p,endValue:X,easing:H=E3,onChange:A,onComplete:x,abort:B}=P,D=i0(P,b3),$=new z0(p).getSource(),h=new z0(X).getSource();super(N(N({},D),{},{startValue:$,byValue:h.map((Z,F)=>Z-$[F]),easing:H,onChange:PC(A),onComplete:PC(x),abort:PC(B)}))}calculate(P){let[p,X,H,A]=this.startValue.map((B,D)=>this.easing(P,B,this.byValue[D],this.duration,D)),x=[...[p,X,H].map(Math.round),m8(0,A,1)];return{value:x,valueProgress:x.map((B,D)=>this.byValue[D]!==0?Math.abs((B-this.startValue[D])/this.byValue[D]):0).find((B)=>B!==0)||0}}}function uC(P){let p=((X)=>Array.isArray(X.startValue)||Array.isArray(X.endValue))(P)?new QY(P):new FY(P);return p.start(),p}function jY(P){let p=new VY(P);return p.start(),p}class e0{constructor(P){this.status=P,this.points=[]}includes(P){return this.points.some((p)=>p.eq(P))}append(){for(var P=arguments.length,p=new Array(P),X=0;X<P;X++)p[X]=arguments[X];return this.points=this.points.concat(p.filter((H)=>!this.includes(H))),this}static isPointContained(P,p,X){let H=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(p.eq(X))return P.eq(p);if(p.x===X.x)return P.x===p.x&&(H||P.y>=Math.min(p.y,X.y)&&P.y<=Math.max(p.y,X.y));if(p.y===X.y)return P.y===p.y&&(H||P.x>=Math.min(p.x,X.x)&&P.x<=Math.max(p.x,X.x));{let A=L2(p,X),x=L2(p,P).divide(A);return H?Math.abs(x.x)===Math.abs(x.y):x.x===x.y&&x.x>=0&&x.x<=1}}static isPointInPolygon(P,p){let X=new y(P).setX(Math.min(P.x-1,...p.map((A)=>A.x))),H=0;for(let A=0;A<p.length;A++){let x=this.intersectSegmentSegment(p[A],p[(A+1)%p.length],P,X);if(x.includes(P))return!0;H+=Number(x.status==="Intersection")}return H%2==1}static intersectLineLine(P,p,X,H){let A=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],x=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],B=p.x-P.x,D=p.y-P.y,$=H.x-X.x,h=H.y-X.y,Z=P.x-X.x,F=P.y-X.y,Q=$*F-h*Z,j=B*F-D*Z,b=h*B-$*D;if(b!==0){let E=Q/b,M=j/b;return(A||0<=E&&E<=1)&&(x||0<=M&&M<=1)?new e0("Intersection").append(new y(P.x+E*B,P.y+E*D)):new e0}if(Q===0||j===0){let E=A||x||e0.isPointContained(P,X,H)||e0.isPointContained(p,X,H)||e0.isPointContained(X,P,p)||e0.isPointContained(H,P,p);return new e0(E?"Coincident":void 0)}return new e0("Parallel")}static intersectSegmentLine(P,p,X,H){return e0.intersectLineLine(P,p,X,H,!1,!0)}static intersectSegmentSegment(P,p,X,H){return e0.intersectLineLine(P,p,X,H,!1,!1)}static intersectLinePolygon(P,p,X){let H=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],A=new e0,x=X.length;for(let B,D,$,h=0;h<x;h++){if(B=X[h],D=X[(h+1)%x],$=e0.intersectLineLine(P,p,B,D,H,!1),$.status==="Coincident")return $;A.append(...$.points)}return A.points.length>0&&(A.status="Intersection"),A}static intersectSegmentPolygon(P,p,X){return e0.intersectLinePolygon(P,p,X,!1)}static intersectPolygonPolygon(P,p){let X=new e0,H=P.length,A=[];for(let x=0;x<H;x++){let B=P[x],D=P[(x+1)%H],$=e0.intersectSegmentPolygon(B,D,p);$.status==="Coincident"?(A.push($),X.append(B,D)):X.append(...$.points)}return A.length>0&&A.length===P.length?new e0("Coincident"):(X.points.length>0&&(X.status="Intersection"),X)}static intersectPolygonRectangle(P,p,X){let H=p.min(X),A=p.max(X),x=new y(A.x,H.y),B=new y(H.x,A.y);return e0.intersectPolygonPolygon(P,[H,x,A,B])}}class qY extends kC{getX(){return this.getXY().x}setX(P){this.setXY(this.getXY().setX(P))}getY(){return this.getXY().y}setY(P){this.setXY(this.getXY().setY(P))}getRelativeX(){return this.left}setRelativeX(P){this.left=P}getRelativeY(){return this.top}setRelativeY(P){this.top=P}getXY(){let P=this.getRelativeXY();return this.group?zP(P,this.group.calcTransformMatrix()):P}setXY(P,p,X){this.group&&(P=zP(P,Bp(this.group.calcTransformMatrix()))),this.setRelativeXY(P,p,X)}getRelativeXY(){return new y(this.left,this.top)}setRelativeXY(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(P,p,X)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:P,tr:p,br:X,bl:H}=this.aCoords||(this.aCoords=this.calcACoords()),A=[P,p,X,H];if(this.group){let x=this.group.calcTransformMatrix();return A.map((B)=>zP(B,x))}return A}intersectsWithRect(P,p){return e0.intersectPolygonRectangle(this.getCoords(),P,p).status==="Intersection"}intersectsWithObject(P){let p=e0.intersectPolygonPolygon(this.getCoords(),P.getCoords());return p.status==="Intersection"||p.status==="Coincident"||P.isContainedWithinObject(this)||this.isContainedWithinObject(P)}isContainedWithinObject(P){return this.getCoords().every((p)=>P.containsPoint(p))}isContainedWithinRect(P,p){let{left:X,top:H,width:A,height:x}=this.getBoundingRect();return X>=P.x&&X+A<=p.x&&H>=P.y&&H+x<=p.y}isOverlapping(P){return this.intersectsWithObject(P)||this.isContainedWithinObject(P)||P.isContainedWithinObject(this)}containsPoint(P){return e0.isPointInPolygon(P,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:P,br:p}=this.canvas.vptCoords;return!!this.getCoords().some((X)=>X.x<=p.x&&X.x>=P.x&&X.y<=p.y&&X.y>=P.y)||(!!this.intersectsWithRect(P,p)||this.containsPoint(P.midPointFrom(p)))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:P,br:p}=this.canvas.vptCoords;if(this.intersectsWithRect(P,p))return!0;return this.getCoords().every((X)=>(X.x>=p.x||X.x<=P.x)&&(X.y>=p.y||X.y<=P.y))&&this.containsPoint(P.midPointFrom(p))}getBoundingRect(){return $X(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(P){this._set(_P,P),this._set(Dp,P),this.setCoords()}scaleToWidth(P){let p=this.getBoundingRect().width/this.getScaledWidth();return this.scale(P/this.width/p)}scaleToHeight(P){let p=this.getBoundingRect().height/this.getScaledHeight();return this.scale(P/this.height/p)}getCanvasRetinaScaling(){var P;return((P=this.canvas)===null||P===void 0?void 0:P.getRetinaScaling())||1}getTotalAngle(){return this.group?cH(n9(this.calcTransformMatrix())):this.angle}getViewportTransform(){var P;return((P=this.canvas)===null||P===void 0?void 0:P.viewportTransform)||vP.concat()}calcACoords(){let P=zx({angle:this.angle}),{x:p,y:X}=this.getRelativeCenterPoint(),H=Sx(p,X),A=XP(H,P),x=this._getTransformedDimensions(),B=x.x/2,D=x.y/2;return{tl:zP({x:-B,y:-D},A),tr:zP({x:B,y:-D},A),bl:zP({x:-B,y:D},A),br:zP({x:B,y:D},A)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let P=arguments.length>0&&arguments[0]!==void 0&&arguments[0],p=[];return!P&&this.group&&(p=this.group.transformMatrixKey(P)),p.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,ZP(this.originX),ZP(this.originY)),p}calcTransformMatrix(){let P=arguments.length>0&&arguments[0]!==void 0&&arguments[0],p=this.calcOwnMatrix();if(P||!this.group)return p;let X=this.transformMatrixKey(P),H=this.matrixCache;return H&&H.key.every((A,x)=>A===X[x])?H.value:(this.group&&(p=XP(this.group.calcTransformMatrix(!1),p)),this.matrixCache={key:X,value:p},p)}calcOwnMatrix(){let P=this.transformMatrixKey(!0),p=this.ownMatrixCache;if(p&&p.key===P)return p.value;let X=this.getRelativeCenterPoint(),H={angle:this.angle,translateX:X.x,translateY:X.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},A=s9(H);return this.ownMatrixCache={key:P,value:A},A}_getNonTransformedDimensions(){return new y(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(P){return this._getTransformedDimensions(P).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=N({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},P),X=p.strokeWidth,H=X,A=0;this.strokeUniform&&(H=0,A=X);let x=p.width+H,B=p.height+H,D;return D=p.skewX===0&&p.skewY===0?new y(x*p.scaleX,B*p.scaleY):J2(x,B,U1(p)),D.scalarAdd(A)}translateToGivenOrigin(P,p,X,H,A){let{x,y:B}=P,D=ZP(H)-ZP(p),$=ZP(A)-ZP(X);if(D||$){let h=this._getTransformedDimensions();x+=D*h.x,B+=$*h.y}return new y(x,B)}translateToCenterPoint(P,p,X){if(p===Z0&&X===Z0)return P;let H=this.translateToGivenOrigin(P,p,X,Z0,Z0);return this.angle?H.rotate(pP(this.angle),P):H}translateToOriginPoint(P,p,X){let H=this.translateToGivenOrigin(P,Z0,Z0,p,X);return this.angle?H.rotate(pP(this.angle),P):H}getCenterPoint(){let P=this.getRelativeCenterPoint();return this.group?zP(P,this.group.calcTransformMatrix()):P}getRelativeCenterPoint(){return this.translateToCenterPoint(new y(this.left,this.top),this.originX,this.originY)}getPointByOrigin(P,p){return this.translateToOriginPoint(this.getRelativeCenterPoint(),P,p)}setPositionByOrigin(P,p,X){let H=this.translateToCenterPoint(P,p,X),A=this.translateToOriginPoint(H,this.originX,this.originY);this.set({left:A.x,top:A.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),R0,iP)}}var W3=["type"],M3=["extraParam"],gX=class P extends qY{static getDefaults(){return P.ownDefaults}get type(){let p=this.constructor.type;return p==="FabricObject"?"object":p.toLowerCase()}set type(p){dH("warn","Setting type has no effect",p)}constructor(p){super(),O(this,"_cacheContext",null),Object.assign(this,P.ownDefaults),this.setOptions(p)}_createCacheCanvas(){this._cacheCanvas=fp(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(p){let{width:X,height:H}=p,A=W0.maxCacheSideLimit,x=W0.minCacheSideLimit;if(X<=A&&H<=A&&X*H<=W0.perfLimitSizeTotal)return X<x&&(p.width=x),H<x&&(p.height=x),p;let B=X/H,[D,$]=I1.limitDimsByArea(B),h=m8(x,D,A),Z=m8(x,$,A);return X>h&&(p.zoomX/=X/h,p.width=h,p.capped=!0),H>Z&&(p.zoomY/=H/Z,p.height=Z,p.capped=!0),p}_getCacheCanvasDimensions(){let p=this.getTotalObjectScaling(),X=this._getTransformedDimensions({skewX:0,skewY:0}),H=X.x*p.x/this.scaleX,A=X.y*p.y/this.scaleY;return{width:Math.ceil(H+2),height:Math.ceil(A+2),zoomX:p.x,zoomY:p.y,x:H,y:A}}_updateCacheCanvas(){let p=this._cacheCanvas,X=this._cacheContext,{width:H,height:A,zoomX:x,zoomY:B,x:D,y:$}=this._limitCacheSize(this._getCacheCanvasDimensions()),h=H!==p.width||A!==p.height,Z=this.zoomX!==x||this.zoomY!==B;if(!p||!X)return!1;if(h||Z){H!==p.width||A!==p.height?(p.width=H,p.height=A):(X.setTransform(1,0,0,1,0,0),X.clearRect(0,0,p.width,p.height));let F=D/2,Q=$/2;return this.cacheTranslationX=Math.round(p.width/2-F)+F,this.cacheTranslationY=Math.round(p.height/2-Q)+Q,X.translate(this.cacheTranslationX,this.cacheTranslationY),X.scale(x,B),this.zoomX=x,this.zoomY=B,!0}return!1}setOptions(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(p)}transform(p){let X=this.group&&!this.group._transformDone||this.group&&this.canvas&&p===this.canvas.contextTop,H=this.calcTransformMatrix(!X);p.transform(H[0],H[1],H[2],H[3],H[4],H[5])}getObjectScaling(){if(!this.group)return new y(Math.abs(this.scaleX),Math.abs(this.scaleY));let p=Ex(this.calcTransformMatrix());return new y(Math.abs(p.scaleX),Math.abs(p.scaleY))}getTotalObjectScaling(){let p=this.getObjectScaling();if(this.canvas){let X=this.canvas.getZoom(),H=this.getCanvasRetinaScaling();return p.scalarMultiply(X*H)}return p}getObjectOpacity(){let p=this.opacity;return this.group&&(p*=this.group.getObjectOpacity()),p}_constrainScale(p){return Math.abs(p)<this.minScaleLimit?p<0?-this.minScaleLimit:this.minScaleLimit:p===0?0.0001:p}_set(p,X){p!==_P&&p!==Dp||(X=this._constrainScale(X)),p===_P&&X<0?(this.flipX=!this.flipX,X*=-1):p==="scaleY"&&X<0?(this.flipY=!this.flipY,X*=-1):p!=="shadow"||!X||X instanceof aX||(X=new aX(X));let H=this[p]!==X;return this[p]=X,H&&this.constructor.cacheProperties.includes(p)&&(this.dirty=!0),this.parent&&(this.dirty||H&&this.constructor.stateProperties.includes(p))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(p){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(p.save(),this._setupCompositeOperation(p),this.drawSelectionBackground(p),this.transform(p),this._setOpacity(p),this._setShadow(p),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(p)):(this._removeCacheCanvas(),this.drawObject(p,!1,{}),this.dirty=!1),p.restore())}drawSelectionBackground(p){}renderCache(p){if(p=p||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){let{zoomX:X,zoomY:H,cacheTranslationX:A,cacheTranslationY:x}=this,{width:B,height:D}=this._cacheCanvas;this.drawObject(this._cacheContext,p.forClipping,{zoomX:X,zoomY:H,cacheTranslationX:A,cacheTranslationY:x,width:B,height:D,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===nP&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(p,X,H){p.save(),X.inverted?p.globalCompositeOperation="destination-out":p.globalCompositeOperation="destination-in",p.setTransform(1,0,0,1,0,0),p.drawImage(H,0,0),p.restore()}drawObject(p,X,H){let A=this.fill,x=this.stroke;X?(this.fill="black",this.stroke="",this._setClippingProperties(p)):this._renderBackground(p),this._render(p),this._drawClipPath(p,this.clipPath,H),this.fill=A,this.stroke=x}createClipPathLayer(p,X){let H=lp(X),A=H.getContext("2d");if(A.translate(X.cacheTranslationX,X.cacheTranslationY),A.scale(X.zoomX,X.zoomY),p._cacheCanvas=H,X.parentClipPaths.forEach((x)=>{x.transform(A)}),X.parentClipPaths.push(p),p.absolutePositioned){let x=Bp(this.calcTransformMatrix());A.transform(x[0],x[1],x[2],x[3],x[4],x[5])}return p.transform(A),p.drawObject(A,!0,X),H}_drawClipPath(p,X,H){if(!X)return;X._transformDone=!0;let A=this.createClipPathLayer(X,H);this.drawClipPathOnCache(p,X,A)}drawCacheOnCanvas(p){p.scale(1/this.zoomX,1/this.zoomY),p.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let p=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let X=this._cacheCanvas,H=this._cacheContext;return!(!X||!H||p||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(X&&H&&!p&&(H.save(),H.setTransform(1,0,0,1,0,0),H.clearRect(0,0,X.width,X.height),H.restore()),!0)}_renderBackground(p){if(!this.backgroundColor)return;let X=this._getNonTransformedDimensions();p.fillStyle=this.backgroundColor,p.fillRect(-X.x/2,-X.y/2,X.x,X.y),this._removeShadow(p)}_setOpacity(p){this.group&&!this.group._transformDone?p.globalAlpha=this.getObjectOpacity():p.globalAlpha*=this.opacity}_setStrokeStyles(p,X){let H=X.stroke;H&&(p.lineWidth=X.strokeWidth,p.lineCap=X.strokeLineCap,p.lineDashOffset=X.strokeDashOffset,p.lineJoin=X.strokeLineJoin,p.miterLimit=X.strokeMiterLimit,Kp(H)?H.gradientUnits==="percentage"||H.gradientTransform||H.patternTransform?this._applyPatternForTransformedGradient(p,H):(p.strokeStyle=H.toLive(p),this._applyPatternGradientTransform(p,H)):p.strokeStyle=X.stroke)}_setFillStyles(p,X){let{fill:H}=X;H&&(Kp(H)?(p.fillStyle=H.toLive(p),this._applyPatternGradientTransform(p,H)):p.fillStyle=H)}_setClippingProperties(p){p.globalAlpha=1,p.strokeStyle="transparent",p.fillStyle="#000000"}_setLineDash(p,X){X&&X.length!==0&&p.setLineDash(X)}_setShadow(p){if(!this.shadow)return;let X=this.shadow,H=this.canvas,A=this.getCanvasRetinaScaling(),[x,,,B]=(H==null?void 0:H.viewportTransform)||vP,D=x*A,$=B*A,h=X.nonScaling?new y(1,1):this.getObjectScaling();p.shadowColor=X.color,p.shadowBlur=X.blur*W0.browserShadowBlurConstant*(D+$)*(h.x+h.y)/4,p.shadowOffsetX=X.offsetX*D*h.x,p.shadowOffsetY=X.offsetY*$*h.y}_removeShadow(p){this.shadow&&(p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0)}_applyPatternGradientTransform(p,X){if(!Kp(X))return{offsetX:0,offsetY:0};let H=X.gradientTransform||X.patternTransform,A=-this.width/2+X.offsetX||0,x=-this.height/2+X.offsetY||0;return X.gradientUnits==="percentage"?p.transform(this.width,0,0,this.height,A,x):p.transform(1,0,0,1,A,x),H&&p.transform(H[0],H[1],H[2],H[3],H[4],H[5]),{offsetX:A,offsetY:x}}_renderPaintInOrder(p){this.paintFirst===nP?(this._renderStroke(p),this._renderFill(p)):(this._renderFill(p),this._renderStroke(p))}_render(p){}_renderFill(p){this.fill&&(p.save(),this._setFillStyles(p,this),this.fillRule==="evenodd"?p.fill("evenodd"):p.fill(),p.restore())}_renderStroke(p){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(p),p.save(),this.strokeUniform){let X=this.getObjectScaling();p.scale(1/X.x,1/X.y)}this._setLineDash(p,this.strokeDashArray),this._setStrokeStyles(p,this),p.stroke(),p.restore()}}_applyPatternForTransformedGradient(p,X){var H;let A=this._limitCacheSize(this._getCacheCanvasDimensions()),x=this.getCanvasRetinaScaling(),B=A.x/this.scaleX/x,D=A.y/this.scaleY/x,$=lp({width:Math.ceil(B),height:Math.ceil(D)}),h=$.getContext("2d");h&&(h.beginPath(),h.moveTo(0,0),h.lineTo(B,0),h.lineTo(B,D),h.lineTo(0,D),h.closePath(),h.translate(B/2,D/2),h.scale(A.zoomX/this.scaleX/x,A.zoomY/this.scaleY/x),this._applyPatternGradientTransform(h,X),h.fillStyle=X.toLive(p),h.fill(),p.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),p.scale(x*this.scaleX/A.zoomX,x*this.scaleY/A.zoomY),p.strokeStyle=(H=h.createPattern($,"no-repeat"))!==null&&H!==void 0?H:"")}_findCenterFromElement(){return new y(this.left+this.width/2,this.top+this.height/2)}clone(p){let X=this.toObject(p);return this.constructor.fromObject(X)}cloneAsImage(p){let X=this.toCanvasElement(p);return new(X0.getClass("image"))(X)}toCanvasElement(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=dC(this),H=this.group,A=this.shadow,x=Math.abs,B=p.enableRetinaScaling?d9():1,D=(p.multiplier||1)*B,$=p.canvasProvider||((V)=>new G1(V,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,p.withoutTransform&&AY(this),p.withoutShadow&&(this.shadow=null),p.viewportTransform&&CC(this,this.getViewportTransform()),this.setCoords();let h=fp(),Z=this.getBoundingRect(),F=this.shadow,Q=new y;if(F){let V=F.blur,Y=F.nonScaling?new y(1,1):this.getObjectScaling();Q.x=2*Math.round(x(F.offsetX)+V)*x(Y.x),Q.y=2*Math.round(x(F.offsetY)+V)*x(Y.y)}let j=Z.width+Q.x,b=Z.height+Q.y;h.width=Math.ceil(j),h.height=Math.ceil(b);let E=$(h);p.format==="jpeg"&&(E.backgroundColor="#fff"),this.setPositionByOrigin(new y(E.width/2,E.height/2),Z0,Z0);let M=this.canvas;E._objects=[this],this.set("canvas",E),this.setCoords();let I=E.toCanvasElement(D||1,p);return this.set("canvas",M),this.shadow=A,H&&(this.group=H),this.set(X),this.setCoords(),E._objects=[],E.destroy(),I}toDataURL(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return GC(this.toCanvasElement(p),p.format||"png",p.quality||1)}toBlob(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return NC(this.toCanvasElement(p),p.format||"png",p.quality||1)}isType(){for(var p=arguments.length,X=new Array(p),H=0;H<p;H++)X[H]=arguments[H];return X.includes(this.constructor.type)||X.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(p){let{centeredRotation:X,originX:H,originY:A}=this;if(X){let{x,y:B}=this.getRelativeCenterPoint();this.originX=Z0,this.originY=Z0,this.left=x,this.top=B}if(this.set("angle",p),X){let{x,y:B}=this.translateToOriginPoint(this.getRelativeCenterPoint(),H,A);this.left=x,this.top=B,this.originX=H,this.originY=A}}setOnGroup(){}_setupCompositeOperation(p){this.globalCompositeOperation&&(p.globalCompositeOperation=this.globalCompositeOperation)}dispose(){D2.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&LX().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(p,X){return Object.entries(p).reduce((H,A)=>{let[x,B]=A;return H[x]=this._animate(x,B,X),H},{})}_animate(p,X){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=p.split("."),x=this.constructor.colorProperties.includes(A[A.length-1]),{abort:B,startValue:D,onChange:$,onComplete:h}=H,Z=N(N({},H),{},{target:this,startValue:D!=null?D:A.reduce((F,Q)=>F[Q],this),endValue:X,abort:B==null?void 0:B.bind(this),onChange:(F,Q,j)=>{A.reduce((b,E,M)=>(M===A.length-1&&(b[E]=F),b[E]),this),$&&$(F,Q,j)},onComplete:(F,Q,j)=>{this.setCoords(),h&&h(F,Q,j)}});return x?jY(Z):uC(Z)}isDescendantOf(p){let{parent:X,group:H}=this;return X===p||H===p||!!X&&X.isDescendantOf(p)||!!H&&H!==X&&H.isDescendantOf(p)}getAncestors(){let p=[],X=this;do X=X.parent,X&&p.push(X);while(X);return p}findCommonAncestors(p){if(this===p)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let X=this.getAncestors(),H=p.getAncestors();if(X.length===0&&H.length>0&&this===H[H.length-1])return{fork:[],otherFork:[p,...H.slice(0,H.length-1)],common:[this]};for(let A,x=0;x<X.length;x++){if(A=X[x],A===p)return{fork:[this,...X.slice(0,x)],otherFork:[],common:X.slice(x)};for(let B=0;B<H.length;B++){if(this===H[B])return{fork:[],otherFork:[p,...H.slice(0,B)],common:[this,...X]};if(A===H[B])return{fork:[this,...X.slice(0,x)],otherFork:[p,...H.slice(0,B)],common:X.slice(x)}}}return{fork:[this,...X],otherFork:[p,...H],common:[]}}hasCommonAncestors(p){let X=this.findCommonAncestors(p);return X&&!!X.common.length}isInFrontOf(p){if(this===p)return;let X=this.findCommonAncestors(p);if(X.fork.includes(p))return!0;if(X.otherFork.includes(this))return!1;let H=X.common[0]||this.canvas;if(!H)return;let A=X.fork.pop(),x=X.otherFork.pop(),B=H._objects.indexOf(A),D=H._objects.indexOf(x);return B>-1&&B>D}toObject(){let p=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(P.customProperties,this.constructor.customProperties||[]),X,H=W0.NUM_FRACTION_DIGITS,{clipPath:A,fill:x,stroke:B,shadow:D,strokeDashArray:$,left:h,top:Z,originX:F,originY:Q,width:j,height:b,strokeWidth:E,strokeLineCap:M,strokeDashOffset:I,strokeLineJoin:V,strokeUniform:Y,strokeMiterLimit:T,scaleX:J,scaleY:W,angle:K,flipX:S,flipY:_,opacity:v,visible:d,backgroundColor:f,fillRule:g,paintFirst:s,globalCompositeOperation:k,skewX:m,skewY:a}=this;A&&!A.excludeFromExport&&(X=A.toObject(p.concat("inverted","absolutePositioned")));let o=(i)=>a0(i,H),A0=N(N({},u8(this,p)),{},{type:this.constructor.type,version:hC,originX:F,originY:Q,left:o(h),top:o(Z),width:o(j),height:o(b),fill:F9(x)?x.toObject():x,stroke:F9(B)?B.toObject():B,strokeWidth:o(E),strokeDashArray:$?$.concat():$,strokeLineCap:M,strokeDashOffset:I,strokeLineJoin:V,strokeUniform:Y,strokeMiterLimit:o(T),scaleX:o(J),scaleY:o(W),angle:o(K),flipX:S,flipY:_,opacity:o(v),shadow:D?D.toObject():D,visible:d,backgroundColor:f,fillRule:g,paintFirst:s,globalCompositeOperation:k,skewX:o(m),skewY:o(a)},X?{clipPath:X}:null);return this.includeDefaultValues?A0:this._removeDefaultValues(A0)}toDatalessObject(p){return this.toObject(p)}_removeDefaultValues(p){let X=this.constructor.getDefaults(),H=Object.keys(X).length>0?X:Object.getPrototypeOf(this);return vC(p,(A,x)=>{if(x===R0||x===iP||x==="type")return!0;let B=H[x];return A!==B&&!(Array.isArray(A)&&Array.isArray(B)&&A.length===0&&B.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(p){let X=i0(p,W3),H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:A}=H,x=i0(H,M3);return k1(X,x).then((B)=>A?(delete B[A],new this(X[A],B)):new this(B))}static fromObject(p,X){return this._fromObject(p,X)}};O(gX,"stateProperties",V3),O(gX,"cacheProperties",nX),O(gX,"ownDefaults",j3),O(gX,"type","FabricObject"),O(gX,"colorProperties",[jP,nP,"backgroundColor"]),O(gX,"customProperties",[]),X0.setClass(gX),X0.setClass(gX,"object");var mH=(P,p,X)=>(H,A,x,B)=>{let D=p(H,A,x,B);return D&&gC(P,N(N({},yC(H,A,x,B)),X)),D};function a8(P){return(p,X,H,A)=>{let{target:x,originX:B,originY:D}=X,$=x.getRelativeCenterPoint(),h=x.translateToOriginPoint($,B,D),Z=P(p,X,H,A);return x.setPositionByOrigin(h,X.originX,X.originY),Z}}var VC=mH(K1,a8((P,p,X,H)=>{let A=K2(p,p.originX,p.originY,X,H);if(ZP(p.originX)===ZP(Z0)||ZP(p.originX)===ZP(xP)&&A.x<0||ZP(p.originX)===ZP(R0)&&A.x>0){let{target:x}=p,B=x.strokeWidth/(x.strokeUniform?x.scaleX:1),D=BY(p)?2:1,$=x.width,h=Math.abs(A.x*D/x.scaleX)-B;return x.set("width",Math.max(h,1)),$!==x.width}return!1}));function YY(P,p,X,H,A){H=H||{};let x=this.sizeX||H.cornerSize||A.cornerSize,B=this.sizeY||H.cornerSize||A.cornerSize,D=H.transparentCorners!==void 0?H.transparentCorners:A.transparentCorners,$=D?nP:jP,h=!D&&(H.cornerStrokeColor||A.cornerStrokeColor),Z,F=p,Q=X;P.save(),P.fillStyle=H.cornerColor||A.cornerColor||"",P.strokeStyle=H.cornerStrokeColor||A.cornerStrokeColor||"",x>B?(Z=x,P.scale(1,B/x),Q=X*x/B):B>x?(Z=B,P.scale(x/B,1),F=p*B/x):Z=x,P.beginPath(),P.arc(F,Q,Z/2,0,oX,!1),P[$](),h&&P.stroke(),P.restore()}function TY(P,p,X,H,A){H=H||{};let x=this.sizeX||H.cornerSize||A.cornerSize,B=this.sizeY||H.cornerSize||A.cornerSize,D=H.transparentCorners!==void 0?H.transparentCorners:A.transparentCorners,$=D?nP:jP,h=!D&&(H.cornerStrokeColor||A.cornerStrokeColor),Z=x/2,F=B/2;P.save(),P.fillStyle=H.cornerColor||A.cornerColor||"",P.strokeStyle=H.cornerStrokeColor||A.cornerStrokeColor||"",P.translate(p,X);let Q=A.getTotalAngle();P.rotate(pP(Q)),P["".concat($,"Rect")](-Z,-F,x,B),h&&P.strokeRect(-Z,-F,x,B),P.restore()}class aP{constructor(P){O(this,"visible",!0),O(this,"actionName",E2),O(this,"angle",0),O(this,"x",0),O(this,"y",0),O(this,"offsetX",0),O(this,"offsetY",0),O(this,"sizeX",0),O(this,"sizeY",0),O(this,"touchSizeX",0),O(this,"touchSizeY",0),O(this,"cursorStyle","crosshair"),O(this,"withConnection",!1),Object.assign(this,P)}shouldActivate(P,p,X,H){var A;let{tl:x,tr:B,br:D,bl:$}=H;return((A=p.canvas)===null||A===void 0?void 0:A.getActiveObject())===p&&p.isControlVisible(P)&&e0.isPointInPolygon(X,[x,B,D,$])}getActionHandler(P,p,X){return this.actionHandler}getMouseDownHandler(P,p,X){return this.mouseDownHandler}getMouseUpHandler(P,p,X){return this.mouseUpHandler}cursorStyleHandler(P,p,X){return p.cursorStyle}getActionName(P,p,X){return p.actionName}getVisibility(P,p){var X,H;return(X=(H=P._controlsVisibility)===null||H===void 0?void 0:H[p])!==null&&X!==void 0?X:this.visible}setVisibility(P,p,X){this.visible=P}positionHandler(P,p,X,H){return new y(this.x*P.x+this.offsetX,this.y*P.y+this.offsetY).transform(p)}calcCornerCoords(P,p,X,H,A,x){let B=W2([Sx(X,H),zx({angle:P}),M2((A?this.touchSizeX:this.sizeX)||p,(A?this.touchSizeY:this.sizeY)||p)]);return{tl:new y(-0.5,-0.5).transform(B),tr:new y(0.5,-0.5).transform(B),br:new y(0.5,0.5).transform(B),bl:new y(-0.5,0.5).transform(B)}}render(P,p,X,H,A){if(((H=H||{}).cornerStyle||A.cornerStyle)==="circle")YY.call(this,P,p,X,H,A);else TY.call(this,P,p,X,H,A)}}var IY=(P,p,X)=>X.lockRotation?$2:p.cursorStyle,bY=mH(y9,a8((P,p,X,H)=>{let{target:A,ex:x,ey:B,theta:D,originX:$,originY:h}=p,Z=A.translateToOriginPoint(A.getRelativeCenterPoint(),$,h);if(gp(A,"lockRotation"))return!1;let F=Math.atan2(B-Z.y,x-Z.x),Q=Math.atan2(H-Z.y,X-Z.x),j=cH(Q-F+D);if(A.snapAngle&&A.snapAngle>0){let E=A.snapAngle,M=A.snapThreshold||E,I=Math.ceil(j/E)*E,V=Math.floor(j/E)*E;Math.abs(j-V)<M?j=V:Math.abs(j-I)<M&&(j=I)}j<0&&(j=360+j),j%=360;let b=A.angle!==j;return A.angle=j,b}));function EY(P,p){let X=p.canvas,H=P[X.uniScaleKey];return X.uniformScaling&&!H||!X.uniformScaling&&H}function WY(P,p,X){let H=gp(P,"lockScalingX"),A=gp(P,"lockScalingY");if(H&&A)return!0;if(!p&&(H||A)&&X)return!0;if(H&&p==="x")return!0;if(A&&p==="y")return!0;let{width:x,height:B,strokeWidth:D}=P;return x===0&&D===0&&p!=="y"||B===0&&D===0&&p!=="x"}var J3=["e","se","s","sw","w","nw","n","ne","e"],Hx=(P,p,X)=>{let H=EY(P,X);if(WY(X,p.x!==0&&p.y===0?"x":p.x===0&&p.y!==0?"y":"",H))return $2;let A=DY(X,p);return"".concat(J3[A],"-resize")};function aC(P,p,X,H){let A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},x=p.target,B=A.by,D=EY(P,x),$,h,Z,F,Q,j;if(WY(x,B,D))return!1;if(p.gestureScale)h=p.scaleX*p.gestureScale,Z=p.scaleY*p.gestureScale;else{if($=K2(p,p.originX,p.originY,X,H),Q=B!=="y"?Math.sign($.x||p.signX||1):1,j=B!=="x"?Math.sign($.y||p.signY||1):1,p.signX||(p.signX=Q),p.signY||(p.signY=j),gp(x,"lockScalingFlip")&&(p.signX!==Q||p.signY!==j))return!1;if(F=x._getTransformedDimensions(),D&&!B){let M=Math.abs($.x)+Math.abs($.y),{original:I}=p,V=M/(Math.abs(F.x*I.scaleX/x.scaleX)+Math.abs(F.y*I.scaleY/x.scaleY));h=I.scaleX*V,Z=I.scaleY*V}else h=Math.abs($.x*x.scaleX/F.x),Z=Math.abs($.y*x.scaleY/F.y);BY(p)&&(h*=2,Z*=2),p.signX!==Q&&B!=="y"&&(p.originX=j9(p.originX),h*=-1,p.signX=Q),p.signY!==j&&B!=="x"&&(p.originY=j9(p.originY),Z*=-1,p.signY=j)}let{scaleX:b,scaleY:E}=x;return B?(B==="x"&&x.set(_P,h),B==="y"&&x.set(Dp,Z)):(!gp(x,"lockScalingX")&&x.set(_P,h),!gp(x,"lockScalingY")&&x.set(Dp,Z)),b!==x.scaleX||E!==x.scaleY}var j1=mH(b2,a8((P,p,X,H)=>aC(P,p,X,H))),MY=mH(b2,a8((P,p,X,H)=>aC(P,p,X,H,{by:"x"}))),JY=mH(b2,a8((P,p,X,H)=>aC(P,p,X,H,{by:"y"}))),K3=["target","ex","ey","skewingSide"],pC={x:{counterAxis:"y",scale:_P,skew:fx,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Dp,skew:Rx,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},f3=["ns","nesw","ew","nwse"],KY=(P,p,X)=>{if(p.x!==0&&gp(X,"lockSkewingY"))return $2;if(p.y!==0&&gp(X,"lockSkewingX"))return $2;let H=DY(X,p)%4;return"".concat(f3[H],"-resize")};function fY(P,p,X,H,A){let{target:x}=X,{counterAxis:B,origin:D,lockSkewing:$,skew:h,flip:Z}=pC[P];if(gp(x,$))return!1;let{origin:F,flip:Q}=pC[B],j=ZP(X[F])*(x[Q]?-1:1),b=-Math.sign(j)*(x[Z]?-1:1),E=0.5*-((x[h]===0&&K2(X,Z0,Z0,H,A)[P]>0||x[h]>0?1:-1)*b)+0.5;return mH(c9,a8((I,V,Y,T)=>function(J,W,K){let{target:S,ex:_,ey:v,skewingSide:d}=W,f=i0(W,K3),{skew:g}=pC[J],s=K.subtract(new y(_,v)).divide(new y(S.scaleX,S.scaleY))[J],k=S[g],m=f[g],a=Math.tan(pP(m)),o=J==="y"?S._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:S._getTransformedDimensions({scaleX:1,scaleY:1}).y,A0=2*s*d/Math.max(o,1)+a,i=cH(Math.atan(A0));S.set(g,i);let n=k!==S[g];if(n&&J==="y"){let{skewX:w,scaleX:t}=S,H0=S._getTransformedDimensions({skewY:k}),C0=S._getTransformedDimensions(),j0=w!==0?H0.x/C0.x:1;j0!==1&&S.set(_P,j0*t)}return n}(P,V,new y(Y,T))))(p,N(N({},X),{},{[D]:E,skewingSide:b}),H,A)}var RY=(P,p,X,H)=>fY("x",P,p,X,H),SY=(P,p,X,H)=>fY("y",P,p,X,H);function z2(P,p){return P[p.canvas.altActionKey]}var q1=(P,p,X)=>{let H=z2(P,X);return p.x===0?H?fx:Dp:p.y===0?H?Rx:_P:""},_8=(P,p,X)=>z2(P,X)?KY(0,p,X):Hx(P,p,X),jC=(P,p,X,H)=>z2(P,p.target)?SY(P,p,X,H):MY(P,p,X,H),qC=(P,p,X,H)=>z2(P,p.target)?RY(P,p,X,H):JY(P,p,X,H),iC=()=>({ml:new aP({x:-0.5,y:0,cursorStyleHandler:_8,actionHandler:jC,getActionName:q1}),mr:new aP({x:0.5,y:0,cursorStyleHandler:_8,actionHandler:jC,getActionName:q1}),mb:new aP({x:0,y:0.5,cursorStyleHandler:_8,actionHandler:qC,getActionName:q1}),mt:new aP({x:0,y:-0.5,cursorStyleHandler:_8,actionHandler:qC,getActionName:q1}),tl:new aP({x:-0.5,y:-0.5,cursorStyleHandler:Hx,actionHandler:j1}),tr:new aP({x:0.5,y:-0.5,cursorStyleHandler:Hx,actionHandler:j1}),bl:new aP({x:-0.5,y:0.5,cursorStyleHandler:Hx,actionHandler:j1}),br:new aP({x:0.5,y:0.5,cursorStyleHandler:Hx,actionHandler:j1}),mtr:new aP({x:0,y:-0.5,actionHandler:bY,cursorStyleHandler:IY,offsetY:-40,withConnection:!0,actionName:zC})}),zY=()=>({mr:new aP({x:0.5,y:0,actionHandler:VC,cursorStyleHandler:_8,actionName:K1}),ml:new aP({x:-0.5,y:0,actionHandler:VC,cursorStyleHandler:_8,actionName:K1})}),UY=()=>N(N({},iC()),zY());class S1 extends gX{static getDefaults(){return N(N({},super.getDefaults()),S1.ownDefaults)}constructor(P){super(),Object.assign(this,this.constructor.createControls(),S1.ownDefaults),this.setOptions(P)}static createControls(){return{controls:iC()}}_updateCacheCanvas(){let P=this.canvas;if(this.noScaleCache&&P&&P._currentTransform){let p=P._currentTransform,X=p.target,H=p.action;if(this===X&&H&&H.startsWith(E2))return!1}return super._updateCacheCanvas()}getActiveControl(){let P=this.__corner;return P?{key:P,control:this.controls[P],coord:this.oCoords[P]}:void 0}findControl(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let X=Object.entries(this.oCoords);for(let H=X.length-1;H>=0;H--){let[A,x]=X[H],B=this.controls[A];if(B.shouldActivate(A,this,P,p?x.touchCorner:x.corner))return this.__corner=A,{key:A,control:B,coord:this.oCoords[A]}}}calcOCoords(){let P=this.getViewportTransform(),p=this.getCenterPoint(),X=Sx(p.x,p.y),H=zx({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),A=XP(X,H),x=XP(P,A),B=XP(x,[1/P[0],0,0,1/P[3],0,0]),D=this.group?Ex(this.calcTransformMatrix()):void 0;D&&(D.scaleX=Math.abs(D.scaleX),D.scaleY=Math.abs(D.scaleY));let $=this._calculateCurrentDimensions(D),h={};return this.forEachControl((Z,F)=>{let Q=Z.positionHandler($,B,this,Z);h[F]=Object.assign(Q,this._calcCornerCoords(Z,Q))}),h}_calcCornerCoords(P,p){let X=this.getTotalAngle();return{corner:P.calcCornerCoords(X,this.cornerSize,p.x,p.y,!1,this),touchCorner:P.calcCornerCoords(X,this.touchCornerSize,p.x,p.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(P){for(let p in this.controls)P(this.controls[p],p,this)}drawSelectionBackground(P){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;P.save();let p=this.getRelativeCenterPoint(),X=this._calculateCurrentDimensions(),H=this.getViewportTransform();P.translate(p.x,p.y),P.scale(1/H[0],1/H[3]),P.rotate(pP(this.angle)),P.fillStyle=this.selectionBackgroundColor,P.fillRect(-X.x/2,-X.y/2,X.x,X.y),P.restore()}strokeBorders(P,p){P.strokeRect(-p.x/2,-p.y/2,p.x,p.y)}_drawBorders(P,p){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},H=N({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},X);P.save(),P.strokeStyle=H.borderColor,this._setLineDash(P,H.borderDashArray),this.strokeBorders(P,p),H.hasControls&&this.drawControlsConnectingLines(P,p),P.restore()}_renderControls(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:X,hasControls:H}=this,A=N({hasBorders:X,hasControls:H},p),x=this.getViewportTransform(),B=A.hasBorders,D=A.hasControls,$=XP(x,this.calcTransformMatrix()),h=Ex($);P.save(),P.translate(h.translateX,h.translateY),P.lineWidth=this.borderScaleFactor,this.group===this.parent&&(P.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(h.angle-=180),P.rotate(pP(this.group?h.angle:this.angle)),B&&this.drawBorders(P,h,p),D&&this.drawControls(P,p),P.restore()}drawBorders(P,p,X){let H;if(X&&X.forActiveSelection||this.group){let A=J2(this.width,this.height,U1(p)),x=this.isStrokeAccountedForInDimensions()?UC:(this.strokeUniform?new y().scalarAdd(this.canvas?this.canvas.getZoom():1):new y(p.scaleX,p.scaleY)).scalarMultiply(this.strokeWidth);H=A.add(x).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else H=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(P,H,X)}drawControlsConnectingLines(P,p){let X=!1;P.beginPath(),this.forEachControl((H,A)=>{H.withConnection&&H.getVisibility(this,A)&&(X=!0,P.moveTo(H.x*p.x,H.y*p.y),P.lineTo(H.x*p.x+H.offsetX,H.y*p.y+H.offsetY))}),X&&P.stroke()}drawControls(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};P.save();let X=this.getCanvasRetinaScaling(),{cornerStrokeColor:H,cornerDashArray:A,cornerColor:x}=this,B=N({cornerStrokeColor:H,cornerDashArray:A,cornerColor:x},p);P.setTransform(X,0,0,X,0,0),P.strokeStyle=P.fillStyle=B.cornerColor,this.transparentCorners||(P.strokeStyle=B.cornerStrokeColor),this._setLineDash(P,B.cornerDashArray),this.forEachControl((D,$)=>{if(D.getVisibility(this,$)){let h=this.oCoords[$];D.render(P,h.x,h.y,B,this)}}),P.restore()}isControlVisible(P){return this.controls[P]&&this.controls[P].getVisibility(this,P)}setControlVisible(P,p){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[P]=p}setControlsVisibility(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(P).forEach((p)=>{let[X,H]=p;return this.setControlVisible(X,H)})}clearContextTop(P){if(!this.canvas)return;let p=this.canvas.contextTop;if(!p)return;let X=this.canvas.viewportTransform;p.save(),p.transform(X[0],X[1],X[2],X[3],X[4],X[5]),this.transform(p);let H=this.width+4,A=this.height+4;return p.clearRect(-H/2,-A/2,H,A),P||p.restore(),p}onDeselect(P){return!1}onSelect(P){return!1}shouldStartDragging(P){return!1}onDragStart(P){return!1}canDrop(P){return!1}renderDragSourceEffect(P){}renderDropTargetEffect(P){}}function kY(P,p){return p.forEach((X)=>{Object.getOwnPropertyNames(X.prototype).forEach((H)=>{H!=="constructor"&&Object.defineProperty(P.prototype,H,Object.getOwnPropertyDescriptor(X.prototype,H)||Object.create(null))})}),P}O(S1,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:0.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class KP extends S1{}kY(KP,[cC]),X0.setClass(KP),X0.setClass(KP,"object");var GY=(P,p,X,H)=>{let A=2*(H=Math.round(H))+1,{data:x}=P.getImageData(p-H,X-H,A,A);for(let B=3;B<x.length;B+=4)if(x[B]>0)return!1;return!0};class oC{constructor(P){this.options=P,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new y(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new y(1/this.options.scaleX,1/this.options.scaleY):new y(1,1)}createSideVector(P,p){let X=L2(P,p);return this.options.strokeUniform?X.multiply(this.scale):X}projectOrthogonally(P,p,X){return this.applySkew(P.add(this.calcOrthogonalProjection(P,p,X)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(P){let p=new y(P);return p.y+=p.x*Math.tan(pP(this.options.skewY)),p.x+=p.y*Math.tan(pP(this.options.skewX)),p}scaleUnitVector(P,p){return P.multiply(this.strokeUniformScalar).scalarMultiply(p)}}var R3=new y;class bx extends oC{static getOrthogonalRotationFactor(P,p){let X=p?C2(P,p):LY(P);return Math.abs(X)<gH?-1:1}constructor(P,p,X,H){super(H),O(this,"AB",void 0),O(this,"AC",void 0),O(this,"alpha",void 0),O(this,"bisector",void 0),this.A=new y(P),this.B=new y(p),this.C=new y(X),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=C2(this.AB,this.AC),this.bisector=R2(lC(this.AB.eq(R3)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(P,p){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,H=this.createSideVector(P,p),A=mC(H),x=bx.getOrthogonalRotationFactor(A,this.bisector);return this.scaleUnitVector(A,X*x)}projectBevel(){let P=[];return(this.alpha%oX==0?[this.B]:[this.B,this.C]).forEach((p)=>{P.push(this.projectOrthogonally(this.A,p)),P.push(this.projectOrthogonally(this.A,p,-this.strokeProjectionMagnitude))}),P}projectMiter(){let P=[],p=Math.abs(this.alpha),X=1/Math.sin(p/2),H=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*X),A=this.options.strokeUniform?Z2(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return Z2(H)/this.strokeProjectionMagnitude<=A&&P.push(this.applySkew(this.A.add(H))),P.push(...this.projectBevel()),P}projectRoundNoSkew(P,p){let X=[],H=new y(bx.getOrthogonalRotationFactor(this.bisector),bx.getOrthogonalRotationFactor(new y(this.bisector.y,this.bisector.x)));return[new y(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(H),new y(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(H)].forEach((A)=>{FC(A,P,p)&&X.push(this.A.add(A))}),X}projectRoundWithSkew(P,p){let X=[],{skewX:H,skewY:A,scaleX:x,scaleY:B,strokeUniform:D}=this.options,$=new y(Math.tan(pP(H)),Math.tan(pP(A))),h=this.strokeProjectionMagnitude,Z=D?h/B/Math.sqrt(1/B**2+1/x**2*$.y**2):h/Math.sqrt(1+$.y**2),F=new y(Math.sqrt(Math.max(h**2-Z**2,0)),Z),Q=D?h/Math.sqrt(1+$.x**2*(1/B)**2/(1/x+1/x*$.x*$.y)**2):h/Math.sqrt(1+$.x**2/(1+$.x*$.y)**2),j=new y(Q,Math.sqrt(Math.max(h**2-Q**2,0)));return[j,j.scalarMultiply(-1),F,F.scalarMultiply(-1)].map((b)=>this.applySkew(D?b.multiply(this.strokeUniformScalar):b)).forEach((b)=>{FC(b,P,p)&&X.push(this.applySkew(this.A).add(b))}),X}projectRound(){let P=[];P.push(...this.projectBevel());let p=this.alpha%oX==0,X=this.applySkew(this.A),H=P[p?0:2].subtract(X),A=P[p?1:0].subtract(X),x=p?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),B=Ix(H,x)>0,D=B?H:A,$=B?A:H;return this.isSkewed()?P.push(...this.projectRoundWithSkew(D,$)):P.push(...this.projectRoundNoSkew(D,$)),P}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((P)=>({originPoint:this.A,projectedPoint:P,angle:this.alpha,bisector:this.bisector}))}}class YC extends oC{constructor(P,p,X){super(X),this.A=new y(P),this.T=new y(p)}calcOrthogonalProjection(P,p){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,H=this.createSideVector(P,p);return this.scaleUnitVector(mC(H),X)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let P=[];if(!this.isSkewed()&&this.A.eq(this.T)){let p=new y(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);P.push(this.applySkew(this.A.add(p)),this.applySkew(this.A.subtract(p)))}else P.push(...new bx(this.A,this.T,this.T,this.options).projectRound());return P}projectSquare(){let P=[];if(this.A.eq(this.T)){let p=new y(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);P.push(this.A.add(p),this.A.subtract(p))}else{let p=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),X=this.scaleUnitVector(R2(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),H=this.A.add(X);P.push(H.add(p),H.subtract(p))}return P.map((p)=>this.applySkew(p))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((P)=>({originPoint:this.A,projectedPoint:P}))}}var NY=function(P,p){let X=arguments.length>2&&arguments[2]!==void 0&&arguments[2],H=[];if(P.length===0)return H;let A=P.reduce((x,B)=>(x[x.length-1].eq(B)||x.push(new y(B)),x),[new y(P[0])]);if(A.length===1)X=!0;else if(!X){let x=A[0],B=((D,$)=>{for(let h=D.length-1;h>=0;h--)if($(D[h],h,D))return h;return-1})(A,(D)=>!D.eq(x));A.splice(B+1)}return A.forEach((x,B,D)=>{let $,h;B===0?(h=D[1],$=X?x:D[D.length-1]):B===D.length-1?($=D[B-1],h=X?x:D[0]):($=D[B-1],h=D[B+1]),X&&D.length===1?H.push(...new YC(x,x,p).project()):!X||B!==0&&B!==D.length-1?H.push(...new bx(x,$,h,p).project()):H.push(...new YC(x,B===0?h:$,p).project())}),H},nC=(P)=>{let p={};return Object.keys(P).forEach((X)=>{p[X]={},Object.keys(P[X]).forEach((H)=>{p[X][H]=N({},P[X][H])})}),p},OY=(P)=>P.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),U2=(P)=>{let p=[];for(let X,H=0;H<P.length;H++)(X=S3(P,H))!==!1&&p.push(X);return p},S3=(P,p)=>{let X=P.charCodeAt(p);if(isNaN(X))return"";if(X<55296||X>57343)return P.charAt(p);if(55296<=X&&X<=56319){if(P.length<=p+1)throw"High surrogate without following low surrogate";let A=P.charCodeAt(p+1);if(56320>A||A>57343)throw"High surrogate without following low surrogate";return P.charAt(p)+P.charAt(p+1)}if(p===0)throw"Low surrogate without preceding high surrogate";let H=P.charCodeAt(p-1);if(55296>H||H>56319)throw"Low surrogate without preceding high surrogate";return!1},z3=Object.freeze({__proto__:null,capitalize:function(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(P.charAt(0).toUpperCase()).concat(p?P.slice(1):P.slice(1).toLowerCase())},escapeXml:OY,graphemeSplit:U2}),k2=function(P,p){let X=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return P.fill!==p.fill||P.stroke!==p.stroke||P.strokeWidth!==p.strokeWidth||P.fontSize!==p.fontSize||P.fontFamily!==p.fontFamily||P.fontWeight!==p.fontWeight||P.fontStyle!==p.fontStyle||P.textBackgroundColor!==p.textBackgroundColor||P.deltaY!==p.deltaY||X&&(P.overline!==p.overline||P.underline!==p.underline||P.linethrough!==p.linethrough)},wY=(P,p)=>{let X=p.split(`
`),H=[],A=-1,x={};P=nC(P);for(let B=0;B<X.length;B++){let D=U2(X[B]);if(P[B])for(let $=0;$<D.length;$++){A++;let h=P[B][$];h&&Object.keys(h).length>0&&(k2(x,h,!0)?H.push({start:A,end:A+1,style:h}):H[H.length-1].end++),x=h||{}}else A+=D.length,x={}}return H},vY=(P,p)=>{if(!Array.isArray(P))return nC(P);let X=p.split(SC),H={},A=-1,x=0;for(let B=0;B<X.length;B++){let D=U2(X[B]);for(let $=0;$<D.length;$++)A++,P[x]&&P[x].start<=A&&A<P[x].end&&(H[B]=H[B]||{},H[B][$]=N({},P[x].style),A===P[x].end-1&&x++)}return H},uH=["display","transform",jP,"fill-opacity","fill-rule","opacity",nP,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function W9(P,p){let X=P.nodeName,H=P.getAttribute("class"),A=P.getAttribute("id"),B;if(B=new RegExp("^"+X,"i"),p=p.replace(B,""),A&&p.length&&(B=new RegExp("#"+A+"(?![a-zA-Z\\-]+)","i"),p=p.replace(B,"")),H&&p.length){let D=H.split(" ");for(let $=D.length;$--;)B=new RegExp("\\."+D[$]+"(?![a-zA-Z\\-]+)","i"),p=p.replace(B,"")}return p.length===0}function U3(P,p){let X=!0,H=W9(P,p.pop());return H&&p.length&&(X=function(A,x){let B,D=!0;for(;A.parentElement&&A.parentElement.nodeType===1&&x.length;)D&&(B=x.pop()),D=W9(A=A.parentElement,B);return x.length===0}(P,p)),H&&X&&p.length===0}var k3=(P)=>{var p;return(p=F3[P])!==null&&p!==void 0?p:P},G3=new RegExp("(".concat(dp,")"),"gi"),N3=(P)=>P.replace(G3," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),M9,J9,K9,f9,R9,S9,z9,wP="(".concat(dp,")"),O3=String.raw(M9||(M9=lH(["(skewX)(",")"],["(skewX)\\(","\\)"])),wP),w3=String.raw(J9||(J9=lH(["(skewY)(",")"],["(skewY)\\(","\\)"])),wP),v3=String.raw(K9||(K9=lH(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),wP,wP,wP),_3=String.raw(f9||(f9=lH(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),wP,wP),d3=String.raw(R9||(R9=lH(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),wP,wP),g3=String.raw(S9||(S9=lH(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),wP,wP,wP,wP,wP,wP),rC="(?:".concat(g3,"|").concat(d3,"|").concat(v3,"|").concat(_3,"|").concat(O3,"|").concat(w3,")"),y3="(?:".concat(rC,"*)"),c3=String.raw(z9||(z9=lH(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),y3),l3=new RegExp(c3),m3=new RegExp(rC),u3=new RegExp(rC,"g");function TC(P){let p=[];if(!(P=N3(P).replace(/\s*([()])\s*/gi,"$1"))||P&&!l3.test(P))return[...vP];for(let X of P.matchAll(u3)){let H=m3.exec(X[0]);if(!H)continue;let A=vP,x=H.filter((b)=>!!b),[,B,...D]=x,[$,h,Z,F,Q,j]=D.map((b)=>parseFloat(b));switch(B){case"translate":A=Sx($,h);break;case zC:A=zx({angle:$},{x:h,y:Z});break;case E2:A=M2($,h);break;case fx:A=OC($);break;case Rx:A=wC($);break;case"matrix":A=[$,h,Z,F,Q,j]}p.push(A)}return W2(p)}function a3(P,p,X,H){let A=Array.isArray(p),x,B=p;if(P!==jP&&P!==nP||p!==oP){if(P==="strokeUniform")return p==="non-scaling-stroke";if(P==="strokeDashArray")B=p===oP?null:p.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(P==="transformMatrix")B=X&&X.transformMatrix?XP(X.transformMatrix,TC(p)):TC(p);else if(P==="visible")B=p!==oP&&p!=="hidden",X&&X.visible===!1&&(B=!1);else if(P==="opacity")B=parseFloat(p),X&&X.opacity!==void 0&&(B*=X.opacity);else if(P==="textAnchor")B=p==="start"?R0:p==="end"?xP:Z0;else if(P==="charSpacing")x=l8(p,H)/H*1000;else if(P==="paintFirst"){let D=p.indexOf(jP),$=p.indexOf(nP);B=jP,(D>-1&&$>-1&&$<D||D===-1&&$>-1)&&(B=nP)}else{if(P==="href"||P==="xlink:href"||P==="font"||P==="id")return p;if(P==="imageSmoothing")return p==="optimizeQuality";x=A?p.map(l8):l8(p,H)}}else B="";return!A&&isNaN(x)?B:x}function i3(P,p){let X=P.match(C3);if(!X)return;let H=X[1],A=X[3],x=X[4],B=X[5],D=X[6];H&&(p.fontStyle=H),A&&(p.fontWeight=isNaN(parseFloat(A))?A:parseFloat(A)),x&&(p.fontSize=l8(x)),D&&(p.fontFamily=D),B&&(p.lineHeight=B==="normal"?1:B)}function o3(P,p){P.replace(/;\s*$/,"").split(";").forEach((X)=>{if(!X)return;let[H,A]=X.split(":");p[H.trim().toLowerCase()]=A.trim()})}function n3(P){let p={},X=P.getAttribute("style");return X?(typeof X=="string"?o3(X,p):function(H,A){Object.entries(H).forEach((x)=>{let[B,D]=x;D!==void 0&&(A[B.toLowerCase()]=D)})}(X,p),p):p}var r3={stroke:"strokeOpacity",fill:"fillOpacity"};function rX(P,p,X){if(!P)return{};let H,A={},x=RC;P.parentNode&&Y9.test(P.parentNode.nodeName)&&(A=rX(P.parentElement,p,X),A.fontSize&&(H=x=l8(A.fontSize)));let B=N(N(N({},p.reduce((h,Z)=>{let F=P.getAttribute(Z);return F&&(h[Z]=F),h},{})),function(h){let Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F={};for(let Q in Z)U3(h,Q.split(" "))&&(F=N(N({},F),Z[Q]));return F}(P,X)),n3(P));B[e7]&&P.setAttribute(e7,B[e7]),B[s7]&&(H=l8(B[s7],x),B[s7]="".concat(H));let D={};for(let h in B){let Z=k3(h),F=a3(Z,B[h],A,H);D[Z]=F}D&&D.font&&i3(D.font,D);let $=N(N({},A),D);return Y9.test(P.nodeName)?$:function(h){let Z=KP.getDefaults();return Object.entries(r3).forEach((F)=>{let[Q,j]=F;if(h[j]===void 0||h[Q]==="")return;if(h[Q]===void 0){if(!Z[Q])return;h[Q]=Z[Q]}if(h[Q].indexOf("url(")===0)return;let b=new z0(h[Q]);h[Q]=b.setAlpha(a0(b.getAlpha()*h[j],2)).toRgba()}),h}($)}var s3=["left","top","width","height","visible"],_Y=["rx","ry"];class DX extends KP{static getDefaults(){return N(N({},super.getDefaults()),DX.ownDefaults)}constructor(P){super(),Object.assign(this,DX.ownDefaults),this.setOptions(P),this._initRxRy()}_initRxRy(){let{rx:P,ry:p}=this;P&&!p?this.ry=P:p&&!P&&(this.rx=p)}_render(P){let{width:p,height:X}=this,H=-p/2,A=-X/2,x=this.rx?Math.min(this.rx,p/2):0,B=this.ry?Math.min(this.ry,X/2):0,D=x!==0||B!==0;P.beginPath(),P.moveTo(H+x,A),P.lineTo(H+p-x,A),D&&P.bezierCurveTo(H+p-wH*x,A,H+p,A+wH*B,H+p,A+B),P.lineTo(H+p,A+X-B),D&&P.bezierCurveTo(H+p,A+X-wH*B,H+p-wH*x,A+X,H+p-x,A+X),P.lineTo(H+x,A+X),D&&P.bezierCurveTo(H+wH*x,A+X,H,A+X-wH*B,H,A+X-B),P.lineTo(H,A+B),D&&P.bezierCurveTo(H,A+wH*B,H+wH*x,A,H+x,A),P.closePath(),this._renderPaintInOrder(P)}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([..._Y,...P])}_toSVG(){let{width:P,height:p,rx:X,ry:H}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-P/2,'" y="').concat(-p/2,'" rx="').concat(X,'" ry="').concat(H,'" width="').concat(P,'" height="').concat(p,`" />
`)]}static async fromElement(P,p,X){let H=rX(P,this.ATTRIBUTE_NAMES,X),{left:A=0,top:x=0,width:B=0,height:D=0,visible:$=!0}=H,h=i0(H,s3);return new this(N(N(N({},p),h),{},{left:A,top:x,width:B,height:D,visible:Boolean($&&B&&D)}))}}O(DX,"type","Rect"),O(DX,"cacheProperties",[...nX,..._Y]),O(DX,"ownDefaults",{rx:0,ry:0}),O(DX,"ATTRIBUTE_NAMES",[...uH,"x","y","rx","ry","width","height"]),X0.setClass(DX),X0.setSVGClass(DX);var lX="initialization",F2="added",sC="removed",Q2="imperative",dY=(P,p)=>{let{strokeUniform:X,strokeWidth:H,width:A,height:x,group:B}=p,D=B&&B!==P?N1(B.calcTransformMatrix(),P.calcTransformMatrix()):null,$=D?p.getRelativeCenterPoint().transform(D):p.getRelativeCenterPoint(),h=!p.isStrokeAccountedForInDimensions(),Z=X&&h?xY(new y(H,H),void 0,P.calcTransformMatrix()):UC,F=!X&&h?H:0,Q=J2(A+F,x+F,W2([D,p.calcOwnMatrix()],!0)).add(Z).scalarDivide(2);return[$.subtract(Q),$.add(Q)]};class O1{calcLayoutResult(P,p){if(this.shouldPerformLayout(P))return this.calcBoundingBox(p,P)}shouldPerformLayout(P){let{type:p,prevStrategy:X,strategy:H}=P;return p===lX||p===Q2||!!X&&H!==X}shouldLayoutClipPath(P){let{type:p,target:{clipPath:X}}=P;return p!==lX&&X&&!X.absolutePositioned}getInitialSize(P,p){return p.size}calcBoundingBox(P,p){let{type:X,target:H}=p;if(X===Q2&&p.overrides)return p.overrides;if(P.length===0)return;let{left:A,top:x,width:B,height:D}=$X(P.map((Z)=>dY(H,Z)).reduce((Z,F)=>Z.concat(F),[])),$=new y(B,D),h=new y(A,x).add($.scalarDivide(2));if(X===lX){let Z=this.getInitialSize(p,{size:$,center:h});return{center:h,relativeCorrection:new y(0,0),size:Z}}return{center:h.transform(H.calcOwnMatrix()),size:$}}}O(O1,"type","strategy");class V2 extends O1{shouldPerformLayout(P){return!0}}O(V2,"type","fit-content"),X0.setClass(V2);var e3=["strategy"],t3=["target","strategy","bubbles","prevStrategy"],gY="layoutManager";class Jx{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new V2;O(this,"strategy",void 0),this.strategy=P,this._subscriptions=new Map}performLayout(P){let p=N(N({bubbles:!0,strategy:this.strategy},P),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(p);let X=this.getLayoutResult(p);X&&this.commitLayout(p,X),this.onAfterLayout(p,X),this._prevLayoutStrategy=p.strategy}attachHandlers(P,p){let{target:X}=p;return[B2,g9,K1,y9,b2,c9,x2,l9,B3].map((H)=>P.on(H,(A)=>this.performLayout(H===B2?{type:"object_modified",trigger:H,e:A,target:X}:{type:"object_modifying",trigger:H,e:A,target:X})))}subscribe(P,p){this.unsubscribe(P,p);let X=this.attachHandlers(P,p);this._subscriptions.set(P,X)}unsubscribe(P,p){(this._subscriptions.get(P)||[]).forEach((X)=>X()),this._subscriptions.delete(P)}unsubscribeTargets(P){P.targets.forEach((p)=>this.unsubscribe(p,P))}subscribeTargets(P){P.targets.forEach((p)=>this.subscribe(p,P))}onBeforeLayout(P){let{target:p,type:X}=P,{canvas:H}=p;if(X===lX||X===F2?this.subscribeTargets(P):X===sC&&this.unsubscribeTargets(P),p.fire("layout:before",{context:P}),H&&H.fire("object:layout:before",{target:p,context:P}),X===Q2&&P.deep){let A=i0(P,e3);p.forEachObject((x)=>x.layoutManager&&x.layoutManager.performLayout(N(N({},A),{},{bubbles:!1,target:x})))}}getLayoutResult(P){let{target:p,strategy:X,type:H}=P,A=X.calcLayoutResult(P,p.getObjects());if(!A)return;let x=H===lX?new y:p.getRelativeCenterPoint(),{center:B,correction:D=new y,relativeCorrection:$=new y}=A,h=x.subtract(B).add(D).transform(H===lX?vP:Bp(p.calcOwnMatrix()),!0).add($);return{result:A,prevCenter:x,nextCenter:B,offset:h}}commitLayout(P,p){let{target:X}=P,{result:{size:H},nextCenter:A}=p;var x,B;(X.set({width:H.x,height:H.y}),this.layoutObjects(P,p),P.type===lX)?X.set({left:(x=P.x)!==null&&x!==void 0?x:A.x+H.x*ZP(X.originX),top:(B=P.y)!==null&&B!==void 0?B:A.y+H.y*ZP(X.originY)}):(X.setPositionByOrigin(A,Z0,Z0),X.setCoords(),X.set("dirty",!0))}layoutObjects(P,p){let{target:X}=P;X.forEachObject((H)=>{H.group===X&&this.layoutObject(P,p,H)}),P.strategy.shouldLayoutClipPath(P)&&this.layoutObject(P,p,X.clipPath)}layoutObject(P,p,X){let{offset:H}=p;X.set({left:X.left+H.x,top:X.top+H.y})}onAfterLayout(P,p){let{target:X,strategy:H,bubbles:A,prevStrategy:x}=P,B=i0(P,t3),{canvas:D}=X;X.fire("layout:after",{context:P,result:p}),D&&D.fire("object:layout:after",{context:P,result:p,target:X});let $=X.parent;A&&$!=null&&$.layoutManager&&((B.path||(B.path=[])).push(X),$.layoutManager.performLayout(N(N({},B),{},{target:$}))),X.set("dirty",!0)}dispose(){let{_subscriptions:P}=this;P.forEach((p)=>p.forEach((X)=>X())),P.clear()}toObject(){return{type:gY,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}X0.setClass(Jx,gY);var PR=["type","objects","layoutManager"];class yY extends Jx{performLayout(){}}class iX extends u9(KP){static getDefaults(){return N(N({},super.getDefaults()),iX.ownDefaults)}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),O(this,"_activeObjects",[]),O(this,"__objectSelectionTracker",void 0),O(this,"__objectSelectionDisposer",void 0),Object.assign(this,iX.ownDefaults),this.setOptions(p),this.groupInit(P,p)}groupInit(P,p){var X;this._objects=[...P],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((H)=>{this.enterGroup(H,!1)}),this.layoutManager=(X=p.layoutManager)!==null&&X!==void 0?X:new Jx,this.layoutManager.performLayout({type:lX,target:this,targets:[...P],x:p.left,y:p.top})}canEnterGroup(P){return P===this||this.isDescendantOf(P)?(dH("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(P)===-1||(dH("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(P){return P.filter((p,X,H)=>this.canEnterGroup(p)&&H.indexOf(p)===X)}add(){for(var P=arguments.length,p=new Array(P),X=0;X<P;X++)p[X]=arguments[X];let H=this._filterObjectsBeforeEnteringGroup(p),A=super.add(...H);return this._onAfterObjectsChange(F2,H),A}insertAt(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];let A=this._filterObjectsBeforeEnteringGroup(X),x=super.insertAt(P,...A);return this._onAfterObjectsChange(F2,A),x}remove(){let P=super.remove(...arguments);return this._onAfterObjectsChange(sC,P),P}_onObjectAdded(P){this.enterGroup(P,!0),this.fire("object:added",{target:P}),P.fire("added",{target:this})}_onObjectRemoved(P,p){this.exitGroup(P,p),this.fire("object:removed",{target:P}),P.fire("removed",{target:this})}_onAfterObjectsChange(P,p){this.layoutManager.performLayout({type:P,targets:p,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(P,p){let X=this[P];return super._set(P,p),P==="canvas"&&X!==p&&(this._objects||[]).forEach((H)=>{H._set(P,p)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(P,p){let{target:X}=p,H=this._activeObjects;if(P)H.push(X),this._set("dirty",!0);else if(H.length>0){let A=H.indexOf(X);A>-1&&(H.splice(A,1),this._set("dirty",!0))}}_watchObject(P,p){P&&this._watchObject(!1,p),P?(p.on("selected",this.__objectSelectionTracker),p.on("deselected",this.__objectSelectionDisposer)):(p.off("selected",this.__objectSelectionTracker),p.off("deselected",this.__objectSelectionDisposer))}enterGroup(P,p){P.group&&P.group.remove(P),P._set("parent",this),this._enterGroup(P,p)}_enterGroup(P,p){p&&Mx(P,XP(Bp(this.calcTransformMatrix()),P.calcTransformMatrix())),this._shouldSetNestedCoords()&&P.setCoords(),P._set("group",this),P._set("canvas",this.canvas),this._watchObject(!0,P);let X=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();X&&(X===P||P.isDescendantOf(X))&&this._activeObjects.push(P)}exitGroup(P,p){this._exitGroup(P,p),P._set("parent",void 0),P._set("canvas",void 0)}_exitGroup(P,p){P._set("group",void 0),p||(Mx(P,XP(this.calcTransformMatrix(),P.calcTransformMatrix())),P.setCoords()),this._watchObject(!1,P);let X=this._activeObjects.length>0?this._activeObjects.indexOf(P):-1;X>-1&&this._activeObjects.splice(X,1)}shouldCache(){let P=KP.prototype.shouldCache.call(this);if(P){for(let p=0;p<this._objects.length;p++)if(this._objects[p].willDrawShadow())return this.ownCaching=!1,!1}return P}willDrawShadow(){if(super.willDrawShadow())return!0;for(let P=0;P<this._objects.length;P++)if(this._objects[P].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(P,p,X){this._renderBackground(P);for(let A=0;A<this._objects.length;A++){var H;let x=this._objects[A];(H=this.canvas)!==null&&H!==void 0&&H.preserveObjectStacking&&x.group!==this?(P.save(),P.transform(...Bp(this.calcTransformMatrix())),x.render(P),P.restore()):x.group===this&&x.render(P)}this._drawClipPath(P,this.clipPath,X)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((P)=>P.setCoords())}triggerLayout(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(N({target:this,type:Q2},P))}render(P){this._transformDone=!0,super.render(P),this._transformDone=!1}__serializeObjects(P,p){let X=this.includeDefaultValues;return this._objects.filter(function(H){return!H.excludeFromExport}).map(function(H){let A=H.includeDefaultValues;H.includeDefaultValues=X;let x=H[P||"toObject"](p);return H.includeDefaultValues=A,x})}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=this.layoutManager.toObject();return N(N(N({},super.toObject(["subTargetCheck","interactive",...P])),p.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:p}:{}),{},{objects:this.__serializeObjects("toObject",P)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((P)=>{this._watchObject(!1,P),P.dispose()}),super.dispose()}_createSVGBgRect(P){if(!this.backgroundColor)return"";let p=DX.prototype._toSVG.call(this),X=p.indexOf("COMMON_PARTS");p[X]='for="group" ';let H=p.join("");return P?P(H):H}_toSVG(P){let p=["<g ","COMMON_PARTS",` >
`],X=this._createSVGBgRect(P);X&&p.push("\t\t",X);for(let H=0;H<this._objects.length;H++)p.push("\t\t",this._objects[H].toSVG(P));return p.push(`</g>
`),p}getSvgStyles(){let P=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",p=this.visible?"":" visibility: hidden;";return[P,this.getSvgFilter(),p].join("")}toClipPathSVG(P){let p=[],X=this._createSVGBgRect(P);X&&p.push("\t",X);for(let H=0;H<this._objects.length;H++)p.push("\t",this._objects[H].toClipPathSVG(P));return this._createBaseClipPathSVGMarkup(p,{reviver:P})}static fromObject(P,p){let{type:X,objects:H=[],layoutManager:A}=P,x=i0(P,PR);return Promise.all([Wx(H,p),k1(x,p)]).then((B)=>{let[D,$]=B,h=new this(D,N(N(N({},x),$),{},{layoutManager:new yY}));if(A){let Z=X0.getClass(A.type),F=X0.getClass(A.strategy);h.layoutManager=new Z(new F)}else h.layoutManager=new Jx;return h.layoutManager.subscribeTargets({type:lX,target:h,targets:h.getObjects()}),h.setCoords(),h})}}O(iX,"type","Group"),O(iX,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),X0.setClass(iX);var cY=(P,p)=>Math.min(p.width/P.width,p.height/P.height),lY=(P,p)=>Math.max(p.width/P.width,p.height/P.height),IC="\\s*,?\\s*",V1="".concat(IC,"(").concat(dp,")"),pR="".concat(V1).concat(V1).concat(V1).concat(IC,"([01])").concat(IC,"([01])").concat(V1).concat(V1),XR={m:"l",M:"L"},HR=(P,p,X,H,A,x,B,D,$,h,Z)=>{let F=yp(P),Q=cp(P),j=yp(p),b=cp(p),E=X*A*j-H*x*b+B,M=H*A*j+X*x*b+D;return["C",h+$*(-X*A*Q-H*x*F),Z+$*(-H*A*Q+X*x*F),E+$*(X*A*b+H*x*j),M+$*(H*A*b-X*x*j),E,M]},U9=(P,p,X,H)=>{let A=Math.atan2(p,P),x=Math.atan2(H,X);return x>=A?x-A:2*Math.PI-(A-x)};function bC(P,p,X,H,A,x,B,D){let $;if(W0.cachesBoundsOfCurve&&($=[...arguments].join(),I1.boundsOfCurveCache[$]))return I1.boundsOfCurveCache[$];let{sqrt:h,abs:Z}=Math,F=[],Q=[[0,0],[0,0]],j=6*P-12*X+6*A,b=-3*P+9*X-9*A+3*B,E=3*X-3*P;for(let T=0;T<2;++T){if(T>0&&(j=6*p-12*H+6*x,b=-3*p+9*H-9*x+3*D,E=3*H-3*p),Z(b)<0.000000000001){if(Z(j)<0.000000000001)continue;let _=-E/j;0<_&&_<1&&F.push(_);continue}let J=j*j-4*E*b;if(J<0)continue;let W=h(J),K=(-j+W)/(2*b);0<K&&K<1&&F.push(K);let S=(-j-W)/(2*b);0<S&&S<1&&F.push(S)}let M=F.length,I=M,V=uY(P,p,X,H,A,x,B,D);for(;M--;){let{x:T,y:J}=V(F[M]);Q[0][M]=T,Q[1][M]=J}Q[0][I]=P,Q[1][I]=p,Q[0][I+1]=B,Q[1][I+1]=D;let Y=[new y(Math.min(...Q[0]),Math.min(...Q[1])),new y(Math.max(...Q[0]),Math.max(...Q[1]))];return W0.cachesBoundsOfCurve&&(I1.boundsOfCurveCache[$]=Y),Y}var AR=(P,p,X)=>{let[H,A,x,B,D,$,h,Z]=X,F=((Q,j,b,E,M,I,V)=>{if(b===0||E===0)return[];let Y=0,T=0,J=0,W=Math.PI,K=V*fC,S=cp(K),_=yp(K),v=0.5*(-_*Q-S*j),d=0.5*(-_*j+S*Q),f=b**2,g=E**2,s=d**2,k=v**2,m=f*g-f*s-g*k,a=Math.abs(b),o=Math.abs(E);if(m<0){let q0=Math.sqrt(1-m/(f*g));a*=q0,o*=q0}else J=(M===I?-1:1)*Math.sqrt(m/(f*s+g*k));let A0=J*a*d/o,i=-J*o*v/a,n=_*A0-S*i+0.5*Q,w=S*A0+_*i+0.5*j,t=U9(1,0,(v-A0)/a,(d-i)/o),H0=U9((v-A0)/a,(d-i)/o,(-v-A0)/a,(-d-i)/o);I===0&&H0>0?H0-=2*W:I===1&&H0<0&&(H0+=2*W);let C0=Math.ceil(Math.abs(H0/W*2)),j0=[],D0=H0/C0,V0=2.6666666666666665*Math.sin(D0/4)*Math.sin(D0/4)/Math.sin(D0/2),h0=t+D0;for(let q0=0;q0<C0;q0++)j0[q0]=HR(t,h0,_,S,a,o,n,w,V0,Y,T),Y=j0[q0][5],T=j0[q0][6],t=h0,h0+=D0;return j0})(h-P,Z-p,A,x,D,$,B);for(let Q=0,j=F.length;Q<j;Q++)F[Q][1]+=P,F[Q][2]+=p,F[Q][3]+=P,F[Q][4]+=p,F[Q][5]+=P,F[Q][6]+=p;return F},mY=(P)=>{let p=0,X=0,H=0,A=0,x=[],B,D=0,$=0;for(let h of P){let Z=[...h],F;switch(Z[0]){case"l":Z[1]+=p,Z[2]+=X;case"L":p=Z[1],X=Z[2],F=["L",p,X];break;case"h":Z[1]+=p;case"H":p=Z[1],F=["L",p,X];break;case"v":Z[1]+=X;case"V":X=Z[1],F=["L",p,X];break;case"m":Z[1]+=p,Z[2]+=X;case"M":p=Z[1],X=Z[2],H=Z[1],A=Z[2],F=["M",p,X];break;case"c":Z[1]+=p,Z[2]+=X,Z[3]+=p,Z[4]+=X,Z[5]+=p,Z[6]+=X;case"C":D=Z[3],$=Z[4],p=Z[5],X=Z[6],F=["C",Z[1],Z[2],D,$,p,X];break;case"s":Z[1]+=p,Z[2]+=X,Z[3]+=p,Z[4]+=X;case"S":B==="C"?(D=2*p-D,$=2*X-$):(D=p,$=X),p=Z[3],X=Z[4],F=["C",D,$,Z[1],Z[2],p,X],D=F[3],$=F[4];break;case"q":Z[1]+=p,Z[2]+=X,Z[3]+=p,Z[4]+=X;case"Q":D=Z[1],$=Z[2],p=Z[3],X=Z[4],F=["Q",D,$,p,X];break;case"t":Z[1]+=p,Z[2]+=X;case"T":B==="Q"?(D=2*p-D,$=2*X-$):(D=p,$=X),p=Z[1],X=Z[2],F=["Q",D,$,p,X];break;case"a":Z[6]+=p,Z[7]+=X;case"A":AR(p,X,Z).forEach((Q)=>x.push(Q)),p=Z[6],X=Z[7];break;case"z":case"Z":p=H,X=A,F=["Z"]}F?(x.push(F),B=F[0]):B=""}return x},j2=(P,p,X,H)=>Math.sqrt((X-P)**2+(H-p)**2),uY=(P,p,X,H,A,x,B,D)=>($)=>{let h=$**3,Z=((j)=>3*j**2*(1-j))($),F=((j)=>3*j*(1-j)**2)($),Q=((j)=>(1-j)**3)($);return new y(B*h+A*Z+X*F+P*Q,D*h+x*Z+H*F+p*Q)},aY=(P)=>P**2,iY=(P)=>2*P*(1-P),oY=(P)=>(1-P)**2,xR=(P,p,X,H,A,x,B,D)=>($)=>{let h=aY($),Z=iY($),F=oY($),Q=3*(F*(X-P)+Z*(A-X)+h*(B-A)),j=3*(F*(H-p)+Z*(x-H)+h*(D-x));return Math.atan2(j,Q)},BR=(P,p,X,H,A,x)=>(B)=>{let D=aY(B),$=iY(B),h=oY(B);return new y(A*D+X*$+P*h,x*D+H*$+p*h)},DR=(P,p,X,H,A,x)=>(B)=>{let D=1-B,$=2*(D*(X-P)+B*(A-X)),h=2*(D*(H-p)+B*(x-H));return Math.atan2(h,$)},k9=(P,p,X)=>{let H=new y(p,X),A=0;for(let x=1;x<=100;x+=1){let B=P(x/100);A+=j2(H.x,H.y,B.x,B.y),H=B}return A},hR=(P,p)=>{let X,H=0,A=0,x={x:P.x,y:P.y},B=N({},x),D=0.01,$=0,h=P.iterator,Z=P.angleFinder;for(;A<p&&D>0.0001;)B=h(H),$=H,X=j2(x.x,x.y,B.x,B.y),X+A>p?(H-=D,D/=2):(x=B,H+=D,A+=X);return N(N({},B),{},{angle:Z($)})},eC=(P)=>{let p,X,H=0,A=0,x=0,B=0,D=0,$=[];for(let h of P){let Z={x:A,y:x,command:h[0],length:0};switch(h[0]){case"M":X=Z,X.x=B=A=h[1],X.y=D=x=h[2];break;case"L":X=Z,X.length=j2(A,x,h[1],h[2]),A=h[1],x=h[2];break;case"C":p=uY(A,x,h[1],h[2],h[3],h[4],h[5],h[6]),X=Z,X.iterator=p,X.angleFinder=xR(A,x,h[1],h[2],h[3],h[4],h[5],h[6]),X.length=k9(p,A,x),A=h[5],x=h[6];break;case"Q":p=BR(A,x,h[1],h[2],h[3],h[4]),X=Z,X.iterator=p,X.angleFinder=DR(A,x,h[1],h[2],h[3],h[4]),X.length=k9(p,A,x),A=h[3],x=h[4];break;case"Z":X=Z,X.destX=B,X.destY=D,X.length=j2(A,x,B,D),A=B,x=D}H+=X.length,$.push(X)}return $.push({length:H,x:A,y:x}),$},nY=function(P,p){let X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:eC(P),H=0;for(;p-X[H].length>0&&H<X.length-2;)p-=X[H].length,H++;let A=X[H],x=p/A.length,B=P[H];switch(A.command){case"M":return{x:A.x,y:A.y,angle:0};case"Z":return N(N({},new y(A.x,A.y).lerp(new y(A.destX,A.destY),x)),{},{angle:Math.atan2(A.destY-A.y,A.destX-A.x)});case"L":return N(N({},new y(A.x,A.y).lerp(new y(B[1],B[2]),x)),{},{angle:Math.atan2(B[2]-A.y,B[1]-A.x)});case"C":case"Q":return hR(A,p)}},$R=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),G9=new RegExp(pR,"g"),LR=new RegExp(dp,"gi"),ZR={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},rY=(P)=>{var p;let X=[],H=(p=P.match($R))!==null&&p!==void 0?p:[];for(let A of H){let x=A[0];if(x==="z"||x==="Z"){X.push([x]);continue}let B=ZR[x.toLowerCase()],D=[];if(x==="a"||x==="A"){G9.lastIndex=0;for(let $=null;$=G9.exec(A);)D.push(...$.slice(1))}else D=A.match(LR)||[];for(let $=0;$<D.length;$+=B){let h=new Array(B),Z=XR[x];h[0]=$>0&&Z?Z:x;for(let F=0;F<B;F++)h[F+1]=parseFloat(D[$+F]);X.push(h)}}return X},CR=function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=new y(P[0]),H=new y(P[1]),A=1,x=0,B=[],D=P.length,$=D>2,h;for($&&(A=P[2].x<H.x?-1:P[2].x===H.x?0:1,x=P[2].y<H.y?-1:P[2].y===H.y?0:1),B.push(["M",X.x-A*p,X.y-x*p]),h=1;h<D;h++){if(!X.eq(H)){let Z=X.midPointFrom(H);B.push(["Q",X.x,X.y,Z.x,Z.y])}X=P[h],h+1<P.length&&(H=P[h+1])}return $&&(A=X.x>P[h-2].x?1:X.x===P[h-2].x?0:-1,x=X.y>P[h-2].y?1:X.y===P[h-2].y?0:-1),B.push(["L",X.x+A*p,X.y+x*p]),B},sY=(P,p)=>P.map((X)=>X.map((H,A)=>A===0||p===void 0?H:a0(H,p)).join(" ")).join(" ");function q2(P,p){let X=P.style;X&&p&&(typeof p=="string"?X.cssText+=";"+p:Object.entries(p).forEach((H)=>{let[A,x]=H;return X.setProperty(A,x)}))}var FR=(P,p)=>Math.floor(Math.random()*(p-P+1))+P;function QR(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=p.onComplete||c8,H=new(I2()).XMLHttpRequest,A=p.signal,x=function(){H.abort()},B=function(){A&&A.removeEventListener("abort",x),H.onerror=H.ontimeout=c8};if(A&&A.aborted)throw new KC("request");return A&&A.addEventListener("abort",x,{once:!0}),H.onreadystatechange=function(){H.readyState===4&&(B(),X(H),H.onreadystatechange=c8)},H.onerror=H.ontimeout=B,H.open("get",P,!0),H.send(),H}var VR=(P,p)=>{let X=P._findCenterFromElement();P.transformMatrix&&(((H)=>{if(H.transformMatrix){let{scaleX:A,scaleY:x,angle:B,skewX:D}=Ex(H.transformMatrix);H.flipX=!1,H.flipY=!1,H.set(_P,A),H.set(Dp,x),H.angle=B,H.skewX=D,H.skewY=0}})(P),X=X.transform(P.transformMatrix)),delete P.transformMatrix,p&&(P.scaleX*=p.scaleX,P.scaleY*=p.scaleY,P.cropX=p.cropX,P.cropY=p.cropY,X.x+=p.offsetLeft,X.y+=p.offsetTop,P.width=p.width,P.height=p.height),P.setPositionByOrigin(X,Z0,Z0)},nz=Object.freeze({__proto__:null,addTransformToObject:HY,animate:uC,animateColor:jY,applyTransformToObject:Mx,calcAngleBetweenVectors:C2,calcDimensionsMatrix:U1,calcPlaneChangeMatrix:N1,calcVectorRotation:LY,cancelAnimFrame:a9,capValue:m8,composeMatrix:s9,copyCanvasElement:(P)=>{var p;let X=lp(P);return(p=X.getContext("2d"))===null||p===void 0||p.drawImage(P,0,0),X},cos:yp,createCanvasElement:fp,createImage:i9,createRotateMatrix:zx,createScaleMatrix:M2,createSkewXMatrix:OC,createSkewYMatrix:wC,createTranslateMatrix:Sx,createVector:L2,crossProduct:Ix,degreesToRadians:pP,dotProduct:ZY,ease:q3,enlivenObjectEnlivables:k1,enlivenObjects:Wx,findScaleToCover:lY,findScaleToFit:cY,getBoundsOfCurve:bC,getOrthonormalVector:mC,getPathSegmentsInfo:eC,getPointOnPath:nY,getPointer:XY,getRandomInt:FR,getRegularPolygonPath:(P,p)=>{let X=2*Math.PI/P,H=-gH;P%2==0&&(H+=X/2);let A=new Array(P+1);for(let x=0;x<P;x++){let B=x*X+H,{x:D,y:$}=new y(yp(B),cp(B)).scalarMultiply(p);A[x]=[x===0?"M":"L",D,$]}return A[P]=["Z"],A},getSmoothPathFromPoints:CR,getSvgAttributes:(P)=>{let p=["instantiated_by_use","style","id","class"];switch(P){case"linearGradient":return p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return p.concat(["offset","stop-color","stop-opacity"])}return p},getUnitVector:R2,groupSVGElements:(P,p)=>P&&P.length===1?P[0]:new iX(P,p),hasStyleChanged:k2,invertTransform:Bp,isBetweenVectors:FC,isIdentityMatrix:o9,isTouchEvent:h2,isTransparent:GY,joinPath:sY,loadImage:E1,magnitude:Z2,makeBoundingBoxFromPoints:$X,makePathSimpler:mY,matrixToSVG:f1,mergeClipPaths:(P,p)=>{var X;let H=P,A=p;H.inverted&&!A.inverted&&(H=p,A=P),CC(A,(X=A.group)===null||X===void 0?void 0:X.calcTransformMatrix(),H.calcTransformMatrix());let x=H.inverted&&A.inverted;return x&&(H.inverted=A.inverted=!1),new iX([H],{clipPath:A,inverted:x})},multiplyTransformMatrices:XP,multiplyTransformMatrixArray:W2,parsePath:rY,parsePreserveAspectRatioAttribute:e9,parseUnit:l8,pick:u8,projectStrokeOnPoints:NY,qrDecompose:Ex,radiansToDegrees:cH,removeFromArray:N8,removeTransformFromObject:(P,p)=>{let X=Bp(p),H=XP(X,P.calcOwnMatrix());Mx(P,H)},removeTransformMatrixForSvgParsing:VR,request:QR,requestAnimFrame:b1,resetObjectTransform:AY,rotatePoint:(P,p,X)=>P.rotate(X,p),rotateVector:lC,saveObjectTransform:dC,sendObjectToPlane:CC,sendPointToPlane:uX,sendVectorToPlane:xY,setStyle:q2,sin:cp,sizeAfterTransform:J2,string:z3,stylesFromArray:vY,stylesToArray:wY,toBlob:NC,toDataURL:GC,toFixed:a0,transformPath:(P,p,X)=>(X&&(p=XP(p,[1,0,0,1,-X.x,-X.y])),P.map((H)=>{let A=[...H];for(let x=1;x<H.length-1;x+=2){let{x:B,y:D}=zP({x:H[x],y:H[x+1]},p);A[x]=B,A[x+1]=D}return A})),transformPoint:zP});class eY extends _C{constructor(P){let{allowTouchScrolling:p=!1,containerClass:X=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(P),O(this,"upper",void 0),O(this,"container",void 0);let{el:H}=this.lower,A=this.createUpperCanvas();this.upper={el:A,ctx:A.getContext("2d")},this.applyCanvasStyle(H,{allowTouchScrolling:p}),this.applyCanvasStyle(A,{allowTouchScrolling:p,styles:{position:"absolute",left:"0",top:"0"}});let x=this.createContainerElement();x.classList.add(X),H.parentNode&&H.parentNode.replaceChild(x,H),x.append(H,A),this.container=x}createUpperCanvas(){let{el:P}=this.lower,p=fp();return p.className=P.className,p.classList.remove("lower-canvas"),p.classList.add("upper-canvas"),p.setAttribute("data-fabric","top"),p.style.cssText=P.style.cssText,p.setAttribute("draggable","true"),p}createContainerElement(){let P=Kx().createElement("div");return P.setAttribute("data-fabric","wrapper"),q2(P,{position:"relative"}),V9(P),P}applyCanvasStyle(P,p){let{styles:X,allowTouchScrolling:H}=p;q2(P,N(N({},X),{},{"touch-action":H?"manipulation":oP})),V9(P)}setDimensions(P,p){super.setDimensions(P,p);let{el:X,ctx:H}=this.upper;pY(X,H,P,p)}setCSSDimensions(P){super.setCSSDimensions(P),LC(this.upper.el,P),LC(this.container,P)}cleanupDOM(P){let p=this.container,{el:X}=this.lower,{el:H}=this.upper;super.cleanupDOM(P),p.removeChild(H),p.removeChild(X),p.parentNode&&p.parentNode.replaceChild(X,p)}dispose(){super.dispose(),LX().dispose(this.upper.el),delete this.upper,delete this.container}}class G2 extends G1{constructor(){super(...arguments),O(this,"targets",[]),O(this,"_hoveredTargets",[]),O(this,"_objectsToRender",void 0),O(this,"_currentTransform",null),O(this,"_groupSelector",null),O(this,"contextTopDirty",!1)}static getDefaults(){return N(N({},super.getDefaults()),G2.ownDefaults)}get upperCanvasEl(){var P;return(P=this.elements.upper)===null||P===void 0?void 0:P.el}get contextTop(){var P;return(P=this.elements.upper)===null||P===void 0?void 0:P.ctx}get wrapperEl(){return this.elements.container}initElements(P){this.elements=new eY(P,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(P){this._objectsToRender=void 0,super._onObjectAdded(P)}_onObjectRemoved(P){this._objectsToRender=void 0,P===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[P]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[P]}),P.fire("deselected",{target:P})),P===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(P)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let P=this._activeObject;return!this.preserveObjectStacking&&P?this._objects.filter((p)=>!p.group&&p!==P).concat(P):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(P){P.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(P),this.contextTopDirty=!0),P.restore()}renderTop(){let P=this.contextTop;this.clearContext(P),this.renderTopLayer(P),this.fire("after:render",{ctx:P})}setTargetFindTolerance(P){P=Math.round(P),this.targetFindTolerance=P;let p=this.getRetinaScaling(),X=Math.ceil((2*P+1)*p);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=X,this.pixelFindContext.scale(p,p)}isTargetTransparent(P,p,X){let H=this.targetFindTolerance,A=this.pixelFindContext;this.clearContext(A),A.save(),A.translate(-p+H,-X+H),A.transform(...this.viewportTransform);let x=P.selectionBackgroundColor;P.selectionBackgroundColor="",P.render(A),P.selectionBackgroundColor=x,A.restore();let B=Math.round(H*this.getRetinaScaling());return GY(A,B,B,B)}_isSelectionKeyPressed(P){let p=this.selectionKey;return!!p&&(Array.isArray(p)?!!p.find((X)=>!!X&&P[X]===!0):P[p])}_shouldClearSelection(P,p){let X=this.getActiveObjects(),H=this._activeObject;return!!(!p||p&&H&&X.length>1&&X.indexOf(p)===-1&&H!==p&&!this._isSelectionKeyPressed(P)||p&&!p.evented||p&&!p.selectable&&H&&H!==p)}_shouldCenterTransform(P,p,X){if(!P)return;let H;return p===E2||p===_P||p===Dp||p===K1?H=this.centeredScaling||P.centeredScaling:p===zC&&(H=this.centeredRotation||P.centeredRotation),H?!X:X}_getOriginFromCorner(P,p){let X={x:P.originX,y:P.originY};return p?(["ml","tl","bl"].includes(p)?X.x=xP:["mr","tr","br"].includes(p)&&(X.x=R0),["tl","mt","tr"].includes(p)?X.y=$C:["bl","mb","br"].includes(p)&&(X.y=iP),X):X}_setupCurrentTransform(P,p,X){var H;let A=p.group?uX(this.getScenePoint(P),void 0,p.group.calcTransformMatrix()):this.getScenePoint(P),{key:x="",control:B}=p.getActiveControl()||{},D=X&&B?(H=B.getActionHandler(P,p,B))===null||H===void 0?void 0:H.bind(B):hY,$=((Q,j,b,E)=>{if(!j||!Q)return"drag";let M=E.controls[j];return M.getActionName(b,M,E)})(X,x,P,p),h=P[this.centeredKey],Z=this._shouldCenterTransform(p,$,h)?{x:Z0,y:Z0}:this._getOriginFromCorner(p,x),F={target:p,action:$,actionHandler:D,actionPerformed:!1,corner:x,scaleX:p.scaleX,scaleY:p.scaleY,skewX:p.skewX,skewY:p.skewY,offsetX:A.x-p.left,offsetY:A.y-p.top,originX:Z.x,originY:Z.y,ex:A.x,ey:A.y,lastX:A.x,lastY:A.y,theta:pP(p.angle),width:p.width,height:p.height,shiftKey:P.shiftKey,altKey:h,original:N(N({},dC(p)),{},{originX:Z.x,originY:Z.y})};this._currentTransform=F,this.fire("before:transform",{e:P,transform:F})}setCursor(P){this.upperCanvasEl.style.cursor=P}_drawSelection(P){let{x:p,y:X,deltaX:H,deltaY:A}=this._groupSelector,x=new y(p,X).transform(this.viewportTransform),B=new y(p+H,X+A).transform(this.viewportTransform),D=this.selectionLineWidth/2,$=Math.min(x.x,B.x),h=Math.min(x.y,B.y),Z=Math.max(x.x,B.x),F=Math.max(x.y,B.y);this.selectionColor&&(P.fillStyle=this.selectionColor,P.fillRect($,h,Z-$,F-h)),this.selectionLineWidth&&this.selectionBorderColor&&(P.lineWidth=this.selectionLineWidth,P.strokeStyle=this.selectionBorderColor,$+=D,h+=D,Z-=D,F-=D,KP.prototype._setLineDash.call(this,P,this.selectionDashArray),P.strokeRect($,h,Z-$,F-h))}findTarget(P){if(this.skipTargetFind)return;let p=this.getViewportPoint(P),X=this._activeObject,H=this.getActiveObjects();if(this.targets=[],X&&H.length>=1){if(X.findControl(p,h2(P)))return X;if(H.length>1&&this.searchPossibleTargets([X],p))return X;if(X===this.searchPossibleTargets([X],p)){if(this.preserveObjectStacking){let A=this.targets;this.targets=[];let x=this.searchPossibleTargets(this._objects,p);return P[this.altSelectionKey]&&x&&x!==X?(this.targets=A,X):x}return X}}return this.searchPossibleTargets(this._objects,p)}_pointIsInObjectSelectionArea(P,p){let X=P.getCoords(),H=this.getZoom(),A=P.padding/H;if(A){let[x,B,D,$]=X,h=Math.atan2(B.y-x.y,B.x-x.x),Z=yp(h)*A,F=cp(h)*A,Q=Z+F,j=Z-F;X=[new y(x.x-j,x.y-Q),new y(B.x+Q,B.y-j),new y(D.x+j,D.y+Q),new y($.x-Q,$.y+j)]}return e0.isPointInPolygon(p,X)}_checkTarget(P,p){if(P&&P.visible&&P.evented&&this._pointIsInObjectSelectionArea(P,uX(p,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!P.perPixelTargetFind||P.isEditing)return!0;if(!this.isTargetTransparent(P,p.x,p.y))return!0}return!1}_searchPossibleTargets(P,p){let X=P.length;for(;X--;){let H=P[X];if(this._checkTarget(H,p)){if(H2(H)&&H.subTargetCheck){let A=this._searchPossibleTargets(H._objects,p);A&&this.targets.push(A)}return H}}}searchPossibleTargets(P,p){let X=this._searchPossibleTargets(P,p);if(X&&H2(X)&&X.interactive&&this.targets[0]){let H=this.targets;for(let A=H.length-1;A>0;A--){let x=H[A];if(!H2(x)||!x.interactive)return x}return H[0]}return X}getViewportPoint(P){return this._pointer?this._pointer:this.getPointer(P,!0)}getScenePoint(P){return this._absolutePointer?this._absolutePointer:this.getPointer(P)}getPointer(P){let p=arguments.length>1&&arguments[1]!==void 0&&arguments[1],X=this.upperCanvasEl,H=X.getBoundingClientRect(),A=XY(P),x=H.width||0,B=H.height||0;x&&B||((iP in H)&&($C in H)&&(B=Math.abs(H.top-H.bottom)),(xP in H)&&(R0 in H)&&(x=Math.abs(H.right-H.left))),this.calcOffset(),A.x=A.x-this._offset.left,A.y=A.y-this._offset.top,p||(A=uX(A,void 0,this.viewportTransform));let D=this.getRetinaScaling();D!==1&&(A.x/=D,A.y/=D);let $=x===0||B===0?new y(1,1):new y(X.width/x,X.height/B);return A.multiply($)}_setDimensionsImpl(P,p){this._resetTransformEventData(),super._setDimensionsImpl(P,p),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=fp(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let P=this._activeObject;return O8(P)?P.getObjects():P?[P]:[]}_fireSelectionEvents(P,p){let X=!1,H=!1,A=this.getActiveObjects(),x=[],B=[];P.forEach((D)=>{A.includes(D)||(X=!0,D.fire("deselected",{e:p,target:D}),B.push(D))}),A.forEach((D)=>{P.includes(D)||(X=!0,D.fire("selected",{e:p,target:D}),x.push(D))}),P.length>0&&A.length>0?(H=!0,X&&this.fire("selection:updated",{e:p,selected:x,deselected:B})):A.length>0?(H=!0,this.fire("selection:created",{e:p,selected:x})):P.length>0&&(H=!0,this.fire("selection:cleared",{e:p,deselected:B})),H&&(this._objectsToRender=void 0)}setActiveObject(P,p){let X=this.getActiveObjects(),H=this._setActiveObject(P,p);return this._fireSelectionEvents(X,p),H}_setActiveObject(P,p){let X=this._activeObject;return X!==P&&(!(!this._discardActiveObject(p,P)&&this._activeObject)&&(!P.onSelect({e:p})&&(this._activeObject=P,O8(P)&&X!==P&&P.set("canvas",this),P.setCoords(),!0)))}_discardActiveObject(P,p){let X=this._activeObject;return!!X&&(!X.onDeselect({e:P,object:p})&&(this._currentTransform&&this._currentTransform.target===X&&this.endCurrentTransform(P),O8(X)&&X===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0))}discardActiveObject(P){let p=this.getActiveObjects(),X=this.getActiveObject();p.length&&this.fire("before:selection:cleared",{e:P,deselected:[X]});let H=this._discardActiveObject(P);return this._fireSelectionEvents(p,P),H}endCurrentTransform(P){let p=this._currentTransform;this._finalizeCurrentTransform(P),p&&p.target&&(p.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(P){let p=this._currentTransform,X=p.target,H={e:P,target:X,transform:p,action:p.action};X._scaling&&(X._scaling=!1),X.setCoords(),p.actionPerformed&&(this.fire("object:modified",H),X.fire(B2,H))}setViewportTransform(P){super.setViewportTransform(P);let p=this._activeObject;p&&p.setCoords()}destroy(){let P=this._activeObject;O8(P)&&(P.removeAll(),P.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(P){let p=this._activeObject;p&&p._renderControls(P)}_toObject(P,p,X){let H=this._realizeGroupTransformOnObject(P),A=super._toObject(P,p,X);return P.set(H),A}_realizeGroupTransformOnObject(P){let{group:p}=P;if(p&&O8(p)&&this._activeObject===p){let X=u8(P,["angle","flipX","flipY",R0,_P,Dp,fx,Rx,iP]);return HY(P,p.calcOwnMatrix()),X}return{}}_setSVGObject(P,p,X){let H=this._realizeGroupTransformOnObject(p);super._setSVGObject(P,p,X),p.set(H)}}O(G2,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class tY{constructor(P){O(this,"targets",[]),O(this,"__disposer",void 0);let p=()=>{let{hiddenTextarea:H}=P.getActiveObject()||{};H&&H.focus()},X=P.upperCanvasEl;X.addEventListener("click",p),this.__disposer=()=>X.removeEventListener("click",p)}exitTextEditing(){this.target=void 0,this.targets.forEach((P)=>{P.isEditing&&P.exitEditing()})}add(P){this.targets.push(P)}remove(P){this.unregister(P),N8(this.targets,P)}register(P){this.target=P}unregister(P){P===this.target&&(this.target=void 0)}onMouseMove(P){var p;((p=this.target)===null||p===void 0?void 0:p.isEditing)&&this.target.updateSelectionOnMouseMove(P)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}var jR=["target","oldTarget","fireCanvas","e"],xp={passive:!1},Xx=(P,p)=>{let X=P.getViewportPoint(p),H=P.getScenePoint(p);return{viewportPoint:X,scenePoint:H,pointer:X,absolutePointer:H}},vH=function(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];return P.addEventListener(...X)},Jp=function(P){for(var p=arguments.length,X=new Array(p>1?p-1:0),H=1;H<p;H++)X[H-1]=arguments[H];return P.removeEventListener(...X)},qR={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class z1 extends G2{constructor(P){super(P,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),O(this,"_isClick",void 0),O(this,"textEditingManager",new tY(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((p)=>{this[p]=this[p].bind(this)}),this.addOrRemove(vH,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(P,p){let X=this.upperCanvasEl,H=this._getEventPrefix();P(PY(X),"resize",this._onResize),P(X,H+"down",this._onMouseDown),P(X,"".concat(H,"move"),this._onMouseMove,xp),P(X,"".concat(H,"out"),this._onMouseOut),P(X,"".concat(H,"enter"),this._onMouseEnter),P(X,"wheel",this._onMouseWheel),P(X,"contextmenu",this._onContextMenu),P(X,"dblclick",this._onDoubleClick),P(X,"dragstart",this._onDragStart),P(X,"dragend",this._onDragEnd),P(X,"dragover",this._onDragOver),P(X,"dragenter",this._onDragEnter),P(X,"dragleave",this._onDragLeave),P(X,"drop",this._onDrop),this.enablePointerEvents||P(X,"touchstart",this._onTouchStart,xp)}removeListeners(){this.addOrRemove(Jp,"remove");let P=this._getEventPrefix(),p=vp(this.upperCanvasEl);Jp(p,"".concat(P,"up"),this._onMouseUp),Jp(p,"touchend",this._onTouchEnd,xp),Jp(p,"".concat(P,"move"),this._onMouseMove,xp),Jp(p,"touchmove",this._onMouseMove,xp),clearTimeout(this._willAddMouseDown)}_onMouseWheel(P){this.__onMouseWheel(P)}_onMouseOut(P){let p=this._hoveredTarget,X=N({e:P},Xx(this,P));this.fire("mouse:out",N(N({},X),{},{target:p})),this._hoveredTarget=void 0,p&&p.fire("mouseout",N({},X)),this._hoveredTargets.forEach((H)=>{this.fire("mouse:out",N(N({},X),{},{target:H})),H&&H.fire("mouseout",N({},X))}),this._hoveredTargets=[]}_onMouseEnter(P){this._currentTransform||this.findTarget(P)||(this.fire("mouse:over",N({e:P},Xx(this,P))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(P){this._isClick=!1;let p=this.getActiveObject();if(p&&p.onDragStart(P)){this._dragSource=p;let X={e:P,target:p};return this.fire("dragstart",X),p.fire("dragstart",X),void vH(this.upperCanvasEl,"drag",this._onDragProgress)}ZC(P)}_renderDragEffects(P,p,X){let H=!1,A=this._dropTarget;A&&A!==p&&A!==X&&(A.clearContextTop(),H=!0),p==null||p.clearContextTop(),X!==p&&(X==null||X.clearContextTop());let x=this.contextTop;x.save(),x.transform(...this.viewportTransform),p&&(x.save(),p.transform(x),p.renderDragSourceEffect(P),x.restore(),H=!0),X&&(x.save(),X.transform(x),X.renderDropTargetEffect(P),x.restore(),H=!0),x.restore(),H&&(this.contextTopDirty=!0)}_onDragEnd(P){let p=!!P.dataTransfer&&P.dataTransfer.dropEffect!==oP,X=p?this._activeObject:void 0,H={e:P,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:p,dropTarget:X};Jp(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",H),this._dragSource&&this._dragSource.fire("dragend",H),delete this._dragSource,this._onMouseUp(P)}_onDragProgress(P){let p={e:P,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",p),this._dragSource&&this._dragSource.fire("drag",p)}findDragTargets(P){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(P)),targets:[...this.targets]}}_onDragOver(P){let{target:X,targets:H}=this.findDragTargets(P),A=this._dragSource,x={e:P,target:X,subTargets:H,dragSource:A,canDrop:!1,dropTarget:void 0},B;this.fire("dragover",x),this._fireEnterLeaveEvents(X,x),X&&(X.canDrop(P)&&(B=X),X.fire("dragover",x));for(let D=0;D<H.length;D++){let $=H[D];$.canDrop(P)&&(B=$),$.fire("dragover",x)}this._renderDragEffects(P,A,B),this._dropTarget=B}_onDragEnter(P){let{target:p,targets:X}=this.findDragTargets(P),H={e:P,target:p,subTargets:X,dragSource:this._dragSource};this.fire("dragenter",H),this._fireEnterLeaveEvents(p,H)}_onDragLeave(P){let p={e:P,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",p),this._fireEnterLeaveEvents(void 0,p),this._renderDragEffects(P,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(P){let{target:p,targets:X}=this.findDragTargets(P),H=this._basicEventHandler("drop:before",N({e:P,target:p,subTargets:X,dragSource:this._dragSource},Xx(this,P)));H.didDrop=!1,H.dropTarget=void 0,this._basicEventHandler("drop",H),this.fire("drop:after",H)}_onContextMenu(P){let p=this.findTarget(P),X=this.targets||[],H=this._basicEventHandler("contextmenu:before",{e:P,target:p,subTargets:X});return this.stopContextMenu&&ZC(P),this._basicEventHandler("contextmenu",H),!1}_onDoubleClick(P){this._cacheTransformEventData(P),this._handleEvent(P,"dblclick"),this._resetTransformEventData()}getPointerId(P){let p=P.changedTouches;return p?p[0]&&p[0].identifier:this.enablePointerEvents?P.pointerId:-1}_isMainEvent(P){return P.isPrimary===!0||P.isPrimary!==!1&&(P.type==="touchend"&&P.touches.length===0||(!P.changedTouches||P.changedTouches[0].identifier===this.mainTouchId))}_onTouchStart(P){let p=!this.allowTouchScrolling,X=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(P)),this.__onMouseDown(P),(this.isDrawingMode||X&&this._target===X)&&(p=!0),p&&P.preventDefault(),this._resetTransformEventData();let H=this.upperCanvasEl,A=this._getEventPrefix(),x=vp(H);vH(x,"touchend",this._onTouchEnd,xp),p&&vH(x,"touchmove",this._onMouseMove,xp),Jp(H,"".concat(A,"down"),this._onMouseDown)}_onMouseDown(P){this.__onMouseDown(P),this._resetTransformEventData();let p=this.upperCanvasEl,X=this._getEventPrefix();Jp(p,"".concat(X,"move"),this._onMouseMove,xp);let H=vp(p);vH(H,"".concat(X,"up"),this._onMouseUp),vH(H,"".concat(X,"move"),this._onMouseMove,xp)}_onTouchEnd(P){if(P.touches.length>0)return;this.__onMouseUp(P),this._resetTransformEventData(),delete this.mainTouchId;let p=this._getEventPrefix(),X=vp(this.upperCanvasEl);Jp(X,"touchend",this._onTouchEnd,xp),Jp(X,"touchmove",this._onMouseMove,xp),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{vH(this.upperCanvasEl,"".concat(p,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(P){this.__onMouseUp(P),this._resetTransformEventData();let p=this.upperCanvasEl,X=this._getEventPrefix();if(this._isMainEvent(P)){let H=vp(this.upperCanvasEl);Jp(H,"".concat(X,"up"),this._onMouseUp),Jp(H,"".concat(X,"move"),this._onMouseMove,xp),vH(p,"".concat(X,"move"),this._onMouseMove,xp)}}_onMouseMove(P){let p=this.getActiveObject();!this.allowTouchScrolling&&(!p||!p.shouldStartDragging(P))&&P.preventDefault&&P.preventDefault(),this.__onMouseMove(P)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(P){let p=this.getActiveObject();return!!p!=!!P||p&&P&&p!==P}__onMouseUp(P){var p;this._cacheTransformEventData(P),this._handleEvent(P,"up:before");let X=this._currentTransform,H=this._isClick,A=this._target,{button:x}=P;if(x)return(this.fireMiddleClick&&x===1||this.fireRightClick&&x===2)&&this._handleEvent(P,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(P);if(!this._isMainEvent(P))return;let B,D,$=!1;if(X&&(this._finalizeCurrentTransform(P),$=X.actionPerformed),!H){let h=A===this._activeObject;this.handleSelection(P),$||($=this._shouldRender(A)||!h&&A===this._activeObject)}if(A){let h=A.findControl(this.getViewportPoint(P),h2(P)),{key:Z,control:F}=h||{};if(D=Z,A.selectable&&A!==this._activeObject&&A.activeOn==="up")this.setActiveObject(A,P),$=!0;else if(F){let Q=F.getMouseUpHandler(P,A,F);Q&&(B=this.getScenePoint(P),Q.call(F,P,X,B.x,B.y))}A.isMoving=!1}if(X&&(X.target!==A||X.corner!==D)){let h=X.target&&X.target.controls[X.corner],Z=h&&h.getMouseUpHandler(P,X.target,h);B=B||this.getScenePoint(P),Z&&Z.call(h,P,X,B.x,B.y)}this._setCursorFromEvent(P,A),this._handleEvent(P,"up"),this._groupSelector=null,this._currentTransform=null,A&&(A.__corner=void 0),$?this.requestRenderAll():H||(p=this._activeObject)!==null&&p!==void 0&&p.isEditing||this.renderTop()}_basicEventHandler(P,p){let{target:X,subTargets:H=[]}=p;this.fire(P,p),X&&X.fire(P,p);for(let A=0;A<H.length;A++)H[A]!==X&&H[A].fire(P,p);return p}_handleEvent(P,p){let X=this._target,H=this.targets||[],A=N(N({e:P,target:X,subTargets:H},Xx(this,P)),{},{transform:this._currentTransform},p==="up:before"||p==="up"?{isClick:this._isClick,currentTarget:this.findTarget(P),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(p),A),X&&X.fire("mouse".concat(p),A);for(let x=0;x<H.length;x++)H[x]!==X&&H[x].fire("mouse".concat(p),A)}_onMouseDownInDrawingMode(P){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(P),this.requestRenderAll());let p=this.getScenePoint(P);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(p,{e:P,pointer:p}),this._handleEvent(P,"down")}_onMouseMoveInDrawingMode(P){if(this._isCurrentlyDrawing){let p=this.getScenePoint(P);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(p,{e:P,pointer:p})}this.setCursor(this.freeDrawingCursor),this._handleEvent(P,"move")}_onMouseUpInDrawingMode(P){let p=this.getScenePoint(P);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:P,pointer:p}):this._isCurrentlyDrawing=!1,this._handleEvent(P,"up")}__onMouseDown(P){this._isClick=!0,this._cacheTransformEventData(P),this._handleEvent(P,"down:before");let p=this._target,{button:X}=P;if(X)return(this.fireMiddleClick&&X===1||this.fireRightClick&&X===2)&&this._handleEvent(P,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(P);if(!this._isMainEvent(P))return;if(this._currentTransform)return;let H=this._shouldRender(p),A=!1;if(this.handleMultiSelection(P,p)?(p=this._activeObject,A=!0,H=!0):this._shouldClearSelection(P,p)&&this.discardActiveObject(P),this.selection&&(!p||!p.selectable&&!p.isEditing&&p!==this._activeObject)){let x=this.getScenePoint(P);this._groupSelector={x:x.x,y:x.y,deltaY:0,deltaX:0}}if(p){let x=p===this._activeObject;p.selectable&&p.activeOn==="down"&&this.setActiveObject(p,P);let B=p.findControl(this.getViewportPoint(P),h2(P));if(p===this._activeObject&&(B||!A)){this._setupCurrentTransform(P,p,x);let D=B?B.control:void 0,$=this.getScenePoint(P),h=D&&D.getMouseDownHandler(P,p,D);h&&h.call(D,P,this._currentTransform,$.x,$.y)}}H&&(this._objectsToRender=void 0),this._handleEvent(P,"down"),H&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(P){this._resetTransformEventData(),this._pointer=this.getViewportPoint(P),this._absolutePointer=uX(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(P)}__onMouseMove(P){if(this._isClick=!1,this._cacheTransformEventData(P),this._handleEvent(P,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(P);if(!this._isMainEvent(P))return;let p=this._groupSelector;if(p){let X=this.getScenePoint(P);p.deltaX=X.x-p.x,p.deltaY=X.y-p.y,this.renderTop()}else if(this._currentTransform)this._transformObject(P);else{let X=this.findTarget(P);this._setCursorFromEvent(P,X),this._fireOverOutEvents(P,X)}this.textEditingManager.onMouseMove(P),this._handleEvent(P,"move"),this._resetTransformEventData()}_fireOverOutEvents(P,p){let X=this._hoveredTarget,H=this._hoveredTargets,A=this.targets,x=Math.max(H.length,A.length);this.fireSyntheticInOutEvents("mouse",{e:P,target:p,oldTarget:X,fireCanvas:!0});for(let B=0;B<x;B++)this.fireSyntheticInOutEvents("mouse",{e:P,target:A[B],oldTarget:H[B]});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(P,p){let X=this._draggedoverTarget,H=this._hoveredTargets,A=this.targets,x=Math.max(H.length,A.length);this.fireSyntheticInOutEvents("drag",N(N({},p),{},{target:P,oldTarget:X,fireCanvas:!0}));for(let B=0;B<x;B++)this.fireSyntheticInOutEvents("drag",N(N({},p),{},{target:A[B],oldTarget:H[B]}));this._draggedoverTarget=P}fireSyntheticInOutEvents(P,p){let{target:X,oldTarget:H,fireCanvas:A,e:x}=p,B=i0(p,jR),{targetIn:D,targetOut:$,canvasIn:h,canvasOut:Z}=qR[P],F=H!==X;if(H&&F){let Q=N(N({},B),{},{e:x,target:H,nextTarget:X},Xx(this,x));A&&this.fire(Z,Q),H.fire($,Q)}if(X&&F){let Q=N(N({},B),{},{e:x,target:X,previousTarget:H},Xx(this,x));A&&this.fire(h,Q),X.fire(D,Q)}}__onMouseWheel(P){this._cacheTransformEventData(P),this._handleEvent(P,"wheel"),this._resetTransformEventData()}_transformObject(P){let p=this.getScenePoint(P),X=this._currentTransform,H=X.target,A=H.group?uX(p,void 0,H.group.calcTransformMatrix()):p;X.shiftKey=P.shiftKey,X.altKey=!!this.centeredKey&&P[this.centeredKey],this._performTransformAction(P,X,A),X.actionPerformed&&this.requestRenderAll()}_performTransformAction(P,p,X){let{action:H,actionHandler:A,target:x}=p,B=!!A&&A(P,p,X.x,X.y);B&&x.setCoords(),H==="drag"&&B&&(p.target.isMoving=!0,this.setCursor(p.target.moveCursor||this.moveCursor)),p.actionPerformed=p.actionPerformed||B}_setCursorFromEvent(P,p){if(!p)return void this.setCursor(this.defaultCursor);let X=p.hoverCursor||this.hoverCursor,H=O8(this._activeObject)?this._activeObject:null,A=(!H||p.group!==H)&&p.findControl(this.getViewportPoint(P));if(A){let x=A.control;this.setCursor(x.cursorStyleHandler(P,x,p))}else p.subTargetCheck&&this.targets.concat().reverse().map((x)=>{X=x.hoverCursor||X}),this.setCursor(X)}handleMultiSelection(P,p){let X=this._activeObject,H=O8(X);if(X&&this._isSelectionKeyPressed(P)&&this.selection&&p&&p.selectable&&(X!==p||H)&&(H||!p.isDescendantOf(X)&&!X.isDescendantOf(p))&&!p.onSelect({e:P})&&!X.getActiveControl()){if(H){let A=X.getObjects();if(p===X){let x=this.getViewportPoint(P);if(!(p=this.searchPossibleTargets(A,x)||this.searchPossibleTargets(this._objects,x))||!p.selectable)return!1}p.group===X?(X.remove(p),this._hoveredTarget=p,this._hoveredTargets=[...this.targets],X.size()===1&&this._setActiveObject(X.item(0),P)):(X.multiSelectAdd(p),this._hoveredTarget=X,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(A,P)}else{X.isEditing&&X.exitEditing();let A=new(X0.getClass("ActiveSelection"))([],{canvas:this});A.multiSelectAdd(X,p),this._hoveredTarget=A,this._setActiveObject(A,P),this._fireSelectionEvents([X],P)}return!0}return!1}handleSelection(P){if(!this.selection||!this._groupSelector)return!1;let{x:p,y:X,deltaX:H,deltaY:A}=this._groupSelector,x=new y(p,X),B=x.add(new y(H,A)),D=x.min(B),$=x.max(B).subtract(D),h=this.collectObjects({left:D.x,top:D.y,width:$.x,height:$.y},{includeIntersecting:!this.selectionFullyContained}),Z=x.eq(B)?h[0]?[h[0]]:[]:h.length>1?h.filter((F)=>!F.onSelect({e:P})).reverse():h;if(Z.length===1)this.setActiveObject(Z[0],P);else if(Z.length>1){let F=X0.getClass("ActiveSelection");this.setActiveObject(new F(Z,{canvas:this}),P)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}var PT={x1:0,y1:0,x2:0,y2:0},YR=N(N({},PT),{},{r1:0,r2:0}),Ax=(P,p)=>isNaN(P)&&typeof p=="number"?p:P,TR=/^(\d+\.\d+)%|(\d+)%$/;function pT(P){return P&&TR.test(P)}function XT(P,p){let X=typeof P=="number"?P:typeof P=="string"?parseFloat(P)/(pT(P)?100:1):NaN;return m8(0,Ax(X,p),1)}var IR=/\s*;\s*/,bR=/\s*:\s*/;function ER(P,p){let X,H,A=P.getAttribute("style");if(A){let B=A.split(IR);B[B.length-1]===""&&B.pop();for(let D=B.length;D--;){let[$,h]=B[D].split(bR).map((Z)=>Z.trim());$==="stop-color"?X=h:$==="stop-opacity"&&(H=h)}}let x=new z0(X||P.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:XT(P.getAttribute("offset"),0),color:x.toRgb(),opacity:Ax(parseFloat(H||P.getAttribute("stop-opacity")||""),1)*x.getAlpha()*p}}function WR(P,p){let X=[],H=P.getElementsByTagName("stop"),A=XT(p,1);for(let x=H.length;x--;)X.push(ER(H[x],A));return X}function HT(P){return P.nodeName==="linearGradient"||P.nodeName==="LINEARGRADIENT"?"linear":"radial"}function AT(P){return P.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Op(P,p){return P.getAttribute(p)}function MR(P,p){return function(X,H){let A,{width:x,height:B,gradientUnits:D}=H;return Object.keys(X).reduce(($,h)=>{let Z=X[h];return Z==="Infinity"?A=1:Z==="-Infinity"?A=0:(A=typeof Z=="string"?parseFloat(Z):Z,typeof Z=="string"&&pT(Z)&&(A*=0.01,D==="pixels"&&(h!=="x1"&&h!=="x2"&&h!=="r2"||(A*=x),h!=="y1"&&h!=="y2"||(A*=B)))),$[h]=A,$},{})}(HT(P)==="linear"?function(X){return{x1:Op(X,"x1")||0,y1:Op(X,"y1")||0,x2:Op(X,"x2")||"100%",y2:Op(X,"y2")||0}}(P):function(X){return{x1:Op(X,"fx")||Op(X,"cx")||"50%",y1:Op(X,"fy")||Op(X,"cy")||"50%",r1:0,x2:Op(X,"cx")||"50%",y2:Op(X,"cy")||"50%",r2:Op(X,"r")||"50%"}}(P),N(N({},p),{},{gradientUnits:AT(P)}))}class Y1{constructor(P){let{type:p="linear",gradientUnits:X="pixels",coords:H={},colorStops:A=[],offsetX:x=0,offsetY:B=0,gradientTransform:D,id:$}=P||{};Object.assign(this,{type:p,gradientUnits:X,coords:N(N({},p==="radial"?YR:PT),H),colorStops:A,offsetX:x,offsetY:B,gradientTransform:D,id:$?"".concat($,"_").concat(yH()):yH()})}addColorStop(P){for(let p in P){let X=new z0(P[p]);this.colorStops.push({offset:parseFloat(p),color:X.toRgb(),opacity:X.getAlpha()})}return this}toObject(P){return N(N({},u8(this,P)),{},{type:this.type,coords:N({},this.coords),colorStops:this.colorStops.map((p)=>N({},p)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(P){let{additionalTransform:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=[],H=this.gradientTransform?this.gradientTransform.concat():vP.concat(),A=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",x=this.colorStops.map((Z)=>N({},Z)).sort((Z,F)=>Z.offset-F.offset),B=-this.offsetX,D=-this.offsetY;var $;A==="objectBoundingBox"?(B/=P.width,D/=P.height):(B+=P.width/2,D+=P.height/2),($=P)&&typeof $._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(B-=P.pathOffset.x,D-=P.pathOffset.y),H[4]-=B,H[5]-=D;let h=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(A,'"'),'gradientTransform="'.concat(p?p+" ":"").concat(f1(H),'"'),""].join(" ");if(this.type==="linear"){let{x1:Z,y1:F,x2:Q,y2:j}=this.coords;X.push("<linearGradient ",h,' x1="',Z,'" y1="',F,'" x2="',Q,'" y2="',j,`">
`)}else if(this.type==="radial"){let{x1:Z,y1:F,x2:Q,y2:j,r1:b,r2:E}=this.coords,M=b>E;X.push("<radialGradient ",h,' cx="',M?Z:Q,'" cy="',M?F:j,'" r="',M?b:E,'" fx="',M?Q:Z,'" fy="',M?j:F,`">
`),M&&(x.reverse(),x.forEach((V)=>{V.offset=1-V.offset}));let I=Math.min(b,E);if(I>0){let V=I/Math.max(b,E);x.forEach((Y)=>{Y.offset+=V*(1-Y.offset)})}}return x.forEach((Z)=>{let{color:F,offset:Q,opacity:j}=Z;X.push("<stop ",'offset="',100*Q+"%",'" style="stop-color:',F,j!==void 0?";stop-opacity: "+j:";",`"/>
`)}),X.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),X.join("")}toLive(P){let{x1:p,y1:X,x2:H,y2:A,r1:x,r2:B}=this.coords,D=this.type==="linear"?P.createLinearGradient(p,X,H,A):P.createRadialGradient(p,X,x,H,A,B);return this.colorStops.forEach(($)=>{let{color:h,opacity:Z,offset:F}=$;D.addColorStop(F,Z!==void 0?new z0(h).setAlpha(Z).toRgba():h)}),D}static async fromObject(P){let{colorStops:p,gradientTransform:X}=P;return new this(N(N({},P),{},{colorStops:p?p.map((H)=>N({},H)):void 0,gradientTransform:X?[...X]:void 0}))}static fromElement(P,p,X){let H=AT(P),A=p._findCenterFromElement();return new this(N({id:P.getAttribute("id")||void 0,type:HT(P),coords:MR(P,{width:X.viewBoxWidth||X.width,height:X.viewBoxHeight||X.height}),colorStops:WR(P,X.opacity),gradientUnits:H,gradientTransform:TC(P.getAttribute("gradientTransform")||"")},H==="pixels"?{offsetX:p.width/2-A.x,offsetY:p.height/2-A.y}:{offsetX:0,offsetY:0}))}}O(Y1,"type","Gradient"),X0.setClass(Y1,"gradient"),X0.setClass(Y1,"linear"),X0.setClass(Y1,"radial");var JR=["type","source","patternTransform"];class A2{get type(){return"pattern"}set type(P){dH("warn","Setting type has no effect",P)}constructor(P){O(this,"repeat","repeat"),O(this,"offsetX",0),O(this,"offsetY",0),O(this,"crossOrigin",""),this.id=yH(),Object.assign(this,P)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(P){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?P.createPattern(this.source,this.repeat):null}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:p,crossOrigin:X}=this;return N(N({},u8(this,P)),{},{type:"pattern",source:this.sourceToString(),repeat:p,crossOrigin:X,offsetX:a0(this.offsetX,W0.NUM_FRACTION_DIGITS),offsetY:a0(this.offsetY,W0.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(P){let{width:p,height:X}=P,{source:H,repeat:A,id:x}=this,B=Ax(this.offsetX/p,0),D=Ax(this.offsetY/X,0),$=A==="repeat-y"||A==="no-repeat"?1+Math.abs(B||0):Ax(H.width/p,0),h=A==="repeat-x"||A==="no-repeat"?1+Math.abs(D||0):Ax(H.height/X,0);return['<pattern id="SVGID_'.concat(x,'" x="').concat(B,'" y="').concat(D,'" width="').concat($,'" height="').concat(h,'">'),'<image x="0" y="0" width="'.concat(H.width,'" height="').concat(H.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(P,p){let{type:X,source:H,patternTransform:A}=P,x=i0(P,JR),B=await E1(H,N(N({},p),{},{crossOrigin:x.crossOrigin}));return new this(N(N({},x),{},{patternTransform:A&&A.slice(0),source:B}))}}O(A2,"type","Pattern"),X0.setClass(A2),X0.setClass(A2,"pattern");var KR=["path","left","top"],fR=["d"];class w8 extends KP{constructor(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:X,left:H,top:A}=p,x=i0(p,KR);super(),Object.assign(this,w8.ownDefaults),this.setOptions(x),this._setPath(P||[],!0),typeof H=="number"&&this.set(R0,H),typeof A=="number"&&this.set(iP,A)}_setPath(P,p){this.path=mY(Array.isArray(P)?P:rY(P)),this.setBoundingBox(p)}_findCenterFromElement(){let P=this._calcBoundsFromPath();return new y(P.left+P.width/2,P.top+P.height/2)}_renderPathCommands(P){let p=-this.pathOffset.x,X=-this.pathOffset.y;P.beginPath();for(let H of this.path)switch(H[0]){case"L":P.lineTo(H[1]+p,H[2]+X);break;case"M":P.moveTo(H[1]+p,H[2]+X);break;case"C":P.bezierCurveTo(H[1]+p,H[2]+X,H[3]+p,H[4]+X,H[5]+p,H[6]+X);break;case"Q":P.quadraticCurveTo(H[1]+p,H[2]+X,H[3]+p,H[4]+X);break;case"Z":P.closePath()}}_render(P){this._renderPathCommands(P),this._renderPaintInOrder(P)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N(N({},super.toObject(P)),{},{path:this.path.map((p)=>p.slice())})}toDatalessObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=this.toObject(P);return this.sourcePath&&(delete p.path,p.sourcePath=this.sourcePath),p}_toSVG(){let P=sY(this.path,W0.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(P,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let P=W0.NUM_FRACTION_DIGITS;return" translate(".concat(a0(-this.pathOffset.x,P),", ").concat(a0(-this.pathOffset.y,P),")")}toClipPathSVG(P){let p=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:P,additionalTransform:p})}toSVG(P){let p=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:P,additionalTransform:p})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(P){let{width:p,height:X,pathOffset:H}=this._calcDimensions();this.set({width:p,height:X,pathOffset:H}),P&&this.setPositionByOrigin(H,Z0,Z0)}_calcBoundsFromPath(){let P=[],p=0,X=0,H=0,A=0;for(let x of this.path)switch(x[0]){case"L":H=x[1],A=x[2],P.push({x:p,y:X},{x:H,y:A});break;case"M":H=x[1],A=x[2],p=H,X=A;break;case"C":P.push(...bC(H,A,x[1],x[2],x[3],x[4],x[5],x[6])),H=x[5],A=x[6];break;case"Q":P.push(...bC(H,A,x[1],x[2],x[1],x[2],x[3],x[4])),H=x[3],A=x[4];break;case"Z":H=p,A=X}return $X(P)}_calcDimensions(){let P=this._calcBoundsFromPath();return N(N({},P),{},{pathOffset:new y(P.left+P.width/2,P.top+P.height/2)})}static fromObject(P){return this._fromObject(P,{extraParam:"path"})}static async fromElement(P,p,X){let H=rX(P,this.ATTRIBUTE_NAMES,X),{d:A}=H;return new this(A,N(N(N({},i0(H,fR)),p),{},{left:void 0,top:void 0}))}}O(w8,"type","Path"),O(w8,"cacheProperties",[...nX,"path","fillRule"]),O(w8,"ATTRIBUTE_NAMES",[...uH,"d"]),X0.setClass(w8),X0.setSVGClass(w8);var RR=["left","top","radius"],xT=["radius","startAngle","endAngle","counterClockwise"];class yX extends KP{static getDefaults(){return N(N({},super.getDefaults()),yX.ownDefaults)}constructor(P){super(),Object.assign(this,yX.ownDefaults),this.setOptions(P)}_set(P,p){return super._set(P,p),P==="radius"&&this.setRadius(p),this}_render(P){P.beginPath(),P.arc(0,0,this.radius,pP(this.startAngle),pP(this.endAngle),this.counterClockwise),this._renderPaintInOrder(P)}getRadiusX(){return this.get("radius")*this.get(_P)}getRadiusY(){return this.get("radius")*this.get(Dp)}setRadius(P){this.radius=P,this.set({width:2*P,height:2*P})}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...xT,...P])}_toSVG(){let P=(this.endAngle-this.startAngle)%360;if(P===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:p}=this,X=pP(this.startAngle),H=pP(this.endAngle),A=yp(X)*p,x=cp(X)*p,B=yp(H)*p,D=cp(H)*p,$=P>180?1:0,h=this.counterClockwise?0:1;return['<path d="M '.concat(A," ").concat(x," A ").concat(p," ").concat(p," 0 ").concat($," ").concat(h," ").concat(B," ").concat(D,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(P,p,X){let H=rX(P,this.ATTRIBUTE_NAMES,X),{left:A=0,top:x=0,radius:B=0}=H;return new this(N(N({},i0(H,RR)),{},{radius:B,left:A-B,top:x-B}))}static fromObject(P){return super._fromObject(P)}}O(yX,"type","Circle"),O(yX,"cacheProperties",[...nX,...xT]),O(yX,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),O(yX,"ATTRIBUTE_NAMES",["cx","cy","r",...uH]),X0.setClass(yX),X0.setSVGClass(yX);var SR=["x1","y1","x2","y2"],zR=["x1","y1","x2","y2"],EC=["x1","x2","y1","y2"];class v8 extends KP{constructor(){let[P,p,X,H]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,v8.ownDefaults),this.setOptions(A),this.x1=P,this.x2=X,this.y1=p,this.y2=H,this._setWidthHeight();let{left:x,top:B}=A;typeof x=="number"&&this.set(R0,x),typeof B=="number"&&this.set(iP,B)}_setWidthHeight(){let{x1:P,y1:p,x2:X,y2:H}=this;this.width=Math.abs(X-P),this.height=Math.abs(H-p);let{left:A,top:x,width:B,height:D}=$X([{x:P,y:p},{x:X,y:H}]),$=new y(A+B/2,x+D/2);this.setPositionByOrigin($,Z0,Z0)}_set(P,p){return super._set(P,p),EC.includes(P)&&this._setWidthHeight(),this}_render(P){P.beginPath();let p=this.calcLinePoints();P.moveTo(p.x1,p.y1),P.lineTo(p.x2,p.y2),P.lineWidth=this.strokeWidth;let X=P.strokeStyle;var H;Kp(this.stroke)?P.strokeStyle=this.stroke.toLive(P):P.strokeStyle=(H=this.stroke)!==null&&H!==void 0?H:P.fillStyle,this.stroke&&this._renderStroke(P),P.strokeStyle=X}_findCenterFromElement(){return new y((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N(N({},super.toObject(P)),this.calcLinePoints())}_getNonTransformedDimensions(){let P=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(P.y-=this.strokeWidth),this.height===0&&(P.x-=this.strokeWidth)),P}calcLinePoints(){let{x1:P,x2:p,y1:X,y2:H,width:A,height:x}=this,B=P<=p?-1:1,D=X<=H?-1:1;return{x1:B*A/2,x2:B*-A/2,y1:D*x/2,y2:D*-x/2}}_toSVG(){let{x1:P,x2:p,y1:X,y2:H}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(P,'" y1="').concat(X,'" x2="').concat(p,'" y2="').concat(H,`" />
`)]}static async fromElement(P,p,X){let H=rX(P,this.ATTRIBUTE_NAMES,X),{x1:A=0,y1:x=0,x2:B=0,y2:D=0}=H;return new this([A,x,B,D],i0(H,SR))}static fromObject(P){let{x1:p,y1:X,x2:H,y2:A}=P,x=i0(P,zR);return this._fromObject(N(N({},x),{},{points:[p,X,H,A]}),{extraParam:"points"})}}O(v8,"type","Line"),O(v8,"cacheProperties",[...nX,...EC]),O(v8,"ATTRIBUTE_NAMES",uH.concat(EC)),X0.setClass(v8),X0.setSVGClass(v8);class d8 extends KP{static getDefaults(){return N(N({},super.getDefaults()),d8.ownDefaults)}constructor(P){super(),Object.assign(this,d8.ownDefaults),this.setOptions(P)}_render(P){let p=this.width/2,X=this.height/2;P.beginPath(),P.moveTo(-p,X),P.lineTo(0,-X),P.lineTo(p,X),P.closePath(),this._renderPaintInOrder(P)}_toSVG(){let P=this.width/2,p=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-P," ").concat(p,",0 ").concat(-p,",").concat(P," ").concat(p),'" />']}}O(d8,"type","Triangle"),O(d8,"ownDefaults",{width:100,height:100}),X0.setClass(d8),X0.setSVGClass(d8);var BT=["rx","ry"];class cX extends KP{static getDefaults(){return N(N({},super.getDefaults()),cX.ownDefaults)}constructor(P){super(),Object.assign(this,cX.ownDefaults),this.setOptions(P)}_set(P,p){switch(super._set(P,p),P){case"rx":this.rx=p,this.set("width",2*p);break;case"ry":this.ry=p,this.set("height",2*p)}return this}getRx(){return this.get("rx")*this.get(_P)}getRy(){return this.get("ry")*this.get(Dp)}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...BT,...P])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(P){P.beginPath(),P.save(),P.transform(1,0,0,this.ry/this.rx,0,0),P.arc(0,0,this.rx,0,oX,!1),P.restore(),this._renderPaintInOrder(P)}static async fromElement(P,p,X){let H=rX(P,this.ATTRIBUTE_NAMES,X);return H.left=(H.left||0)-H.rx,H.top=(H.top||0)-H.ry,new this(H)}}function UR(P){if(!P)return[];let p=P.replace(/,/g," ").trim().split(/\s+/),X=[];for(let H=0;H<p.length;H+=2)X.push({x:parseFloat(p[H]),y:parseFloat(p[H+1])});return X}O(cX,"type","Ellipse"),O(cX,"cacheProperties",[...nX,...BT]),O(cX,"ownDefaults",{rx:0,ry:0}),O(cX,"ATTRIBUTE_NAMES",[...uH,"cx","cy","rx","ry"]),X0.setClass(cX),X0.setSVGClass(cX);var kR=["left","top"],DT={exactBoundingBox:!1};class wp extends KP{static getDefaults(){return N(N({},super.getDefaults()),wp.ownDefaults)}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),O(this,"strokeDiff",void 0),Object.assign(this,wp.ownDefaults),this.setOptions(p),this.points=P;let{left:X,top:H}=p;this.initialized=!0,this.setBoundingBox(!0),typeof X=="number"&&this.set(R0,X),typeof H=="number"&&this.set(iP,H)}isOpen(){return!0}_projectStrokeOnPoints(P){return NY(this.points,P,this.isOpen())}_calcDimensions(P){P=N({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},P||{});let p=this.exactBoundingBox?this._projectStrokeOnPoints(P).map(($)=>$.projectedPoint):this.points;if(p.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new y,strokeOffset:new y,strokeDiff:new y};let X=$X(p),H=U1(N(N({},P),{},{scaleX:1,scaleY:1})),A=$X(this.points.map(($)=>zP($,H,!0))),x=new y(this.scaleX,this.scaleY),B=X.left+X.width/2,D=X.top+X.height/2;return this.exactBoundingBox&&(B-=D*Math.tan(pP(this.skewX)),D-=B*Math.tan(pP(this.skewY))),N(N({},X),{},{pathOffset:new y(B,D),strokeOffset:new y(A.left,A.top).subtract(new y(X.left,X.top)).multiply(x),strokeDiff:new y(X.width,X.height).subtract(new y(A.width,A.height)).multiply(x)})}_findCenterFromElement(){let P=$X(this.points);return new y(P.left+P.width/2,P.top+P.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(P){let{left:p,top:X,width:H,height:A,pathOffset:x,strokeOffset:B,strokeDiff:D}=this._calcDimensions();this.set({width:H,height:A,pathOffset:x,strokeOffset:B,strokeDiff:D}),P&&this.setPositionByOrigin(new y(p+H/2,X+A/2),Z0,Z0)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new y(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let x;if(Object.keys(P).some((B)=>this.strokeUniform||this.constructor.layoutProperties.includes(B))){var p,X;let{width:B,height:D}=this._calcDimensions(P);x=new y((p=P.width)!==null&&p!==void 0?p:B,(X=P.height)!==null&&X!==void 0?X:D)}else{var H,A;x=new y((H=P.width)!==null&&H!==void 0?H:this.width,(A=P.height)!==null&&A!==void 0?A:this.height)}return x.multiply(new y(P.scaleX||this.scaleX,P.scaleY||this.scaleY))}return super._getTransformedDimensions(P)}_set(P,p){let X=this.initialized&&this[P]!==p,H=super._set(P,p);return this.exactBoundingBox&&X&&((P===_P||P===Dp)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(P))&&this.setDimensions(),H}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N(N({},super.toObject(P)),{},{points:this.points.map((p)=>{let{x:X,y:H}=p;return{x:X,y:H}})})}_toSVG(){let P=[],p=this.pathOffset.x,X=this.pathOffset.y,H=W0.NUM_FRACTION_DIGITS;for(let A=0,x=this.points.length;A<x;A++)P.push(a0(this.points[A].x-p,H),",",a0(this.points[A].y-X,H)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(P.join(""),`" />
`)]}_render(P){let p=this.points.length,X=this.pathOffset.x,H=this.pathOffset.y;if(p&&!isNaN(this.points[p-1].y)){P.beginPath(),P.moveTo(this.points[0].x-X,this.points[0].y-H);for(let A=0;A<p;A++){let x=this.points[A];P.lineTo(x.x-X,x.y-H)}!this.isOpen()&&P.closePath(),this._renderPaintInOrder(P)}}complexity(){return this.points.length}static async fromElement(P,p,X){return new this(UR(P.getAttribute("points")),N(N({},i0(rX(P,this.ATTRIBUTE_NAMES,X),kR)),p))}static fromObject(P){return this._fromObject(P,{extraParam:"points"})}}O(wp,"ownDefaults",DT),O(wp,"type","Polyline"),O(wp,"layoutProperties",[fx,Rx,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),O(wp,"cacheProperties",[...nX,"points"]),O(wp,"ATTRIBUTE_NAMES",[...uH]),X0.setClass(wp),X0.setSVGClass(wp);class T1 extends wp{isOpen(){return!1}}O(T1,"ownDefaults",DT),O(T1,"type","Polygon"),X0.setClass(T1),X0.setSVGClass(T1);var hT=["fontSize","fontWeight","fontFamily","fontStyle"],$T=["underline","overline","linethrough"],LT=[...hT,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],ZT=[...LT,...$T,"textBackgroundColor","direction"],GR=[...hT,...$T,nP,"strokeWidth",jP,"deltaY","textBackgroundColor"],NR={_reNewline:SC,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:R0,fontStyle:"normal",lineHeight:1.16,superscript:{size:0.6,baseline:-0.35},subscript:{size:0.6,baseline:0.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:R0,pathAlign:"baseline",_fontSizeFraction:0.222,offsets:{underline:0.1,linethrough:-0.315,overline:-0.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},hX="justify",Y2="justify-left",W1="justify-right",M1="justify-center";class tC extends KP{isEmptyStyles(P){if(!this.styles)return!0;if(P!==void 0&&!this.styles[P])return!0;let p=P===void 0?this.styles:{line:this.styles[P]};for(let X in p)for(let H in p[X])for(let A in p[X][H])return!1;return!0}styleHas(P,p){if(!this.styles)return!1;if(p!==void 0&&!this.styles[p])return!1;let X=p===void 0?this.styles:{0:this.styles[p]};for(let H in X)for(let A in X[H])if(X[H][A][P]!==void 0)return!0;return!1}cleanStyle(P){if(!this.styles)return!1;let p=this.styles,X,H,A=0,x=!0,B=0;for(let D in p){X=0;for(let $ in p[D]){let h=p[D][$]||{};A++,h[P]!==void 0?(H?h[P]!==H&&(x=!1):H=h[P],h[P]===this[P]&&delete h[P]):x=!1,Object.keys(h).length!==0?X++:delete p[D][$]}X===0&&delete p[D]}for(let D=0;D<this._textLines.length;D++)B+=this._textLines[D].length;x&&A===B&&(this[P]=H,this.removeStyle(P))}removeStyle(P){if(!this.styles)return;let p=this.styles,X,H,A;for(H in p){for(A in X=p[H],X)delete X[A][P],Object.keys(X[A]).length===0&&delete X[A];Object.keys(X).length===0&&delete p[H]}}_extendStyles(P,p){let{lineIndex:X,charIndex:H}=this.get2DCursorLocation(P);this._getLineStyle(X)||this._setLineStyle(X);let A=vC(N(N({},this._getStyleDeclaration(X,H)),p),(x)=>x!==void 0);this._setStyleDeclaration(X,H,A)}getSelectionStyles(P,p,X){let H=[];for(let A=P;A<(p||P);A++)H.push(this.getStyleAtPosition(A,X));return H}getStyleAtPosition(P,p){let{lineIndex:X,charIndex:H}=this.get2DCursorLocation(P);return p?this.getCompleteStyleDeclaration(X,H):this._getStyleDeclaration(X,H)}setSelectionStyles(P,p,X){for(let H=p;H<(X||p);H++)this._extendStyles(H,P);this._forceClearCache=!0}_getStyleDeclaration(P,p){var X;let H=this.styles&&this.styles[P];return H&&(X=H[p])!==null&&X!==void 0?X:{}}getCompleteStyleDeclaration(P,p){return N(N({},u8(this,this.constructor._styleProperties)),this._getStyleDeclaration(P,p))}_setStyleDeclaration(P,p,X){this.styles[P][p]=X}_deleteStyleDeclaration(P,p){delete this.styles[P][p]}_getLineStyle(P){return!!this.styles[P]}_setLineStyle(P){this.styles[P]={}}_deleteLineStyle(P){delete this.styles[P]}}O(tC,"_styleProperties",GR);var OR=/  +/g,wR=/"/g;function XC(P,p,X,H,A){return"\t\t".concat(function(x,B){let{left:D,top:$,width:h,height:Z}=B,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W0.NUM_FRACTION_DIGITS,Q=R1(jP,x,!1),[j,b,E,M]=[D,$,h,Z].map((I)=>a0(I,F));return"<rect ".concat(Q,' x="').concat(j,'" y="').concat(b,'" width="').concat(E,'" height="').concat(M,'"></rect>')}(P,{left:p,top:X,width:H,height:A}),`
`)}var vR=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],HC;class OP extends tC{static getDefaults(){return N(N({},super.getDefaults()),OP.ownDefaults)}constructor(P,p){super(),O(this,"__charBounds",[]),Object.assign(this,OP.ownDefaults),this.setOptions(p),this.styles||(this.styles={}),this.text=P,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let P=this.path;P&&(P.segmentsInfo=eC(P.path))}_splitText(){let P=this._splitTextIntoLines(this.text);return this.textLines=P.lines,this._textLines=P.graphemeLines,this._unwrappedTextLines=P._unwrappedLines,this._text=P.graphemeText,P}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(hX)&&this.enlargeSpaces()}enlargeSpaces(){let P,p,X,H,A,x,B;for(let D=0,$=this._textLines.length;D<$;D++)if((this.textAlign===hX||D!==$-1&&!this.isEndOfWrapping(D))&&(H=0,A=this._textLines[D],p=this.getLineWidth(D),p<this.width&&(B=this.textLines[D].match(this._reSpacesAndTabs)))){X=B.length,P=(this.width-p)/X;for(let h=0;h<=A.length;h++)x=this.__charBounds[D][h],this._reSpaceAndTab.test(A[h])?(x.width+=P,x.kernedWidth+=P,x.left+=H,H+=P):x.left+=H}}isEndOfWrapping(P){return P===this._textLines.length-1}missingNewlineOffset(P){return 1}get2DCursorLocation(P,p){let X=p?this._unwrappedTextLines:this._textLines,H;for(H=0;H<X.length;H++){if(P<=X[H].length)return{lineIndex:H,charIndex:P};P-=X[H].length+this.missingNewlineOffset(H,p)}return{lineIndex:H-1,charIndex:X[H-1].length<P?X[H-1].length:P}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let P=super._getCacheCanvasDimensions(),p=this.fontSize;return P.width+=p*P.zoomX,P.height+=p*P.zoomY,P}_render(P){let p=this.path;p&&!p.isNotVisible()&&p._render(P),this._setTextStyles(P),this._renderTextLinesBackground(P),this._renderTextDecoration(P,"underline"),this._renderText(P),this._renderTextDecoration(P,"overline"),this._renderTextDecoration(P,"linethrough")}_renderText(P){this.paintFirst===nP?(this._renderTextStroke(P),this._renderTextFill(P)):(this._renderTextFill(P),this._renderTextStroke(P))}_setTextStyles(P,p,X){if(P.textBaseline="alphabetic",this.path)switch(this.pathAlign){case Z0:P.textBaseline="middle";break;case"ascender":P.textBaseline=iP;break;case"descender":P.textBaseline=$C}P.font=this._getFontDeclaration(p,X)}calcTextWidth(){let P=this.getLineWidth(0);for(let p=1,X=this._textLines.length;p<X;p++){let H=this.getLineWidth(p);H>P&&(P=H)}return P}_renderTextLine(P,p,X,H,A,x){this._renderChars(P,p,X,H,A,x)}_renderTextLinesBackground(P){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let p=P.fillStyle,X=this._getLeftOffset(),H=this._getTopOffset();for(let A=0,x=this._textLines.length;A<x;A++){let B=this.getHeightOfLine(A);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",A)){H+=B;continue}let D=this._textLines[A].length,$=this._getLineLeftOffset(A),h,Z,F=0,Q=0,j=this.getValueOfPropertyAt(A,0,"textBackgroundColor");for(let b=0;b<D;b++){let E=this.__charBounds[A][b];Z=this.getValueOfPropertyAt(A,b,"textBackgroundColor"),this.path?(P.save(),P.translate(E.renderLeft,E.renderTop),P.rotate(E.angle),P.fillStyle=Z,Z&&P.fillRect(-E.width/2,-B/this.lineHeight*(1-this._fontSizeFraction),E.width,B/this.lineHeight),P.restore()):Z!==j?(h=X+$+Q,this.direction==="rtl"&&(h=this.width-h-F),P.fillStyle=j,j&&P.fillRect(h,H,F,B/this.lineHeight),Q=E.left,F=E.width,j=Z):F+=E.kernedWidth}Z&&!this.path&&(h=X+$+Q,this.direction==="rtl"&&(h=this.width-h-F),P.fillStyle=Z,P.fillRect(h,H,F,B/this.lineHeight)),H+=B}P.fillStyle=p,this._removeShadow(P)}_measureChar(P,p,X,H){let A=I1.getFontCache(p),x=this._getFontDeclaration(p),B=X+P,D=X&&x===this._getFontDeclaration(H),$=p.fontSize/this.CACHE_FONT_SIZE,h,Z,F,Q;if(X&&A[X]!==void 0&&(F=A[X]),A[P]!==void 0&&(Q=h=A[P]),D&&A[B]!==void 0&&(Z=A[B],Q=Z-F),h===void 0||F===void 0||Z===void 0){let j=function(){if(!HC)HC=lp({width:0,height:0}).getContext("2d");return HC}();this._setTextStyles(j,p,!0),h===void 0&&(Q=h=j.measureText(P).width,A[P]=h),F===void 0&&D&&X&&(F=j.measureText(X).width,A[X]=F),D&&Z===void 0&&(Z=j.measureText(B).width,A[B]=Z,Q=Z-F)}return{width:h*$,kernedWidth:Q*$}}getHeightOfChar(P,p){return this.getValueOfPropertyAt(P,p,"fontSize")}measureLine(P){let p=this._measureLine(P);return this.charSpacing!==0&&(p.width-=this._getWidthOfCharSpacing()),p.width<0&&(p.width=0),p}_measureLine(P){let p,X,H=0,A=this.pathSide===xP,x=this.path,B=this._textLines[P],D=B.length,$=new Array(D);this.__charBounds[P]=$;for(let h=0;h<D;h++){let Z=B[h];X=this._getGraphemeBox(Z,P,h,p),$[h]=X,H+=X.kernedWidth,p=Z}if($[D]={left:X?X.left+X.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},x&&x.segmentsInfo){let h=0,Z=x.segmentsInfo[x.segmentsInfo.length-1].length;switch(this.textAlign){case R0:h=A?Z-H:0;break;case Z0:h=(Z-H)/2;break;case xP:h=A?0:Z-H}h+=this.pathStartOffset*(A?-1:1);for(let F=A?D-1:0;A?F>=0:F<D;A?F--:F++)X=$[F],h>Z?h%=Z:h<0&&(h+=Z),this._setGraphemeOnPath(h,X),h+=X.kernedWidth}return{width:H,numOfSpaces:0}}_setGraphemeOnPath(P,p){let X=P+p.kernedWidth/2,H=this.path,A=nY(H.path,X,H.segmentsInfo);p.renderLeft=A.x-H.pathOffset.x,p.renderTop=A.y-H.pathOffset.y,p.angle=A.angle+(this.pathSide===xP?Math.PI:0)}_getGraphemeBox(P,p,X,H,A){let x=this.getCompleteStyleDeclaration(p,X),B=H?this.getCompleteStyleDeclaration(p,X-1):{},D=this._measureChar(P,x,H,B),$,h=D.kernedWidth,Z=D.width;this.charSpacing!==0&&($=this._getWidthOfCharSpacing(),Z+=$,h+=$);let F={width:Z,left:0,height:x.fontSize,kernedWidth:h,deltaY:x.deltaY};if(X>0&&!A){let Q=this.__charBounds[p][X-1];F.left=Q.left+Q.width+D.kernedWidth-D.width}return F}getHeightOfLine(P){if(this.__lineHeights[P])return this.__lineHeights[P];let p=this.getHeightOfChar(P,0);for(let X=1,H=this._textLines[P].length;X<H;X++)p=Math.max(this.getHeightOfChar(P,X),p);return this.__lineHeights[P]=p*this.lineHeight*this._fontSizeMult}calcTextHeight(){let P,p=0;for(let X=0,H=this._textLines.length;X<H;X++)P=this.getHeightOfLine(X),p+=X===H-1?P/this.lineHeight:P;return p}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(P,p){P.save();let X=0,H=this._getLeftOffset(),A=this._getTopOffset();for(let x=0,B=this._textLines.length;x<B;x++){let D=this.getHeightOfLine(x),$=D/this.lineHeight,h=this._getLineLeftOffset(x);this._renderTextLine(p,P,this._textLines[x],H+h,A+X+$,x),X+=D}P.restore()}_renderTextFill(P){(this.fill||this.styleHas(jP))&&this._renderTextCommon(P,"fillText")}_renderTextStroke(P){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(P),P.save(),this._setLineDash(P,this.strokeDashArray),P.beginPath(),this._renderTextCommon(P,"strokeText"),P.closePath(),P.restore())}_renderChars(P,p,X,H,A,x){let B=this.getHeightOfLine(x),D=this.textAlign.includes(hX),$=this.path,h=!D&&this.charSpacing===0&&this.isEmptyStyles(x)&&!$,Z=this.direction==="ltr",F=this.direction==="ltr"?1:-1,Q=p.direction,j,b,E,M,I,V="",Y=0;if(p.save(),Q!==this.direction&&(p.canvas.setAttribute("dir",Z?"ltr":"rtl"),p.direction=Z?"ltr":"rtl",p.textAlign=Z?R0:xP),A-=B*this._fontSizeFraction/this.lineHeight,h)return this._renderChar(P,p,x,0,X.join(""),H,A),void p.restore();for(let T=0,J=X.length-1;T<=J;T++)M=T===J||this.charSpacing||$,V+=X[T],E=this.__charBounds[x][T],Y===0?(H+=F*(E.kernedWidth-E.width),Y+=E.width):Y+=E.kernedWidth,D&&!M&&this._reSpaceAndTab.test(X[T])&&(M=!0),M||(j=j||this.getCompleteStyleDeclaration(x,T),b=this.getCompleteStyleDeclaration(x,T+1),M=k2(j,b,!1)),M&&($?(p.save(),p.translate(E.renderLeft,E.renderTop),p.rotate(E.angle),this._renderChar(P,p,x,T,V,-Y/2,0),p.restore()):(I=H,this._renderChar(P,p,x,T,V,I,A)),V="",j=b,H+=F*Y,Y=0);p.restore()}_applyPatternGradientTransformText(P){let p=this.width+this.strokeWidth,X=this.height+this.strokeWidth,H=lp({width:p,height:X}),A=H.getContext("2d");return H.width=p,H.height=X,A.beginPath(),A.moveTo(0,0),A.lineTo(p,0),A.lineTo(p,X),A.lineTo(0,X),A.closePath(),A.translate(p/2,X/2),A.fillStyle=P.toLive(A),this._applyPatternGradientTransform(A,P),A.fill(),A.createPattern(H,"no-repeat")}handleFiller(P,p,X){let H,A;return Kp(X)?X.gradientUnits==="percentage"||X.gradientTransform||X.patternTransform?(H=-this.width/2,A=-this.height/2,P.translate(H,A),P[p]=this._applyPatternGradientTransformText(X),{offsetX:H,offsetY:A}):(P[p]=X.toLive(P),this._applyPatternGradientTransform(P,X)):(P[p]=X,{offsetX:0,offsetY:0})}_setStrokeStyles(P,p){let{stroke:X,strokeWidth:H}=p;return P.lineWidth=H,P.lineCap=this.strokeLineCap,P.lineDashOffset=this.strokeDashOffset,P.lineJoin=this.strokeLineJoin,P.miterLimit=this.strokeMiterLimit,this.handleFiller(P,"strokeStyle",X)}_setFillStyles(P,p){let{fill:X}=p;return this.handleFiller(P,"fillStyle",X)}_renderChar(P,p,X,H,A,x,B){let D=this._getStyleDeclaration(X,H),$=this.getCompleteStyleDeclaration(X,H),h=P==="fillText"&&$.fill,Z=P==="strokeText"&&$.stroke&&$.strokeWidth;if(Z||h){if(p.save(),p.font=this._getFontDeclaration($),D.textBackgroundColor&&this._removeShadow(p),D.deltaY&&(B+=D.deltaY),h){let F=this._setFillStyles(p,$);p.fillText(A,x-F.offsetX,B-F.offsetY)}if(Z){let F=this._setStrokeStyles(p,$);p.strokeText(A,x-F.offsetX,B-F.offsetY)}p.restore()}}setSuperscript(P,p){this._setScript(P,p,this.superscript)}setSubscript(P,p){this._setScript(P,p,this.subscript)}_setScript(P,p,X){let H=this.get2DCursorLocation(P,!0),A=this.getValueOfPropertyAt(H.lineIndex,H.charIndex,"fontSize"),x=this.getValueOfPropertyAt(H.lineIndex,H.charIndex,"deltaY"),B={fontSize:A*X.size,deltaY:x+A*X.baseline};this.setSelectionStyles(B,P,p)}_getLineLeftOffset(P){let p=this.getLineWidth(P),X=this.width-p,H=this.textAlign,A=this.direction,x=this.isEndOfWrapping(P),B=0;return H===hX||H===M1&&!x||H===W1&&!x||H===Y2&&!x?0:(H===Z0&&(B=X/2),H===xP&&(B=X),H===M1&&(B=X/2),H===W1&&(B=X),A==="rtl"&&(H===xP||H===hX||H===W1?B=0:H===R0||H===Y2?B=-X:H!==Z0&&H!==M1||(B=-X/2)),B)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(P){if(this.__lineWidths[P]!==void 0)return this.__lineWidths[P];let{width:p}=this.measureLine(P);return this.__lineWidths[P]=p,p}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1000:0}getValueOfPropertyAt(P,p,X){var H;return(H=this._getStyleDeclaration(P,p)[X])!==null&&H!==void 0?H:this[X]}_renderTextDecoration(P,p){if(!this[p]&&!this.styleHas(p))return;let X=this._getTopOffset(),H=this._getLeftOffset(),A=this.path,x=this._getWidthOfCharSpacing(),B=this.offsets[p];for(let D=0,$=this._textLines.length;D<$;D++){let h=this.getHeightOfLine(D);if(!this[p]&&!this.styleHas(p,D)){X+=h;continue}let Z=this._textLines[D],F=h/this.lineHeight,Q=this._getLineLeftOffset(D),j,b,E=0,M=0,I=this.getValueOfPropertyAt(D,0,p),V=this.getValueOfPropertyAt(D,0,jP),Y=X+F*(1-this._fontSizeFraction),T=this.getHeightOfChar(D,0),J=this.getValueOfPropertyAt(D,0,"deltaY");for(let K=0,S=Z.length;K<S;K++){let _=this.__charBounds[D][K];j=this.getValueOfPropertyAt(D,K,p),b=this.getValueOfPropertyAt(D,K,jP);let v=this.getHeightOfChar(D,K),d=this.getValueOfPropertyAt(D,K,"deltaY");if(A&&j&&b)P.save(),P.fillStyle=V,P.translate(_.renderLeft,_.renderTop),P.rotate(_.angle),P.fillRect(-_.kernedWidth/2,B*v+d,_.kernedWidth,this.fontSize/15),P.restore();else if((j!==I||b!==V||v!==T||d!==J)&&M>0){let f=H+Q+E;this.direction==="rtl"&&(f=this.width-f-M),I&&V&&(P.fillStyle=V,P.fillRect(f,Y+B*T+J,M,this.fontSize/15)),E=_.left,M=_.width,I=j,V=b,T=v,J=d}else M+=_.kernedWidth}let W=H+Q+E;this.direction==="rtl"&&(W=this.width-W-M),P.fillStyle=b,j&&b&&P.fillRect(W,Y+B*T+J,M-x,this.fontSize/15),X+=h}this._removeShadow(P)}_getFontDeclaration(){let{fontFamily:P=this.fontFamily,fontStyle:p=this.fontStyle,fontWeight:X=this.fontWeight,fontSize:H=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=arguments.length>1?arguments[1]:void 0,x=P.includes("'")||P.includes('"')||P.includes(",")||OP.genericFonts.includes(P.toLowerCase())?P:'"'.concat(P,'"');return[p,X,"".concat(A?this.CACHE_FONT_SIZE:H,"px"),x].join(" ")}render(P){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(P)))}graphemeSplit(P){return U2(P)}_splitTextIntoLines(P){let p=P.split(this._reNewline),X=new Array(p.length),H=[`
`],A=[];for(let x=0;x<p.length;x++)X[x]=this.graphemeSplit(p[x]),A=A.concat(X[x],H);return A.pop(),{_unwrappedLines:X,lines:p,graphemeText:A,graphemeLines:X}}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N(N({},super.toObject([...ZT,...P])),{},{styles:wY(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(P,p){let{textLayoutProperties:X}=this.constructor;super.set(P,p);let H=!1,A=!1;if(typeof P=="object")for(let x in P)x==="path"&&this.setPathInfo(),H=H||X.includes(x),A=A||x==="path";else H=X.includes(P),A=P==="path";return A&&this.setPathInfo(),H&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(P,p,X){let H=rX(P,OP.ATTRIBUTE_NAMES,X),A=N(N({},p),H),{textAnchor:x=R0,textDecoration:B="",dx:D=0,dy:$=0,top:h=0,left:Z=0,fontSize:F=RC,strokeWidth:Q=1}=A,j=i0(A,vR),b=new this((P.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),N({left:Z+D,top:h+$,underline:B.includes("underline"),overline:B.includes("overline"),linethrough:B.includes("line-through"),strokeWidth:0,fontSize:F},j)),E=b.getScaledHeight()/b.height,M=((b.height+b.strokeWidth)*b.lineHeight-b.height)*E,I=b.getScaledHeight()+M,V=0;return x===Z0&&(V=b.getScaledWidth()/2),x===xP&&(V=b.getScaledWidth()),b.set({left:b.left-V,top:b.top-(I-b.fontSize*(0.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:Q}),b}static fromObject(P){return this._fromObject(N(N({},P),{},{styles:vY(P.styles||{},P.text)}),{extraParam:"text"})}}O(OP,"textLayoutProperties",LT),O(OP,"cacheProperties",[...nX,...ZT]),O(OP,"ownDefaults",NR),O(OP,"type","Text"),O(OP,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),O(OP,"ATTRIBUTE_NAMES",uH.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),kY(OP,[class extends cC{_toSVG(){let P=this._getSVGLeftTopOffsets(),p=this._getSVGTextAndBg(P.textTop,P.textLeft);return this._wrapSVGTextAndBg(p)}toSVG(P){return this._createBaseSVGMarkup(this._toSVG(),{reviver:P,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(P){let{textBgRects:p,textSpans:X}=P,H=this.getSvgTextDecoration(this);return[p.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(wR,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",H?'text-decoration="'.concat(H,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",X.join(""),`</text>
`]}_getSVGTextAndBg(P,p){let X=[],H=[],A,x=P;this.backgroundColor&&H.push(...XC(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let B=0,D=this._textLines.length;B<D;B++)A=this._getLineLeftOffset(B),this.direction==="rtl"&&(A+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",B))&&this._setSVGTextLineBg(H,B,p+A,x),this._setSVGTextLineText(X,B,p+A,x),x+=this.getHeightOfLine(B);return{textSpans:X,textBgRects:H}}_createTextCharSpan(P,p,X,H){let A=this.getSvgSpanStyles(p,P!==P.trim()||!!P.match(OR)),x=A?'style="'.concat(A,'"'):"",B=p.deltaY,D=B?' dy="'.concat(a0(B,W0.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(a0(X,W0.NUM_FRACTION_DIGITS),'" y="').concat(a0(H,W0.NUM_FRACTION_DIGITS),'" ').concat(D).concat(x,">").concat(OY(P),"</tspan>")}_setSVGTextLineText(P,p,X,H){let A=this.getHeightOfLine(p),x=this.textAlign.includes(hX),B=this._textLines[p],D,$,h,Z,F,Q="",j=0;H+=A*(1-this._fontSizeFraction)/this.lineHeight;for(let b=0,E=B.length-1;b<=E;b++)F=b===E||this.charSpacing,Q+=B[b],h=this.__charBounds[p][b],j===0?(X+=h.kernedWidth-h.width,j+=h.width):j+=h.kernedWidth,x&&!F&&this._reSpaceAndTab.test(B[b])&&(F=!0),F||(D=D||this.getCompleteStyleDeclaration(p,b),$=this.getCompleteStyleDeclaration(p,b+1),F=k2(D,$,!0)),F&&(Z=this._getStyleDeclaration(p,b),P.push(this._createTextCharSpan(Q,Z,X,H)),Q="",D=$,this.direction==="rtl"?X-=j:X+=j,j=0)}_setSVGTextLineBg(P,p,X,H){let A=this._textLines[p],x=this.getHeightOfLine(p)/this.lineHeight,B,D=0,$=0,h=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(let Z=0;Z<A.length;Z++){let{left:F,width:Q,kernedWidth:j}=this.__charBounds[p][Z];B=this.getValueOfPropertyAt(p,Z,"textBackgroundColor"),B!==h?(h&&P.push(...XC(h,X+$,H,D,x)),$=F,D=Q,h=B):D+=j}B&&P.push(...XC(h,X+$,H,D,x))}_getSVGLineTopOffset(P){let p,X=0;for(p=0;p<P;p++)X+=this.getHeightOfLine(p);let H=this.getHeightOfLine(p);return{lineTop:X,offset:(this._fontSizeMult-this._fontSizeFraction)*H/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(P){return"".concat(super.getSvgStyles(P)," white-space: pre;")}getSvgSpanStyles(P,p){let{fontFamily:X,strokeWidth:H,stroke:A,fill:x,fontSize:B,fontStyle:D,fontWeight:$,deltaY:h}=P,Z=this.getSvgTextDecoration(P);return[A?R1(nP,A):"",H?"stroke-width: ".concat(H,"; "):"",X?"font-family: ".concat(X.includes("'")||X.includes('"')?X:"'".concat(X,"'"),"; "):"",B?"font-size: ".concat(B,"px; "):"",D?"font-style: ".concat(D,"; "):"",$?"font-weight: ".concat($,"; "):"",Z?"text-decoration: ".concat(Z,"; "):Z,x?R1(jP,x):"",h?"baseline-shift: ".concat(-h,"; "):"",p?"white-space: pre; ":""].join("")}getSvgTextDecoration(P){return["overline","underline","line-through"].filter((p)=>P[p.replace("-","")]).join(" ")}}]),X0.setClass(OP),X0.setSVGClass(OP);class CT{constructor(P){O(this,"target",void 0),O(this,"__mouseDownInPlace",!1),O(this,"__dragStartFired",!1),O(this,"__isDraggingOver",!1),O(this,"__dragStartSelection",void 0),O(this,"__dragImageDisposer",void 0),O(this,"_dispose",void 0),this.target=P;let p=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{p.forEach((X)=>X()),this._dispose=void 0}}isPointerOverSelection(P){let p=this.target,X=p.getSelectionStartFromPointer(P);return p.isEditing&&X>=p.selectionStart&&X<=p.selectionEnd&&p.selectionStart<p.selectionEnd}start(P){return this.__mouseDownInPlace=this.isPointerOverSelection(P)}isActive(){return this.__mouseDownInPlace}end(P){let p=this.isActive();return p&&!this.__dragStartFired&&(this.target.setCursorByClick(P),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,p}getDragStartSelection(){return this.__dragStartSelection}setDragImage(P,p){var X;let{selectionStart:H,selectionEnd:A}=p,x=this.target,B=x.canvas,D=new y(x.flipX?-1:1,x.flipY?-1:1),$=x._getCursorBoundaries(H),h=new y($.left+$.leftOffset,$.top+$.topOffset).multiply(D).transform(x.calcTransformMatrix()),Z=B.getScenePoint(P).subtract(h),F=x.getCanvasRetinaScaling(),Q=x.getBoundingRect(),j=h.subtract(new y(Q.left,Q.top)),b=B.viewportTransform,E=j.add(Z).transform(b,!0),M=x.backgroundColor,I=nC(x.styles);x.backgroundColor="";let V={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};x.setSelectionStyles(V,0,H),x.setSelectionStyles(V,A,x.text.length),x.dirty=!0;let Y=x.toCanvasElement({enableRetinaScaling:B.enableRetinaScaling,viewportTransform:!0});x.backgroundColor=M,x.styles=I,x.dirty=!0,q2(Y,{position:"fixed",left:"".concat(-Y.width,"px"),border:oP,width:"".concat(Y.width/F,"px"),height:"".concat(Y.height/F,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{Y.remove()},vp(P.target||this.target.hiddenTextarea).body.appendChild(Y),(X=P.dataTransfer)===null||X===void 0||X.setDragImage(Y,E.x,E.y)}onDragStart(P){this.__dragStartFired=!0;let p=this.target,X=this.isActive();if(X&&P.dataTransfer){let H=this.__dragStartSelection={selectionStart:p.selectionStart,selectionEnd:p.selectionEnd},A=p._text.slice(H.selectionStart,H.selectionEnd).join(""),x=N({text:p.text,value:A},H);P.dataTransfer.setData("text/plain",A),P.dataTransfer.setData("application/fabric",JSON.stringify({value:A,styles:p.getSelectionStyles(H.selectionStart,H.selectionEnd,!0)})),P.dataTransfer.effectAllowed="copyMove",this.setDragImage(P,x)}return p.abortCursorAnimation(),X}canDrop(P){if(this.target.editable&&!this.target.getActiveControl()&&!P.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let p=this.target.getSelectionStartFromPointer(P),X=this.__dragStartSelection;return p<X.selectionStart||p>X.selectionEnd}return!0}return!1}targetCanDrop(P){return this.target.canDrop(P)}dragEnterHandler(P){let{e:p}=P,X=this.targetCanDrop(p);!this.__isDraggingOver&&X&&(this.__isDraggingOver=!0)}dragOverHandler(P){let{e:p}=P,X=this.targetCanDrop(p);!this.__isDraggingOver&&X?this.__isDraggingOver=!0:this.__isDraggingOver&&!X&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(p.preventDefault(),P.canDrop=!0,P.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(P){var p;let{e:X}=P,H=X.defaultPrevented;this.__isDraggingOver=!1,X.preventDefault();let A=(p=X.dataTransfer)===null||p===void 0?void 0:p.getData("text/plain");if(A&&!H){let x=this.target,B=x.canvas,D=x.getSelectionStartFromPointer(X),{styles:$}=X.dataTransfer.types.includes("application/fabric")?JSON.parse(X.dataTransfer.getData("application/fabric")):{},h=A[Math.max(0,A.length-1)],Z=0;if(this.__dragStartSelection){let F=this.__dragStartSelection.selectionStart,Q=this.__dragStartSelection.selectionEnd;D>F&&D<=Q?D=F:D>Q&&(D-=Q-F),x.removeChars(F,Q),delete this.__dragStartSelection}x._reNewline.test(h)&&(x._reNewline.test(x._text[D])||D===x._text.length)&&(A=A.trimEnd()),P.didDrop=!0,P.dropTarget=x,x.insertChars(A,$,D),B.setActiveObject(x),x.enterEditing(X),x.selectionStart=Math.min(D+Z,x._text.length),x.selectionEnd=Math.min(x.selectionStart+A.length,x._text.length),x.hiddenTextarea.value=x.text,x._updateTextarea(),x.hiddenTextarea.focus(),x.fire(x2,{index:D+Z,action:"drop"}),B.fire("text:changed",{target:x}),B.contextTopDirty=!0,B.requestRenderAll()}}dragEndHandler(P){let{e:p}=P;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var X;let H=this.target,A=this.target.canvas,{selectionStart:x,selectionEnd:B}=this.__dragStartSelection,D=((X=p.dataTransfer)===null||X===void 0?void 0:X.dropEffect)||oP;D===oP?(H.selectionStart=x,H.selectionEnd=B,H._updateTextarea(),H.hiddenTextarea.focus()):(H.clearContextTop(),D==="move"&&(H.removeChars(x,B),H.selectionStart=H.selectionEnd=x,H.hiddenTextarea&&(H.hiddenTextarea.value=H.text),H._updateTextarea(),H.fire(x2,{index:x,action:"dragend"}),A.fire("text:changed",{target:H}),A.requestRenderAll()),H.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}var N9=/[ \n\.,;!\?\-]/;class FT extends OP{constructor(){super(...arguments),O(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(P){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(P)}_animateCursor(P){let{toValue:p,duration:X,delay:H,onComplete:A}=P;return uC({startValue:this._currentCursorOpacity,endValue:p,duration:X,delay:H,onComplete:A,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:(x)=>{this._currentCursorOpacity=x,this.renderCursorOrSelection()}})}_tick(P){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(P||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var P;(P=this._currentTickCompleteState)===null||P===void 0||P.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(P){this.abortCursorAnimation(),this._tick(P?0:this.cursorDelay)}abortCursorAnimation(){let P=!1;[this._currentTickState,this._currentTickCompleteState].forEach((p)=>{p&&!p.isDone()&&(P=!0,p.abort())}),this._currentCursorOpacity=1,P&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((P)=>!P||P.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(P){let p=0,X=P-1;if(this._reSpace.test(this._text[X]))for(;this._reSpace.test(this._text[X]);)p++,X--;for(;/\S/.test(this._text[X])&&X>-1;)p++,X--;return P-p}findWordBoundaryRight(P){let p=0,X=P;if(this._reSpace.test(this._text[X]))for(;this._reSpace.test(this._text[X]);)p++,X++;for(;/\S/.test(this._text[X])&&X<this._text.length;)p++,X++;return P+p}findLineBoundaryLeft(P){let p=0,X=P-1;for(;!/\n/.test(this._text[X])&&X>-1;)p++,X--;return P-p}findLineBoundaryRight(P){let p=0,X=P;for(;!/\n/.test(this._text[X])&&X<this._text.length;)p++,X++;return P+p}searchWordBoundary(P,p){let X=this._text,H=P>0&&this._reSpace.test(X[P])&&(p===-1||!SC.test(X[P-1]))?P-1:P,A=X[H];for(;H>0&&H<X.length&&!N9.test(A);)H+=p,A=X[H];return p===-1&&N9.test(A)&&H++,H}selectWord(P){P=P||this.selectionStart;let p=this.searchWordBoundary(P,-1),X=Math.max(p,this.searchWordBoundary(P,1));this.selectionStart=p,this.selectionEnd=X,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(P){P=P||this.selectionStart;let p=this.findLineBoundaryLeft(P),X=this.findLineBoundaryRight(P);return this.selectionStart=p,this.selectionEnd=X,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(P){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",P?{e:P}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:P}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(P){if(this.getActiveControl())return;let p=this.hiddenTextarea;vp(p).activeElement!==p&&p.focus();let X=this.getSelectionStartFromPointer(P),H=this.selectionStart,A=this.selectionEnd;(X===this.__selectionStartOnMouseDown&&H!==A||H!==X&&A!==X)&&(X>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=X):(this.selectionStart=X,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===H&&this.selectionEnd===A||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(P,p,X){let H=X.slice(0,P),A=this.graphemeSplit(H).length;if(P===p)return{selectionStart:A,selectionEnd:A};let x=X.slice(P,p);return{selectionStart:A,selectionEnd:A+this.graphemeSplit(x).length}}fromGraphemeToStringSelection(P,p,X){let H=X.slice(0,P).join("").length;if(P===p)return{selectionStart:H,selectionEnd:H};return{selectionStart:H,selectionEnd:H+X.slice(P,p).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let P=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=P.selectionStart,this.hiddenTextarea.selectionEnd=P.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let P=this.hiddenTextarea;this.text=P.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let p=this.fromStringToGraphemeSelection(P.selectionStart,P.selectionEnd,P.value);this.selectionEnd=this.selectionStart=p.selectionEnd,this.inCompositionMode||(this.selectionStart=p.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let P=this._calcTextareaPosition();this.hiddenTextarea.style.left=P.left,this.hiddenTextarea.style.top=P.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let P=this.inCompositionMode?this.compositionStart:this.selectionStart,p=this._getCursorBoundaries(P),X=this.get2DCursorLocation(P),H=X.lineIndex,A=X.charIndex,x=this.getValueOfPropertyAt(H,A,"fontSize")*this.lineHeight,B=p.leftOffset,D=this.getCanvasRetinaScaling(),$=this.canvas.upperCanvasEl,h=$.width/D,Z=$.height/D,F=h-x,Q=Z-x,j=new y(p.left+B,p.top+p.topOffset+x).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new y($.clientWidth/h,$.clientHeight/Z));return j.x<0&&(j.x=0),j.x>F&&(j.x=F),j.y<0&&(j.y=0),j.y>Q&&(j.y=Q),j.x+=this.canvas._offset.left,j.y+=this.canvas._offset.top,{left:"".concat(j.x,"px"),top:"".concat(j.y,"px"),fontSize:"".concat(x,"px"),charHeight:x}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let P=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,P&&(P.blur&&P.blur(),P.parentNode&&P.parentNode.removeChild(P)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){let P=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),P&&this.fire(B2),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),P&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let P in this.styles)this._textLines[P]||delete this.styles[P]}removeStyleFromTo(P,p){let{lineIndex:X,charIndex:H}=this.get2DCursorLocation(P,!0),{lineIndex:A,charIndex:x}=this.get2DCursorLocation(p,!0);if(X!==A){if(this.styles[X])for(let B=H;B<this._unwrappedTextLines[X].length;B++)delete this.styles[X][B];if(this.styles[A])for(let B=x;B<this._unwrappedTextLines[A].length;B++){let D=this.styles[A][B];D&&(this.styles[X]||(this.styles[X]={}),this.styles[X][H+B-x]=D)}for(let B=X+1;B<=A;B++)delete this.styles[B];this.shiftLineStyles(A,X-A)}else if(this.styles[X]){let B=this.styles[X],D=x-H;for(let $=H;$<x;$++)delete B[$];for(let $ in this.styles[X]){let h=parseInt($,10);h>=x&&(B[h-D]=B[$],delete B[$])}}}shiftLineStyles(P,p){let X=Object.assign({},this.styles);for(let H in this.styles){let A=parseInt(H,10);A>P&&(this.styles[A+p]=X[A],X[A-p]||delete this.styles[A])}}insertNewlineStyleObject(P,p,X,H){let A={},x=this._unwrappedTextLines[P].length,B=x===p,D=!1;X||(X=1),this.shiftLineStyles(P,X);let $=this.styles[P]?this.styles[P][p===0?p:p-1]:void 0;for(let Z in this.styles[P]){let F=parseInt(Z,10);F>=p&&(D=!0,A[F-p]=this.styles[P][Z],B&&p===0||delete this.styles[P][Z])}let h=!1;for(D&&!B&&(this.styles[P+X]=A,h=!0),(h||x>p)&&X--;X>0;)H&&H[X-1]?this.styles[P+X]={0:N({},H[X-1])}:$?this.styles[P+X]={0:N({},$)}:delete this.styles[P+X],X--;this._forceClearCache=!0}insertCharStyleObject(P,p,X,H){this.styles||(this.styles={});let A=this.styles[P],x=A?N({},A):{};X||(X=1);for(let D in x){let $=parseInt(D,10);$>=p&&(A[$+X]=x[$],x[$-X]||delete A[$])}if(this._forceClearCache=!0,H){for(;X--;)Object.keys(H[X]).length&&(this.styles[P]||(this.styles[P]={}),this.styles[P][p+X]=N({},H[X]));return}if(!A)return;let B=A[p?p-1:1];for(;B&&X--;)this.styles[P][p+X]=N({},B)}insertNewStyleBlock(P,p,X){let H=this.get2DCursorLocation(p,!0),A=[0],x,B=0;for(let D=0;D<P.length;D++)P[D]===`
`?(B++,A[B]=0):A[B]++;for(A[0]>0&&(this.insertCharStyleObject(H.lineIndex,H.charIndex,A[0],X),X=X&&X.slice(A[0]+1)),B&&this.insertNewlineStyleObject(H.lineIndex,H.charIndex+A[0],B),x=1;x<B;x++)A[x]>0?this.insertCharStyleObject(H.lineIndex+x,0,A[x],X):X&&this.styles[H.lineIndex+x]&&X[0]&&(this.styles[H.lineIndex+x][0]=X[0]),X=X&&X.slice(A[x]+1);A[x]>0&&this.insertCharStyleObject(H.lineIndex+x,0,A[x],X)}removeChars(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P+1;this.removeStyleFromTo(P,p),this._text.splice(P,p-P),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(P,p,X){let H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X;H>X&&this.removeStyleFromTo(X,H);let A=this.graphemeSplit(P);this.insertNewStyleBlock(A,X,p),this._text=[...this._text.slice(0,X),...A,...this._text.slice(H)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(P,p,X){X<=P?(p===P?this._selectionDirection=R0:this._selectionDirection===xP&&(this._selectionDirection=R0,this.selectionEnd=P),this.selectionStart=X):X>P&&X<p?this._selectionDirection===xP?this.selectionEnd=X:this.selectionStart=X:(p===P?this._selectionDirection=xP:this._selectionDirection===R0&&(this._selectionDirection=xP,this.selectionStart=p),this.selectionEnd=X)}}class QT extends FT{initHiddenTextarea(){let P=this.canvas&&vp(this.canvas.getElement())||Kx(),p=P.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map((x)=>{let[B,D]=x;return p.setAttribute(B,D)});let{top:X,left:H,fontSize:A}=this._calcTextareaPosition();p.style.cssText="position: absolute; top: ".concat(X,"; left: ").concat(H,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(A,";"),(this.hiddenTextareaContainer||P.body).appendChild(p),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((x)=>{let[B,D]=x;return p.addEventListener(B,this[D].bind(this))}),this.hiddenTextarea=p}blur(){this.abortCursorAnimation()}onKeyDown(P){if(!this.isEditing)return;let p=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(P.keyCode in p)this[p[P.keyCode]](P);else{if(!(P.keyCode in this.ctrlKeysMapDown)||!P.ctrlKey&&!P.metaKey)return;this[this.ctrlKeysMapDown[P.keyCode]](P)}P.stopImmediatePropagation(),P.preventDefault(),P.keyCode>=33&&P.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(P){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:(P.keyCode in this.ctrlKeysMapUp)&&(P.ctrlKey||P.metaKey)&&(this[this.ctrlKeysMapUp[P.keyCode]](P),P.stopImmediatePropagation(),P.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(P){let p=this.fromPaste;if(this.fromPaste=!1,P&&P.stopPropagation(),!this.isEditing)return;let X=()=>{this.updateFromTextArea(),this.fire(x2),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void X();let H=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,A=this._text.length,x=H.length,B=this.selectionStart,D=this.selectionEnd,$=B!==D,h,Z,F,Q,j=x-A,b=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),E=B>b.selectionStart;$?(Z=this._text.slice(B,D),j+=D-B):x<A&&(Z=E?this._text.slice(D+j,D):this._text.slice(B,B-j));let M=H.slice(b.selectionEnd-j,b.selectionEnd);if(Z&&Z.length&&(M.length&&(h=this.getSelectionStyles(B,B+1,!1),h=M.map(()=>h[0])),$?(F=B,Q=D):E?(F=D-Z.length,Q=D):(F=D,Q=D+Z.length),this.removeStyleFromTo(F,Q)),M.length){let{copyPasteData:I}=LX();p&&M.join("")===I.copiedText&&!W0.disableStyleCopyPaste&&(h=I.copiedTextStyle),this.insertNewStyleBlock(M,B,h)}X()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(P){let{target:p}=P,{selectionStart:X,selectionEnd:H}=p;this.compositionStart=X,this.compositionEnd=H,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:P}=LX();P.copiedText=this.getSelectedText(),W0.disableStyleCopyPaste?P.copiedTextStyle=void 0:P.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(P,p){let X,H=this._getLineLeftOffset(P);return p>0&&(X=this.__charBounds[P][p-1],H+=X.left+X.width),H}getDownCursorOffset(P,p){let X=this._getSelectionForOffset(P,p),H=this.get2DCursorLocation(X),A=H.lineIndex;if(A===this._textLines.length-1||P.metaKey||P.keyCode===34)return this._text.length-X;let x=H.charIndex,B=this._getWidthBeforeCursor(A,x),D=this._getIndexOnLine(A+1,B);return this._textLines[A].slice(x).length+D+1+this.missingNewlineOffset(A)}_getSelectionForOffset(P,p){return P.shiftKey&&this.selectionStart!==this.selectionEnd&&p?this.selectionEnd:this.selectionStart}getUpCursorOffset(P,p){let X=this._getSelectionForOffset(P,p),H=this.get2DCursorLocation(X),A=H.lineIndex;if(A===0||P.metaKey||P.keyCode===33)return-X;let x=H.charIndex,B=this._getWidthBeforeCursor(A,x),D=this._getIndexOnLine(A-1,B),$=this._textLines[A].slice(0,x),h=this.missingNewlineOffset(A-1);return-this._textLines[A-1].length+D-$.length+(1-h)}_getIndexOnLine(P,p){let X=this._textLines[P],H,A,x=this._getLineLeftOffset(P),B=0;for(let D=0,$=X.length;D<$;D++)if(H=this.__charBounds[P][D].width,x+=H,x>p){A=!0;let h=x-H,Z=x,F=Math.abs(h-p);B=Math.abs(Z-p)<F?D:D-1;break}return A||(B=X.length-1),B}moveCursorDown(P){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",P)}moveCursorUp(P){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",P)}_moveCursorUpOrDown(P,p){let X=this["get".concat(P,"CursorOffset")](p,this._selectionDirection===xP);if(p.shiftKey?this.moveCursorWithShift(X):this.moveCursorWithoutShift(X),X!==0){let H=this.text.length;this.selectionStart=m8(0,this.selectionStart,H),this.selectionEnd=m8(0,this.selectionEnd,H),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(P){let p=this._selectionDirection===R0?this.selectionStart+P:this.selectionEnd+P;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,p),P!==0}moveCursorWithoutShift(P){return P<0?(this.selectionStart+=P,this.selectionEnd=this.selectionStart):(this.selectionEnd+=P,this.selectionStart=this.selectionEnd),P!==0}moveCursorLeft(P){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",P)}_move(P,p,X){let H;if(P.altKey)H=this["findWordBoundary".concat(X)](this[p]);else{if(!P.metaKey&&P.keyCode!==35&&P.keyCode!==36)return this[p]+=X==="Left"?-1:1,!0;H=this["findLineBoundary".concat(X)](this[p])}return H!==void 0&&this[p]!==H&&(this[p]=H,!0)}_moveLeft(P,p){return this._move(P,p,"Left")}_moveRight(P,p){return this._move(P,p,"Right")}moveCursorLeftWithoutShift(P){let p=!0;return this._selectionDirection=R0,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(p=this._moveLeft(P,"selectionStart")),this.selectionEnd=this.selectionStart,p}moveCursorLeftWithShift(P){return this._selectionDirection===xP&&this.selectionStart!==this.selectionEnd?this._moveLeft(P,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=R0,this._moveLeft(P,"selectionStart")):void 0}moveCursorRight(P){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",P)}_moveCursorLeftOrRight(P,p){let X="moveCursor".concat(P).concat(p.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[X](p)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(P){return this._selectionDirection===R0&&this.selectionStart!==this.selectionEnd?this._moveRight(P,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=xP,this._moveRight(P,"selectionEnd")):void 0}moveCursorRightWithoutShift(P){let p=!0;return this._selectionDirection=xP,this.selectionStart===this.selectionEnd?(p=this._moveRight(P,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,p}}var AC=(P)=>!!P.button;class VT extends QT{constructor(){super(...arguments),O(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new CT(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(P){return this.draggableTextDelegate.onDragStart(P)}canDrop(P){return this.draggableTextDelegate.canDrop(P)}onMouseDown(P){if(!this.canvas)return;this.__newClickTime=+new Date;let p=P.pointer;this.isTripleClick(p)&&(this.fire("tripleclick",P),ZC(P.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=p,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(P){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===P.x&&this.__lastPointer.y===P.y}doubleClickHandler(P){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(P.e))}tripleClickHandler(P){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(P.e))}_mouseDownHandler(P){let{e:p}=P;this.canvas&&this.editable&&!AC(p)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(p)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(p)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(P){let{e:p}=P;this.canvas&&this.editable&&!AC(p)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(P){let{e:p,transform:X}=P,H=this.draggableTextDelegate.end(p);if(this.canvas){this.canvas.textEditingManager.unregister(this);let A=this.canvas._activeObject;if(A&&A!==this)return}!this.editable||this.group&&!this.group.interactive||X&&X.actionPerformed||AC(p)||H||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(p),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(P){let p=this.getSelectionStartFromPointer(P),X=this.selectionStart,H=this.selectionEnd;P.shiftKey?this.setSelectionStartEndWithShift(X,H,p):(this.selectionStart=p,this.selectionEnd=p),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(P){let p=this.canvas.getScenePoint(P).transform(Bp(this.calcTransformMatrix())).add(new y(-this._getLeftOffset(),-this._getTopOffset())),X=0,H=0,A=0;for(let $=0;$<this._textLines.length&&X<=p.y;$++)X+=this.getHeightOfLine($),A=$,$>0&&(H+=this._textLines[$-1].length+this.missingNewlineOffset($-1));let x=Math.abs(this._getLineLeftOffset(A)),B=this._textLines[A].length,D=this.__charBounds[A];for(let $=0;$<B;$++){let h=x+D[$].kernedWidth;if(p.x<=h){Math.abs(p.x-h)<=Math.abs(p.x-x)&&H++;break}x=h,H++}return Math.min(this.flipX?B-H:H,this._text.length)}}var sh="moveCursorUp",eh="moveCursorDown",th="moveCursorLeft",P2="moveCursorRight",p2="exitEditing",_R=N({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1000,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:p2,27:p2,33:sh,34:eh,35:P2,36:th,37:th,38:sh,39:P2,40:eh},keysMapRtl:{9:p2,27:p2,33:sh,34:eh,35:th,36:P2,37:P2,38:sh,39:th,40:eh},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class mX extends VT{static getDefaults(){return N(N({},super.getDefaults()),mX.ownDefaults)}get type(){let P=super.type;return P==="itext"?"i-text":P}constructor(P,p){super(P,N(N({},mX.ownDefaults),p)),this.initBehavior()}_set(P,p){return this.isEditing&&this._savedProps&&P in this._savedProps?(this._savedProps[P]=p,this):(P==="canvas"&&(this.canvas instanceof z1&&this.canvas.textEditingManager.remove(this),p instanceof z1&&p.textEditingManager.add(this)),super._set(P,p))}setSelectionStart(P){P=Math.max(P,0),this._updateAndFire("selectionStart",P)}setSelectionEnd(P){P=Math.min(P,this.text.length),this._updateAndFire("selectionEnd",P)}_updateAndFire(P,p){this[P]!==p&&(this._fireSelectionChanged(),this[P]=p),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,X=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(P,p,X)}setSelectionStyles(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(P,p,X)}get2DCursorLocation(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,p=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(P,p)}render(P){super.render(P),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(P){let p=this.isEditing;this.isEditing=!1;let X=super.toCanvasElement(P);return this.isEditing=p,X}renderCursorOrSelection(){if(!this.isEditing)return;let P=this.clearContextTop(!0);if(!P)return;let p=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(P,p):this.renderCursor(P,p),this.canvas.contextTopDirty=!0,P.restore()}_getCursorBoundaries(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,p=arguments.length>1?arguments[1]:void 0,X=this._getLeftOffset(),H=this._getTopOffset(),A=this._getCursorBoundariesOffsets(P,p);return{left:X,top:H,leftOffset:A.left,topOffset:A.top}}_getCursorBoundariesOffsets(P,p){return p?this.__getCursorBoundariesOffsets(P):this.cursorOffsetCache&&("top"in this.cursorOffsetCache)?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(P)}__getCursorBoundariesOffsets(P){let p=0,X=0,{charIndex:H,lineIndex:A}=this.get2DCursorLocation(P);for(let $=0;$<A;$++)p+=this.getHeightOfLine($);let x=this._getLineLeftOffset(A),B=this.__charBounds[A][H];B&&(X=B.left),this.charSpacing!==0&&H===this._textLines[A].length&&(X-=this._getWidthOfCharSpacing());let D={top:p,left:x+(X>0?X:0)};return this.direction==="rtl"&&(this.textAlign===xP||this.textAlign===hX||this.textAlign===W1?D.left*=-1:this.textAlign===R0||this.textAlign===Y2?D.left=x-(X>0?X:0):this.textAlign!==Z0&&this.textAlign!==M1||(D.left=x-(X>0?X:0))),D}renderCursorAt(P){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(P,!0),P)}renderCursor(P,p){this._renderCursor(P,p,this.selectionStart)}getCursorRenderingData(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(P),X=this.get2DCursorLocation(P),H=X.lineIndex,A=X.charIndex>0?X.charIndex-1:0,x=this.getValueOfPropertyAt(H,A,"fontSize"),B=this.getObjectScaling().x*this.canvas.getZoom(),D=this.cursorWidth/B,$=this.getValueOfPropertyAt(H,A,"deltaY"),h=p.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(H)/this.lineHeight-x*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(H,A,"fill"),opacity:this._currentCursorOpacity,left:p.left+p.leftOffset-D/2,top:h+p.top+$,width:D,height:x}}_renderCursor(P,p,X){let{color:H,opacity:A,left:x,top:B,width:D,height:$}=this.getCursorRenderingData(X,p);P.fillStyle=H,P.globalAlpha=A,P.fillRect(x,B,D,$)}renderSelection(P,p){let X={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(P,X,p)}renderDragSourceEffect(){let P=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,P,this._getCursorBoundaries(P.selectionStart,!0))}renderDropTargetEffect(P){let p=this.getSelectionStartFromPointer(P);this.renderCursorAt(p)}_renderSelection(P,p,X){let{selectionStart:H,selectionEnd:A}=p,x=this.textAlign.includes(hX),B=this.get2DCursorLocation(H),D=this.get2DCursorLocation(A),$=B.lineIndex,h=D.lineIndex,Z=B.charIndex<0?0:B.charIndex,F=D.charIndex<0?0:D.charIndex;for(let Q=$;Q<=h;Q++){let j=this._getLineLeftOffset(Q)||0,b=this.getHeightOfLine(Q),E=0,M=0,I=0;if(Q===$&&(M=this.__charBounds[$][Z].left),Q>=$&&Q<h)I=x&&!this.isEndOfWrapping(Q)?this.width:this.getLineWidth(Q)||5;else if(Q===h)if(F===0)I=this.__charBounds[h][F].left;else{let W=this._getWidthOfCharSpacing();I=this.__charBounds[h][F-1].left+this.__charBounds[h][F-1].width-W}E=b,(this.lineHeight<1||Q===h&&this.lineHeight>1)&&(b/=this.lineHeight);let V=X.left+j+M,Y=b,T=0,J=I-M;this.inCompositionMode?(P.fillStyle=this.compositionColor||"black",Y=1,T=b):P.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===xP||this.textAlign===hX||this.textAlign===W1?V=this.width-V-J:this.textAlign===R0||this.textAlign===Y2?V=X.left+j-I:this.textAlign!==Z0&&this.textAlign!==M1||(V=X.left+j-I)),P.fillRect(V,X.top+X.topOffset+T,J,Y),X.topOffset+=E}}getCurrentCharFontSize(){let P=this._getCurrentCharIndex();return this.getValueOfPropertyAt(P.l,P.c,"fontSize")}getCurrentCharColor(){let P=this._getCurrentCharIndex();return this.getValueOfPropertyAt(P.l,P.c,jP)}_getCurrentCharIndex(){let P=this.get2DCursorLocation(this.selectionStart,!0),p=P.charIndex>0?P.charIndex-1:0;return{l:P.lineIndex,c:p}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}O(mX,"ownDefaults",_R),O(mX,"type","IText"),X0.setClass(mX),X0.setClass(mX,"i-text");class g8 extends mX{static getDefaults(){return N(N({},super.getDefaults()),g8.ownDefaults)}constructor(P,p){super(P,N(N({},g8.ownDefaults),p))}static createControls(){return{controls:UY()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(hX)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(P){let p=0,X=0,H=0,A={};for(let x=0;x<P.graphemeLines.length;x++)P.graphemeText[H]===`
`&&x>0?(X=0,H++,p++):!this.splitByGrapheme&&this._reSpaceAndTab.test(P.graphemeText[H])&&x>0&&(X++,H++),A[x]={line:p,offset:X},H+=P.graphemeLines[x].length,X+=P.graphemeLines[x].length;return A}styleHas(P,p){if(this._styleMap&&!this.isWrapping){let X=this._styleMap[p];X&&(p=X.line)}return super.styleHas(P,p)}isEmptyStyles(P){if(!this.styles)return!0;let p,X=0,H=P+1,A=!1,x=this._styleMap[P],B=this._styleMap[P+1];x&&(P=x.line,X=x.offset),B&&(H=B.line,A=H===P,p=B.offset);let D=P===void 0?this.styles:{line:this.styles[P]};for(let $ in D)for(let h in D[$]){let Z=parseInt(h,10);if(Z>=X&&(!A||Z<p))for(let F in D[$][h])return!1}return!0}_getStyleDeclaration(P,p){if(this._styleMap&&!this.isWrapping){let X=this._styleMap[P];if(!X)return{};P=X.line,p=X.offset+p}return super._getStyleDeclaration(P,p)}_setStyleDeclaration(P,p,X){let H=this._styleMap[P];super._setStyleDeclaration(H.line,H.offset+p,X)}_deleteStyleDeclaration(P,p){let X=this._styleMap[P];super._deleteStyleDeclaration(X.line,X.offset+p)}_getLineStyle(P){let p=this._styleMap[P];return!!this.styles[p.line]}_setLineStyle(P){let p=this._styleMap[P];super._setLineStyle(p.line)}_wrapText(P,p){this.isWrapping=!0;let X=this.getGraphemeDataForRender(P),H=[];for(let A=0;A<X.wordsData.length;A++)H.push(...this._wrapLine(A,p,X));return this.isWrapping=!1,H}getGraphemeDataForRender(P){let p=this.splitByGrapheme,X=p?"":" ",H=0;return{wordsData:P.map((A,x)=>{let B=0,D=p?this.graphemeSplit(A):this.wordSplit(A);return D.length===0?[{word:[],width:0}]:D.map(($)=>{let h=p?[$]:this.graphemeSplit($),Z=this._measureWord(h,x,B);return H=Math.max(Z,H),B+=h.length+X.length,{word:h,width:Z}})}),largestWordWidth:H}}_measureWord(P,p){let X,H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,A=0;for(let x=0,B=P.length;x<B;x++)A+=this._getGraphemeBox(P[x],p,x+H,X,!0).kernedWidth,X=P[x];return A}wordSplit(P){return P.split(this._wordJoiners)}_wrapLine(P,p,X){let{largestWordWidth:H,wordsData:A}=X,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,B=this._getWidthOfCharSpacing(),D=this.splitByGrapheme,$=[],h=D?"":" ",Z=0,F=[],Q=0,j=0,b=!0;p-=x;let E=Math.max(p,H,this.dynamicMinWidth),M=A[P],I;for(Q=0,I=0;I<M.length;I++){let{word:V,width:Y}=M[I];Q+=V.length,Z+=j+Y-B,Z>E&&!b?($.push(F),F=[],Z=Y,b=!0):Z+=B,b||D||F.push(h),F=F.concat(V),j=D?0:this._measureWord([h],P,Q),Q++,b=!1}return I&&$.push(F),H+x>this.dynamicMinWidth&&(this.dynamicMinWidth=H-B+x),$}isEndOfWrapping(P){return!this._styleMap[P+1]||this._styleMap[P+1].line!==this._styleMap[P].line}missingNewlineOffset(P,p){return this.splitByGrapheme&&!p?this.isEndOfWrapping(P)?1:0:1}_splitTextIntoLines(P){let p=super._splitTextIntoLines(P),X=this._wrapText(p.lines,this.width),H=new Array(X.length);for(let A=0;A<X.length;A++)H[A]=X[A].join("");return p.lines=H,p.graphemeLines=X,p}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let P=new Map;for(let p in this._styleMap){let X=parseInt(p,10);if(this._textLines[X]){let H=this._styleMap[p].line;P.set("".concat(H),!0)}}for(let p in this.styles)P.has(p)||delete this.styles[p]}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...P])}}O(g8,"type","Textbox"),O(g8,"textLayoutProperties",[...mX.textLayoutProperties,"width"]),O(g8,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),X0.setClass(g8);class WC extends O1{shouldPerformLayout(P){return!!P.target.clipPath&&super.shouldPerformLayout(P)}shouldLayoutClipPath(){return!1}calcLayoutResult(P,p){let{target:X}=P,{clipPath:H,group:A}=X;if(!H||!this.shouldPerformLayout(P))return;let{width:x,height:B}=$X(dY(X,H)),D=new y(x,B);if(H.absolutePositioned)return{center:uX(H.getRelativeCenterPoint(),void 0,A?A.calcTransformMatrix():void 0),size:D};{let $=H.getRelativeCenterPoint().transform(X.calcOwnMatrix(),!0);if(this.shouldPerformLayout(P)){let{center:h=new y,correction:Z=new y}=this.calcBoundingBox(p,P)||{};return{center:h.add($),correction:Z.subtract($),size:D}}return{center:X.getRelativeCenterPoint().add($),size:D}}}}O(WC,"type","clip-path"),X0.setClass(WC);class MC extends O1{getInitialSize(P,p){let{target:X}=P,{size:H}=p;return new y(X.width||H.x,X.height||H.y)}}O(MC,"type","fixed"),X0.setClass(MC);class jT extends Jx{subscribeTargets(P){let p=P.target;P.targets.reduce((X,H)=>(H.parent&&X.add(H.parent),X),new Set).forEach((X)=>{X.layoutManager.subscribeTargets({target:X,targets:[p]})})}unsubscribeTargets(P){let p=P.target,X=p.getObjects();P.targets.reduce((H,A)=>(A.parent&&H.add(A.parent),H),new Set).forEach((H)=>{!X.some((A)=>A.parent===H)&&H.layoutManager.unsubscribeTargets({target:H,targets:[p]})})}}class y8 extends iX{static getDefaults(){return N(N({},super.getDefaults()),y8.ownDefaults)}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,y8.ownDefaults),this.setOptions(p);let{left:X,top:H,layoutManager:A}=p;this.groupInit(P,{left:X,top:H,layoutManager:A!=null?A:new jT})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var P=arguments.length,p=new Array(P),X=0;X<P;X++)p[X]=arguments[X];this.multiSelectionStacking==="selection-order"?this.add(...p):p.forEach((H)=>{let A=this._objects.findIndex((B)=>B.isInFrontOf(H)),x=A===-1?this.size():A;this.insertAt(x,H)})}canEnterGroup(P){return this.getObjects().some((p)=>p.isDescendantOf(P)||P.isDescendantOf(p))?(dH("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(P)}enterGroup(P,p){P.parent&&P.parent===P.group?P.parent._exitGroup(P):P.group&&P.parent!==P.group&&P.group.remove(P),this._enterGroup(P,p)}exitGroup(P,p){this._exitGroup(P,p),P.parent&&P.parent._enterGroup(P,!0)}_onAfterObjectsChange(P,p){super._onAfterObjectsChange(P,p);let X=new Set;p.forEach((H)=>{let{parent:A}=H;A&&X.add(A)}),P===sC?X.forEach((H)=>{H._onAfterObjectsChange(F2,p)}):X.forEach((H)=>{H._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(P,p,X){P.save(),P.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let H=N(N({hasControls:!1},X),{},{forActiveSelection:!0});for(let A=0;A<this._objects.length;A++)this._objects[A]._renderControls(P,H);super._renderControls(P,p),P.restore()}}O(y8,"type","ActiveSelection"),O(y8,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),X0.setClass(y8),X0.setClass(y8,"activeSelection");class qT{constructor(){O(this,"resources",{})}applyFilters(P,p,X,H,A){let x=A.getContext("2d");if(!x)return;x.drawImage(p,0,0,X,H);let B={sourceWidth:X,sourceHeight:H,imageData:x.getImageData(0,0,X,H),originalEl:p,originalImageData:x.getImageData(0,0,X,H),canvasEl:A,ctx:x,filterBackend:this};P.forEach(($)=>{$.applyTo(B)});let{imageData:D}=B;return D.width===X&&D.height===H||(A.width=D.width,A.height=D.height),x.putImageData(D,0,0),B}}class P5{constructor(){let{tileSize:P=W0.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};O(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),O(this,"resources",{}),this.tileSize=P,this.setupGLContext(P,P),this.captureGPUInfo()}setupGLContext(P,p){this.dispose(),this.createWebGLCanvas(P,p)}createWebGLCanvas(P,p){let X=lp({width:P,height:p}),H=X.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});H&&(H.clearColor(0,0,0,0),this.canvas=X,this.gl=H)}applyFilters(P,p,X,H,A,x){let B=this.gl,D=A.getContext("2d");if(!B||!D)return;let $;x&&($=this.getCachedTexture(x,p));let h={originalWidth:p.width||p.naturalWidth||0,originalHeight:p.height||p.naturalHeight||0,sourceWidth:X,sourceHeight:H,destinationWidth:X,destinationHeight:H,context:B,sourceTexture:this.createTexture(B,X,H,$?void 0:p),targetTexture:this.createTexture(B,X,H),originalTexture:$||this.createTexture(B,X,H,$?void 0:p),passes:P.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:A},Z=B.createFramebuffer();return B.bindFramebuffer(B.FRAMEBUFFER,Z),P.forEach((F)=>{F&&F.applyTo(h)}),function(F){let Q=F.targetCanvas,j=Q.width,b=Q.height,E=F.destinationWidth,M=F.destinationHeight;j===E&&b===M||(Q.width=E,Q.height=M)}(h),this.copyGLTo2D(B,h),B.bindTexture(B.TEXTURE_2D,null),B.deleteTexture(h.sourceTexture),B.deleteTexture(h.targetTexture),B.deleteFramebuffer(Z),D.setTransform(1,0,0,1,0,0),h}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(P,p,X,H,A){let{NEAREST:x,TEXTURE_2D:B,RGBA:D,UNSIGNED_BYTE:$,CLAMP_TO_EDGE:h,TEXTURE_MAG_FILTER:Z,TEXTURE_MIN_FILTER:F,TEXTURE_WRAP_S:Q,TEXTURE_WRAP_T:j}=P,b=P.createTexture();return P.bindTexture(B,b),P.texParameteri(B,Z,A||x),P.texParameteri(B,F,A||x),P.texParameteri(B,Q,h),P.texParameteri(B,j,h),H?P.texImage2D(B,0,D,D,$,H):P.texImage2D(B,0,D,p,X,0,D,$,null),b}getCachedTexture(P,p,X){let{textureCache:H}=this;if(H[P])return H[P];{let A=this.createTexture(this.gl,p.width,p.height,p,X);return A&&(H[P]=A),A}}evictCachesForKey(P){this.textureCache[P]&&(this.gl.deleteTexture(this.textureCache[P]),delete this.textureCache[P])}copyGLTo2D(P,p){let X=P.canvas,H=p.targetCanvas,A=H.getContext("2d");if(!A)return;A.translate(0,H.height),A.scale(1,-1);let x=X.height-H.height;A.drawImage(X,0,x,H.width,H.height,0,0,H.width,H.height)}copyGLTo2DPutImageData(P,p){let X=p.targetCanvas.getContext("2d"),H=p.destinationWidth,A=p.destinationHeight,x=H*A*4;if(!X)return;let B=new Uint8Array(this.imageBuffer,0,x),D=new Uint8ClampedArray(this.imageBuffer,0,x);P.readPixels(0,0,H,A,P.RGBA,P.UNSIGNED_BYTE,B);let $=new ImageData(D,H,A);X.putImageData($,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let P=this.gl,p={renderer:"",vendor:""};if(!P)return p;let X=P.getExtension("WEBGL_debug_renderer_info");if(X){let H=P.getParameter(X.UNMASKED_RENDERER_WEBGL),A=P.getParameter(X.UNMASKED_VENDOR_WEBGL);H&&(p.renderer=H.toLowerCase()),A&&(p.vendor=A.toLowerCase())}return this.gpuInfo=p,p}}var xC;function dR(){let{WebGLProbe:P}=LX();return P.queryWebGL(fp()),W0.enableGLFiltering&&P.isSupported(W0.textureSize)?new P5({tileSize:W0.textureSize}):new qT}function BC(){return!xC&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(xC=dR()),xC}var gR=["filters","resizeFilter","src","crossOrigin","type"],YT=["cropX","cropY"];class JP extends KP{static getDefaults(){return N(N({},super.getDefaults()),JP.ownDefaults)}constructor(P,p){super(),O(this,"_lastScaleX",1),O(this,"_lastScaleY",1),O(this,"_filterScalingX",1),O(this,"_filterScalingY",1),this.filters=[],Object.assign(this,JP.ownDefaults),this.setOptions(p),this.cacheKey="texture".concat(yH()),this.setElement(typeof P=="string"?(this.canvas&&vp(this.canvas.getElement())||Kx()).getElementById(P):P,p)}getElement(){return this._element}setElement(P){var p;let X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=P,this._originalElement=P,this._setWidthHeight(X),(p=P.classList)===null||p===void 0||p.add(JP.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(P){let p=BC(!1);p instanceof P5&&p.evictCachesForKey(P)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((P)=>{let p=this[P];p&&LX().dispose(p),this[P]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let P=this.getElement();return P?{width:P.naturalWidth||P.width,height:P.naturalHeight||P.height}:{width:0,height:0}}_stroke(P){if(!this.stroke||this.strokeWidth===0)return;let p=this.width/2,X=this.height/2;P.beginPath(),P.moveTo(-p,-X),P.lineTo(p,-X),P.lineTo(p,X),P.lineTo(-p,X),P.lineTo(-p,-X),P.closePath()}toObject(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=[];return this.filters.forEach((X)=>{X&&p.push(X.toObject())}),N(N({},super.toObject([...YT,...P])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:p},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let P=[],p=this._element,X=-this.width/2,H=-this.height/2,A=[],x=[],B="",D="";if(!p)return[];if(this.hasCrop()){let $=yH();A.push('<clipPath id="imageCrop_'+$+`">
`,'\t<rect x="'+X+'" y="'+H+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),B=' clip-path="url(#imageCrop_'+$+')" '}if(this.imageSmoothing||(D=' image-rendering="optimizeSpeed"'),P.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(X-this.cropX,'" y="').concat(H-this.cropY,'" width="').concat(p.width||p.naturalWidth,'" height="').concat(p.height||p.naturalHeight,'"').concat(D).concat(B,`></image>
`)),this.stroke||this.strokeDashArray){let $=this.fill;this.fill=null,x=['\t<rect x="'.concat(X,'" y="').concat(H,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=$}return A=this.paintFirst!==jP?A.concat(x,P):A.concat(P,x),A}getSrc(P){let p=P?this._element:this._originalElement;return p?p.toDataURL?p.toDataURL():this.srcFromAttribute?p.getAttribute("src")||"":p.src:this.src||""}getSvgSrc(P){return this.getSrc(P)}setSrc(P){let{crossOrigin:p,signal:X}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E1(P,{crossOrigin:p,signal:X}).then((H)=>{p!==void 0&&this.set({crossOrigin:p}),this.setElement(H)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let P=this.resizeFilter,p=this.minimumScaleTrigger,X=this.getTotalObjectScaling(),H=X.x,A=X.y,x=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!P||H>p&&A>p)return this._element=x,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=H,void(this._lastScaleY=A);let B=lp(x),{width:D,height:$}=x;this._element=B,this._lastScaleX=P.scaleX=H,this._lastScaleY=P.scaleY=A,BC().applyFilters([P],x,D,$,this._element),this._filterScalingX=B.width/this._originalElement.width,this._filterScalingY=B.height/this._originalElement.height}applyFilters(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(P=P.filter((A)=>A&&!A.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),P.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let p=this._originalElement,X=p.naturalWidth||p.width,H=p.naturalHeight||p.height;if(this._element===this._originalElement){let A=lp({width:X,height:H});this._element=A,this._filteredEl=A}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,X,H),this._lastScaleX=1,this._lastScaleY=1);BC().applyFilters(P,this._originalElement,X,H,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(P){P.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(P),this._renderPaintInOrder(P)}drawCacheOnCanvas(P){P.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(P)}shouldCache(){return this.needsItsOwnCache()}_renderFill(P){let p=this._element;if(!p)return;let X=this._filterScalingX,H=this._filterScalingY,A=this.width,x=this.height,B=Math.max(this.cropX,0),D=Math.max(this.cropY,0),$=p.naturalWidth||p.width,h=p.naturalHeight||p.height,Z=B*X,F=D*H,Q=Math.min(A*X,$-Z),j=Math.min(x*H,h-F),b=-A/2,E=-x/2,M=Math.min(A,$/X-B),I=Math.min(x,h/H-D);p&&P.drawImage(p,Z,F,Q,j,b,E,M,I)}_needsResize(){let P=this.getTotalObjectScaling();return P.x!==this._lastScaleX||P.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:P,height:p}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=this.getOriginalSize();this.width=P||X.width,this.height=p||X.height}parsePreserveAspectRatioAttribute(){let P=e9(this.preserveAspectRatio||""),p=this.width,X=this.height,H={width:p,height:X},A,x=this._element.width,B=this._element.height,D=1,$=1,h=0,Z=0,F=0,Q=0;return!P||P.alignX===oP&&P.alignY===oP?(D=p/x,$=X/B):(P.meetOrSlice==="meet"&&(D=$=cY(this._element,H),A=(p-x*D)/2,P.alignX==="Min"&&(h=-A),P.alignX==="Max"&&(h=A),A=(X-B*$)/2,P.alignY==="Min"&&(Z=-A),P.alignY==="Max"&&(Z=A)),P.meetOrSlice==="slice"&&(D=$=lY(this._element,H),A=x-p/D,P.alignX==="Mid"&&(F=A/2),P.alignX==="Max"&&(F=A),A=B-X/$,P.alignY==="Mid"&&(Q=A/2),P.alignY==="Max"&&(Q=A),x=p/D,B=X/$)),{width:x,height:B,scaleX:D,scaleY:$,offsetLeft:h,offsetTop:Z,cropX:F,cropY:Q}}static fromObject(P,p){let{filters:X,resizeFilter:H,src:A,crossOrigin:x,type:B}=P,D=i0(P,gR);return Promise.all([E1(A,N(N({},p),{},{crossOrigin:x})),X&&Wx(X,p),H&&Wx([H],p),k1(D,p)]).then(($)=>{let[h,Z=[],[F]=[],Q={}]=$;return new this(h,N(N({},D),{},{src:A,filters:Z,resizeFilter:F},Q))})}static fromURL(P){let{crossOrigin:p=null,signal:X}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=arguments.length>2?arguments[2]:void 0;return E1(P,{crossOrigin:p,signal:X}).then((A)=>new this(A,H))}static async fromElement(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=arguments.length>2?arguments[2]:void 0,H=rX(P,this.ATTRIBUTE_NAMES,X);return this.fromURL(H["xlink:href"],p,H).catch((A)=>(dH("log","Unable to parse Image",A),null))}}O(JP,"type","Image"),O(JP,"cacheProperties",[...nX,...YT]),O(JP,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:0.5,cropX:0,cropY:0,imageSmoothing:!0}),O(JP,"CSS_CANVAS","canvas-img"),O(JP,"ATTRIBUTE_NAMES",[...uH,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),X0.setClass(JP),X0.setSVGClass(JP);var rz=f2(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var TT=l9,O9=(P)=>function(p,X,H){let{points:A,pathOffset:x}=H;return new y(A[P]).subtract(x).transform(XP(H.getViewportTransform(),H.calcTransformMatrix()))},IT=(P,p,X,H)=>{let{target:A,pointIndex:x}=p,B=A,D=uX(new y(X,H),void 0,B.calcOwnMatrix());return B.points[x]=D.add(B.pathOffset),B.setDimensions(),!0},bT=(P,p)=>function(X,H,A,x){let B=H.target,D=new y(B.points[(P>0?P:B.points.length)-1]),$=D.subtract(B.pathOffset).transform(B.calcOwnMatrix()),h=p(X,N(N({},H),{},{pointIndex:P}),A,x),Z=D.subtract(B.pathOffset).transform(B.calcOwnMatrix()).subtract($);return B.left-=Z.x,B.top-=Z.y,h},w9=(P)=>mH(TT,bT(P,IT)),JC=(P,p,X)=>{let{path:H,pathOffset:A}=P,x=H[p];return new y(x[X]-A.x,x[X+1]-A.y).transform(XP(P.getViewportTransform(),P.calcTransformMatrix()))};function yR(P,p,X){let{commandIndex:H,pointIndex:A}=this;return JC(X,H,A)}function cR(P,p,X,H){let{target:A}=p,{commandIndex:x,pointIndex:B}=this,D=(($,h,Z,F,Q)=>{let{path:j,pathOffset:b}=$,E=j[(F>0?F:j.length)-1],M=new y(E[Q],E[Q+1]),I=M.subtract(b).transform($.calcOwnMatrix()),V=uX(new y(h,Z),void 0,$.calcOwnMatrix());j[F][Q]=V.x+b.x,j[F][Q+1]=V.y+b.y,$.setDimensions();let Y=M.subtract($.pathOffset).transform($.calcOwnMatrix()).subtract(I);return $.left-=Y.x,$.top-=Y.y,$.set("dirty",!0),!0})(A,X,H,x,B);return gC(this.actionName,N(N({},yC(P,p,X,H)),{},{commandIndex:x,pointIndex:B})),D}class p5 extends aP{constructor(P){super(P)}render(P,p,X,H,A){let x=N(N({},H),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(P,p,X,x,A)}}class ET extends p5{constructor(P){super(P)}render(P,p,X,H,A){let{path:x}=A,{commandIndex:B,pointIndex:D,connectToCommandIndex:$,connectToPointIndex:h}=this;P.save(),P.strokeStyle=this.controlStroke,this.connectionDashArray&&P.setLineDash(this.connectionDashArray);let[Z]=x[B],F=JC(A,$,h);if(Z==="Q"){let Q=JC(A,B,D+2);P.moveTo(Q.x,Q.y),P.lineTo(p,X)}else P.moveTo(p,X);P.lineTo(F.x,F.y),P.stroke(),P.restore(),super.render(P,p,X,H,A)}}var X2=(P,p,X,H,A,x)=>new(X?ET:p5)(N(N({commandIndex:P,pointIndex:p,actionName:"modifyPath",positionHandler:yR,actionHandler:cR,connectToCommandIndex:A,connectToPointIndex:x},H),X?H.controlPointStyle:H.pointStyle)),sz=Object.freeze({__proto__:null,changeWidth:VC,createObjectDefaultControls:iC,createPathControls:function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X={},H="M";return P.path.forEach((A,x)=>{let B=A[0];switch(B!=="Z"&&(X["c_".concat(x,"_").concat(B)]=X2(x,A.length-2,!1,p)),B){case"C":X["c_".concat(x,"_C_CP_1")]=X2(x,1,!0,p,x-1,((D)=>D==="C"?5:D==="Q"?3:1)(H)),X["c_".concat(x,"_C_CP_2")]=X2(x,3,!0,p,x,5);break;case"Q":X["c_".concat(x,"_Q_CP_1")]=X2(x,1,!0,p,x,3)}H=B}),X},createPolyActionHandler:w9,createPolyControls:function(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X={};for(let H=0;H<(typeof P=="number"?P:P.points.length);H++)X["p".concat(H)]=new aP(N({actionName:TT,positionHandler:O9(H),actionHandler:w9(H)},p));return X},createPolyPositionHandler:O9,createResizeControls:zY,createTextboxDefaultControls:UY,dragHandler:hY,factoryPolyActionHandler:bT,getLocalPoint:K2,polyActionHandler:IT,renderCircleControl:YY,renderSquareControl:TY,rotationStyleHandler:IY,rotationWithSnapping:bY,scaleCursorStyleHandler:Hx,scaleOrSkewActionName:q1,scaleSkewCursorStyleHandler:_8,scalingEqually:j1,scalingX:MY,scalingXOrSkewingY:jC,scalingY:JY,scalingYOrSkewingX:qC,skewCursorStyleHandler:KY,skewHandlerX:RY,skewHandlerY:SY,wrapWithFireEvent:mH,wrapWithFixedAnchor:a8}),N2=(P)=>P.webgl!==void 0;var X5="precision highp float",lR=`
    `.concat(X5,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),mR=["type"],uR=["type"],aR=new RegExp(X5,"g");class BP{get type(){return this.constructor.type}constructor(){let P=i0(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},mR);Object.assign(this,this.constructor.defaults,P)}getFragmentSource(){return lR}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(P){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:H="highp"}}=LX();H!=="highp"&&(p=p.replace(aR,X5.replace("highp",H)));let A=P.createShader(P.VERTEX_SHADER),x=P.createShader(P.FRAGMENT_SHADER),B=P.createProgram();if(!A||!x||!B)throw new _p("Vertex, fragment shader or program creation error");if(P.shaderSource(A,X),P.compileShader(A),!P.getShaderParameter(A,P.COMPILE_STATUS))throw new _p("Vertex shader compile error for ".concat(this.type,": ").concat(P.getShaderInfoLog(A)));if(P.shaderSource(x,p),P.compileShader(x),!P.getShaderParameter(x,P.COMPILE_STATUS))throw new _p("Fragment shader compile error for ".concat(this.type,": ").concat(P.getShaderInfoLog(x)));if(P.attachShader(B,A),P.attachShader(B,x),P.linkProgram(B),!P.getProgramParameter(B,P.LINK_STATUS))throw new _p('Shader link error for "'.concat(this.type,'" ').concat(P.getProgramInfoLog(B)));let D=this.getUniformLocations(P,B)||{};return D.uStepW=P.getUniformLocation(B,"uStepW"),D.uStepH=P.getUniformLocation(B,"uStepH"),{program:B,attributeLocations:this.getAttributeLocations(P,B),uniformLocations:D}}getAttributeLocations(P,p){return{aPosition:P.getAttribLocation(p,"aPosition")}}getUniformLocations(P,p){let X=this.constructor.uniformLocations,H={};for(let A=0;A<X.length;A++)H[X[A]]=P.getUniformLocation(p,X[A]);return H}sendAttributeData(P,p,X){let H=p.aPosition,A=P.createBuffer();P.bindBuffer(P.ARRAY_BUFFER,A),P.enableVertexAttribArray(H),P.vertexAttribPointer(H,2,P.FLOAT,!1,0,0),P.bufferData(P.ARRAY_BUFFER,X,P.STATIC_DRAW)}_setupFrameBuffer(P){let p=P.context;if(P.passes>1){let{destinationWidth:X,destinationHeight:H}=P;P.sourceWidth===X&&P.sourceHeight===H||(p.deleteTexture(P.targetTexture),P.targetTexture=P.filterBackend.createTexture(p,X,H)),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,P.targetTexture,0)}else p.bindFramebuffer(p.FRAMEBUFFER,null),p.finish()}_swapTextures(P){P.passes--,P.pass++;let p=P.targetTexture;P.targetTexture=P.sourceTexture,P.sourceTexture=p}isNeutralState(P){return!1}applyTo(P){N2(P)?(this._setupFrameBuffer(P),this.applyToWebGL(P),this._swapTextures(P)):this.applyTo2d(P)}applyTo2d(P){}getCacheKey(){return this.type}retrieveShader(P){let p=this.getCacheKey();return P.programCache[p]||(P.programCache[p]=this.createProgram(P.context)),P.programCache[p]}applyToWebGL(P){let p=P.context,X=this.retrieveShader(P);P.pass===0&&P.originalTexture?p.bindTexture(p.TEXTURE_2D,P.originalTexture):p.bindTexture(p.TEXTURE_2D,P.sourceTexture),p.useProgram(X.program),this.sendAttributeData(p,X.attributeLocations,P.aPosition),p.uniform1f(X.uniformLocations.uStepW,1/P.sourceWidth),p.uniform1f(X.uniformLocations.uStepH,1/P.sourceHeight),this.sendUniformData(p,X.uniformLocations),p.viewport(0,0,P.destinationWidth,P.destinationHeight),p.drawArrays(p.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(P,p,X){P.activeTexture(X),P.bindTexture(P.TEXTURE_2D,p),P.activeTexture(P.TEXTURE0)}unbindAdditionalTexture(P,p){P.activeTexture(p),P.bindTexture(P.TEXTURE_2D,null),P.activeTexture(P.TEXTURE0)}sendUniformData(P,p){}createHelpLayer(P){if(!P.helpLayer){let{sourceWidth:p,sourceHeight:X}=P,H=lp({width:p,height:X});P.helpLayer=H}}toObject(){let P=Object.keys(this.constructor.defaults||{});return N({type:this.type},P.reduce((p,X)=>(p[X]=this[X],p),{}))}toJSON(){return this.toObject()}static async fromObject(P,p){return new this(i0(P,uR))}}O(BP,"type","BaseFilter"),O(BP,"uniformLocations",[]);var iR={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class xx extends BP{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(iR[this.mode],`
        }
      }
      `)}applyTo2d(P){let{imageData:{data:p}}=P,X=new z0(this.color).getSource(),H=this.alpha,A=X[0]*H,x=X[1]*H,B=X[2]*H,D=1-H;for(let $=0;$<p.length;$+=4){let h=p[$],Z=p[$+1],F=p[$+2],Q,j,b;switch(this.mode){case"multiply":Q=h*A/255,j=Z*x/255,b=F*B/255;break;case"screen":Q=255-(255-h)*(255-A)/255,j=255-(255-Z)*(255-x)/255,b=255-(255-F)*(255-B)/255;break;case"add":Q=h+A,j=Z+x,b=F+B;break;case"difference":Q=Math.abs(h-A),j=Math.abs(Z-x),b=Math.abs(F-B);break;case"subtract":Q=h-A,j=Z-x,b=F-B;break;case"darken":Q=Math.min(h,A),j=Math.min(Z,x),b=Math.min(F,B);break;case"lighten":Q=Math.max(h,A),j=Math.max(Z,x),b=Math.max(F,B);break;case"overlay":Q=A<128?2*h*A/255:255-2*(255-h)*(255-A)/255,j=x<128?2*Z*x/255:255-2*(255-Z)*(255-x)/255,b=B<128?2*F*B/255:255-2*(255-F)*(255-B)/255;break;case"exclusion":Q=A+h-2*A*h/255,j=x+Z-2*x*Z/255,b=B+F-2*B*F/255;break;case"tint":Q=A+h*D,j=x+Z*D,b=B+F*D}p[$]=Q,p[$+1]=j,p[$+2]=b}}sendUniformData(P,p){let X=new z0(this.color).getSource();X[0]=this.alpha*X[0]/255,X[1]=this.alpha*X[1]/255,X[2]=this.alpha*X[2]/255,X[3]=this.alpha,P.uniform4fv(p.uColor,X)}}O(xx,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),O(xx,"type","BlendColor"),O(xx,"uniformLocations",["uColor"]),X0.setClass(xx);var oR={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},nR=["type","image"];class Bx extends BP{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return oR[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(P){let p=P.context,X=this.createTexture(P.filterBackend,this.image);this.bindAdditionalTexture(p,X,p.TEXTURE1),super.applyToWebGL(P),this.unbindAdditionalTexture(p,p.TEXTURE1)}createTexture(P,p){return P.getCachedTexture(p.cacheKey,p.getElement())}calculateMatrix(){let P=this.image,{width:p,height:X}=P.getElement();return[1/P.scaleX,0,0,0,1/P.scaleY,0,-P.left/p,-P.top/X,1]}applyTo2d(P){let{imageData:{data:p,width:X,height:H},filterBackend:{resources:A}}=P,x=this.image;A.blendImage||(A.blendImage=fp());let B=A.blendImage,D=B.getContext("2d");B.width!==X||B.height!==H?(B.width=X,B.height=H):D.clearRect(0,0,X,H),D.setTransform(x.scaleX,0,0,x.scaleY,x.left,x.top),D.drawImage(x.getElement(),0,0,X,H);let $=D.getImageData(0,0,X,H).data;for(let h=0;h<p.length;h+=4){let Z=p[h],F=p[h+1],Q=p[h+2],j=p[h+3],b=$[h],E=$[h+1],M=$[h+2],I=$[h+3];switch(this.mode){case"multiply":p[h]=Z*b/255,p[h+1]=F*E/255,p[h+2]=Q*M/255,p[h+3]=j*I/255;break;case"mask":p[h+3]=I}}}sendUniformData(P,p){let X=this.calculateMatrix();P.uniform1i(p.uImage,1),P.uniformMatrix3fv(p.uTransformMatrix,!1,X)}toObject(){return N(N({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(P,p){let{type:X,image:H}=P,A=i0(P,nR);return JP.fromObject(H,p).then((x)=>new this(N(N({},A),{},{image:x})))}}O(Bx,"type","BlendImage"),O(Bx,"defaults",{mode:"multiply",alpha:1}),O(Bx,"uniformLocations",["uTransformMatrix","uImage"]),X0.setClass(Bx);class Dx extends BP{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(P){N2(P)?(this.aspectRatio=P.sourceWidth/P.sourceHeight,P.passes++,this._setupFrameBuffer(P),this.horizontal=!0,this.applyToWebGL(P),this._swapTextures(P),this._setupFrameBuffer(P),this.horizontal=!1,this.applyToWebGL(P),this._swapTextures(P)):this.applyTo2d(P)}applyTo2d(P){P.imageData=this.simpleBlur(P)}simpleBlur(P){let{ctx:p,imageData:X,filterBackend:{resources:H}}=P,{width:A,height:x}=X;H.blurLayer1||(H.blurLayer1=fp(),H.blurLayer2=fp());let{blurLayer1:B,blurLayer2:D}=H;B.width===A&&B.height===x||(D.width=B.width=A,D.height=B.height=x);let $=B.getContext("2d"),h=D.getContext("2d"),Z=15,F=0.06*this.blur*0.5,Q,j,b,E;for($.putImageData(X,0,0),h.clearRect(0,0,A,x),E=-15;E<=Z;E++)Q=(Math.random()-0.5)/4,j=E/Z,b=F*j*A+Q,h.globalAlpha=1-Math.abs(j),h.drawImage(B,b,Q),$.drawImage(D,0,0),h.globalAlpha=1,h.clearRect(0,0,D.width,D.height);for(E=-15;E<=Z;E++)Q=(Math.random()-0.5)/4,j=E/Z,b=F*j*x+Q,h.globalAlpha=1-Math.abs(j),h.drawImage(B,Q,b),$.drawImage(D,0,0),h.globalAlpha=1,h.clearRect(0,0,D.width,D.height);p.drawImage(B,0,0);let M=p.getImageData(0,0,B.width,B.height);return $.globalAlpha=1,$.clearRect(0,0,B.width,B.height),M}sendUniformData(P,p){let X=this.chooseRightDelta();P.uniform2fv(p.uDelta,X)}isNeutralState(){return this.blur===0}chooseRightDelta(){let P=1,p=[0,0];this.horizontal?this.aspectRatio>1&&(P=1/this.aspectRatio):this.aspectRatio<1&&(P=this.aspectRatio);let X=P*this.blur*0.12;return this.horizontal?p[0]=X:p[1]=X,p}}O(Dx,"type","Blur"),O(Dx,"defaults",{blur:0}),O(Dx,"uniformLocations",["uDelta"]),X0.setClass(Dx);class hx extends BP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,X=Math.round(255*this.brightness);for(let H=0;H<p.length;H+=4)p[H]+=X,p[H+1]+=X,p[H+2]+=X}isNeutralState(){return this.brightness===0}sendUniformData(P,p){P.uniform1f(p.uBrightness,this.brightness)}}O(hx,"type","Brightness"),O(hx,"defaults",{brightness:0}),O(hx,"uniformLocations",["uBrightness"]),X0.setClass(hx);var WT={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class _H extends BP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(P){let p=P.imageData.data,X=this.matrix,H=this.colorsOnly;for(let A=0;A<p.length;A+=4){let x=p[A],B=p[A+1],D=p[A+2];if(p[A]=x*X[0]+B*X[1]+D*X[2]+255*X[4],p[A+1]=x*X[5]+B*X[6]+D*X[7]+255*X[9],p[A+2]=x*X[10]+B*X[11]+D*X[12]+255*X[14],!H){let $=p[A+3];p[A]+=$*X[3],p[A+1]+=$*X[8],p[A+2]+=$*X[13],p[A+3]=x*X[15]+B*X[16]+D*X[17]+$*X[18]+255*X[19]}}}sendUniformData(P,p){let X=this.matrix,H=[X[0],X[1],X[2],X[3],X[5],X[6],X[7],X[8],X[10],X[11],X[12],X[13],X[15],X[16],X[17],X[18]],A=[X[4],X[9],X[14],X[19]];P.uniformMatrix4fv(p.uColorMatrix,!1,H),P.uniform4fv(p.uConstants,A)}toObject(){return N(N({},super.toObject()),{},{matrix:[...this.matrix]})}}function i8(P,p){var X;let H=(O(X=class extends _H{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",P),O(X,"defaults",{colorsOnly:!1,matrix:p}),X);return X0.setClass(H,P),H}O(_H,"type","ColorMatrix"),O(_H,"defaults",WT),O(_H,"uniformLocations",["uColorMatrix","uConstants"]),X0.setClass(_H);var rR=i8("Brownie",[0.5997,0.34553,-0.27082,0,0.186,-0.0377,0.86095,0.15059,0,-0.1449,0.24113,-0.07441,0.44972,0,-0.02965,0,0,0,1,0]),sR=i8("Vintage",[0.62793,0.32021,-0.03965,0,0.03784,0.02578,0.64411,0.03259,0,0.02926,0.0466,-0.08512,0.52416,0,0.02023,0,0,0,1,0]),eR=i8("Kodachrome",[1.12855,-0.39673,-0.03992,0,0.24991,-0.16404,1.08352,-0.05498,0,0.09698,-0.16786,-0.56034,1.60148,0,0.13972,0,0,0,1,0]),tR=i8("Technicolor",[1.91252,-0.85453,-0.09155,0,0.04624,-0.30878,1.76589,-0.10601,0,-0.27589,-0.2311,-0.75018,1.84759,0,0.12137,0,0,0,1,0]),PS=i8("Polaroid",[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0]),pS=i8("Sepia",[0.393,0.769,0.189,0,0,0.349,0.686,0.168,0,0,0.272,0.534,0.131,0,0,0,0,0,1,0]),XS=i8("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class T2 extends BP{constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(P),this.subFilters=P.subFilters||[]}applyTo(P){N2(P)&&(P.passes+=this.subFilters.length-1),this.subFilters.forEach((p)=>{p.applyTo(P)})}toObject(){return{type:this.type,subFilters:this.subFilters.map((P)=>P.toObject())}}isNeutralState(){return!this.subFilters.some((P)=>!P.isNeutralState())}static fromObject(P,p){return Promise.all((P.subFilters||[]).map((X)=>X0.getClass(X.type).fromObject(X,p))).then((X)=>new this({subFilters:X}))}}O(T2,"type","Composed"),X0.setClass(T2);class $x extends BP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(P){let{imageData:{data:p}}=P,X=Math.floor(255*this.contrast),H=259*(X+255)/(255*(259-X));for(let A=0;A<p.length;A+=4)p[A]=H*(p[A]-128)+128,p[A+1]=H*(p[A+1]-128)+128,p[A+2]=H*(p[A+2]-128)+128}sendUniformData(P,p){P.uniform1f(p.uContrast,this.contrast)}}O($x,"type","Contrast"),O($x,"defaults",{contrast:0}),O($x,"uniformLocations",["uContrast"]),X0.setClass($x);var HS={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Lx extends BP{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return HS[this.getCacheKey()]}applyTo2d(P){let p=P.imageData,X=p.data,H=this.matrix,A=Math.round(Math.sqrt(H.length)),x=Math.floor(A/2),B=p.width,D=p.height,$=P.ctx.createImageData(B,D),h=$.data,Z=this.opaque?1:0,F,Q,j,b,E,M,I,V,Y,T,J,W,K;for(J=0;J<D;J++)for(T=0;T<B;T++){for(E=4*(J*B+T),F=0,Q=0,j=0,b=0,K=0;K<A;K++)for(W=0;W<A;W++)I=J+K-x,M=T+W-x,I<0||I>=D||M<0||M>=B||(V=4*(I*B+M),Y=H[K*A+W],F+=X[V]*Y,Q+=X[V+1]*Y,j+=X[V+2]*Y,Z||(b+=X[V+3]*Y));h[E]=F,h[E+1]=Q,h[E+2]=j,h[E+3]=Z?X[E+3]:b}P.imageData=$}sendUniformData(P,p){P.uniform1fv(p.uMatrix,this.matrix)}toObject(){return N(N({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}O(Lx,"type","Convolute"),O(Lx,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),O(Lx,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),X0.setClass(Lx);var MT="Gamma";class Zx extends BP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(P),this.gamma=P.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(P){let{imageData:{data:p}}=P,X=this.gamma,H=1/X[0],A=1/X[1],x=1/X[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let B=this.rgbValues;for(let D=0;D<256;D++)B.r[D]=255*Math.pow(D/255,H),B.g[D]=255*Math.pow(D/255,A),B.b[D]=255*Math.pow(D/255,x);for(let D=0;D<p.length;D+=4)p[D]=B.r[p[D]],p[D+1]=B.g[p[D+1]],p[D+2]=B.b[p[D+2]]}sendUniformData(P,p){P.uniform3fv(p.uGamma,this.gamma)}isNeutralState(){let{gamma:P}=this;return P[0]===1&&P[1]===1&&P[2]===1}toObject(){return{type:MT,gamma:this.gamma.concat()}}}O(Zx,"type",MT),O(Zx,"defaults",{gamma:[1,1,1]}),O(Zx,"uniformLocations",["uGamma"]),X0.setClass(Zx);var AS={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Cx extends BP{applyTo2d(P){let{imageData:{data:p}}=P;for(let X,H=0;H<p.length;H+=4){let A=p[H],x=p[H+1],B=p[H+2];switch(this.mode){case"average":X=(A+x+B)/3;break;case"lightness":X=(Math.min(A,x,B)+Math.max(A,x,B))/2;break;case"luminosity":X=0.21*A+0.72*x+0.07*B}p[H+2]=p[H+1]=p[H]=X}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return AS[this.mode]}sendUniformData(P,p){P.uniform1i(p.uMode,1)}isNeutralState(){return!1}}O(Cx,"type","Grayscale"),O(Cx,"defaults",{mode:"average"}),O(Cx,"uniformLocations",["uMode"]),X0.setClass(Cx);var xS=N(N({},WT),{},{rotation:0});class J1 extends _H{calculateMatrix(){let P=this.rotation*Math.PI,p=yp(P),X=cp(P),A=Math.sqrt(0.3333333333333333)*X,x=1-p;this.matrix=[p+x/3,0.3333333333333333*x-A,0.3333333333333333*x+A,0,0,0.3333333333333333*x+A,p+0.3333333333333333*x,0.3333333333333333*x-A,0,0,0.3333333333333333*x-A,0.3333333333333333*x+A,p+0.3333333333333333*x,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(P){this.calculateMatrix(),super.applyTo(P)}toObject(){return{type:this.type,rotation:this.rotation}}}O(J1,"type","HueRotation"),O(J1,"defaults",xS),X0.setClass(J1);class Fx extends BP{applyTo2d(P){let{imageData:{data:p}}=P;for(let X=0;X<p.length;X+=4)p[X]=255-p[X],p[X+1]=255-p[X+1],p[X+2]=255-p[X+2],this.alpha&&(p[X+3]=255-p[X+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(P,p){P.uniform1i(p.uInvert,Number(this.invert)),P.uniform1i(p.uAlpha,Number(this.alpha))}}O(Fx,"type","Invert"),O(Fx,"defaults",{alpha:!1,invert:!0}),O(Fx,"uniformLocations",["uInvert","uAlpha"]),X0.setClass(Fx);class Qx extends BP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,X=this.noise;for(let H=0;H<p.length;H+=4){let A=(0.5-Math.random())*X;p[H]+=A,p[H+1]+=A,p[H+2]+=A}}sendUniformData(P,p){P.uniform1f(p.uNoise,this.noise/255),P.uniform1f(p.uSeed,Math.random())}isNeutralState(){return this.noise===0}}O(Qx,"type","Noise"),O(Qx,"defaults",{noise:0}),O(Qx,"uniformLocations",["uNoise","uSeed"]),X0.setClass(Qx);class Vx extends BP{applyTo2d(P){let{imageData:{data:p,width:X,height:H}}=P;for(let A=0;A<H;A+=this.blocksize)for(let x=0;x<X;x+=this.blocksize){let B=4*A*X+4*x,D=p[B],$=p[B+1],h=p[B+2],Z=p[B+3];for(let F=A;F<Math.min(A+this.blocksize,H);F++)for(let Q=x;Q<Math.min(x+this.blocksize,X);Q++){let j=4*F*X+4*Q;p[j]=D,p[j+1]=$,p[j+2]=h,p[j+3]=Z}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(P,p){P.uniform1f(p.uBlocksize,this.blocksize)}}O(Vx,"type","Pixelate"),O(Vx,"defaults",{blocksize:4}),O(Vx,"uniformLocations",["uBlocksize"]),X0.setClass(Vx);class jx extends BP{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(P){let{imageData:{data:p}}=P,X=255*this.distance,H=new z0(this.color).getSource(),A=[H[0]-X,H[1]-X,H[2]-X],x=[H[0]+X,H[1]+X,H[2]+X];for(let B=0;B<p.length;B+=4){let D=p[B],$=p[B+1],h=p[B+2];D>A[0]&&$>A[1]&&h>A[2]&&D<x[0]&&$<x[1]&&h<x[2]&&(p[B+3]=0)}}sendUniformData(P,p){let X=new z0(this.color).getSource(),H=this.distance,A=[0+X[0]/255-H,0+X[1]/255-H,0+X[2]/255-H,1],x=[X[0]/255+H,X[1]/255+H,X[2]/255+H,1];P.uniform4fv(p.uLow,A),P.uniform4fv(p.uHigh,x)}}O(jx,"type","RemoveColor"),O(jx,"defaults",{color:"#FFFFFF",distance:0.02,useAlpha:!1}),O(jx,"uniformLocations",["uLow","uHigh"]),X0.setClass(jx);class qx extends BP{sendUniformData(P,p){P.uniform2fv(p.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),P.uniform1fv(p.uTaps,this.taps)}getFilterWindow(){let P=this.tempScale;return Math.ceil(this.lanczosLobes/P)}getCacheKey(){let P=this.getFilterWindow();return"".concat(this.type,"_").concat(P)}getFragmentSource(){let P=this.getFilterWindow();return this.generateShader(P)}getTaps(){let P=this.lanczosCreate(this.lanczosLobes),p=this.tempScale,X=this.getFilterWindow(),H=new Array(X);for(let A=1;A<=X;A++)H[A-1]=P(A*p);return H}generateShader(P){let p=new Array(P);for(let X=1;X<=P;X++)p[X-1]="".concat(X,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(P,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(p.map((X,H)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(X,") * uTaps[").concat(H,"] + texture2D(uTexture, vTexCoord - ").concat(X,") * uTaps[").concat(H,`];
              sum += 2.0 * uTaps[`).concat(H,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(P){P.passes++,this.width=P.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=P.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),P.destinationWidth=this.dW,super.applyTo(P),P.sourceWidth=P.destinationWidth,this.height=P.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),P.destinationHeight=this.dH,super.applyTo(P),P.sourceHeight=P.destinationHeight}applyTo(P){N2(P)?this.applyToForWebgl(P):this.applyTo2d(P)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(P){return(p)=>{if(p>=P||p<=-P)return 0;if(p<0.00000011920929&&p>-0.00000011920929)return 1;let X=(p*=Math.PI)/P;return Math.sin(p)/p*Math.sin(X)/X}}applyTo2d(P){let p=P.imageData,X=this.scaleX,H=this.scaleY;this.rcpScaleX=1/X,this.rcpScaleY=1/H;let{width:A,height:x}=p,B=Math.round(A*X),D=Math.round(x*H),$;$=this.resizeType==="sliceHack"?this.sliceByTwo(P,A,x,B,D):this.resizeType==="hermite"?this.hermiteFastResize(P,A,x,B,D):this.resizeType==="bilinear"?this.bilinearFiltering(P,A,x,B,D):this.resizeType==="lanczos"?this.lanczosResize(P,A,x,B,D):new ImageData(B,D),P.imageData=$}sliceByTwo(P,p,X,H,A){let x=P.imageData,D=!1,$=!1,h=p*0.5,Z=X*0.5,F=P.filterBackend.resources,Q=0,j=0,b=p,E=0;F.sliceByTwo||(F.sliceByTwo=fp());let M=F.sliceByTwo;(M.width<1.5*p||M.height<X)&&(M.width=1.5*p,M.height=X);let I=M.getContext("2d");for(I.clearRect(0,0,1.5*p,X),I.putImageData(x,0,0),H=Math.floor(H),A=Math.floor(A);!D||!$;)p=h,X=Z,H<Math.floor(h*0.5)?h=Math.floor(h*0.5):(h=H,D=!0),A<Math.floor(Z*0.5)?Z=Math.floor(Z*0.5):(Z=A,$=!0),I.drawImage(M,Q,j,p,X,b,E,h,Z),Q=b,j=E,E+=Z;return I.getImageData(Q,j,H,A)}lanczosResize(P,p,X,H,A){let x=P.imageData.data,B=P.ctx.createImageData(H,A),D=B.data,$=this.lanczosCreate(this.lanczosLobes),h=this.rcpScaleX,Z=this.rcpScaleY,F=2/this.rcpScaleX,Q=2/this.rcpScaleY,j=Math.ceil(h*this.lanczosLobes/2),b=Math.ceil(Z*this.lanczosLobes/2),E={},M={x:0,y:0},I={x:0,y:0};return function V(Y){let T,J,W,K,S,_,v,d,f,g,s;for(M.x=(Y+0.5)*h,I.x=Math.floor(M.x),T=0;T<A;T++){for(M.y=(T+0.5)*Z,I.y=Math.floor(M.y),S=0,_=0,v=0,d=0,f=0,J=I.x-j;J<=I.x+j;J++)if(!(J<0||J>=p)){g=Math.floor(1000*Math.abs(J-M.x)),E[g]||(E[g]={});for(let k=I.y-b;k<=I.y+b;k++)k<0||k>=X||(s=Math.floor(1000*Math.abs(k-M.y)),E[g][s]||(E[g][s]=$(Math.sqrt(Math.pow(g*F,2)+Math.pow(s*Q,2))/1000)),W=E[g][s],W>0&&(K=4*(k*p+J),S+=W,_+=W*x[K],v+=W*x[K+1],d+=W*x[K+2],f+=W*x[K+3]))}K=4*(T*H+Y),D[K]=_/S,D[K+1]=v/S,D[K+2]=d/S,D[K+3]=f/S}return++Y<H?V(Y):B}(0)}bilinearFiltering(P,p,X,H,A){let x,B,D,$,h,Z,F,Q,j,b,E,M,I,V=0,Y=this.rcpScaleX,T=this.rcpScaleY,J=4*(p-1),W=P.imageData.data,K=P.ctx.createImageData(H,A),S=K.data;for(F=0;F<A;F++)for(Q=0;Q<H;Q++)for(h=Math.floor(Y*Q),Z=Math.floor(T*F),j=Y*Q-h,b=T*F-Z,I=4*(Z*p+h),E=0;E<4;E++)x=W[I+E],B=W[I+4+E],D=W[I+J+E],$=W[I+J+4+E],M=x*(1-j)*(1-b)+B*j*(1-b)+D*b*(1-j)+$*j*b,S[V++]=M;return K}hermiteFastResize(P,p,X,H,A){let x=this.rcpScaleX,B=this.rcpScaleY,D=Math.ceil(x/2),$=Math.ceil(B/2),h=P.imageData.data,Z=P.ctx.createImageData(H,A),F=Z.data;for(let Q=0;Q<A;Q++)for(let j=0;j<H;j++){let b=4*(j+Q*H),E=0,M=0,I=0,V=0,Y=0,T=0,J=0,W=(Q+0.5)*B;for(let K=Math.floor(Q*B);K<(Q+1)*B;K++){let S=Math.abs(W-(K+0.5))/$,_=(j+0.5)*x,v=S*S;for(let d=Math.floor(j*x);d<(j+1)*x;d++){let f=Math.abs(_-(d+0.5))/D,g=Math.sqrt(v+f*f);g>1&&g<-1||(E=2*g*g*g-3*g*g+1,E>0&&(f=4*(d+K*p),J+=E*h[f+3],I+=E,h[f+3]<255&&(E=E*h[f+3]/250),V+=E*h[f],Y+=E*h[f+1],T+=E*h[f+2],M+=E))}}F[b]=V/M,F[b+1]=Y/M,F[b+2]=T/M,F[b+3]=J/I}return Z}}O(qx,"type","Resize"),O(qx,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),O(qx,"uniformLocations",["uDelta","uTaps"]),X0.setClass(qx);class Yx extends BP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,X=-this.saturation;for(let H=0;H<p.length;H+=4){let A=p[H],x=p[H+1],B=p[H+2],D=Math.max(A,x,B);p[H]+=D!==A?(D-A)*X:0,p[H+1]+=D!==x?(D-x)*X:0,p[H+2]+=D!==B?(D-B)*X:0}}sendUniformData(P,p){P.uniform1f(p.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}O(Yx,"type","Saturation"),O(Yx,"defaults",{saturation:0}),O(Yx,"uniformLocations",["uSaturation"]),X0.setClass(Yx);class Tx extends BP{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(P){let{imageData:{data:p}}=P,X=-this.vibrance;for(let H=0;H<p.length;H+=4){let A=p[H],x=p[H+1],B=p[H+2],D=Math.max(A,x,B),$=(A+x+B)/3,h=2*Math.abs(D-$)/255*X;p[H]+=D!==A?(D-A)*h:0,p[H+1]+=D!==x?(D-x)*h:0,p[H+2]+=D!==B?(D-B)*h:0}}sendUniformData(P,p){P.uniform1f(p.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}O(Tx,"type","Vibrance"),O(Tx,"defaults",{vibrance:0}),O(Tx,"uniformLocations",["uVibrance"]),X0.setClass(Tx);var ez=Object.freeze({__proto__:null,BaseFilter:BP,BlackWhite:XS,BlendColor:xx,BlendImage:Bx,Blur:Dx,Brightness:hx,Brownie:rR,ColorMatrix:_H,Composed:T2,Contrast:$x,Convolute:Lx,Gamma:Zx,Grayscale:Cx,HueRotation:J1,Invert:Fx,Kodachrome:eR,Noise:Qx,Pixelate:Vx,Polaroid:PS,RemoveColor:jx,Resize:qx,Saturation:Yx,Sepia:pS,Technicolor:tR,Vibrance:Tx,Vintage:sR});iH();var JT="./perkbg-re54prrp.png";var KT="./gradient-tr2q6j2h.png";var fT={clear(){console.log("todo")},drawImage(){console.log("todo")}},RT={clear(P){P.clearRect(0,0,P.canvas.width,P.canvas.height)},drawImage(P,p,X,H){P.drawImage(p,X,H)}},H5={clear(P){if(P instanceof CanvasRenderingContext2D)RT.clear(P);else if(P instanceof WebGLRenderingContext)fT.clear(P)},drawImage(P,p,X,H){if(P instanceof CanvasRenderingContext2D)RT.drawImage(P,p,X,H);else if(P instanceof WebGLRenderingContext)fT.drawImage(P,p,X,H)}};class O2{constructor(P){this.canvas=null,this.use(P)}use(P){this.method=P}make(P,p){if(!this.canvas)this.canvas=document.createElement("canvas");let{canvas:X}=this,H=this.getContext(),A=p.thickness*2,[x,B]=[P.width,P.height].map((D)=>D+A);if(x!==X.width||B!==X.height)X.width=x,X.height=B;return H5.clear(H),this.method.exec(H,P,p),H5.drawImage(H,P,p.thickness,p.thickness),X}getContext(){switch(this.method.context){case"gl":return this.canvas.getContext("gl");case"2d":return this.canvas.getContext("2d")}}}var ST={context:"2d",exec(P,p,X){P.save();for(let H=0;H<360;H++)P.drawImage(p,X.thickness*(1+Math.cos(H)),X.thickness*(1+Math.sin(H)));P.globalCompositeOperation="source-in",P.fillStyle=X.color,P.fillRect(0,0,P.canvas.width,P.canvas.height),P.restore()}};function zT({files:P,setCanvasURLs:p}){let X=eX(null),H=eX(null),[A,x]=tX(null),[B,D]=tX("");dx(()=>{if(X.current){let Z=new z1(X.current);A5(Z),x(Z)}},[]),dx(()=>{if(P&&A)A.clear(),A5(A),P.forEach((Z)=>{console.log("Adding icon:",Z.name),hS(Z.data,Z.name,A,D,h)})},[P,A]),dx(()=>{if(A)A5(A)},[A]);function $(){if(H.current&&B)H.current.href=B,H.current.download=P?.[0]?.name+".png"}let h=(Z,F)=>{p((Q)=>[...Q,{name:Z,data:F,id:Q.length+1}])};return lP("div",{className:"absolute invisible pointer-events-none",children:[G0("canvas",{ref:X,width:250,height:250}),G0("a",{ref:H,onClick:$,children:"Download"})]})}function hS(P,p,X,H,A){let x=new Image,B=new Image,D=!1,$=!1,h=!1;function Z(){if(h||!D||!$)return;h=!0,console.log("Processing images for:",p);let F=new JP(B,{clipPath:new JP(x,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",p);let Q=F.toDataURL();console.log("Data URL created for:",p),X.remove(F);let j=new Image;function b(){console.log("htmlImage loaded for:",p);let E=new O2;E.use(ST);let M=E.make(j,{thickness:2,color:"black"}),I=new JP(M,{left:0,top:0,width:256,height:256,selectable:!1});X.add(I),X.renderAll();let V=X.toDataURL();H(V),console.log("Canvas URL created for",p),A(p,V),X.remove(I)}if(j.onload=b,j.src=Q,j.complete)b()}if(x.onload=()=>{console.log("iconImage loaded for:",p),D=!0,Z()},B.onload=()=>{console.log("gradImage loaded for:",p),$=!0,Z()},x.src=P,B.src=KT,x.complete)console.log("iconImage already loaded for:",p),D=!0;if(B.complete)console.log("gradImage already loaded for:",p),$=!0;Z()}function A5(P){let p=new Image;p.src=JT,p.onload=()=>{console.log("background loaded successfully");let X=new JP(p,{left:0,top:0,selectable:!1});P.backgroundImage=X,P.renderAll()}}var UT="./3D-BG-kx709v1y.gif";function kT(){let[P,p]=tX([]),[X,H]=tX([]),[A,x]=tX(!1);console.log("fileData from App.tsx"+P);function B(){p([]),H([]),x(!1)}return lP("div",{className:"max-w-7xl mx-auto p-8 text-center relative z-10",children:[G0("h1",{className:"text-5xl font-bold my-4 leading-tight",children:"PERK CREATOR"}),G0("h2",{className:"italic text-gray-600",children:" Work in Progress, Pardon the jank "}),G0("div",{className:"flex justify-center items-center gap-8 mb-8",children:G0("img",{src:UT,alt:"3D image",className:"p-6 transition-all duration-300 hover:drop-shadow-[0_0_2em_#646cffaa] scale-120"})}),lP("div",{className:"flex justify-center items-center",children:[G0(WQ,{setFileData:p,setIsProcessing:x,resetStates:B})," ",G0(zT,{files:A?[]:P,setCanvasURLs:H}),"  "]}),lP("div",{className:"w-full",children:[" ",G0(B9,{files:X}),"  "]})]})}function GT(){NT.createRoot(document.getElementById("root")).render(G0(kT,{}))}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",GT);else GT();

//# debugId=8A61D7C43AC8DCC564756E2164756E21
//# sourceMappingURL=chunk-vpx6ja09.js.map
